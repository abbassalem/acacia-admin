"use strict";(self.webpackChunkacacia_ready_admin=self.webpackChunkacacia_ready_admin||[]).push([[179],{440:(Ot,B,R)=>{R.d(B,{nm:()=>ni});var v=R(6351);R(5e3),R(5867);var at=R(5861),ke=R(9681),Ke=R(4859),it=R(2090),A=R(1877);const et=new Map,en={activated:!1,tokenObservers:[]},Be={initialized:!1,enabled:!1};function At(tn){return et.get(tn)||en}function Ut(tn,Xt){et.set(tn,Xt)}function nn(){return Be}class Zt{constructor(Xt,yn,Wn,oi,ki){if(this.operation=Xt,this.retryPolicy=yn,this.getWaitDuration=Wn,this.lowerBound=oi,this.upperBound=ki,this.pending=null,this.nextErrorWaitInterval=oi,oi>ki)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Xt){var yn=this;return(0,at.Z)(function*(){yn.stop();try{yn.pending=new it.BH,yield function hn(tn){return new Promise(Xt=>{setTimeout(Xt,tn)})}(yn.getNextRun(Xt)),yn.pending.resolve(),yield yn.pending.promise,yn.pending=new it.BH,yield yn.operation(),yn.pending.resolve(),yield yn.pending.promise,yn.process(!0).catch(()=>{})}catch(Wn){yn.retryPolicy(Wn)?yn.process(!1).catch(()=>{}):yn.stop()}})()}getNextRun(Xt){if(Xt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const yn=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),yn}}}const gn=new it.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Bt(tn){if(!At(tn).activated)throw gn.create("use-before-activation",{appName:tn.name})}function je(tn,Xt){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,at.Z)(function*({url:tn,body:Xt},yn){const Wn={"Content-Type":"application/json"},oi=yn.getImmediate({optional:!0});if(oi){const ko=yield oi.getHeartbeatsHeader();ko&&(Wn["X-Firebase-Client"]=ko)}const ki={method:"POST",body:JSON.stringify(Xt),headers:Wn};let wr,$r;try{wr=yield fetch(tn,ki)}catch(ko){throw gn.create("fetch-network-error",{originalErrorMessage:ko.message})}if(200!==wr.status)throw gn.create("fetch-status-error",{httpStatus:wr.status});try{$r=yield wr.json()}catch(ko){throw gn.create("fetch-parse-error",{originalErrorMessage:ko.message})}const Sr=$r.ttl.match(/^([\d.]+)(s)$/);if(!Sr||!Sr[2]||isNaN(Number(Sr[1])))throw gn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$r.ttl}`});const Jo=1e3*Number(Sr[1]),Mo=Date.now();return{token:$r.token,expireTimeMillis:Mo+Jo,issuedAtTimeMillis:Mo}})).apply(this,arguments)}function En(tn,Xt){const{projectId:yn,appId:Wn,apiKey:oi}=tn.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${yn}/apps/${Wn}:exchangeDebugToken?key=${oi}`,body:{debug_token:Xt}}}const ft="firebase-app-check-store";let Ae=null;function D(){return Ae||(Ae=new Promise((tn,Xt)=>{try{const yn=indexedDB.open("firebase-app-check-database",1);yn.onsuccess=Wn=>{tn(Wn.target.result)},yn.onerror=Wn=>{var oi;Xt(gn.create("storage-open",{originalErrorMessage:null===(oi=Wn.target.error)||void 0===oi?void 0:oi.message}))},yn.onupgradeneeded=Wn=>{0===Wn.oldVersion&&Wn.target.result.createObjectStore(ft,{keyPath:"compositeKey"})}}catch(yn){Xt(gn.create("storage-open",{originalErrorMessage:yn.message}))}}),Ae)}function Ft(){return(Ft=(0,at.Z)(function*(tn,Xt){const Wn=(yield D()).transaction(ft,"readwrite"),ki=Wn.objectStore(ft).put({compositeKey:tn,value:Xt});return new Promise((wr,$r)=>{ki.onsuccess=Sr=>{wr()},Wn.onerror=Sr=>{var Jo;$r(gn.create("storage-set",{originalErrorMessage:null===(Jo=Sr.target.error)||void 0===Jo?void 0:Jo.message}))}})})).apply(this,arguments)}const xn=new A.Yd("@firebase/app-check");function Oi(tn,Xt){return(0,it.hl)()?function ne(tn,Xt){return function pt(tn,Xt){return Ft.apply(this,arguments)}(function Cn(tn){return`${tn.options.appId}-${tn.name}`}(tn),Xt)}(tn,Xt).catch(yn=>{xn.warn(`Failed to write token to IndexedDB. Error: ${yn}`)}):Promise.resolve()}function _i(){return nn().enabled}function ci(){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,at.Z)(function*(){const tn=nn();if(tn.enabled&&tn.token)return tn.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const O={error:"UNKNOWN_ERROR"};function x(tn){return it.US.encodeString(JSON.stringify(tn),!1)}function oe(tn){return re.apply(this,arguments)}function re(){return(re=(0,at.Z)(function*(tn,Xt=!1){const yn=tn.app;Bt(yn);const Wn=At(yn);let ki,oi=Wn.token;if(!oi){const Sr=yield Wn.cachedTokenPromise;Sr&&An(Sr)&&(oi=Sr)}if(!Xt&&oi&&An(oi))return{token:oi.token};let $r,wr=!1;if(_i()){Wn.exchangeTokenPromise||(Wn.exchangeTokenPromise=je(En(yn,yield ci()),tn.heartbeatServiceProvider).then(Jo=>(Wn.exchangeTokenPromise=void 0,Jo)),wr=!0);const Sr=yield Wn.exchangeTokenPromise;return yield Oi(yn,Sr),Ut(yn,Object.assign(Object.assign({},Wn),{token:Sr})),{token:Sr.token}}try{Wn.exchangeTokenPromise||(Wn.exchangeTokenPromise=Wn.provider.getToken().then(Sr=>(Wn.exchangeTokenPromise=void 0,Sr)),wr=!0),oi=yield Wn.exchangeTokenPromise}catch(Sr){"appCheck/throttled"===Sr.code?xn.warn(Sr.message):xn.error(Sr),ki=Sr}return oi?($r={token:oi.token},Ut(yn,Object.assign(Object.assign({},Wn),{token:oi})),yield Oi(yn,oi)):$r=Gt(ki),wr&&Et(yn,$r),$r})).apply(this,arguments)}function Se(tn,Xt){const yn=At(tn),Wn=yn.tokenObservers.filter(oi=>oi.next!==Xt);0===Wn.length&&yn.tokenRefresher&&yn.tokenRefresher.isRunning()&&yn.tokenRefresher.stop(),Ut(tn,Object.assign(Object.assign({},yn),{tokenObservers:Wn}))}function We(tn){const{app:Xt}=tn,yn=At(Xt);let Wn=yn.tokenRefresher;Wn||(Wn=function zt(tn){const{app:Xt}=tn;return new Zt((0,at.Z)(function*(){let Wn;if(Wn=At(Xt).token?yield oe(tn,!0):yield oe(tn),Wn.error)throw Wn.error}),()=>!0,()=>{const yn=At(Xt);if(yn.token){let Wn=yn.token.issuedAtTimeMillis+.5*(yn.token.expireTimeMillis-yn.token.issuedAtTimeMillis)+3e5;return Wn=Math.min(Wn,yn.token.expireTimeMillis-3e5),Math.max(0,Wn-Date.now())}return 0},3e4,96e4)}(tn),Ut(Xt,Object.assign(Object.assign({},yn),{tokenRefresher:Wn}))),!Wn.isRunning()&&yn.isTokenAutoRefreshEnabled&&Wn.start()}function Et(tn,Xt){const yn=At(tn).tokenObservers;for(const Wn of yn)try{"EXTERNAL"===Wn.type&&null!=Xt.error?Wn.error(Xt.error):Wn.next(Xt)}catch(oi){}}function An(tn){return tn.expireTimeMillis-Date.now()>0}function Gt(tn){return{token:x(O),error:tn}}class _t{constructor(Xt,yn){this.app=Xt,this.heartbeatServiceProvider=yn}_delete(){const{tokenObservers:Xt}=At(this.app);for(const yn of Xt)Se(this.app,yn.next);return Promise.resolve()}}const un="app-check-internal";!function on(){(0,ke._registerComponent)(new Ke.wA("app-check",tn=>function ct(tn,Xt){return new _t(tn,Xt)}(tn.getProvider("app").getImmediate(),tn.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((tn,Xt,yn)=>{tn.getProvider(un).initialize()})),(0,ke._registerComponent)(new Ke.wA(un,tn=>function wt(tn){return{getToken:Xt=>oe(tn,Xt),addTokenListener:Xt=>function de(tn,Xt,yn,Wn){const{app:oi}=tn,ki=At(oi),wr={next:yn,error:Wn,type:Xt};if(Ut(oi,Object.assign(Object.assign({},ki),{tokenObservers:[...ki.tokenObservers,wr]})),ki.token&&An(ki.token)){const $r=ki.token;Promise.resolve().then(()=>{yn({token:$r.token}),We(tn)}).catch(()=>{})}ki.cachedTokenPromise.then(()=>We(tn))}(tn,"INTERNAL",Xt),removeTokenListener:Xt=>Se(tn.app,Xt)}}(tn.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ke.registerVersion)("@firebase/app-check","0.5.7")}();class ni{constructor(){return(0,v.vb)("app-check")}}"undefined"!=typeof window&&window},1041:(Ot,B,R)=>{R.d(B,{zQ:()=>nn,ww:()=>Qt,rT:()=>en,f7:()=>At,L6:()=>A,_Q:()=>et,lh:()=>Be,Qv:()=>it,nw:()=>Ut});var v=R(5e3),V=R(7579),I=R(9646),q=R(9751),g=R(8996),Ue=R(6451),P=R(4707),Ce=R(3099);function Ee(an,Bn,ie){let Mt,ut=!1;return an&&"object"==typeof an?({bufferSize:Mt=1/0,windowTime:Bn=1/0,refCount:ut=!1,scheduler:ie}=an):Mt=null!=an?an:1/0,(0,Ce.B)({connector:()=>new P.t(Mt,Bn,ie),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ut})}var ae=R(3900),Me=R(576);function we(an,Bn){return(0,Me.m)(Bn)?(0,ae.w)(()=>an,Bn):(0,ae.w)(()=>an)}var Oe=R(5363),Le=R(4004),st=R(590),gt=R(9468),Je=R(9300),ht=R(6351),Xe=R(2011),Nt=R(9808),at=R(440),ke=R(127);const it=new v.OlP("angularfire2.auth.use-emulator"),A=new v.OlP("angularfire2.auth.settings"),et=new v.OlP("angularfire2.auth.tenant-id"),en=new v.OlP("angularfire2.auth.langugage-code"),Be=new v.OlP("angularfire2.auth.use-device-language"),At=new v.OlP("angularfire.auth.persistence"),Ut=(an,Bn,ie,Mt,ut,Zt,hn,Kt)=>(0,Xe.cc)(`${an.name}.auth`,"AngularFireAuth",an.name,()=>{const gn=Bn.runOutsideAngular(()=>an.auth());if(ie&&gn.useEmulator(...ie),Mt&&(gn.tenantId=Mt),gn.languageCode=ut,Zt&&gn.useDeviceLanguage(),hn)for(const[Lt,Bt]of Object.entries(hn))gn.settings[Lt]=Bt;return Kt&&gn.setPersistence(Kt),gn},[ie,Mt,ut,Zt,hn,Kt]);let nn=(()=>{class an{constructor(ie,Mt,ut,Zt,hn,Kt,gn,Lt,Bt,mt,Vt,ot){const je=new V.x,Pt=(0,I.of)(void 0).pipe((0,Oe.Q)(hn.outsideAngular),(0,ae.w)(()=>Zt.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,820)))),(0,Le.U)(()=>(0,Xe.on)(ie,Zt,Mt)),(0,Le.U)(rt=>Ut(rt,Zt,Kt,Lt,Bt,mt,gn,Vt)),Ee({bufferSize:1,refCount:!1}));if((0,Nt.PM)(ut))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,I.of)(null);else{Pt.pipe((0,st.P)()).subscribe();const bt=Pt.pipe((0,ae.w)(Dn=>Dn.getRedirectResult().then(ft=>ft,()=>null)),ht.iC,Ee({bufferSize:1,refCount:!1})),En=Pt.pipe((0,ae.w)(Dn=>new q.y(ft=>({unsubscribe:Zt.runOutsideAngular(()=>Dn.onAuthStateChanged(Rn=>ft.next(Rn),Rn=>ft.error(Rn),()=>ft.complete()))})))),Xn=Pt.pipe((0,ae.w)(Dn=>new q.y(ft=>({unsubscribe:Zt.runOutsideAngular(()=>Dn.onIdTokenChanged(Rn=>ft.next(Rn),Rn=>ft.error(Rn),()=>ft.complete()))}))));this.authState=bt.pipe(we(En),(0,gt.R)(hn.outsideAngular),(0,Oe.Q)(hn.insideAngular)),this.user=bt.pipe(we(Xn),(0,gt.R)(hn.outsideAngular),(0,Oe.Q)(hn.insideAngular)),this.idToken=this.user.pipe((0,ae.w)(Dn=>Dn?(0,g.D)(Dn.getIdToken()):(0,I.of)(null))),this.idTokenResult=this.user.pipe((0,ae.w)(Dn=>Dn?(0,g.D)(Dn.getIdTokenResult()):(0,I.of)(null))),this.credential=(0,Ue.T)(bt,je,this.authState.pipe((0,Je.h)(Dn=>!Dn))).pipe((0,Le.U)(Dn=>(null==Dn?void 0:Dn.user)?Dn:null),(0,gt.R)(hn.outsideAngular),(0,Oe.Q)(hn.insideAngular))}return(0,Xe.pX)(this,Pt,Zt,{spy:{apply:(rt,bt,En)=>{(rt.startsWith("signIn")||rt.startsWith("createUser"))&&En.then(Xn=>je.next(Xn))}}})}}return an.\u0275fac=function(ie){return new(ie||an)(v.LFG(Xe.Dh),v.LFG(Xe.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(ht.HU),v.LFG(it,8),v.LFG(A,8),v.LFG(et,8),v.LFG(en,8),v.LFG(Be,8),v.LFG(At,8),v.LFG(at.nm,8))},an.\u0275prov=v.Yz7({token:an,factory:an.\u0275fac,providedIn:"any"}),an})(),Qt=(()=>{class an{constructor(){ke.Z.registerVersion("angularfire",ht.q4.full,"auth-compat")}}return an.\u0275fac=function(ie){return new(ie||an)},an.\u0275mod=v.oAB({type:an}),an.\u0275inj=v.cJS({providers:[nn]}),an})()},6185:(Ot,B,R)=>{R.d(B,{ST:()=>ci,yb:()=>Dt});var v=R(5e3),V=R(4986),I=R(9751),q=R(8996),g=R(9646),Ue=R(6351),P=R(4482),Ce=R(5403);function Ee(){return(0,P.e)(($,O)=>{let x,oe=!1;$.subscribe((0,Ce.x)(O,re=>{const de=x;x=re,oe&&O.next([de,re]),oe=!0}))})}var ae=R(8675),Me=R(4004),we=R(5026),Oe=R(1884),Le=R(9300),st=R(2011),gt=R(9808),ht=(R(820),R(3942)),Xe=R(5525),Nt=R(2090),at=R(4859);function it($,O){if(void 0===O)return{merge:!1};if(void 0!==O.mergeFields&&void 0!==O.merge)throw new Xe.WA("invalid-argument",`Invalid options passed to function ${$}(): You cannot specify both "merge" and "mergeFields".`);return O}function A(){if("undefined"==typeof Uint8Array)throw new Xe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function et(){if(!(0,Xe.Me)())throw new Xe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class en{constructor(O){this._delegate=O}static fromBase64String(O){return et(),new en(Xe.Jj.fromBase64String(O))}static fromUint8Array(O){return A(),new en(Xe.Jj.fromUint8Array(O))}toBase64(){return et(),this._delegate.toBase64()}toUint8Array(){return A(),this._delegate.toUint8Array()}isEqual(O){return this._delegate.isEqual(O._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Be($){return function At($,O){if("object"!=typeof $||null===$)return!1;const x=$;for(const oe of O)if(oe in x&&"function"==typeof x[oe])return!0;return!1}($,["next","error","complete"])}class Ut{enableIndexedDbPersistence(O,x){return(0,Xe.ST)(O._delegate,{forceOwnership:x})}enableMultiTabIndexedDbPersistence(O){return(0,Xe.fH)(O._delegate)}clearIndexedDbPersistence(O){return(0,Xe.Fc)(O._delegate)}}class nn{constructor(O,x,oe){this._delegate=x,this._persistenceProvider=oe,this.INTERNAL={delete:()=>this.terminate()},O instanceof Xe.l7||(this._appCompat=O)}get _databaseId(){return this._delegate._databaseId}settings(O){const x=this._delegate._getSettings();!O.merge&&x.host!==O.host&&(0,Xe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),O.merge&&delete(O=Object.assign(Object.assign({},x),O)).merge,this._delegate._setSettings(O)}useEmulator(O,x,oe={}){(0,Xe.at)(this._delegate,O,x,oe)}enableNetwork(){return(0,Xe.Ix)(this._delegate)}disableNetwork(){return(0,Xe.TF)(this._delegate)}enablePersistence(O){let x=!1,oe=!1;return O&&(x=!!O.synchronizeTabs,oe=!!O.experimentalForceOwningTab,(0,Xe.Wi)("synchronizeTabs",x,"experimentalForceOwningTab",oe)),x?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,oe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Xe.Mx)(this._delegate)}onSnapshotsInSync(O){return(0,Xe.sc)(this._delegate,O)}get app(){if(!this._appCompat)throw new Xe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(O){try{return new ot(this,(0,Xe.hJ)(this._delegate,O))}catch(x){throw Zt(x,"collection()","Firestore.collection()")}}doc(O){try{return new ut(this,(0,Xe.JU)(this._delegate,O))}catch(x){throw Zt(x,"doc()","Firestore.doc()")}}collectionGroup(O){try{return new Bt(this,(0,Xe.B$)(this._delegate,O))}catch(x){throw Zt(x,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(O){return(0,Xe.i3)(this._delegate,x=>O(new Bn(this,x)))}batch(){return(0,Xe.qY)(this._delegate),new ie(new Xe.PU(this._delegate,O=>(0,Xe.GL)(this._delegate,O)))}loadBundle(O){return(0,Xe.Pb)(this._delegate,O)}namedQuery(O){return(0,Xe.L$)(this._delegate,O).then(x=>x?new Bt(this,x):null)}}class Qt extends Xe.u7{constructor(O){super(),this.firestore=O}convertBytes(O){return new en(new Xe.Jj(O))}convertReference(O){const x=this.convertDocumentKey(O,this.firestore._databaseId);return ut.forKey(x,this.firestore,null)}}class Bn{constructor(O,x){this._firestore=O,this._delegate=x,this._userDataWriter=new Qt(O)}get(O){const x=je(O);return this._delegate.get(x).then(oe=>new gn(this._firestore,new Xe.xU(this._firestore._delegate,this._userDataWriter,oe._key,oe._document,oe.metadata,x.converter)))}set(O,x,oe){const re=je(O);return oe?(it("Transaction.set",oe),this._delegate.set(re,x,oe)):this._delegate.set(re,x),this}update(O,x,oe,...re){const de=je(O);return 2===arguments.length?this._delegate.update(de,x):this._delegate.update(de,x,oe,...re),this}delete(O){const x=je(O);return this._delegate.delete(x),this}}class ie{constructor(O){this._delegate=O}set(O,x,oe){const re=je(O);return oe?(it("WriteBatch.set",oe),this._delegate.set(re,x,oe)):this._delegate.set(re,x),this}update(O,x,oe,...re){const de=je(O);return 2===arguments.length?this._delegate.update(de,x):this._delegate.update(de,x,oe,...re),this}delete(O){const x=je(O);return this._delegate.delete(x),this}commit(){return this._delegate.commit()}}class Mt{constructor(O,x,oe){this._firestore=O,this._userDataWriter=x,this._delegate=oe}fromFirestore(O,x){const oe=new Xe.$q(this._firestore._delegate,this._userDataWriter,O._key,O._document,O.metadata,null);return this._delegate.fromFirestore(new Lt(this._firestore,oe),null!=x?x:{})}toFirestore(O,x){return x?this._delegate.toFirestore(O,x):this._delegate.toFirestore(O)}static getInstance(O,x){const oe=Mt.INSTANCES;let re=oe.get(O);re||(re=new WeakMap,oe.set(O,re));let de=re.get(x);return de||(de=new Mt(O,new Qt(O),x),re.set(x,de)),de}}Mt.INSTANCES=new WeakMap;class ut{constructor(O,x){this.firestore=O,this._delegate=x,this._userDataWriter=new Qt(O)}static forPath(O,x,oe){if(O.length%2!=0)throw new Xe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${O.canonicalString()} has ${O.length}`);return new ut(x,new Xe.my(x._delegate,oe,new Xe.Ky(O)))}static forKey(O,x,oe){return new ut(x,new Xe.my(x._delegate,oe,O))}get id(){return this._delegate.id}get parent(){return new ot(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(O){try{return new ot(this.firestore,(0,Xe.hJ)(this._delegate,O))}catch(x){throw Zt(x,"collection()","DocumentReference.collection()")}}isEqual(O){return(O=(0,Nt.m9)(O))instanceof Xe.my&&(0,Xe.Eo)(this._delegate,O)}set(O,x){x=it("DocumentReference.set",x);try{return x?(0,Xe.pl)(this._delegate,O,x):(0,Xe.pl)(this._delegate,O)}catch(oe){throw Zt(oe,"setDoc()","DocumentReference.set()")}}update(O,x,...oe){try{return 1===arguments.length?(0,Xe.r7)(this._delegate,O):(0,Xe.r7)(this._delegate,O,x,...oe)}catch(re){throw Zt(re,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Xe.oe)(this._delegate)}onSnapshot(...O){const x=hn(O),oe=Kt(O,re=>new gn(this.firestore,new Xe.xU(this.firestore._delegate,this._userDataWriter,re._key,re._document,re.metadata,this._delegate.converter)));return(0,Xe.cf)(this._delegate,x,oe)}get(O){let x;return x="cache"===(null==O?void 0:O.source)?(0,Xe.kl)(this._delegate):"server"===(null==O?void 0:O.source)?(0,Xe.Xk)(this._delegate):(0,Xe.QT)(this._delegate),x.then(oe=>new gn(this.firestore,new Xe.xU(this.firestore._delegate,this._userDataWriter,oe._key,oe._document,oe.metadata,this._delegate.converter)))}withConverter(O){return new ut(this.firestore,this._delegate.withConverter(O?Mt.getInstance(this.firestore,O):null))}}function Zt($,O,x){return $.message=$.message.replace(O,x),$}function hn($){for(const O of $)if("object"==typeof O&&!Be(O))return O;return{}}function Kt($,O){var x,oe;let re;return re=Be($[0])?$[0]:Be($[1])?$[1]:"function"==typeof $[0]?{next:$[0],error:$[1],complete:$[2]}:{next:$[1],error:$[2],complete:$[3]},{next:de=>{re.next&&re.next(O(de))},error:null===(x=re.error)||void 0===x?void 0:x.bind(re),complete:null===(oe=re.complete)||void 0===oe?void 0:oe.bind(re)}}class gn{constructor(O,x){this._firestore=O,this._delegate=x}get ref(){return new ut(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(O){return this._delegate.data(O)}get(O,x){return this._delegate.get(O,x)}isEqual(O){return(0,Xe.qK)(this._delegate,O._delegate)}}class Lt extends gn{data(O){const x=this._delegate.data(O);return(0,Xe.K9)(void 0!==x,"Document in a QueryDocumentSnapshot should exist"),x}}class Bt{constructor(O,x){this.firestore=O,this._delegate=x,this._userDataWriter=new Qt(O)}where(O,x,oe){try{return new Bt(this.firestore,(0,Xe.IO)(this._delegate,(0,Xe.ar)(O,x,oe)))}catch(re){throw Zt(re,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(O,x){try{return new Bt(this.firestore,(0,Xe.IO)(this._delegate,(0,Xe.Xo)(O,x)))}catch(oe){throw Zt(oe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(O){try{return new Bt(this.firestore,(0,Xe.IO)(this._delegate,(0,Xe.b9)(O)))}catch(x){throw Zt(x,"limit()","Query.limit()")}}limitToLast(O){try{return new Bt(this.firestore,(0,Xe.IO)(this._delegate,(0,Xe.vh)(O)))}catch(x){throw Zt(x,"limitToLast()","Query.limitToLast()")}}startAt(...O){try{return new Bt(this.firestore,(0,Xe.IO)(this._delegate,(0,Xe.e0)(...O)))}catch(x){throw Zt(x,"startAt()","Query.startAt()")}}startAfter(...O){try{return new Bt(this.firestore,(0,Xe.IO)(this._delegate,(0,Xe.TQ)(...O)))}catch(x){throw Zt(x,"startAfter()","Query.startAfter()")}}endBefore(...O){try{return new Bt(this.firestore,(0,Xe.IO)(this._delegate,(0,Xe.Lx)(...O)))}catch(x){throw Zt(x,"endBefore()","Query.endBefore()")}}endAt(...O){try{return new Bt(this.firestore,(0,Xe.IO)(this._delegate,(0,Xe.Wu)(...O)))}catch(x){throw Zt(x,"endAt()","Query.endAt()")}}isEqual(O){return(0,Xe.iE)(this._delegate,O._delegate)}get(O){let x;return x="cache"===(null==O?void 0:O.source)?(0,Xe.UQ)(this._delegate):"server"===(null==O?void 0:O.source)?(0,Xe.zN)(this._delegate):(0,Xe.PL)(this._delegate),x.then(oe=>new Vt(this.firestore,new Xe.W(this.firestore._delegate,this._userDataWriter,this._delegate,oe._snapshot)))}onSnapshot(...O){const x=hn(O),oe=Kt(O,re=>new Vt(this.firestore,new Xe.W(this.firestore._delegate,this._userDataWriter,this._delegate,re._snapshot)));return(0,Xe.cf)(this._delegate,x,oe)}withConverter(O){return new Bt(this.firestore,this._delegate.withConverter(O?Mt.getInstance(this.firestore,O):null))}}class mt{constructor(O,x){this._firestore=O,this._delegate=x}get type(){return this._delegate.type}get doc(){return new Lt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Vt{constructor(O,x){this._firestore=O,this._delegate=x}get query(){return new Bt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(O=>new Lt(this._firestore,O))}docChanges(O){return this._delegate.docChanges(O).map(x=>new mt(this._firestore,x))}forEach(O,x){this._delegate.forEach(oe=>{O.call(x,new Lt(this._firestore,oe))})}isEqual(O){return(0,Xe.qK)(this._delegate,O._delegate)}}class ot extends Bt{constructor(O,x){super(O,x),this.firestore=O,this._delegate=x}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const O=this._delegate.parent;return O?new ut(this.firestore,O):null}doc(O){try{return new ut(this.firestore,void 0===O?(0,Xe.JU)(this._delegate):(0,Xe.JU)(this._delegate,O))}catch(x){throw Zt(x,"doc()","CollectionReference.doc()")}}add(O){return(0,Xe.ET)(this._delegate,O).then(x=>new ut(this.firestore,x))}isEqual(O){return(0,Xe.Eo)(this._delegate,O._delegate)}withConverter(O){return new ot(this.firestore,this._delegate.withConverter(O?Mt.getInstance(this.firestore,O):null))}}function je($){return(0,Xe.Cf)($,Xe.my)}class Pt{constructor(...O){this._delegate=new Xe.Lz(...O)}static documentId(){return new Pt(Xe.Xb.keyField().canonicalString())}isEqual(O){return(O=(0,Nt.m9)(O))instanceof Xe.Lz&&this._delegate._internalPath.isEqual(O._internalPath)}}class rt{constructor(O){this._delegate=O}static serverTimestamp(){const O=(0,Xe.Bt)();return O._methodName="FieldValue.serverTimestamp",new rt(O)}static delete(){const O=(0,Xe.AK)();return O._methodName="FieldValue.delete",new rt(O)}static arrayUnion(...O){const x=(0,Xe.vr)(...O);return x._methodName="FieldValue.arrayUnion",new rt(x)}static arrayRemove(...O){const x=(0,Xe.Ab)(...O);return x._methodName="FieldValue.arrayRemove",new rt(x)}static increment(O){const x=(0,Xe.nP)(O);return x._methodName="FieldValue.increment",new rt(x)}isEqual(O){return this._delegate.isEqual(O._delegate)}}const bt={Firestore:nn,GeoPoint:Xe.F8,Timestamp:Xe.EK,Blob:en,Transaction:Bn,WriteBatch:ie,DocumentReference:ut,DocumentSnapshot:gn,Query:Bt,QueryDocumentSnapshot:Lt,QuerySnapshot:Vt,CollectionReference:ot,FieldPath:Pt,FieldValue:rt,setLogLevel:function an($){(0,Xe.Ub)($)},CACHE_SIZE_UNLIMITED:Xe.IX};!function Xn($){(function En($,O){$.INTERNAL.registerComponent(new at.wA("firestore-compat",x=>{const oe=x.getProvider("app-compat").getImmediate(),re=x.getProvider("firestore").getImmediate();return O(oe,re)},"PUBLIC").setServiceProps(Object.assign({},bt)))})($,(O,x)=>new nn(O,x,new Ut)),$.registerVersion("@firebase/firestore-compat","0.1.17")}(ht.Z);var Dn=R(1041),ft=R(440),Rn=R(127);function D($,O){return function Ae($,O=V.z){return new I.y(x=>{let oe;return null!=O?O.schedule(()=>{oe=$.onSnapshot({includeMetadataChanges:!0},x)}):oe=$.onSnapshot({includeMetadataChanges:!0},x),()=>{null!=oe&&oe()}})}($,O)}function ne($,O){return D($,O).pipe((0,Me.U)(x=>({payload:x,type:"query"})))}function me($,O){return ne($,O).pipe((0,ae.O)(void 0),Ee(),(0,Me.U)(([x,oe])=>{const re=oe.payload.docChanges(),de=re.map(Se=>({type:Se.type,payload:Se}));return x&&JSON.stringify(x.payload.metadata)!==JSON.stringify(oe.payload.metadata)&&oe.payload.docs.forEach((Se,We)=>{const zt=re.find(An=>An.doc.ref.isEqual(Se.ref)),Et=null==x?void 0:x.payload.docs.find(An=>An.ref.isEqual(Se.ref));zt&&JSON.stringify(zt.doc.metadata)===JSON.stringify(Se.metadata)||!zt&&Et&&JSON.stringify(Et.metadata)===JSON.stringify(Se.metadata)||de.push({type:"modified",payload:{oldIndex:We,newIndex:We,type:"modified",doc:Se}})}),de}))}function xe($,O,x){return me($,x).pipe((0,we.R)((oe,re)=>function pt($,O,x){return O.forEach(oe=>{x.indexOf(oe.type)>-1&&($=function rn($,O){switch(O.type){case"added":if(!$[O.newIndex]||!$[O.newIndex].doc.ref.isEqual(O.doc.ref))return Ft($,O.newIndex,0,O);break;case"modified":if(null==$[O.oldIndex]||$[O.oldIndex].doc.ref.isEqual(O.doc.ref)){if(O.oldIndex!==O.newIndex){const x=$.slice();return x.splice(O.oldIndex,1),x.splice(O.newIndex,0,O),x}return Ft($,O.newIndex,1,O)}break;case"removed":if($[O.oldIndex]&&$[O.oldIndex].doc.ref.isEqual(O.doc.ref))return Ft($,O.oldIndex,1)}return $}($,oe))}),$}(oe,re.map(de=>de.payload),O),[]),(0,Oe.x)(),(0,Me.U)(oe=>oe.map(re=>({type:re.type,payload:re}))))}function Ft($,O,x,...oe){const re=$.slice();return re.splice(O,x,...oe),re}function Qe($){return(!$||0===$.length)&&($=["added","removed","modified"]),$}class Cn{constructor(O,x,oe){this.ref=O,this.query=x,this.afs=oe}stateChanges(O){let x=me(this.query,this.afs.schedulers.outsideAngular);return O&&O.length>0&&(x=x.pipe((0,Me.U)(oe=>oe.filter(re=>O.indexOf(re.type)>-1)))),x.pipe((0,ae.O)(void 0),Ee(),(0,Le.h)(([oe,re])=>re.length>0||!oe),(0,Me.U)(([oe,re])=>re),Ue.iC)}auditTrail(O){return this.stateChanges(O).pipe((0,we.R)((x,oe)=>[...x,...oe],[]))}snapshotChanges(O){const x=Qe(O);return xe(this.query,x,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(O={}){return ne(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(x=>x.payload.docs.map(oe=>O.idField?Object.assign(Object.assign({},oe.data()),{[O.idField]:oe.id}):oe.data())),Ue.iC)}get(O){return(0,q.D)(this.query.get(O)).pipe(Ue.iC)}add(O){return this.ref.add(O)}doc(O){return new xn(this.ref.doc(O),this.afs)}}class xn{constructor(O,x){this.ref=O,this.afs=x}set(O,x){return this.ref.set(O,x)}update(O){return this.ref.update(O)}delete(){return this.ref.delete()}collection(O,x){const oe=this.ref.collection(O),{ref:re,query:de}=_i(oe,x);return new Cn(re,de,this.afs)}snapshotChanges(){return function te($,O){return D($,O).pipe((0,ae.O)(void 0),Ee(),(0,Me.U)(([x,oe])=>oe.exists?(null==x?void 0:x.exists)?{payload:oe,type:"modified"}:{payload:oe,type:"added"}:{payload:oe,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(O={}){return this.snapshotChanges().pipe((0,Me.U)(({payload:x})=>O.idField?Object.assign(Object.assign({},x.data()),{[O.idField]:x.id}):x.data()))}get(O){return(0,q.D)(this.ref.get(O)).pipe(Ue.iC)}}class ei{constructor(O,x){this.query=O,this.afs=x}stateChanges(O){return O&&0!==O.length?me(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(x=>x.filter(oe=>O.indexOf(oe.type)>-1)),(0,Le.h)(x=>x.length>0),Ue.iC):me(this.query,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}auditTrail(O){return this.stateChanges(O).pipe((0,we.R)((x,oe)=>[...x,...oe],[]))}snapshotChanges(O){const x=Qe(O);return xe(this.query,x,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(O={}){return ne(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(oe=>oe.payload.docs.map(re=>O.idField?Object.assign({[O.idField]:re.id},re.data()):re.data())),Ue.iC)}get(O){return(0,q.D)(this.query.get(O)).pipe(Ue.iC)}}const ri=new v.OlP("angularfire2.enableFirestorePersistence"),Oi=new v.OlP("angularfire2.firestore.persistenceSettings"),Si=new v.OlP("angularfire2.firestore.settings"),mn=new v.OlP("angularfire2.firestore.use-emulator");function _i($,O=(x=>x)){return{query:O($),ref:$}}let ci=(()=>{class ${constructor(x,oe,re,de,Se,We,zt,Et,An,Gt,_t,ct,wt,dn,Kn,vi,$i){this.schedulers=zt;const gr=(0,st.on)(x,We,oe),Ir=An;Gt&&(0,Dn.nw)(gr,We,_t,wt,dn,Kn,ct,vi),[this.firestore,this.persistenceEnabled$]=(0,st.cc)(`${gr.name}.firestore`,"AngularFirestore",gr.name,()=>{const qt=We.runOutsideAngular(()=>gr.firestore());if(de&&qt.settings(de),Ir&&qt.useEmulator(...Ir),re&&!(0,gt.PM)(Se)){const Hn=()=>{try{return(0,q.D)(qt.enablePersistence(Et||void 0).then(()=>!0,()=>!1))}catch(bn){return"undefined"!=typeof console&&console.warn(bn),(0,g.of)(!1)}};return[qt,We.runOutsideAngular(Hn)]}return[qt,(0,g.of)(!1)]},[de,Ir,re])}collection(x,oe){let re;re="string"==typeof x?this.firestore.collection(x):x;const{ref:de,query:Se}=_i(re,oe),We=this.schedulers.ngZone.run(()=>de);return new Cn(We,Se,this)}collectionGroup(x,oe){const re=oe||(Se=>Se),de=this.firestore.collectionGroup(x);return new ei(re(de),this)}doc(x){let oe;oe="string"==typeof x?this.firestore.doc(x):x;const re=this.schedulers.ngZone.run(()=>oe);return new xn(re,this)}createId(){return this.firestore.collection("_").doc().id}}return $.\u0275fac=function(x){return new(x||$)(v.LFG(st.Dh),v.LFG(st.xv,8),v.LFG(ri,8),v.LFG(Si,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Ue.HU),v.LFG(Oi,8),v.LFG(mn,8),v.LFG(Dn.zQ,8),v.LFG(Dn.Qv,8),v.LFG(Dn.L6,8),v.LFG(Dn._Q,8),v.LFG(Dn.rT,8),v.LFG(Dn.lh,8),v.LFG(Dn.f7,8),v.LFG(ft.nm,8))},$.\u0275prov=v.Yz7({token:$,factory:$.\u0275fac,providedIn:"any"}),$})(),Dt=(()=>{class ${constructor(){Rn.Z.registerVersion("angularfire",Ue.q4.full,"fst-compat")}static enablePersistence(x){return{ngModule:$,providers:[{provide:ri,useValue:!0},{provide:Oi,useValue:x}]}}}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=v.oAB({type:$}),$.\u0275inj=v.cJS({providers:[ci]}),$})()},2011:(Ot,B,R)=>{R.d(B,{Dh:()=>Ce,GT:()=>Ue,cc:()=>Le,hO:()=>Oe,on:()=>ae,pX:()=>g,xv:()=>Ee});var v=R(5e3),V=R(127),I=R(6351);Ot=R.hmd(Ot);const q=["ngOnDestroy"],g=(ht,Xe,Nt,at={})=>new Proxy(ht,{get:(ke,Ke)=>Nt.runOutsideAngular(()=>{var it;if(ht[Ke])return(null===(it=null==at?void 0:at.spy)||void 0===it?void 0:it.get)&&at.spy.get(Ke,ht[Ke]),ht[Ke];if(q.indexOf(Ke)>-1)return()=>{};const A=Xe.toPromise().then(et=>{const en=et&&et[Ke];return"function"==typeof en?en.bind(et):en&&en.then?en.then(Be=>Nt.run(()=>Be)):Nt.run(()=>en)});return new Proxy(()=>{},{get:(et,en)=>A[en],apply:(et,en,Be)=>A.then(At=>{var Ut;const nn=At&&At(...Be);return(null===(Ut=null==at?void 0:at.spy)||void 0===Ut?void 0:Ut.apply)&&at.spy.apply(Ke,Be,nn),nn})})})}),Ue=(ht,Xe)=>{Xe.forEach(Nt=>{Object.getOwnPropertyNames(Nt.prototype||Nt).forEach(at=>{Object.defineProperty(ht.prototype,at,Object.getOwnPropertyDescriptor(Nt.prototype||Nt,at))})})};class P{constructor(Xe){return Xe}}const Ce=new v.OlP("angularfire2.app.options"),Ee=new v.OlP("angularfire2.app.name");function ae(ht,Xe,Nt){const ke="object"==typeof Nt&&Nt||{};ke.name=ke.name||"string"==typeof Nt&&Nt||"[DEFAULT]";const it=V.Z.apps.filter(A=>A&&A.name===ke.name)[0]||Xe.runOutsideAngular(()=>V.Z.initializeApp(ht,ke));try{JSON.stringify(ht)!==JSON.stringify(it.options)&&Me("error",`${it.name} Firebase App already initialized with different options${Ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(A){}return new P(it)}const Me=(ht,...Xe)=>{(0,v.X6Q)()&&"undefined"!=typeof console&&console[ht](...Xe)},we={provide:P,useFactory:ae,deps:[Ce,v.R0b,[new v.FiY,Ee]]};let Oe=(()=>{class ht{constructor(Nt){V.Z.registerVersion("angularfire",I.q4.full,"core"),V.Z.registerVersion("angularfire",I.q4.full,"app-compat"),V.Z.registerVersion("angular",v.q4F.full,Nt.toString())}static initializeApp(Nt,at){return{ngModule:ht,providers:[{provide:Ce,useValue:Nt},{provide:Ee,useValue:at}]}}}return ht.\u0275fac=function(Nt){return new(Nt||ht)(v.LFG(v.Lbi))},ht.\u0275mod=v.oAB({type:ht}),ht.\u0275inj=v.cJS({providers:[we]}),ht})();function Le(ht,Xe,Nt,at,ke){const[,Ke,it]=globalThis.\u0275AngularfireInstanceCache.find(A=>A[0]===ht)||[];if(Ke)return function st(ht,Xe){try{return ht.toString()===Xe.toString()}catch(Nt){return ht===Xe}}(ke,it)||(Je("error",`${Xe} was already initialized on the ${Nt} Firebase App with different settings.${gt?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:ke,was:it})),Ke;{const A=at();return globalThis.\u0275AngularfireInstanceCache.push([ht,A,ke]),A}}const gt=!!Ot.hot,Je=(ht,...Xe)=>{(0,v.X6Q)()&&"undefined"!=typeof console&&console[ht](...Xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Ot,B,R)=>{R.d(B,{q4:()=>Y,iC:()=>fc,HU:()=>No,vb:()=>Ro,JM:()=>qo});var v=R(5e3),V=R(5867),I=R(5861),q=R(9681),g=R(2090),Ue=R(4859),P=R(1877);const Ce="@firebase/installations",Me="w:0.5.8",we="FIS_v2",ht=new g.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(se){return se instanceof g.ZR&&se.code.includes("request-failed")}function Nt({projectId:se}){return`https://firebaseinstallations.googleapis.com/v1/projects/${se}/installations`}function at(se){return{token:se.token,requestStatus:2,expiresIn:Be(se.expiresIn),creationTime:Date.now()}}function ke(se,ye){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,I.Z)(function*(se,ye){const Rt=(yield ye.json()).error;return ht.create("request-failed",{requestName:se,serverCode:Rt.code,serverMessage:Rt.message,serverStatus:Rt.status})})).apply(this,arguments)}function it({apiKey:se}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":se})}function A(se,{refreshToken:ye}){const Ze=it(se);return Ze.append("Authorization",function At(se){return`${we} ${se}`}(ye)),Ze}function et(se){return en.apply(this,arguments)}function en(){return(en=(0,I.Z)(function*(se){const ye=yield se();return ye.status>=500&&ye.status<600?se():ye})).apply(this,arguments)}function Be(se){return Number(se.replace("s","000"))}function Ut(se,ye){return nn.apply(this,arguments)}function nn(){return(nn=(0,I.Z)(function*({appConfig:se,heartbeatServiceProvider:ye},{fid:Ze}){const Rt=Nt(se),fn=it(se),In=ye.getImmediate({optional:!0});if(In){const dr=yield In.getHeartbeatsHeader();dr&&fn.append("x-firebase-client",dr)}const Fi={method:"POST",headers:fn,body:JSON.stringify({fid:Ze,authVersion:we,appId:se.appId,sdkVersion:Me})},qi=yield et(()=>fetch(Rt,Fi));if(qi.ok){const dr=yield qi.json();return{fid:dr.fid||Ze,registrationStatus:2,refreshToken:dr.refreshToken,authToken:at(dr.authToken)}}throw yield ke("Create Installation",qi)})).apply(this,arguments)}function Qt(se){return new Promise(ye=>{setTimeout(ye,se)})}const Bn=/^[cdef][\w-]{21}$/;function Mt(){try{const se=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(se),se[0]=112+se[0]%16;const Ze=function ut(se){return function an(se){return btoa(String.fromCharCode(...se)).replace(/\+/g,"-").replace(/\//g,"_")}(se).substr(0,22)}(se);return Bn.test(Ze)?Ze:""}catch(se){return""}}function Zt(se){return`${se.appName}!${se.appId}`}const hn=new Map;function Kt(se,ye){const Ze=Zt(se);Bt(Ze,ye),function mt(se,ye){const Ze=function ot(){return!Vt&&"BroadcastChannel"in self&&(Vt=new BroadcastChannel("[Firebase] FID Change"),Vt.onmessage=se=>{Bt(se.data.key,se.data.fid)}),Vt}();Ze&&Ze.postMessage({key:se,fid:ye}),function je(){0===hn.size&&Vt&&(Vt.close(),Vt=null)}()}(Ze,ye)}function Bt(se,ye){const Ze=hn.get(se);if(Ze)for(const Rt of Ze)Rt(ye)}let Vt=null;const bt="firebase-installations-store";let En=null;function Xn(){return En||(En=(0,g.X3)("firebase-installations-database",1,(se,ye)=>{0===ye&&se.createObjectStore(bt)})),En}function Dn(se,ye){return ft.apply(this,arguments)}function ft(){return(ft=(0,I.Z)(function*(se,ye){const Ze=Zt(se),fn=(yield Xn()).transaction(bt,"readwrite"),In=fn.objectStore(bt),li=yield In.get(Ze);return yield In.put(ye,Ze),yield fn.complete,(!li||li.fid!==ye.fid)&&Kt(se,ye.fid),ye})).apply(this,arguments)}function Rn(se){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,I.Z)(function*(se){const ye=Zt(se),Rt=(yield Xn()).transaction(bt,"readwrite");yield Rt.objectStore(bt).delete(ye),yield Rt.complete})).apply(this,arguments)}function D(se,ye){return te.apply(this,arguments)}function te(){return(te=(0,I.Z)(function*(se,ye){const Ze=Zt(se),fn=(yield Xn()).transaction(bt,"readwrite"),In=fn.objectStore(bt),li=yield In.get(Ze),Fi=ye(li);return void 0===Fi?yield In.delete(Ze):yield In.put(Fi,Ze),yield fn.complete,Fi&&(!li||li.fid!==Fi.fid)&&Kt(se,Fi.fid),Fi})).apply(this,arguments)}function ne(se){return me.apply(this,arguments)}function me(){return(me=(0,I.Z)(function*(se){let ye;const Ze=yield D(se.appConfig,Rt=>{const fn=xe(Rt),In=pt(se,fn);return ye=In.registrationPromise,In.installationEntry});return""===Ze.fid?{installationEntry:yield ye}:{installationEntry:Ze,registrationPromise:ye}})).apply(this,arguments)}function xe(se){return ei(se||{fid:Mt(),registrationStatus:0})}function pt(se,ye){if(0===ye.registrationStatus){if(!navigator.onLine)return{installationEntry:ye,registrationPromise:Promise.reject(ht.create("app-offline"))};const Ze={fid:ye.fid,registrationStatus:1,registrationTime:Date.now()},Rt=function Ft(se,ye){return rn.apply(this,arguments)}(se,Ze);return{installationEntry:Ze,registrationPromise:Rt}}return 1===ye.registrationStatus?{installationEntry:ye,registrationPromise:Qe(se)}:{installationEntry:ye}}function rn(){return(rn=(0,I.Z)(function*(se,ye){try{const Ze=yield Ut(se,ye);return Dn(se.appConfig,Ze)}catch(Ze){throw Xe(Ze)&&409===Ze.customData.serverCode?yield Rn(se.appConfig):yield Dn(se.appConfig,{fid:ye.fid,registrationStatus:0}),Ze}})).apply(this,arguments)}function Qe(se){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,I.Z)(function*(se){let ye=yield xn(se.appConfig);for(;1===ye.registrationStatus;)yield Qt(100),ye=yield xn(se.appConfig);if(0===ye.registrationStatus){const{installationEntry:Ze,registrationPromise:Rt}=yield ne(se);return Rt||Ze}return ye})).apply(this,arguments)}function xn(se){return D(se,ye=>{if(!ye)throw ht.create("installation-not-found");return ei(ye)})}function ei(se){return function ri(se){return 1===se.registrationStatus&&se.registrationTime+1e4<Date.now()}(se)?{fid:se.fid,registrationStatus:0}:se}function Oi(se,ye){return Si.apply(this,arguments)}function Si(){return(Si=(0,I.Z)(function*({appConfig:se,heartbeatServiceProvider:ye},Ze){const Rt=mn(se,Ze),fn=A(se,Ze),In=ye.getImmediate({optional:!0});if(In){const dr=yield In.getHeartbeatsHeader();dr&&fn.append("x-firebase-client",dr)}const Fi={method:"POST",headers:fn,body:JSON.stringify({installation:{sdkVersion:Me,appId:se.appId}})},qi=yield et(()=>fetch(Rt,Fi));if(qi.ok)return at(yield qi.json());throw yield ke("Generate Auth Token",qi)})).apply(this,arguments)}function mn(se,{fid:ye}){return`${Nt(se)}/${ye}/authTokens:generate`}function _i(se){return ci.apply(this,arguments)}function ci(){return(ci=(0,I.Z)(function*(se,ye=!1){let Ze;const Rt=yield D(se.appConfig,In=>{if(!re(In))throw ht.create("not-registered");const li=In.authToken;if(!ye&&de(li))return In;if(1===li.requestStatus)return Ze=Dt(se,ye),In;{if(!navigator.onLine)throw ht.create("app-offline");const Fi=We(In);return Ze=x(se,Fi),Fi}});return Ze?yield Ze:Rt.authToken})).apply(this,arguments)}function Dt(se,ye){return $.apply(this,arguments)}function $(){return($=(0,I.Z)(function*(se,ye){let Ze=yield O(se.appConfig);for(;1===Ze.authToken.requestStatus;)yield Qt(100),Ze=yield O(se.appConfig);const Rt=Ze.authToken;return 0===Rt.requestStatus?_i(se,ye):Rt})).apply(this,arguments)}function O(se){return D(se,ye=>{if(!re(ye))throw ht.create("not-registered");return function zt(se){return 1===se.requestStatus&&se.requestTime+1e4<Date.now()}(ye.authToken)?Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}}):ye})}function x(se,ye){return oe.apply(this,arguments)}function oe(){return(oe=(0,I.Z)(function*(se,ye){try{const Ze=yield Oi(se,ye),Rt=Object.assign(Object.assign({},ye),{authToken:Ze});return yield Dn(se.appConfig,Rt),Ze}catch(Ze){if(!Xe(Ze)||401!==Ze.customData.serverCode&&404!==Ze.customData.serverCode){const Rt=Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}});yield Dn(se.appConfig,Rt)}else yield Rn(se.appConfig);throw Ze}})).apply(this,arguments)}function re(se){return void 0!==se&&2===se.registrationStatus}function de(se){return 2===se.requestStatus&&!function Se(se){const ye=Date.now();return ye<se.creationTime||se.creationTime+se.expiresIn<ye+36e5}(se)}function We(se){const ye={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},se),{authToken:ye})}function An(){return(An=(0,I.Z)(function*(se){const ye=se,{installationEntry:Ze,registrationPromise:Rt}=yield ne(ye);return Rt?Rt.catch(console.error):_i(ye).catch(console.error),Ze.fid})).apply(this,arguments)}function _t(){return(_t=(0,I.Z)(function*(se,ye=!1){const Ze=se;return yield ct(Ze),(yield _i(Ze,ye)).token})).apply(this,arguments)}function ct(se){return wt.apply(this,arguments)}function wt(){return(wt=(0,I.Z)(function*(se){const{registrationPromise:ye}=yield ne(se);ye&&(yield ye)})).apply(this,arguments)}function bn(se){return ht.create("missing-app-config-values",{valueName:se})}const yi="installations",$n=se=>{const ye=se.getProvider("app").getImmediate(),Ze=function Hn(se){if(!se||!se.options)throw bn("App Configuration");if(!se.name)throw bn("App Name");const ye=["projectId","apiKey","appId"];for(const Ze of ye)if(!se.options[Ze])throw bn(Ze);return{appName:se.name,projectId:se.options.projectId,apiKey:se.options.apiKey,appId:se.options.appId}}(ye);return{app:ye,appConfig:Ze,heartbeatServiceProvider:(0,q._getProvider)(ye,"heartbeat"),_delete:()=>Promise.resolve()}},Hi=se=>{const ye=se.getProvider("app").getImmediate(),Ze=(0,q._getProvider)(ye,yi).getImmediate();return{getId:()=>function Et(se){return An.apply(this,arguments)}(Ze),getToken:fn=>function Gt(se){return _t.apply(this,arguments)}(Ze,fn)}};(function Ui(){(0,q._registerComponent)(new Ue.wA(yi,$n,"PUBLIC")),(0,q._registerComponent)(new Ue.wA("installations-internal",Hi,"PRIVATE"))})(),(0,q.registerVersion)(Ce,"0.5.8"),(0,q.registerVersion)(Ce,"0.5.8","esm2017");const Tt="@firebase/remote-config",xt=new g.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Is{constructor(ye,Ze,Rt,fn){this.client=ye,this.storage=Ze,this.storageCache=Rt,this.logger=fn}isCachedDataFresh(ye,Ze){if(!Ze)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Rt=Date.now()-Ze,fn=Rt<=ye;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Rt}. Cache max age millis (minimumFetchIntervalMillis setting): ${ye}. Is cache hit: ${fn}.`),fn}fetch(ye){var Ze=this;return(0,I.Z)(function*(){const[Rt,fn]=yield Promise.all([Ze.storage.getLastSuccessfulFetchTimestampMillis(),Ze.storage.getLastSuccessfulFetchResponse()]);if(fn&&Ze.isCachedDataFresh(ye.cacheMaxAgeMillis,Rt))return fn;ye.eTag=fn&&fn.eTag;const In=yield Ze.client.fetch(ye),li=[Ze.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===In.status&&li.push(Ze.storage.setLastSuccessfulFetchResponse(In)),yield Promise.all(li),In})()}}function Ls(se=navigator){return se.languages&&se.languages[0]||se.language}class Cs{constructor(ye,Ze,Rt,fn,In,li){this.firebaseInstallations=ye,this.sdkVersion=Ze,this.namespace=Rt,this.projectId=fn,this.apiKey=In,this.appId=li}fetch(ye){var Ze=this;return(0,I.Z)(function*(){const[Rt,fn]=yield Promise.all([Ze.firebaseInstallations.getId(),Ze.firebaseInstallations.getToken()]),li=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ze.projectId}/namespaces/${Ze.namespace}:fetch?key=${Ze.apiKey}`,Fi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ye.eTag||"*"},qi={sdk_version:Ze.sdkVersion,app_instance_id:Rt,app_instance_id_token:fn,app_id:Ze.appId,language_code:Ls()},dr={method:"POST",headers:Fi,body:JSON.stringify(qi)},fr=fetch(li,dr),Wi=new Promise((cs,aa)=>{ye.signal.addEventListener(()=>{const hu=new Error("The operation was aborted.");hu.name="AbortError",aa(hu)})});let sa;try{yield Promise.race([fr,Wi]),sa=yield fr}catch(cs){let aa="fetch-client-network";throw"AbortError"===cs.name&&(aa="fetch-timeout"),xt.create(aa,{originalErrorMessage:cs.message})}let mr=sa.status;const Fu=sa.headers.get("ETag")||void 0;let Dl,$a;if(200===sa.status){let cs;try{cs=yield sa.json()}catch(aa){throw xt.create("fetch-client-parse",{originalErrorMessage:aa.message})}Dl=cs.entries,$a=cs.state}if("INSTANCE_STATE_UNSPECIFIED"===$a?mr=500:"NO_CHANGE"===$a?mr=304:("NO_TEMPLATE"===$a||"EMPTY_CONFIG"===$a)&&(Dl={}),304!==mr&&200!==mr)throw xt.create("fetch-status",{httpStatus:mr});return{status:mr,eTag:Fu,config:Dl}})()}}class Ws{constructor(ye,Ze){this.client=ye,this.storage=Ze}fetch(ye){var Ze=this;return(0,I.Z)(function*(){const Rt=(yield Ze.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ze.attemptFetch(ye,Rt)})()}attemptFetch(ye,{throttleEndTimeMillis:Ze,backoffCount:Rt}){var fn=this;return(0,I.Z)(function*(){yield function zr(se,ye){return new Promise((Ze,Rt)=>{const fn=Math.max(ye-Date.now(),0),In=setTimeout(Ze,fn);se.addEventListener(()=>{clearTimeout(In),Rt(xt.create("fetch-throttle",{throttleEndTimeMillis:ye}))})})}(ye.signal,Ze);try{const In=yield fn.client.fetch(ye);return yield fn.storage.deleteThrottleMetadata(),In}catch(In){if(!function ia(se){if(!(se instanceof g.ZR&&se.customData))return!1;const ye=Number(se.customData.httpStatus);return 429===ye||500===ye||503===ye||504===ye}(In))throw In;const li={throttleEndTimeMillis:Date.now()+(0,g.$s)(Rt),backoffCount:Rt+1};return yield fn.storage.setThrottleMetadata(li),fn.attemptFetch(ye,li)}})()}}class yn{constructor(ye,Ze,Rt,fn,In){this.app=ye,this._client=Ze,this._storageCache=Rt,this._storage=fn,this._logger=In,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wn(se,ye){const Ze=se.target.error||void 0;return xt.create(ye,{originalErrorMessage:Ze&&Ze.message})}const oi="app_namespace_store";class Sr{constructor(ye,Ze,Rt,fn=function $r(){return new Promise((se,ye)=>{try{const Ze=indexedDB.open("firebase_remote_config",1);Ze.onerror=Rt=>{ye(Wn(Rt,"storage-open"))},Ze.onsuccess=Rt=>{se(Rt.target.result)},Ze.onupgradeneeded=Rt=>{0===Rt.oldVersion&&Rt.target.result.createObjectStore(oi,{keyPath:"compositeKey"})}}catch(Ze){ye(xt.create("storage-open",{originalErrorMessage:Ze}))}})}()){this.appId=ye,this.appName=Ze,this.namespace=Rt,this.openDbPromise=fn}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ye){return this.set("last_fetch_status",ye)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ye){return this.set("last_successful_fetch_timestamp_millis",ye)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ye){return this.set("last_successful_fetch_response",ye)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ye){return this.set("active_config",ye)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ye){return this.set("active_config_etag",ye)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ye){return this.set("throttle_metadata",ye)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ye){var Ze=this;return(0,I.Z)(function*(){const Rt=yield Ze.openDbPromise;return new Promise((fn,In)=>{const Fi=Rt.transaction([oi],"readonly").objectStore(oi),qi=Ze.createCompositeKey(ye);try{const dr=Fi.get(qi);dr.onerror=fr=>{In(Wn(fr,"storage-get"))},dr.onsuccess=fr=>{const Wi=fr.target.result;fn(Wi?Wi.value:void 0)}}catch(dr){In(xt.create("storage-get",{originalErrorMessage:dr&&dr.message}))}})})()}set(ye,Ze){var Rt=this;return(0,I.Z)(function*(){const fn=yield Rt.openDbPromise;return new Promise((In,li)=>{const qi=fn.transaction([oi],"readwrite").objectStore(oi),dr=Rt.createCompositeKey(ye);try{const fr=qi.put({compositeKey:dr,value:Ze});fr.onerror=Wi=>{li(Wn(Wi,"storage-set"))},fr.onsuccess=()=>{In()}}catch(fr){li(xt.create("storage-set",{originalErrorMessage:fr&&fr.message}))}})})()}delete(ye){var Ze=this;return(0,I.Z)(function*(){const Rt=yield Ze.openDbPromise;return new Promise((fn,In)=>{const Fi=Rt.transaction([oi],"readwrite").objectStore(oi),qi=Ze.createCompositeKey(ye);try{const dr=Fi.delete(qi);dr.onerror=fr=>{In(Wn(fr,"storage-delete"))},dr.onsuccess=()=>{fn()}}catch(dr){In(xt.create("storage-delete",{originalErrorMessage:dr&&dr.message}))}})})()}createCompositeKey(ye){return[this.appId,this.appName,this.namespace,ye].join()}}class Jo{constructor(ye){this.storage=ye}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ye=this;return(0,I.Z)(function*(){const Ze=ye.storage.getLastFetchStatus(),Rt=ye.storage.getLastSuccessfulFetchTimestampMillis(),fn=ye.storage.getActiveConfig(),In=yield Ze;In&&(ye.lastFetchStatus=In);const li=yield Rt;li&&(ye.lastSuccessfulFetchTimestampMillis=li);const Fi=yield fn;Fi&&(ye.activeConfig=Fi)})()}setLastFetchStatus(ye){return this.lastFetchStatus=ye,this.storage.setLastFetchStatus(ye)}setLastSuccessfulFetchTimestampMillis(ye){return this.lastSuccessfulFetchTimestampMillis=ye,this.storage.setLastSuccessfulFetchTimestampMillis(ye)}setActiveConfig(ye){return this.activeConfig=ye,this.storage.setActiveConfig(ye)}}function Ao(){return js.apply(this,arguments)}function js(){return(js=(0,I.Z)(function*(){if(!(0,g.hl)())return!1;try{return yield(0,g.eu)()}catch(se){return!1}})).apply(this,arguments)}!function Mo(){(0,q._registerComponent)(new Ue.wA("remote-config",function se(ye,{instanceIdentifier:Ze}){const Rt=ye.getProvider("app").getImmediate(),fn=ye.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw xt.create("registration-window");if(!(0,g.hl)())throw xt.create("indexed-db-unavailable");const{projectId:In,apiKey:li,appId:Fi}=Rt.options;if(!In)throw xt.create("registration-project-id");if(!li)throw xt.create("registration-api-key");if(!Fi)throw xt.create("registration-app-id");const qi=new Sr(Fi,Rt.name,Ze=Ze||"firebase"),dr=new Jo(qi),fr=new P.Yd(Tt);fr.logLevel=P.in.ERROR;const Wi=new Cs(fn,q.SDK_VERSION,Ze,In,li,Fi),sa=new Ws(Wi,qi),mr=new Is(sa,qi,dr,fr),Fu=new yn(Rt,mr,dr,qi,fr);return function ni(se){const ye=(0,g.m9)(se);ye._initializePromise||(ye._initializePromise=ye._storageCache.loadFromStorage().then(()=>{ye._isInitializationComplete=!0}))}(Fu),Fu},"PUBLIC").setMultipleInstances(!0)),(0,q.registerVersion)(Tt,"0.3.7"),(0,q.registerVersion)(Tt,"0.3.7","esm2017")}();const as="/firebase-messaging-sw.js",$o="/firebase-cloud-messaging-push-scope",xo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Do="google.c.a.c_id",Io="google.c.a.c_l",ws="google.c.a.ts",Ea="google.c.a.e";var Uo=(()=>{return(se=Uo||(Uo={})).PUSH_RECEIVED="push-received",se.NOTIFICATION_CLICKED="notification-clicked",Uo;var se})();function Rr(se){const ye=new Uint8Array(se);return btoa(String.fromCharCode(...ye)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bs(se){const Ze=(se+"=".repeat((4-se.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Rt=atob(Ze),fn=new Uint8Array(Rt.length);for(let In=0;In<Rt.length;++In)fn[In]=Rt.charCodeAt(In);return fn}const Bs="fcm_token_details_db",vo="fcm_token_object_Store";function ds(se){return ro.apply(this,arguments)}function ro(){return ro=(0,I.Z)(function*(se){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(In=>In.name).includes(Bs))return null;let ye=null;return(yield(0,g.X3)(Bs,5,function(){var Rt=(0,I.Z)(function*(fn,In,li,Fi){var qi;if(In<2||!fn.objectStoreNames.contains(vo))return;const dr=Fi.objectStore(vo),fr=yield dr.index("fcmSenderId").get(se);if(yield dr.clear(),fr)if(2===In){const Wi=fr;if(!Wi.auth||!Wi.p256dh||!Wi.endpoint)return;ye={token:Wi.fcmToken,createTime:null!==(qi=Wi.createTime)&&void 0!==qi?qi:Date.now(),subscriptionOptions:{auth:Wi.auth,p256dh:Wi.p256dh,endpoint:Wi.endpoint,swScope:Wi.swScope,vapidKey:"string"==typeof Wi.vapidKey?Wi.vapidKey:Rr(Wi.vapidKey)}}}else if(3===In){const Wi=fr;ye={token:Wi.fcmToken,createTime:Wi.createTime,subscriptionOptions:{auth:Rr(Wi.auth),p256dh:Rr(Wi.p256dh),endpoint:Wi.endpoint,swScope:Wi.swScope,vapidKey:Rr(Wi.vapidKey)}}}else if(4===In){const Wi=fr;ye={token:Wi.fcmToken,createTime:Wi.createTime,subscriptionOptions:{auth:Rr(Wi.auth),p256dh:Rr(Wi.p256dh),endpoint:Wi.endpoint,swScope:Wi.swScope,vapidKey:Rr(Wi.vapidKey)}}}});return function(fn,In,li,Fi){return Rt.apply(this,arguments)}}())).close(),yield(0,g.Lj)(Bs),yield(0,g.Lj)("fcm_vapid_details_db"),yield(0,g.Lj)("undefined"),Es(ye)?ye:null}),ro.apply(this,arguments)}function Es(se){if(!se||!se.subscriptionOptions)return!1;const{subscriptionOptions:ye}=se;return"number"==typeof se.createTime&&se.createTime>0&&"string"==typeof se.token&&se.token.length>0&&"string"==typeof ye.auth&&ye.auth.length>0&&"string"==typeof ye.p256dh&&ye.p256dh.length>0&&"string"==typeof ye.endpoint&&ye.endpoint.length>0&&"string"==typeof ye.swScope&&ye.swScope.length>0&&"string"==typeof ye.vapidKey&&ye.vapidKey.length>0}const Bo="firebase-messaging-store";let ns=null;function ls(){return ns||(ns=(0,g.X3)("firebase-messaging-database",1,(se,ye)=>{0===ye&&se.createObjectStore(Bo)})),ns}function Mr(se){return fe.apply(this,arguments)}function fe(){return(fe=(0,I.Z)(function*(se){const ye=On(se),Rt=yield(yield ls()).transaction(Bo).objectStore(Bo).get(ye);if(Rt)return Rt;{const fn=yield ds(se.appConfig.senderId);if(fn)return yield Ge(se,fn),fn}})).apply(this,arguments)}function Ge(se,ye){return pe.apply(this,arguments)}function pe(){return(pe=(0,I.Z)(function*(se,ye){const Ze=On(se),fn=(yield ls()).transaction(Bo,"readwrite");return yield fn.objectStore(Bo).put(ye,Ze),yield fn.complete,ye})).apply(this,arguments)}function qe(se){return $t.apply(this,arguments)}function $t(){return($t=(0,I.Z)(function*(se){const ye=On(se),Rt=(yield ls()).transaction(Bo,"readwrite");yield Rt.objectStore(Bo).delete(ye),yield Rt.complete})).apply(this,arguments)}function On({appConfig:se}){return se.appId}const ui=new g.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Kr(se,ye){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,I.Z)(function*(se,ye){const Ze=yield _e(se),Rt=Q(ye),fn={method:"POST",headers:Ze,body:JSON.stringify(Rt)};let In;try{In=yield(yield fetch(Lr(se.appConfig),fn)).json()}catch(li){throw ui.create("token-subscribe-failed",{errorInfo:li})}if(In.error)throw ui.create("token-subscribe-failed",{errorInfo:In.error.message});if(!In.token)throw ui.create("token-subscribe-no-token");return In.token})).apply(this,arguments)}function Mi(se,ye){return br.apply(this,arguments)}function br(){return(br=(0,I.Z)(function*(se,ye){const Ze=yield _e(se),Rt=Q(ye.subscriptionOptions),fn={method:"PATCH",headers:Ze,body:JSON.stringify(Rt)};let In;try{In=yield(yield fetch(`${Lr(se.appConfig)}/${ye.token}`,fn)).json()}catch(li){throw ui.create("token-update-failed",{errorInfo:li})}if(In.error)throw ui.create("token-update-failed",{errorInfo:In.error.message});if(!In.token)throw ui.create("token-update-no-token");return In.token})).apply(this,arguments)}function Jr(se,ye){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,I.Z)(function*(se,ye){const Rt={method:"DELETE",headers:yield _e(se)};try{const In=yield(yield fetch(`${Lr(se.appConfig)}/${ye}`,Rt)).json();if(In.error)throw ui.create("token-unsubscribe-failed",{errorInfo:In.error.message})}catch(fn){throw ui.create("token-unsubscribe-failed",{errorInfo:fn})}})).apply(this,arguments)}function Lr({projectId:se}){return`https://fcmregistrations.googleapis.com/v1/projects/${se}/registrations`}function _e(se){return ue.apply(this,arguments)}function ue(){return(ue=(0,I.Z)(function*({appConfig:se,installations:ye}){const Ze=yield ye.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":se.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ze}`})})).apply(this,arguments)}function Q({p256dh:se,auth:ye,endpoint:Ze,vapidKey:Rt}){const fn={web:{endpoint:Ze,auth:ye,p256dh:se}};return Rt!==xo&&(fn.web.applicationPubKey=Rt),fn}const $e=6048e5;function Mn(se){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,I.Z)(function*(se){const ye=yield Ha(se.swRegistration,se.vapidKey),Ze={vapidKey:se.vapidKey,swScope:se.swRegistration.scope,endpoint:ye.endpoint,auth:Rr(ye.getKey("auth")),p256dh:Rr(ye.getKey("p256dh"))},Rt=yield Mr(se.firebaseDependencies);if(Rt){if(xa(Rt.subscriptionOptions,Ze))return Date.now()>=Rt.createTime+$e?Os(se,{token:Rt.token,createTime:Date.now(),subscriptionOptions:Ze}):Rt.token;try{yield Jr(se.firebaseDependencies,Rt.token)}catch(fn){console.warn(fn)}return Yn(se.firebaseDependencies,Ze)}return Yn(se.firebaseDependencies,Ze)})).apply(this,arguments)}function Br(se){return co.apply(this,arguments)}function co(){return(co=(0,I.Z)(function*(se){const ye=yield Mr(se.firebaseDependencies);ye&&(yield Jr(se.firebaseDependencies,ye.token),yield qe(se.firebaseDependencies));const Ze=yield se.swRegistration.pushManager.getSubscription();return!Ze||Ze.unsubscribe()})).apply(this,arguments)}function Os(se,ye){return ho.apply(this,arguments)}function ho(){return(ho=(0,I.Z)(function*(se,ye){try{const Ze=yield Mi(se.firebaseDependencies,ye),Rt=Object.assign(Object.assign({},ye),{token:Ze,createTime:Date.now()});return yield Ge(se.firebaseDependencies,Rt),Ze}catch(Ze){throw yield Br(se),Ze}})).apply(this,arguments)}function Yn(se,ye){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,I.Z)(function*(se,ye){const Rt={token:yield Kr(se,ye),createTime:Date.now(),subscriptionOptions:ye};return yield Ge(se,Rt),Rt.token})).apply(this,arguments)}function Ha(se,ye){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,I.Z)(function*(se,ye){return(yield se.pushManager.getSubscription())||se.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bs(ye)})})).apply(this,arguments)}function xa(se,ye){return ye.vapidKey===se.vapidKey&&ye.endpoint===se.endpoint&&ye.auth===se.auth&&ye.p256dh===se.p256dh}function $s(se){const ye={from:se.from,collapseKey:se.collapse_key,messageId:se.fcmMessageId};return function Wo(se,ye){if(!ye.notification)return;se.notification={};const Ze=ye.notification.title;Ze&&(se.notification.title=Ze);const Rt=ye.notification.body;Rt&&(se.notification.body=Rt);const fn=ye.notification.image;fn&&(se.notification.image=fn)}(ye,se),function Pa(se,ye){!ye.data||(se.data=ye.data)}(ye,se),function Ks(se,ye){if(!ye.fcmOptions)return;se.fcmOptions={};const Ze=ye.fcmOptions.link;Ze&&(se.fcmOptions.link=Ze);const Rt=ye.fcmOptions.analytics_label;Rt&&(se.fcmOptions.analyticsLabel=Rt)}(ye,se),ye}function ra(se){return"object"==typeof se&&!!se&&Do in se}function Ms(se,ye){const Ze=[];for(let Rt=0;Rt<se.length;Rt++)Ze.push(se.charAt(Rt)),Rt<ye.length&&Ze.push(ye.charAt(Rt));return Ze.join("")}function Yo(se){return ui.create("missing-app-config-values",{valueName:se})}Ms("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ms("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ao{constructor(ye,Ze,Rt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const fn=function ma(se){if(!se||!se.options)throw Yo("App Configuration Object");if(!se.name)throw Yo("App Name");const ye=["projectId","apiKey","appId","messagingSenderId"],{options:Ze}=se;for(const Rt of ye)if(!Ze[Rt])throw Yo(Rt);return{appName:se.name,projectId:Ze.projectId,apiKey:Ze.apiKey,appId:Ze.appId,senderId:Ze.messagingSenderId}}(ye);this.firebaseDependencies={app:ye,appConfig:fn,installations:Ze,analyticsProvider:Rt}}_delete(){return Promise.resolve()}}function So(se){return va.apply(this,arguments)}function va(){return(va=(0,I.Z)(function*(se){try{se.swRegistration=yield navigator.serviceWorker.register(as,{scope:$o}),se.swRegistration.update().catch(()=>{})}catch(ye){throw ui.create("failed-service-worker-registration",{browserErrorMessage:ye.message})}})).apply(this,arguments)}function Ie(se,ye){return N.apply(this,arguments)}function N(){return(N=(0,I.Z)(function*(se,ye){if(!ye&&!se.swRegistration&&(yield So(se)),ye||!se.swRegistration){if(!(ye instanceof ServiceWorkerRegistration))throw ui.create("invalid-sw-registration");se.swRegistration=ye}})).apply(this,arguments)}function G(se,ye){return le.apply(this,arguments)}function le(){return(le=(0,I.Z)(function*(se,ye){ye?se.vapidKey=ye:se.vapidKey||(se.vapidKey=xo)})).apply(this,arguments)}function lt(){return(lt=(0,I.Z)(function*(se,ye){if(!navigator)throw ui.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ui.create("permission-blocked");return yield G(se,null==ye?void 0:ye.vapidKey),yield Ie(se,null==ye?void 0:ye.serviceWorkerRegistration),Mn(se)})).apply(this,arguments)}function kt(se,ye,Ze){return jt.apply(this,arguments)}function jt(){return(jt=(0,I.Z)(function*(se,ye,Ze){const Rt=pn(ye);(yield se.firebaseDependencies.analyticsProvider.get()).logEvent(Rt,{message_id:Ze[Do],message_name:Ze[Io],message_time:Ze[ws],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pn(se){switch(se){case Uo.NOTIFICATION_CLICKED:return"notification_open";case Uo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ti(){return(Ti=(0,I.Z)(function*(se,ye){const Ze=ye.data;if(!Ze.isFirebaseMessaging)return;se.onMessageHandler&&Ze.messageType===Uo.PUSH_RECEIVED&&("function"==typeof se.onMessageHandler?se.onMessageHandler($s(Ze)):se.onMessageHandler.next($s(Ze)));const Rt=Ze.data;ra(Rt)&&"1"===Rt[Ea]&&(yield kt(se,Ze.messageType,Rt))})).apply(this,arguments)}const Bi="@firebase/messaging",_r=se=>{const ye=new ao(se.getProvider("app").getImmediate(),se.getProvider("installations-internal").getImmediate(),se.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ze=>function Fn(se,ye){return Ti.apply(this,arguments)}(ye,Ze)),ye},Ni=se=>{const ye=se.getProvider("messaging").getImmediate();return{getToken:Rt=>function Fe(se,ye){return lt.apply(this,arguments)}(ye,Rt)}};function Gr(){return yr.apply(this,arguments)}function yr(){return(yr=(0,I.Z)(function*(){try{yield(0,g.eu)()}catch(se){return!1}return"undefined"!=typeof window&&(0,g.hl)()&&(0,g.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ir(){(0,q._registerComponent)(new Ue.wA("messaging",_r,"PUBLIC")),(0,q._registerComponent)(new Ue.wA("messaging-internal",Ni,"PRIVATE")),(0,q.registerVersion)(Bi,"0.9.12"),(0,q.registerVersion)(Bi,"0.9.12","esm2017")}();const ps="analytics",oa="firebase_id",xs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fo="https://www.googletagmanager.com/gtag/js",fi=new P.Yd("@firebase/analytics");function Vi(se){return Promise.all(se.map(ye=>ye.catch(Ze=>Ze)))}function Qi(se,ye){const Ze=document.createElement("script");Ze.src=`${Fo}?l=${se}&id=${ye}`,Ze.async=!0,document.head.appendChild(Ze)}function po(se,ye,Ze,Rt,fn,In){return ts.apply(this,arguments)}function ts(){return(ts=(0,I.Z)(function*(se,ye,Ze,Rt,fn,In){const li=Rt[fn];try{if(li)yield ye[li];else{const qi=(yield Vi(Ze)).find(dr=>dr.measurementId===fn);qi&&(yield ye[qi.appId])}}catch(Fi){fi.error(Fi)}se("config",fn,In)})).apply(this,arguments)}function Er(se,ye,Ze,Rt,fn){return wo.apply(this,arguments)}function wo(){return(wo=(0,I.Z)(function*(se,ye,Ze,Rt,fn){try{let In=[];if(fn&&fn.send_to){let li=fn.send_to;Array.isArray(li)||(li=[li]);const Fi=yield Vi(Ze);for(const qi of li){const dr=Fi.find(Wi=>Wi.measurementId===qi),fr=dr&&ye[dr.appId];if(!fr){In=[];break}In.push(fr)}}0===In.length&&(In=Object.values(ye)),yield Promise.all(In),se("event",Rt,fn||{})}catch(In){fi.error(In)}})).apply(this,arguments)}function wl(){const se=window.document.getElementsByTagName("script");for(const ye of Object.values(se))if(ye.src&&ye.src.includes(Fo))return ye;return null}const Tr=new g.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xi=new class xi{constructor(ye={},Ze=1e3){this.throttleMetadata=ye,this.intervalMillis=Ze}getThrottleMetadata(ye){return this.throttleMetadata[ye]}setThrottleMetadata(ye,Ze){this.throttleMetadata[ye]=Ze}deleteThrottleMetadata(ye){delete this.throttleMetadata[ye]}};function Wa(se){return new Headers({Accept:"application/json","x-goog-api-key":se})}function bi(se){return vn.apply(this,arguments)}function vn(){return(vn=(0,I.Z)(function*(se){var ye;const{appId:Ze,apiKey:Rt}=se,fn={method:"GET",headers:Wa(Rt)},In=xs.replace("{app-id}",Ze),li=yield fetch(In,fn);if(200!==li.status&&304!==li.status){let Fi="";try{const qi=yield li.json();(null===(ye=qi.error)||void 0===ye?void 0:ye.message)&&(Fi=qi.error.message)}catch(qi){}throw Tr.create("config-fetch-failed",{httpStatus:li.status,responseMessage:Fi})}return li.json()})).apply(this,arguments)}function ti(se){return fo.apply(this,arguments)}function fo(){return(fo=(0,I.Z)(function*(se,ye=Xi,Ze){const{appId:Rt,apiKey:fn,measurementId:In}=se.options;if(!Rt)throw Tr.create("no-app-id");if(!fn){if(In)return{measurementId:In,appId:Rt};throw Tr.create("no-api-key")}const li=ye.getThrottleMetadata(Rt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Fi=new H;return setTimeout((0,I.Z)(function*(){Fi.abort()}),void 0!==Ze?Ze:6e4),Ja({appId:Rt,apiKey:fn,measurementId:In},li,Fi,ye)})).apply(this,arguments)}function Ja(se,ye,Ze){return Da.apply(this,arguments)}function Da(){return(Da=(0,I.Z)(function*(se,{throttleEndTimeMillis:ye,backoffCount:Ze},Rt,fn=Xi){const{appId:In,measurementId:li}=se;try{yield Z(Rt,ye)}catch(Fi){if(li)return fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${li} provided in the "measurementId" field in the local Firebase config. [${Fi.message}]`),{appId:In,measurementId:li};throw Fi}try{const Fi=yield bi(se);return fn.deleteThrottleMetadata(In),Fi}catch(Fi){if(!W(Fi)){if(fn.deleteThrottleMetadata(In),li)return fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${li} provided in the "measurementId" field in the local Firebase config. [${Fi.message}]`),{appId:In,measurementId:li};throw Fi}const qi=503===Number(Fi.customData.httpStatus)?(0,g.$s)(Ze,fn.intervalMillis,30):(0,g.$s)(Ze,fn.intervalMillis),dr={throttleEndTimeMillis:Date.now()+qi,backoffCount:Ze+1};return fn.setThrottleMetadata(In,dr),fi.debug(`Calling attemptFetch again in ${qi} millis`),Ja(se,dr,Rt,fn)}})).apply(this,arguments)}function Z(se,ye){return new Promise((Ze,Rt)=>{const fn=Math.max(ye-Date.now(),0),In=setTimeout(Ze,fn);se.addEventListener(()=>{clearTimeout(In),Rt(Tr.create("fetch-throttle",{throttleEndTimeMillis:ye}))})})}function W(se){if(!(se instanceof g.ZR&&se.customData))return!1;const ye=Number(se.customData.httpStatus);return 429===ye||500===ye||503===ye||504===ye}class H{constructor(){this.listeners=[]}addEventListener(ye){this.listeners.push(ye)}abort(){this.listeners.forEach(ye=>ye())}}function ge(){return be.apply(this,arguments)}function be(){return(be=(0,I.Z)(function*(){if(!(0,g.hl)())return fi.warn(Tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,g.eu)()}catch(se){return fi.warn(Tr.create("indexeddb-unavailable",{errorInfo:se}).message),!1}return!0})).apply(this,arguments)}function Ct(){return(Ct=(0,I.Z)(function*(se,ye,Ze,Rt,fn,In,li){var Fi;const qi=ti(se);qi.then(mr=>{Ze[mr.measurementId]=mr.appId,se.options.measurementId&&mr.measurementId!==se.options.measurementId&&fi.warn(`The measurement ID in the local Firebase config (${se.options.measurementId}) does not match the measurement ID fetched from the server (${mr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mr=>fi.error(mr)),ye.push(qi);const dr=ge().then(mr=>{if(mr)return Rt.getId()}),[fr,Wi]=yield Promise.all([qi,dr]);wl()||Qi(In,fr.measurementId),fn("js",new Date);const sa=null!==(Fi=null==li?void 0:li.config)&&void 0!==Fi?Fi:{};return sa.origin="firebase",sa.update=!0,null!=Wi&&(sa[oa]=Wi),fn("config",fr.measurementId,sa),fr.measurementId})).apply(this,arguments)}class Wt{constructor(ye){this.app=ye}_delete(){return delete Pn[this.app.options.appId],Promise.resolve()}}let Pn={},Ii=[];const di={};let Ji,Gi,mi="dataLayer",ya=!1;function us(se,ye,Ze){!function hl(){const se=[];if((0,g.ru)()&&se.push("This is a browser extension environment."),(0,g.zI)()||se.push("Cookies are not available."),se.length>0){const ye=se.map((Rt,fn)=>`(${fn+1}) ${Rt}`).join(" "),Ze=Tr.create("invalid-analytics-context",{errorInfo:ye});fi.warn(Ze.message)}}();const Rt=se.options.appId;if(!Rt)throw Tr.create("no-app-id");if(!se.options.apiKey){if(!se.options.measurementId)throw Tr.create("no-api-key");fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${se.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pn[Rt])throw Tr.create("already-exists",{id:Rt});if(!ya){!function pr(se){let ye=[];Array.isArray(window[se])?ye=window[se]:window[se]=ye}(mi);const{wrappedGtag:In,gtagCore:li}=function Ua(se,ye,Ze,Rt,fn){let In=function(...li){window[Rt].push(arguments)};return window[fn]&&"function"==typeof window[fn]&&(In=window[fn]),window[fn]=function Wr(se,ye,Ze,Rt){function In(){return(In=(0,I.Z)(function*(li,Fi,qi){try{"event"===li?yield Er(se,ye,Ze,Fi,qi):"config"===li?yield po(se,ye,Ze,Rt,Fi,qi):se("set",Fi)}catch(dr){fi.error(dr)}})).apply(this,arguments)}return function fn(li,Fi,qi){return In.apply(this,arguments)}}(In,se,ye,Ze),{gtagCore:In,wrappedGtag:window[fn]}}(Pn,Ii,di,mi,"gtag");Gi=In,Ji=li,ya=!0}return Pn[Rt]=function Ye(se,ye,Ze,Rt,fn,In,li){return Ct.apply(this,arguments)}(se,Ii,di,ye,Ji,mi,Ze),new Wt(se)}function kl(){return(kl=(0,I.Z)(function*(se,ye,Ze,Rt,fn){if(fn&&fn.global)se("event",Ze,Rt);else{const In=yield ye;se("event",Ze,Object.assign(Object.assign({},Rt),{send_to:In}))}})).apply(this,arguments)}function Zo(){return bl.apply(this,arguments)}function bl(){return(bl=(0,I.Z)(function*(){if((0,g.ru)()||!(0,g.zI)()||!(0,g.hl)())return!1;try{return yield(0,g.eu)()}catch(se){return!1}})).apply(this,arguments)}const xu="@firebase/analytics";!function Gl(){(0,q._registerComponent)(new Ue.wA(ps,(ye,{options:Ze})=>us(ye.getProvider("app").getImmediate(),ye.getProvider("installations-internal").getImmediate(),Ze),"PUBLIC")),(0,q._registerComponent)(new Ue.wA("analytics-internal",function se(ye){try{const Ze=ye.getProvider(ps).getImmediate();return{logEvent:(Rt,fn,In)=>function Ci(se,ye,Ze,Rt){se=(0,g.m9)(se),function jr(se,ye,Ze,Rt,fn){return kl.apply(this,arguments)}(Gi,Pn[se.app.options.appId],ye,Ze,Rt).catch(fn=>fi.error(fn))}(Ze,Rt,fn,In)}}catch(Ze){throw Tr.create("interop-component-reg-failed",{reason:Ze})}},"PRIVATE")),(0,q.registerVersion)(xu,"0.7.8"),(0,q.registerVersion)(xu,"0.7.8","esm2017")}();var Ra=R(233),or=R(4986),el=R(8505),Gn=R(9468),za=R(5363);const Y=new v.GfV("7.3.0"),ce="__angularfire_symbol__analyticsIsSupportedValue",T="__angularfire_symbol__analyticsIsSupported",X="__angularfire_symbol__remoteConfigIsSupportedValue",ze="__angularfire_symbol__remoteConfigIsSupported",Ht="__angularfire_symbol__messagingIsSupportedValue",jn="__angularfire_symbol__messagingIsSupported";function qo(se,ye,Ze){if(ye){if(1===ye.length)return ye[0];const In=ye.filter(li=>li.app===Ze);if(1===In.length)return In[0]}return Ze.container.getProvider(se).getImmediate({optional:!0})}globalThis[T]||(globalThis[T]=Zo().then(se=>globalThis[ce]=se).catch(()=>globalThis[ce]=!1)),globalThis[jn]||(globalThis[jn]=Gr().then(se=>globalThis[Ht]=se).catch(()=>globalThis[Ht]=!1)),globalThis[ze]||(globalThis[ze]=Ao().then(se=>globalThis[X]=se).catch(()=>globalThis[X]=!1));const Ro=(se,ye)=>{const Ze=ye?[ye]:(0,V.C6)(),Rt=[];return Ze.forEach(fn=>{fn.container.getProvider(se).instances.forEach(li=>{Rt.includes(li)||Rt.push(li)})}),Rt};function kr(){}class vs{constructor(ye,Ze=Ra.N){this.zone=ye,this.delegate=Ze}now(){return this.delegate.now()}schedule(ye,Ze,Rt){const fn=this.zone;return this.delegate.schedule(function(li){fn.runGuarded(()=>{ye.apply(this,[li])})},Ze,Rt)}}class qr{constructor(ye){this.zone=ye,this.task=null}call(ye,Ze){const Rt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kr,{},kr,kr)),Ze.pipe((0,el.b)({next:Rt,complete:Rt,error:Rt})).subscribe(ye).add(Rt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let No=(()=>{class se{constructor(Ze){this.ngZone=Ze,this.outsideAngular=Ze.runOutsideAngular(()=>new vs(Zone.current)),this.insideAngular=Ze.run(()=>new vs(Zone.current,or.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return se.\u0275fac=function(Ze){return new(Ze||se)(v.LFG(v.R0b))},se.\u0275prov=v.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();function Ta(){const se=globalThis.\u0275AngularFireScheduler;if(!se)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return se}function fc(se){return Ta(),function Na(se){return function(Ze){return(Ze=Ze.lift(new qr(se.ngZone))).pipe((0,Gn.R)(se.outsideAngular),(0,za.Q)(se.insideAngular))}}(Ta())(se)}},5525:(Ot,B,R)=>{R.d(B,{u7:()=>Nl,Jj:()=>sc,IX:()=>av,my:()=>Vs,xU:()=>lc,Lz:()=>Ou,WA:()=>ti,F8:()=>mh,$q:()=>bh,W:()=>ou,EK:()=>Ji,PU:()=>au,l7:()=>pl,Ky:()=>Ci,Xb:()=>gs,Cf:()=>yo,K9:()=>Wa,Me:()=>od,yq:()=>fs,Wi:()=>Jm,ET:()=>Dv,Ab:()=>Bf,vr:()=>kf,Fc:()=>yp,hJ:()=>iv,B$:()=>Tf,at:()=>nv,oe:()=>Ev,AK:()=>Dh,TF:()=>Gg,JU:()=>rv,ST:()=>uv,fH:()=>ny,Ix:()=>ed,Wu:()=>Cv,Lx:()=>_v,qY:()=>Hs,GL:()=>Ld,QT:()=>Ll,kl:()=>wv,Xk:()=>Kg,PL:()=>cy,UQ:()=>Lf,zN:()=>bv,nP:()=>Tv,b9:()=>Nd,vh:()=>mv,Pb:()=>If,L$:()=>Of,cf:()=>dy,sc:()=>Sv,Xo:()=>ly,IO:()=>gv,iE:()=>iu,Eo:()=>ey,i3:()=>Rv,Bt:()=>Zg,pl:()=>Yg,Ub:()=>wl,qK:()=>sy,TQ:()=>vv,e0:()=>uc,r7:()=>Rp,Mx:()=>iy,ar:()=>_l});var Ce,v=R(5861),V=R(9681),I=R(4859),q=R(1877),g=R(2090),Ue="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},P={},Ee=Ee||{},ae=Ue||self;function Me(){}function we(d){var s=typeof d;return"array"==(s="object"!=s?s:d?Array.isArray(d)?"array":s:"null")||"object"==s&&"number"==typeof d.length}function Oe(d){var s=typeof d;return"object"==s&&null!=d||"function"==s}var st="closure_uid_"+(1e9*Math.random()>>>0),gt=0;function Je(d,s,l){return d.call.apply(d.bind,arguments)}function ht(d,s,l){if(!d)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,p),d.apply(s,y)}}return function(){return d.apply(s,arguments)}}function Xe(d,s,l){return(Xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Je:ht).apply(null,arguments)}function Nt(d,s){var l=Array.prototype.slice.call(arguments,1);return function(){var p=l.slice();return p.push.apply(p,arguments),d.apply(this,p)}}function at(d,s){function l(){}l.prototype=s.prototype,d.Z=s.prototype,d.prototype=new l,d.prototype.constructor=d,d.Vb=function(p,y,E){for(var L=Array(arguments.length-2),J=2;J<arguments.length;J++)L[J-2]=arguments[J];return s.prototype[y].apply(p,L)}}function ke(){this.s=this.s,this.o=this.o}var it={};ke.prototype.s=!1,ke.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var d=function Le(d){return Object.prototype.hasOwnProperty.call(d,st)&&d[st]||(d[st]=++gt)}(this);delete it[d]}},ke.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const A=Array.prototype.indexOf?function(d,s){return Array.prototype.indexOf.call(d,s,void 0)}:function(d,s){if("string"==typeof d)return"string"!=typeof s||1!=s.length?-1:d.indexOf(s,0);for(let l=0;l<d.length;l++)if(l in d&&d[l]===s)return l;return-1},et=Array.prototype.forEach?function(d,s,l){Array.prototype.forEach.call(d,s,l)}:function(d,s,l){const p=d.length,y="string"==typeof d?d.split(""):d;for(let E=0;E<p;E++)E in y&&s.call(l,y[E],E,d)};function Be(d){return Array.prototype.concat.apply([],arguments)}function At(d){const s=d.length;if(0<s){const l=Array(s);for(let p=0;p<s;p++)l[p]=d[p];return l}return[]}function Ut(d){return/^[\s\xa0]*$/.test(d)}var Bn,nn=String.prototype.trim?function(d){return d.trim()}:function(d){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(d)[1]};function Qt(d,s){return-1!=d.indexOf(s)}function an(d,s){return d<s?-1:d>s?1:0}e:{var ie=ae.navigator;if(ie){var Mt=ie.userAgent;if(Mt){Bn=Mt;break e}}Bn=""}function ut(d,s,l){for(const p in d)s.call(l,d[p],p,d)}function Zt(d){const s={};for(const l in d)s[l]=d[l];return s}var hn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kt(d,s){let l,p;for(let y=1;y<arguments.length;y++){for(l in p=arguments[y],p)d[l]=p[l];for(let E=0;E<hn.length;E++)l=hn[E],Object.prototype.hasOwnProperty.call(p,l)&&(d[l]=p[l])}}function gn(d){return gn[" "](d),d}gn[" "]=Me;var bt,d,Bt=Qt(Bn,"Opera"),mt=Qt(Bn,"Trident")||Qt(Bn,"MSIE"),Vt=Qt(Bn,"Edge"),ot=Vt||mt,je=Qt(Bn,"Gecko")&&!(Qt(Bn.toLowerCase(),"webkit")&&!Qt(Bn,"Edge"))&&!(Qt(Bn,"Trident")||Qt(Bn,"MSIE"))&&!Qt(Bn,"Edge"),Pt=Qt(Bn.toLowerCase(),"webkit")&&!Qt(Bn,"Edge");function rt(){var d=ae.document;return d?d.documentMode:void 0}e:{var En="",Xn=(d=Bn,je?/rv:([^\);]+)(\)|;)/.exec(d):Vt?/Edge\/([\d\.]+)/.exec(d):mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(d):Pt?/WebKit\/(\S+)/.exec(d):Bt?/(?:Version)[ \/]?(\S+)/.exec(d):void 0);if(Xn&&(En=Xn?Xn[1]:""),mt){var Dn=rt();if(null!=Dn&&Dn>parseFloat(En)){bt=String(Dn);break e}}bt=En}var ft={};var te=ae.document&&mt&&(rt()||parseInt(bt,10))||void 0,ne=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var d=!1,s=Object.defineProperty({},"passive",{get:function(){d=!0}});try{ae.addEventListener("test",Me,s),ae.removeEventListener("test",Me,s)}catch(l){}return d}();function me(d,s){this.type=d,this.g=this.target=s,this.defaultPrevented=!1}function xe(d,s){if(me.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var l=this.type=d.type,p=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=s,s=d.relatedTarget){if(je){e:{try{gn(s.nodeName);var y=!0;break e}catch(E){}y=!1}y||(s=null)}}else"mouseover"==l?s=d.fromElement:"mouseout"==l&&(s=d.toElement);this.relatedTarget=s,p?(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType="string"==typeof d.pointerType?d.pointerType:pt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&xe.Z.h.call(this)}}me.prototype.h=function(){this.defaultPrevented=!0},at(xe,me);var pt={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.Z.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ft="closure_listenable_"+(1e6*Math.random()|0),rn=0;function Qe(d,s,l,p,y){this.listener=d,this.proxy=null,this.src=s,this.type=l,this.capture=!!p,this.ia=y,this.key=++rn,this.ca=this.fa=!1}function Cn(d){d.ca=!0,d.listener=null,d.proxy=null,d.src=null,d.ia=null}function xn(d){this.src=d,this.g={},this.h=0}function ei(d,s){var l=s.type;if(l in d.g){var E,p=d.g[l],y=A(p,s);(E=0<=y)&&Array.prototype.splice.call(p,y,1),E&&(Cn(s),0==d.g[l].length&&(delete d.g[l],d.h--))}}function ri(d,s,l,p){for(var y=0;y<d.length;++y){var E=d[y];if(!E.ca&&E.listener==s&&E.capture==!!l&&E.ia==p)return y}return-1}xn.prototype.add=function(d,s,l,p,y){var E=d.toString();(d=this.g[E])||(d=this.g[E]=[],this.h++);var L=ri(d,s,p,y);return-1<L?(s=d[L],l||(s.fa=!1)):((s=new Qe(s,this.src,E,!!p,y)).fa=l,d.push(s)),s};var Oi="closure_lm_"+(1e6*Math.random()|0),Si={};function mn(d,s,l,p,y){if(p&&p.once)return Dt(d,s,l,p,y);if(Array.isArray(s)){for(var E=0;E<s.length;E++)mn(d,s[E],l,p,y);return null}return l=Se(l),d&&d[Ft]?d.N(s,l,Oe(p)?!!p.capture:!!p,y):_i(d,s,l,!1,p,y)}function _i(d,s,l,p,y,E){if(!s)throw Error("Invalid event type");var L=Oe(y)?!!y.capture:!!y,J=re(d);if(J||(d[Oi]=J=new xn(d)),(l=J.add(s,l,p,L,E)).proxy)return l;if(p=function ci(){var s=oe;return function d(l){return s.call(d.src,d.listener,l)}}(),l.proxy=p,p.src=d,p.listener=l,d.addEventListener)ne||(y=L),void 0===y&&(y=!1),d.addEventListener(s.toString(),p,y);else if(d.attachEvent)d.attachEvent(x(s.toString()),p);else{if(!d.addListener||!d.removeListener)throw Error("addEventListener and attachEvent are unavailable.");d.addListener(p)}return l}function Dt(d,s,l,p,y){if(Array.isArray(s)){for(var E=0;E<s.length;E++)Dt(d,s[E],l,p,y);return null}return l=Se(l),d&&d[Ft]?d.O(s,l,Oe(p)?!!p.capture:!!p,y):_i(d,s,l,!0,p,y)}function $(d,s,l,p,y){if(Array.isArray(s))for(var E=0;E<s.length;E++)$(d,s[E],l,p,y);else p=Oe(p)?!!p.capture:!!p,l=Se(l),d&&d[Ft]?(d=d.i,(s=String(s).toString())in d.g&&-1<(l=ri(E=d.g[s],l,p,y))&&(Cn(E[l]),Array.prototype.splice.call(E,l,1),0==E.length&&(delete d.g[s],d.h--))):d&&(d=re(d))&&(s=d.g[s.toString()],d=-1,s&&(d=ri(s,l,p,y)),(l=-1<d?s[d]:null)&&O(l))}function O(d){if("number"!=typeof d&&d&&!d.ca){var s=d.src;if(s&&s[Ft])ei(s.i,d);else{var l=d.type,p=d.proxy;s.removeEventListener?s.removeEventListener(l,p,d.capture):s.detachEvent?s.detachEvent(x(l),p):s.addListener&&s.removeListener&&s.removeListener(p),(l=re(s))?(ei(l,d),0==l.h&&(l.src=null,s[Oi]=null)):Cn(d)}}}function x(d){return d in Si?Si[d]:Si[d]="on"+d}function oe(d,s){if(d.ca)d=!0;else{s=new xe(s,this);var l=d.listener,p=d.ia||d.src;d.fa&&O(d),d=l.call(p,s)}return d}function re(d){return(d=d[Oi])instanceof xn?d:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(d){return"function"==typeof d?d:(d[de]||(d[de]=function(s){return d.handleEvent(s)}),d[de])}function We(){ke.call(this),this.i=new xn(this),this.P=this,this.I=null}function zt(d,s){var l,p=d.I;if(p)for(l=[];p;p=p.I)l.push(p);if(d=d.P,p=s.type||s,"string"==typeof s)s=new me(s,d);else if(s instanceof me)s.target=s.target||d;else{var y=s;Kt(s=new me(p,d),y)}if(y=!0,l)for(var E=l.length-1;0<=E;E--){var L=s.g=l[E];y=Et(L,p,!0,s)&&y}if(y=Et(L=s.g=d,p,!0,s)&&y,y=Et(L,p,!1,s)&&y,l)for(E=0;E<l.length;E++)y=Et(L=s.g=l[E],p,!1,s)&&y}function Et(d,s,l,p){if(!(s=d.i.g[String(s)]))return!0;s=s.concat();for(var y=!0,E=0;E<s.length;++E){var L=s[E];if(L&&!L.ca&&L.capture==l){var J=L.listener,Te=L.ia||L.src;L.fa&&ei(d.i,L),y=!1!==J.call(Te,p)&&y}}return y&&!p.defaultPrevented}at(We,ke),We.prototype[Ft]=!0,We.prototype.removeEventListener=function(d,s,l,p){$(this,d,s,l,p)},We.prototype.M=function(){if(We.Z.M.call(this),this.i){var s,d=this.i;for(s in d.g){for(var l=d.g[s],p=0;p<l.length;p++)Cn(l[p]);delete d.g[s],d.h--}}this.I=null},We.prototype.N=function(d,s,l,p){return this.i.add(String(d),s,!1,l,p)},We.prototype.O=function(d,s,l,p){return this.i.add(String(d),s,!0,l,p)};var An=ae.JSON.stringify;function Gt(){var d=Ir;let s=null;return d.g&&(s=d.g,d.g=d.g.next,d.g||(d.h=null),s.next=null),s}var vi,ct=new class{constructor(d,s){this.i=d,this.j=s,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}(()=>new wt,d=>d.reset());class wt{constructor(){this.next=this.g=this.h=null}set(s,l){this.h=s,this.g=l,this.next=null}reset(){this.next=this.g=this.h=null}}function dn(d){ae.setTimeout(()=>{throw d},0)}function Kn(d,s){vi||function $i(){var d=ae.Promise.resolve(void 0);vi=function(){d.then(qt)}}(),gr||(vi(),gr=!0),Ir.add(d,s)}var gr=!1,Ir=new class _t{constructor(){this.h=this.g=null}add(s,l){const p=ct.get();p.set(s,l),this.h?this.h.next=p:this.g=p,this.h=p}};function qt(){for(var d;d=Gt();){try{d.h.call(d.g)}catch(l){dn(l)}var s=ct;s.j(d),100>s.h&&(s.h++,d.next=s.g,s.g=d)}gr=!1}function Hn(d,s){We.call(this),this.h=d||1,this.g=s||ae,this.j=Xe(this.kb,this),this.l=Date.now()}function bn(d){d.da=!1,d.S&&(d.g.clearTimeout(d.S),d.S=null)}function yi(d,s,l){if("function"==typeof d)l&&(d=Xe(d,l));else{if(!d||"function"!=typeof d.handleEvent)throw Error("Invalid listener argument");d=Xe(d.handleEvent,d)}return 2147483647<Number(s)?-1:ae.setTimeout(d,s||0)}function Zi(d){d.g=yi(()=>{d.g=null,d.i&&(d.i=!1,Zi(d))},d.j);const s=d.h;d.h=null,d.m.apply(null,s)}at(Hn,We),(Ce=Hn.prototype).da=!1,Ce.S=null,Ce.kb=function(){if(this.da){var d=Date.now()-this.l;0<d&&d<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-d):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zt(this,"tick"),this.da&&(bn(this),this.start()))}},Ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.M=function(){Hn.Z.M.call(this),bn(this),delete this.g};class $n extends ke{constructor(s,l){super(),this.m=s,this.j=l,this.h=null,this.i=!1,this.g=null}l(s){this.h=arguments,this.g?this.i=!0:Zi(this)}M(){super.M(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(d){ke.call(this),this.h=d,this.g={}}at(Hi,ke);var Ui=[];function Tt(d,s,l,p){Array.isArray(l)||(l&&(Ui[0]=l.toString()),l=Ui);for(var y=0;y<l.length;y++){var E=mn(s,l[y],p||d.handleEvent,!1,d.h||d);if(!E)break;d.g[E.key]=E}}function ln(d){ut(d.g,function(s,l){this.g.hasOwnProperty(l)&&O(s)},d),d.g={}}function j(){this.g=!0}function xt(d,s,l,p){d.info(function(){return"XMLHTTP TEXT ("+s+"): "+function gi(d,s){if(!d.g)return s;if(!s)return null;try{var l=JSON.parse(s);if(l)for(d=0;d<l.length;d++)if(Array.isArray(l[d])){var p=l[d];if(!(2>p.length)){var y=p[1];if(Array.isArray(y)&&!(1>y.length)){var E=y[0];if("noop"!=E&&"stop"!=E&&"close"!=E)for(var L=1;L<y.length;L++)y[L]=""}}}return An(l)}catch(J){return s}}(d,l)+(p?" "+p:"")})}Hi.prototype.M=function(){Hi.Z.M.call(this),ln(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},j.prototype.Aa=function(){this.g=!1},j.prototype.info=function(){};var nt={},Xr=null;function St(){return Xr=Xr||new We}function un(d){me.call(this,nt.Ma,d)}function on(d){const s=St();zt(s,new un(s,d))}function Sn(d,s){me.call(this,nt.STAT_EVENT,d),this.stat=s}function Zn(d){const s=St();zt(s,new Sn(s,d))}function ni(d,s){me.call(this,nt.Na,d),this.size=s}function pi(d,s){if("function"!=typeof d)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){d()},s)}nt.Ma="serverreachability",at(un,me),nt.STAT_EVENT="statevent",at(Sn,me),nt.Na="timingevent",at(ni,me);var Dr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Hr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nr(){}function _o(){}nr.prototype.h=null;var Is,Eo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xo(){me.call(this,"d")}function vr(){me.call(this,"c")}function Ls(){}function Cs(d,s,l,p){this.l=d,this.j=s,this.m=l,this.X=p||1,this.V=new Hi(this),this.P=ia,this.W=new Hn(d=ot?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zr}function zr(){this.i=null,this.g="",this.h=!1}at(Xo,me),at(vr,me),at(Ls,nr),Ls.prototype.g=function(){return new XMLHttpRequest},Ls.prototype.i=function(){return{}},Is=new Ls;var ia=45e3,Ws={},tn={};function Xt(d,s,l){d.K=1,d.v=bs(Io(s)),d.s=l,d.U=!0,yn(d,null)}function yn(d,s){d.F=Date.now(),wr(d),d.A=Io(d.v);var l=d.A,p=d.X;Array.isArray(p)||(p=[String(p)]),pe(l.h,"t",p),d.C=0,l=d.l.H,d.h=new zr,d.g=Ds(d.l,l?s:null,!d.s),0<d.O&&(d.L=new $n(Xe(d.Ia,d,d.g),d.O)),Tt(d.V,d.g,"readystatechange",d.gb),s=d.H?Zt(d.H):{},d.s?(d.u||(d.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.s,s)):(d.u="GET",d.g.ea(d.A,d.u,null,s)),on(1),function he(d,s,l,p,y,E){d.info(function(){if(d.g)if(E)for(var L="",J=E.split("&"),Te=0;Te<J.length;Te++){var He=J[Te].split("=");if(1<He.length){var It=He[0];He=He[1];var Yt=It.split("_");L=2<=Yt.length&&"type"==Yt[1]?L+(It+"=")+He+"&":L+(It+"=redacted&")}}else L=null;else L=E;return"XMLHTTP REQ ("+p+") [attempt "+y+"]: "+s+"\n"+l+"\n"+L})}(d.j,d.u,d.A,d.m,d.X,d.s)}function Wn(d){return!!d.g&&"GET"==d.u&&2!=d.K&&d.l.Ba}function oi(d,s,l){let y,p=!0;for(;!d.I&&d.C<l.length;){if(y=ki(d,l),y==tn){4==s&&(d.o=4,Zn(14),p=!1),xt(d.j,d.m,null,"[Incomplete Response]");break}if(y==Ws){d.o=4,Zn(15),xt(d.j,d.m,l,"[Invalid Chunk]"),p=!1;break}xt(d.j,d.m,y,null),ko(d,y)}Wn(d)&&y!=tn&&y!=Ws&&(d.h.g="",d.C=0),4!=s||0!=l.length||d.h.h||(d.o=1,Zn(16),p=!1),d.i=d.i&&p,p?0<l.length&&!d.aa&&(d.aa=!0,(s=d.l).g==d&&s.$&&!s.L&&(s.h.info("Great, no buffering proxy detected. Bytes received: "+l.length),_r(s),s.L=!0,Zn(11))):(xt(d.j,d.m,l,"[Invalid Chunked Response]"),Mo(d),Jo(d))}function ki(d,s){var l=d.C,p=s.indexOf("\n",l);return-1==p?tn:(l=Number(s.substring(l,p)),isNaN(l)?Ws:(p+=1)+l>s.length?tn:(s=s.substr(p,l),d.C=p+l,s))}function wr(d){d.Y=Date.now()+d.P,$r(d,d.P)}function $r(d,s){if(null!=d.B)throw Error("WatchDog timer not null");d.B=pi(Xe(d.eb,d),s)}function Sr(d){d.B&&(ae.clearTimeout(d.B),d.B=null)}function Jo(d){0==d.l.G||d.I||Gr(d.l,d)}function Mo(d){Sr(d);var s=d.L;s&&"function"==typeof s.na&&s.na(),d.L=null,bn(d.W),ln(d.V),d.g&&(s=d.g,d.g=null,s.abort(),s.na())}function ko(d,s){try{var l=d.l;if(0!=l.G&&(l.g==d||Mi(l.i,d)))if(l.I=d.N,!d.J&&Mi(l.i,d)&&3==l.G){try{var p=l.Ca.g.parse(s)}catch(He){p=null}if(Array.isArray(p)&&3==p.length){var y=p;if(0==y[0])e:if(l.u)l.ta=y[1],0<l.ta-l.U&&37500>y[2]&&l.N&&0==l.A&&!l.v&&(l.v=pi(Xe(l.ab,l),6e3));else{if(l.g){if(!(l.g.F+3e3<d.F))break e;ir(l),le(l)}Ki(l),Zn(18)}if(1>=Pr(l.i)&&l.ka){try{l.ka()}catch(He){}l.ka=void 0}}else Ur(l,11)}else if((d.J||l.g==d)&&ir(l),!Ut(s))for(y=l.Ca.g.parse(s),s=0;s<y.length;s++){let He=y[s];if(l.U=He[0],He=He[1],2==l.G)if("c"==He[0]){l.J=He[1],l.la=He[2];const It=He[3];null!=It&&(l.ma=It,l.h.info("VER="+l.ma));const Yt=He[4];null!=Yt&&(l.za=Yt,l.h.info("SVER="+l.za));const Tn=He[5];null!=Tn&&"number"==typeof Tn&&0<Tn&&(l.K=p=1.5*Tn,l.h.info("backChannelRequestTimeoutMs_="+p)),p=l;const ii=d.g;if(ii){const ai=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var E=p.i;!E.g&&(Qt(ai,"spdy")||Qt(ai,"quic")||Qt(ai,"h2"))&&(E.j=E.l,E.g=new Set,E.h&&(br(E,E.h),E.h=null))}if(p.D){const ji=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;ji&&(p.sa=ji,Rr(p.F,p.D,ji))}}l.G=3,l.j&&l.j.xa(),l.$&&(l.O=Date.now()-d.F,l.h.info("Handshake RTT: "+l.O+"ms"));var L=d;if((p=l).oa=cr(p,p.H?p.la:null,p.W),L.J){Jr(p.i,L);var J=L,Te=p.K;Te&&J.setTimeout(Te),J.B&&(Sr(J),wr(J)),p.g=L}else Bi(p);0<l.l.length&&kt(l)}else"stop"!=He[0]&&"close"!=He[0]||Ur(l,7);else 3==l.G&&("stop"==He[0]||"close"==He[0]?"stop"==He[0]?Ur(l,7):G(l):"noop"!=He[0]&&l.j&&l.j.wa(He),l.A=0)}on(4)}catch(He){}}function Ao(d,s){if(d.forEach&&"function"==typeof d.forEach)d.forEach(s,void 0);else if(we(d)||"string"==typeof d)et(d,s,void 0);else{if(d.T&&"function"==typeof d.T)var l=d.T();else if(d.R&&"function"==typeof d.R)l=void 0;else if(we(d)||"string"==typeof d){l=[];for(var p=d.length,y=0;y<p;y++)l.push(y)}else for(y in l=[],p=0,d)l[p++]=y;p=function ks(d){if(d.R&&"function"==typeof d.R)return d.R();if("string"==typeof d)return d.split("");if(we(d)){for(var s=[],l=d.length,p=0;p<l;p++)s.push(d[p]);return s}for(p in s=[],l=0,d)s[l++]=d[p];return s}(d),y=p.length;for(var E=0;E<y;E++)s.call(void 0,p[E],l&&l[E],d)}}function js(d,s){this.h={},this.g=[],this.i=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var p=0;p<l;p+=2)this.set(arguments[p],arguments[p+1])}else if(d)if(d instanceof js)for(l=d.T(),p=0;p<l.length;p++)this.set(l[p],d.get(l[p]));else for(p in d)this.set(p,d[p])}function as(d){if(d.i!=d.g.length){for(var s=0,l=0;s<d.g.length;){var p=d.g[s];$o(d.h,p)&&(d.g[l++]=p),s++}d.g.length=l}if(d.i!=d.g.length){var y={};for(l=s=0;s<d.g.length;)$o(y,p=d.g[s])||(d.g[l++]=p,y[p]=1),s++;d.g.length=l}}function $o(d,s){return Object.prototype.hasOwnProperty.call(d,s)}(Ce=Cs.prototype).setTimeout=function(d){this.P=d},Ce.gb=function(d){d=d.target;const s=this.L;s&&3==Yo(d)?s.l():this.Ia(d)},Ce.Ia=function(d){try{if(d==this.g)e:{const It=Yo(this.g);var s=this.g.Da();const Yt=this.g.ba();if(!(3>It)&&(3!=It||ot||this.g&&(this.h.h||this.g.ga()||ao(this.g)))){this.I||4!=It||7==s||on(8==s||0>=Yt?3:2),Sr(this);var l=this.g.ba();this.N=l;t:if(Wn(this)){var p=ao(this.g);d="";var y=p.length,E=4==Yo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Mo(this),Jo(this);var L="";break t}this.h.i=new ae.TextDecoder}for(s=0;s<y;s++)this.h.h=!0,d+=this.h.i.decode(p[s],{stream:E&&s==y-1});p.splice(0,y),this.h.g+=d,this.C=0,L=this.h.g}else L=this.g.ga();if(this.i=200==l,function tt(d,s,l,p,y,E,L){d.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+y+"]: "+s+"\n"+l+"\n"+E+" "+L})}(this.j,this.u,this.A,this.m,this.X,It,l),this.i){if(this.$&&!this.J){t:{if(this.g){var J,Te=this.g;if((J=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ut(J)){var He=J;break t}}He=null}if(!(l=He)){this.i=!1,this.o=3,Zn(12),Mo(this),Jo(this);break e}xt(this.j,this.m,l,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ko(this,l)}this.U?(oi(this,It,L),ot&&this.i&&3==It&&(Tt(this.V,this.W,"tick",this.fb),this.W.start())):(xt(this.j,this.m,L,null),ko(this,L)),4==It&&Mo(this),this.i&&!this.I&&(4==It?Gr(this.l,this):(this.i=!1,wr(this)))}else 400==l&&0<L.indexOf("Unknown SID")?(this.o=3,Zn(12)):(this.o=0,Zn(13)),Mo(this),Jo(this)}}}catch(It){}},Ce.fb=function(){if(this.g){var d=Yo(this.g),s=this.g.ga();this.C<s.length&&(Sr(this),oi(this,d,s),this.i&&4!=d&&wr(this))}},Ce.cancel=function(){this.I=!0,Mo(this)},Ce.eb=function(){this.B=null;const d=Date.now();0<=d-this.Y?(function hi(d,s){d.info(function(){return"TIMEOUT: "+s})}(this.j,this.A),2!=this.K&&(on(3),Zn(17)),Mo(this),this.o=2,Jo(this)):$r(this,this.Y-d)},(Ce=js.prototype).R=function(){as(this);for(var d=[],s=0;s<this.g.length;s++)d.push(this.h[this.g[s]]);return d},Ce.T=function(){return as(this),this.g.concat()},Ce.get=function(d,s){return $o(this.h,d)?this.h[d]:s},Ce.set=function(d,s){$o(this.h,d)||(this.i++,this.g.push(d)),this.h[d]=s},Ce.forEach=function(d,s){for(var l=this.T(),p=0;p<l.length;p++){var y=l[p],E=this.get(y);d.call(s,E,y,this)}};var xo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Do(d,s){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,d instanceof Do){this.g=void 0!==s?s:d.g,ws(this,d.j),this.s=d.s,Ea(this,d.i),Po(this,d.m),this.l=d.l,s=d.h;var l=new ls;l.i=s.i,s.g&&(l.g=new js(s.g),l.h=s.h),Uo(this,l),this.o=d.o}else d&&(l=String(d).match(xo))?(this.g=!!s,ws(this,l[1]||"",!0),this.s=vo(l[2]||""),Ea(this,l[3]||"",!0),Po(this,l[4]),this.l=vo(l[5]||"",!0),Uo(this,l[6]||"",!0),this.o=vo(l[7]||"")):(this.g=!!s,this.h=new ls(null,this.g))}function Io(d){return new Do(d)}function ws(d,s,l){d.j=l?vo(s,!0):s,d.j&&(d.j=d.j.replace(/:$/,""))}function Ea(d,s,l){d.i=l?vo(s,!0):s}function Po(d,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);d.m=s}else d.m=null}function Uo(d,s,l){s instanceof ls?(d.h=s,function $t(d,s){s&&!d.j&&(Mr(d),d.i=null,d.g.forEach(function(l,p){var y=p.toLowerCase();p!=y&&(fe(this,p),pe(this,y,l))},d)),d.j=s}(d.h,d.g)):(l||(s=ds(s,Bo)),d.h=new ls(s,d.g))}function Rr(d,s,l){d.h.set(s,l)}function bs(d){return Rr(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function vo(d,s){return d?s?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ds(d,s,l){return"string"==typeof d?(d=encodeURI(d).replace(s,ro),l&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ro(d){return"%"+((d=d.charCodeAt(0))>>4&15).toString(16)+(15&d).toString(16)}Do.prototype.toString=function(){var d=[],s=this.j;s&&d.push(ds(s,Es,!0),":");var l=this.i;return(l||"file"==s)&&(d.push("//"),(s=this.s)&&d.push(ds(s,Es,!0),"@"),d.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(l=this.m)&&d.push(":",String(l))),(l=this.l)&&(this.i&&"/"!=l.charAt(0)&&d.push("/"),d.push(ds(l,"/"==l.charAt(0)?Ko:es,!0))),(l=this.h.toString())&&d.push("?",l),(l=this.o)&&d.push("#",ds(l,ns)),d.join("")};var Es=/[#\/\?@]/g,es=/[#\?:]/g,Ko=/[#\?]/g,Bo=/[#\?@]/g,ns=/#/g;function ls(d,s){this.h=this.g=null,this.i=d||null,this.j=!!s}function Mr(d){d.g||(d.g=new js,d.h=0,d.i&&function zs(d,s){if(d){d=d.split("&");for(var l=0;l<d.length;l++){var p=d[l].indexOf("="),y=null;if(0<=p){var E=d[l].substring(0,p);y=d[l].substring(p+1)}else E=d[l];s(E,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}(d.i,function(s,l){d.add(decodeURIComponent(s.replace(/\+/g," ")),l)}))}function fe(d,s){Mr(d),s=qe(d,s),$o(d.g.h,s)&&(d.i=null,d.h-=d.g.get(s).length,$o((d=d.g).h,s)&&(delete d.h[s],d.i--,d.g.length>2*d.i&&as(d)))}function Ge(d,s){return Mr(d),s=qe(d,s),$o(d.g.h,s)}function pe(d,s,l){fe(d,s),0<l.length&&(d.i=null,d.g.set(qe(d,s),At(l)),d.h+=l.length)}function qe(d,s){return s=String(s),d.j&&(s=s.toLowerCase()),s}function Vn(d){this.l=d||ui,d=ae.PerformanceNavigationTiming?0<(d=ae.performance.getEntriesByType("navigation")).length&&("hq"==d[0].nextHopProtocol||"h2"==d[0].nextHopProtocol):!!(ae.g&&ae.g.Ea&&ae.g.Ea()&&ae.g.Ea().Zb),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ce=ls.prototype).add=function(d,s){Mr(this),this.i=null,d=qe(this,d);var l=this.g.get(d);return l||this.g.set(d,l=[]),l.push(s),this.h+=1,this},Ce.forEach=function(d,s){Mr(this),this.g.forEach(function(l,p){et(l,function(y){d.call(s,y,p,this)},this)},this)},Ce.T=function(){Mr(this);for(var d=this.g.R(),s=this.g.T(),l=[],p=0;p<s.length;p++)for(var y=d[p],E=0;E<y.length;E++)l.push(s[p]);return l},Ce.R=function(d){Mr(this);var s=[];if("string"==typeof d)Ge(this,d)&&(s=Be(s,this.g.get(qe(this,d))));else{d=this.g.R();for(var l=0;l<d.length;l++)s=Be(s,d[l])}return s},Ce.set=function(d,s){return Mr(this),this.i=null,Ge(this,d=qe(this,d))&&(this.h-=this.g.get(d).length),this.g.set(d,[s]),this.h+=1,this},Ce.get=function(d,s){return d&&0<(d=this.R(d)).length?String(d[0]):s},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var d=[],s=this.g.T(),l=0;l<s.length;l++){var p=s[l],y=encodeURIComponent(String(p));p=this.R(p);for(var E=0;E<p.length;E++){var L=y;""!==p[E]&&(L+="="+encodeURIComponent(String(p[E]))),d.push(L)}}return this.i=d.join("&")};var ui=10;function Kr(d){return!!d.h||!!d.g&&d.g.size>=d.j}function Pr(d){return d.h?1:d.g?d.g.size:0}function Mi(d,s){return d.h?d.h==s:!!d.g&&d.g.has(s)}function br(d,s){d.g?d.g.add(s):d.h=s}function Jr(d,s){d.h&&d.h==s?d.h=null:d.g&&d.g.has(s)&&d.g.delete(s)}function Fr(d){if(null!=d.h)return d.i.concat(d.h.D);if(null!=d.g&&0!==d.g.size){let s=d.i;for(const l of d.g.values())s=s.concat(l.D);return s}return At(d.i)}function Lr(){}function _e(){this.g=new Lr}function ue(d,s,l){const p=l||"";try{Ao(d,function(y,E){let L=y;Oe(y)&&(L=An(y)),s.push(p+E+"="+encodeURIComponent(L))})}catch(y){throw s.push(p+"type="+encodeURIComponent("_badmap")),y}}function $e(d,s,l,p,y){try{s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null,y(p)}catch(E){}}function Mn(d){this.l=d.$b||null,this.j=d.ib||!1}function Ai(d,s){We.call(this),this.D=d,this.u=s,this.m=void 0,this.readyState=Br,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vn.prototype.cancel=function(){if(this.i=Fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const d of this.g.values())d.cancel();this.g.clear()}},Lr.prototype.stringify=function(d){return ae.JSON.stringify(d,void 0)},Lr.prototype.parse=function(d){return ae.JSON.parse(d,void 0)},at(Mn,nr),Mn.prototype.g=function(){return new Ai(this.l,this.j)},Mn.prototype.i=function(d){return function(){return d}}({}),at(Ai,We);var Br=0;function co(d){d.j.read().then(d.Sa.bind(d)).catch(d.ha.bind(d))}function Os(d){d.readyState=4,d.l=null,d.j=null,d.A=null,ho(d)}function ho(d){d.onreadystatechange&&d.onreadystatechange.call(d)}(Ce=Ai.prototype).open=function(d,s){if(this.readyState!=Br)throw this.abort(),Error("Error reopening a connection");this.C=d,this.B=s,this.readyState=1,ho(this)},Ce.send=function(d){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const s={headers:this.v,method:this.C,credentials:this.m,cache:void 0};d&&(s.body=d),(this.D||ae).fetch(new Request(this.B,s)).then(this.Va.bind(this),this.ha.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Os(this)),this.readyState=Br},Ce.Va=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if("arraybuffer"===this.responseType)d.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ae.ReadableStream&&"body"in d){if(this.j=d.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;co(this)}else d.text().then(this.Ua.bind(this),this.ha.bind(this))},Ce.Sa=function(d){if(this.g){if(this.u&&d.value)this.response.push(d.value);else if(!this.u){var s=d.value?d.value:new Uint8Array(0);(s=this.A.decode(s,{stream:!d.done}))&&(this.response=this.responseText+=s)}d.done?Os(this):ho(this),3==this.readyState&&co(this)}},Ce.Ua=function(d){this.g&&(this.response=this.responseText=d,Os(this))},Ce.Ta=function(d){this.g&&(this.response=d,Os(this))},Ce.ha=function(){this.g&&Os(this)},Ce.setRequestHeader=function(d,s){this.v.append(d,s)},Ce.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],s=this.h.entries();for(var l=s.next();!l.done;)d.push((l=l.value)[0]+": "+l[1]),l=s.next();return d.join("\r\n")},Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(d){this.m=d?"include":"same-origin"}});var Yn=ae.JSON.parse;function Ri(d){We.call(this),this.headers=new js,this.u=d||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ha,this.K=this.L=!1}at(Ri,We);var Ha="",Oo=/^https?$/i,xa=["POST","PUT"];function Wo(d){return"content-type"==d.toLowerCase()}function Pa(d,s){d.h=!1,d.g&&(d.l=!0,d.g.abort(),d.l=!1),d.j=s,d.m=5,Ks(d),Ms(d)}function Ks(d){d.D||(d.D=!0,zt(d,"complete"),zt(d,"error"))}function ra(d){if(d.h&&void 0!==Ee&&(!d.C[1]||4!=Yo(d)||2!=d.ba()))if(d.v&&4==Yo(d))yi(d.Fa,0,d);else if(zt(d,"readystatechange"),4==Yo(d)){d.h=!1;try{const J=d.ba();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break e;default:s=!1}var l;if(!(l=s)){var p;if(p=0===J){var y=String(d.H).match(xo)[1]||null;if(!y&&ae.self&&ae.self.location){var E=ae.self.location.protocol;y=E.substr(0,E.length-1)}p=!Oo.test(y?y.toLowerCase():"")}l=p}if(l)zt(d,"complete"),zt(d,"success");else{d.m=6;try{var L=2<Yo(d)?d.g.statusText:""}catch(Te){L=""}d.j=L+" ["+d.ba()+"]",Ks(d)}}finally{Ms(d)}}}function Ms(d,s){if(d.g){ma(d);const l=d.g,p=d.C[0]?Me:null;d.g=null,d.C=null,s||zt(d,"ready");try{l.onreadystatechange=p}catch(y){}}}function ma(d){d.g&&d.K&&(d.g.ontimeout=null),d.A&&(ae.clearTimeout(d.A),d.A=null)}function Yo(d){return d.g?d.g.readyState:0}function ao(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.J){case Ha:case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch(s){return null}}function va(d,s,l){e:{for(p in l){var p=!1;break e}p=!0}p||(l=function So(d){let s="";return ut(d,function(l,p){s+=p,s+=":",s+=l,s+="\r\n"}),s}(l),"string"==typeof d?null!=l&&encodeURIComponent(String(l)):Rr(d,s,l))}function Ie(d,s,l){return l&&l.internalChannelParams&&l.internalChannelParams[d]||s}function N(d){this.za=0,this.l=[],this.h=new j,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ie("failFast",!1,d),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ie("baseRetryDelayMs",5e3,d),this.$a=Ie("retryDelaySeedMs",1e4,d),this.Ya=Ie("forwardChannelMaxRetries",2,d),this.ra=Ie("forwardChannelRequestTimeoutMs",2e4,d),this.qa=d&&d.xmlHttpFactory||void 0,this.Ba=d&&d.Yb||!1,this.K=void 0,this.H=d&&d.supportsCrossDomainXhr||!1,this.J="",this.i=new Vn(d&&d.concurrentRequestLimit),this.Ca=new _e,this.ja=d&&d.fastHandshake||!1,this.Ra=d&&d.Wb||!1,d&&d.Aa&&this.h.Aa(),d&&d.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&d&&d.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!d||!1!==d.Xb}function G(d){if(Fe(d),3==d.G){var s=d.V++,l=Io(d.F);Rr(l,"SID",d.J),Rr(l,"RID",s),Rr(l,"TYPE","terminate"),Fn(d,l),(s=new Cs(d,d.h,s,void 0)).K=2,s.v=bs(Io(l)),l=!1,ae.navigator&&ae.navigator.sendBeacon&&(l=ae.navigator.sendBeacon(s.v.toString(),"")),!l&&ae.Image&&((new Image).src=s.v,l=!0),l||(s.g=Ds(s.l,null),s.g.ea(s.v)),s.F=Date.now(),wr(s)}Go(d)}function le(d){d.g&&(_r(d),d.g.cancel(),d.g=null)}function Fe(d){le(d),d.u&&(ae.clearTimeout(d.u),d.u=null),ir(d),d.i.cancel(),d.m&&("number"==typeof d.m&&ae.clearTimeout(d.m),d.m=null)}function lt(d,s){d.l.push(new class{constructor(d,s){this.h=d,this.g=s}}(d.Za++,s)),3==d.G&&kt(d)}function kt(d){Kr(d.i)||d.m||(d.m=!0,Kn(d.Ha,d),d.C=0)}function pn(d,s){var l;l=s?s.m:d.V++;const p=Io(d.F);Rr(p,"SID",d.J),Rr(p,"RID",l),Rr(p,"AID",d.U),Fn(d,p),d.o&&d.s&&va(p,d.o,d.s),l=new Cs(d,d.h,l,d.C+1),null===d.o&&(l.H=d.s),s&&(d.l=s.D.concat(d.l)),s=Ti(d,l,1e3),l.setTimeout(Math.round(.5*d.ra)+Math.round(.5*d.ra*Math.random())),br(d.i,l),Xt(l,p,s)}function Fn(d,s){d.j&&Ao({},function(l,p){Rr(s,p,l)})}function Ti(d,s,l){l=Math.min(d.l.length,l);var p=d.j?Xe(d.j.Oa,d.j,d):null;e:{var y=d.l;let E=-1;for(;;){const L=["count="+l];-1==E?0<l?(E=y[0].h,L.push("ofs="+E)):E=0:L.push("ofs="+E);let J=!0;for(let Te=0;Te<l;Te++){let He=y[Te].h;const It=y[Te].g;if(He-=E,0>He)E=Math.max(0,y[Te].h-100),J=!1;else try{ue(It,L,"req"+He+"_")}catch(Yt){p&&p(It)}}if(J){p=L.join("&");break e}}}return d=d.l.splice(0,l),s.D=d,p}function Bi(d){d.g||d.u||(d.Y=1,Kn(d.Ga,d),d.A=0)}function Ki(d){return!(d.g||d.u||3<=d.A||(d.Y++,d.u=pi(Xe(d.Ga,d),yr(d,d.A)),d.A++,0))}function _r(d){null!=d.B&&(ae.clearTimeout(d.B),d.B=null)}function Ni(d){d.g=new Cs(d,d.h,"rpc",d.Y),null===d.o&&(d.g.H=d.s),d.g.O=0;var s=Io(d.oa);Rr(s,"RID","rpc"),Rr(s,"SID",d.J),Rr(s,"CI",d.N?"0":"1"),Rr(s,"AID",d.U),Fn(d,s),Rr(s,"TYPE","xmlhttp"),d.o&&d.s&&va(s,d.o,d.s),d.K&&d.g.setTimeout(d.K);var l=d.g;d=d.la,l.K=1,l.v=bs(Io(s)),l.s=null,l.U=!0,yn(l,d)}function ir(d){null!=d.v&&(ae.clearTimeout(d.v),d.v=null)}function Gr(d,s){var l=null;if(d.g==s){ir(d),_r(d),d.g=null;var p=2}else{if(!Mi(d.i,s))return;l=s.D,Jr(d.i,s),p=1}if(d.I=s.N,0!=d.G)if(s.i)if(1==p){l=s.s?s.s.length:0,s=Date.now()-s.F;var y=d.C;zt(p=St(),new ni(p,l,s,y)),kt(d)}else Bi(d);else if(3==(y=s.o)||0==y&&0<d.I||!(1==p&&function jt(d,s){return!(Pr(d.i)>=d.i.j-(d.m?1:0)||(d.m?(d.l=s.D.concat(d.l),0):1==d.G||2==d.G||d.C>=(d.Xa?0:d.Ya)||(d.m=pi(Xe(d.Ha,d,s),yr(d,d.C)),d.C++,0)))}(d,s)||2==p&&Ki(d)))switch(l&&0<l.length&&(s=d.i,s.i=s.i.concat(l)),y){case 1:Ur(d,5);break;case 4:Ur(d,10);break;case 3:Ur(d,6);break;default:Ur(d,2)}}function yr(d,s){let l=d.Pa+Math.floor(Math.random()*d.$a);return d.j||(l*=2),l*s}function Ur(d,s){if(d.h.info("Error code "+s),2==s){var l=null;d.j&&(l=null);var p=Xe(d.jb,d);l||(l=new Do("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||ws(l,"https"),bs(l)),function Q(d,s){const l=new j;if(ae.Image){const p=new Image;p.onload=Nt($e,l,p,"TestLoadImage: loaded",!0,s),p.onerror=Nt($e,l,p,"TestLoadImage: error",!1,s),p.onabort=Nt($e,l,p,"TestLoadImage: abort",!1,s),p.ontimeout=Nt($e,l,p,"TestLoadImage: timeout",!1,s),ae.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=d}else s(!1)}(l.toString(),p)}else Zn(2);d.G=0,d.j&&d.j.va(s),Go(d),Fe(d)}function Go(d){d.G=0,d.I=-1,d.j&&((0!=Fr(d.i).length||0!=d.l.length)&&(d.i.i.length=0,At(d.l),d.l.length=0),d.j.ua())}function cr(d,s,l){let p=function Bs(d){return d instanceof Do?Io(d):new Do(d,void 0)}(l);if(""!=p.i)s&&Ea(p,s+"."+p.i),Po(p,p.m);else{const y=ae.location;p=function mo(d,s,l,p){var y=new Do(null,void 0);return d&&ws(y,d),s&&Ea(y,s),l&&Po(y,l),p&&(y.l=p),y}(y.protocol,s?s+"."+y.hostname:y.hostname,+y.port,l)}return d.aa&&ut(d.aa,function(y,E){Rr(p,E,y)}),l=d.sa,(s=d.D)&&l&&Rr(p,s,l),Rr(p,"VER",d.ma),Fn(d,p),p}function Ds(d,s,l){if(s&&!d.H)throw Error("Can't create secondary domain capable XhrIo object.");return(s=new Ri(l&&d.Ba&&!d.qa?new Mn({ib:!0}):d.qa)).L=d.H,s}function eo(){}function Vo(){if(mt&&!(10<=Number(te)))throw Error("Environmental error: no available transport.")}function Yr(d,s){We.call(this),this.g=new N(s),this.l=d,this.h=s&&s.messageUrlParams||null,d=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.s=d,d=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(d?d["X-WebChannel-Content-Type"]=s.messageContentType:d={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.ya&&(d?d["X-WebChannel-Client-Profile"]=s.ya:d={"X-WebChannel-Client-Profile":s.ya}),this.g.P=d,(d=s&&s.httpHeadersOverwriteParam)&&!Ut(d)&&(this.g.o=d),this.A=s&&s.supportsCrossDomainXhr||!1,this.v=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!Ut(s)&&(this.g.D=s,null!==(d=this.h)&&s in d&&s in(d=this.h)&&delete d[s]),this.j=new oa(this)}function hs(d){Xo.call(this);var s=d.__sm__;if(s){e:{for(const l in s){d=l;break e}d=void 0}(this.i=d)&&(d=this.i,s=null!==s&&d in s?s[d]:void 0),this.data=s}else this.data=d}function ps(){vr.call(this),this.status=1}function oa(d){this.g=d}(Ce=Ri.prototype).ea=function(d,s,l,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+d);s=s?s.toUpperCase():"GET",this.H=d,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Is.g(),this.C=function hr(d){return d.h||(d.h=d.i())}(this.u?this.u:Is),this.g.onreadystatechange=Xe(this.Fa,this);try{this.F=!0,this.g.open(s,String(d),!0),this.F=!1}catch(E){return void Pa(this,E)}d=l||"";const y=new js(this.headers);p&&Ao(p,function(E,L){y.set(L,E)}),p=function en(d){e:{var s=Wo;const l=d.length,p="string"==typeof d?d.split(""):d;for(let y=0;y<l;y++)if(y in p&&s.call(void 0,p[y],y,d)){s=y;break e}s=-1}return 0>s?null:"string"==typeof d?d.charAt(s):d[s]}(y.T()),l=ae.FormData&&d instanceof ae.FormData,!(0<=A(xa,s))||p||l||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(E,L){this.g.setRequestHeader(L,E)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ma(this),0<this.B&&((this.K=function $s(d){return mt&&function Rn(){return function Lt(d){var s=ft;return Object.prototype.hasOwnProperty.call(s,9)?s[9]:s[9]=d(9)}(function(){let d=0;const s=nn(String(bt)).split("."),l=nn("9").split("."),p=Math.max(s.length,l.length);for(let L=0;0==d&&L<p;L++){var y=s[L]||"",E=l[L]||"";do{if(y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],0==y[0].length&&0==E[0].length)break;d=an(0==y[1].length?0:parseInt(y[1],10),0==E[1].length?0:parseInt(E[1],10))||an(0==y[2].length,0==E[2].length)||an(y[2],E[2]),y=y[3],E=E[3]}while(0==d)}return 0<=d})}()&&"number"==typeof d.timeout&&void 0!==d.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xe(this.pa,this)):this.A=yi(this.pa,this.B,this)),this.v=!0,this.g.send(d),this.v=!1}catch(E){Pa(this,E)}},Ce.pa=function(){void 0!==Ee&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))},Ce.abort=function(d){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=d||7,zt(this,"complete"),zt(this,"abort"),Ms(this))},Ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ms(this,!0)),Ri.Z.M.call(this)},Ce.Fa=function(){this.s||(this.F||this.v||this.l?ra(this):this.cb())},Ce.cb=function(){ra(this)},Ce.ba=function(){try{return 2<Yo(this)?this.g.status:-1}catch(d){return-1}},Ce.ga=function(){try{return this.g?this.g.responseText:""}catch(d){return""}},Ce.Qa=function(d){if(this.g){var s=this.g.responseText;return d&&0==s.indexOf(d)&&(s=s.substring(d.length)),Yn(s)}},Ce.Da=function(){return this.m},Ce.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=N.prototype).ma=8,Ce.G=1,Ce.hb=function(d){try{this.h.info("Origin Trials invoked: "+d)}catch(s){}},Ce.Ha=function(d){if(this.m)if(this.m=null,1==this.G){if(!d){this.V=Math.floor(1e5*Math.random()),d=this.V++;const y=new Cs(this,this.h,d,void 0);let E=this.s;if(this.P&&(E?(E=Zt(E),Kt(E,this.P)):E=this.P),null===this.o&&(y.H=E),this.ja)e:{for(var s=0,l=0;l<this.l.length;l++){var p=this.l[l];if(void 0===(p="__data__"in p.g&&"string"==typeof(p=p.g.__data__)?p.length:void 0))break;if(4096<(s+=p)){s=l;break e}if(4096===s||l===this.l.length-1){s=l+1;break e}}s=1e3}else s=1e3;s=Ti(this,y,s),Rr(l=Io(this.F),"RID",d),Rr(l,"CVER",22),this.D&&Rr(l,"X-HTTP-Session-Id",this.D),Fn(this,l),this.o&&E&&va(l,this.o,E),br(this.i,y),this.Ra&&Rr(l,"TYPE","init"),this.ja?(Rr(l,"$req",s),Rr(l,"SID","null"),y.$=!0,Xt(y,l,null)):Xt(y,l,s),this.G=2}}else 3==this.G&&(d?pn(this,d):0==this.l.length||Kr(this.i)||pn(this))},Ce.Ga=function(){if(this.u=null,Ni(this),this.$&&!(this.L||null==this.g||0>=this.O)){var d=2*this.O;this.h.info("BP detection timer enabled: "+d),this.B=pi(Xe(this.bb,this),d)}},Ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Zn(10),le(this),Ni(this))},Ce.ab=function(){null!=this.v&&(this.v=null,le(this),Ki(this),Zn(19))},Ce.jb=function(d){d?(this.h.info("Successfully pinged google.com"),Zn(2)):(this.h.info("Failed to ping google.com"),Zn(1))},(Ce=eo.prototype).xa=function(){},Ce.wa=function(){},Ce.va=function(){},Ce.ua=function(){},Ce.Oa=function(){},Vo.prototype.g=function(d,s){return new Yr(d,s)},at(Yr,We),Yr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var d=this.g,s=this.l,l=this.h||void 0;d.Wa&&(d.h.info("Origin Trials enabled."),Kn(Xe(d.hb,d,s))),Zn(0),d.W=s,d.aa=l||{},d.N=d.X,d.F=cr(d,null,d.W),kt(d)},Yr.prototype.close=function(){G(this.g)},Yr.prototype.u=function(d){if("string"==typeof d){var s={};s.__data__=d,lt(this.g,s)}else this.v?((s={}).__data__=An(d),lt(this.g,s)):lt(this.g,d)},Yr.prototype.M=function(){this.g.j=null,delete this.j,G(this.g),delete this.g,Yr.Z.M.call(this)},at(hs,Xo),at(ps,vr),at(oa,eo),oa.prototype.xa=function(){zt(this.g,"a")},oa.prototype.wa=function(d){zt(this.g,new hs(d))},oa.prototype.va=function(d){zt(this.g,new ps(d))},oa.prototype.ua=function(){zt(this.g,"b")},Vo.prototype.createWebChannel=Vo.prototype.g,Yr.prototype.send=Yr.prototype.u,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,Hr.COMPLETE="complete",_o.EventType=Eo,Eo.OPEN="a",Eo.CLOSE="b",Eo.ERROR="c",Eo.MESSAGE="d",We.prototype.listen=We.prototype.N,Ri.prototype.listenOnce=Ri.prototype.O,Ri.prototype.getLastError=Ri.prototype.La,Ri.prototype.getLastErrorCode=Ri.prototype.Da,Ri.prototype.getStatus=Ri.prototype.ba,Ri.prototype.getResponseJson=Ri.prototype.Qa,Ri.prototype.getResponseText=Ri.prototype.ga,Ri.prototype.send=Ri.prototype.ea;var Gs=P.createWebChannelTransport=function(){return new Vo},Co=P.getStatEventTarget=function(){return St()},xs=P.ErrorCode=Dr,Fo=P.EventType=Hr,fi=P.Event=nt,Vi=P.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qi=P.FetchXmlHttpFactory=Mn,pr=P.WebChannel=_o,po=P.XhrIo=Ri;const ts="@firebase/firestore";class Er{constructor(s){this.uid=s}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(s){return s.uid===this.uid}}Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");let wo="9.6.11";const Wr=new q.Yd("@firebase/firestore");function Ua(){return Wr.logLevel}function wl(d){Wr.setLogLevel(d)}function Jn(d,...s){if(Wr.logLevel<=q.in.DEBUG){const l=s.map(Ho);Wr.debug(`Firestore (${wo}): ${d}`,...l)}}function Tr(d,...s){if(Wr.logLevel<=q.in.ERROR){const l=s.map(Ho);Wr.error(`Firestore (${wo}): ${d}`,...l)}}function fs(d,...s){if(Wr.logLevel<=q.in.WARN){const l=s.map(Ho);Wr.warn(`Firestore (${wo}): ${d}`,...l)}}function Ho(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch(l){return d}}function xi(d="Unexpected state"){const s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+d;throw Tr(s),new Error(s)}function Xi(d,s){d||xi()}function Wa(d,s){d||xi()}function bi(d,s){return d}const vn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ti extends g.ZR{constructor(s,l){super(s,l),this.code=s,this.message=l,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fo{constructor(){this.promise=new Promise((s,l)=>{this.resolve=s,this.reject=l})}}class Ja{constructor(s,l){this.user=l,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${s}`)}}class Da{getToken(){return Promise.resolve(null)}invalidateToken(){}start(s,l){s.enqueueRetryable(()=>l(Er.UNAUTHENTICATED))}shutdown(){}}class Z{constructor(s){this.token=s,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(s,l){this.changeListener=l,s.enqueueRetryable(()=>l(this.token.user))}shutdown(){this.changeListener=null}}class W{constructor(s){this.t=s,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(s,l){var p=this;let y=this.i;const E=He=>this.i!==y?(y=this.i,l(He)):Promise.resolve();let L=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),L.resolve(),L=new fo,s.enqueueRetryable(()=>E(this.currentUser))};const J=()=>{const He=L;s.enqueueRetryable((0,v.Z)(function*(){yield He.promise,yield E(p.currentUser)}))},Te=He=>{Jn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=He,this.auth.addAuthTokenListener(this.o),J()};this.t.onInit(He=>Te(He)),setTimeout(()=>{if(!this.auth){const He=this.t.getImmediate({optional:!0});He?Te(He):(Jn("FirebaseAuthCredentialsProvider","Auth not yet detected"),L.resolve(),L=new fo)}},0),J()}getToken(){const s=this.i,l=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(l).then(p=>this.i!==s?(Jn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):p?(Xi("string"==typeof p.accessToken),new Ja(p.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const s=this.auth&&this.auth.getUid();return Xi(null===s||"string"==typeof s),new Er(s)}}class H{constructor(s,l,p){this.type="FirstParty",this.user=Er.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",l);const y=s.auth.getAuthHeaderValueForFirstParty([]);y&&this.headers.set("Authorization",y),p&&this.headers.set("X-Goog-Iam-Authorization-Token",p)}}class ge{constructor(s,l,p){this.h=s,this.l=l,this.m=p}getToken(){return Promise.resolve(new H(this.h,this.l,this.m))}start(s,l){s.enqueueRetryable(()=>l(Er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class be{constructor(s){this.value=s,this.type="AppCheck",this.headers=new Map,s&&s.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ye{constructor(s){this.g=s,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(s,l){const p=E=>{null!=E.error&&Jn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${E.error.message}`);const L=E.token!==this.p;return this.p=E.token,Jn("FirebaseAppCheckTokenProvider",`Received ${L?"new":"existing"} token.`),L?l(E.token):Promise.resolve()};this.o=E=>{s.enqueueRetryable(()=>p(E))};const y=E=>{Jn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=E,this.appCheck.addTokenListener(this.o)};this.g.onInit(E=>y(E)),setTimeout(()=>{if(!this.appCheck){const E=this.g.getImmediate({optional:!0});E?y(E):Jn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const s=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(s).then(l=>l?(Xi("string"==typeof l.token),this.p=l.token,new be(l.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Wt{constructor(s,l){this.previousValue=s,l&&(l.sequenceNumberHandler=p=>this.I(p),this.T=p=>l.writeSequenceNumber(p))}I(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue}next(){const s=++this.previousValue;return this.T&&this.T(s),s}}function Pn(d){const s="undefined"!=typeof self&&(self.crypto||self.msCrypto),l=new Uint8Array(d);if(s&&"function"==typeof s.getRandomValues)s.getRandomValues(l);else for(let p=0;p<d;p++)l[p]=Math.floor(256*Math.random());return l}Wt.A=-1;class Ii{static R(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=Math.floor(256/s.length)*s.length;let p="";for(;p.length<20;){const y=Pn(40);for(let E=0;E<y.length;++E)p.length<20&&y[E]<l&&(p+=s.charAt(y[E]%s.length))}return p}}function di(d,s){return d<s?-1:d>s?1:0}function mi(d,s,l){return d.length===s.length&&d.every((p,y)=>l(p,s[y]))}function Zr(d){return d+"\0"}class Ji{constructor(s,l){if(this.seconds=s,this.nanoseconds=l,l<0)throw new ti(vn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(l>=1e9)throw new ti(vn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(s<-62135596800)throw new ti(vn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s);if(s>=253402300800)throw new ti(vn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s)}static now(){return Ji.fromMillis(Date.now())}static fromDate(s){return Ji.fromMillis(s.getTime())}static fromMillis(s){const l=Math.floor(s/1e3),p=Math.floor(1e6*(s-1e3*l));return new Ji(l,p)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(s){return this.seconds===s.seconds?di(this.nanoseconds,s.nanoseconds):di(this.seconds,s.seconds)}isEqual(s){return s.seconds===this.seconds&&s.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gi{constructor(s){this.timestamp=s}static fromTimestamp(s){return new Gi(s)}static min(){return new Gi(new Ji(0,0))}static max(){return new Gi(new Ji(253402300799,999999999))}compareTo(s){return this.timestamp._compareTo(s.timestamp)}isEqual(s){return this.timestamp.isEqual(s.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ya(d){let s=0;for(const l in d)Object.prototype.hasOwnProperty.call(d,l)&&s++;return s}function _a(d,s){for(const l in d)Object.prototype.hasOwnProperty.call(d,l)&&s(l,d[l])}function hl(d){for(const s in d)if(Object.prototype.hasOwnProperty.call(d,s))return!1;return!0}class us{constructor(s,l,p){void 0===l?l=0:l>s.length&&xi(),void 0===p?p=s.length-l:p>s.length-l&&xi(),this.segments=s,this.offset=l,this.len=p}get length(){return this.len}isEqual(s){return 0===us.comparator(this,s)}child(s){const l=this.segments.slice(this.offset,this.limit());return s instanceof us?s.forEach(p=>{l.push(p)}):l.push(s),this.construct(l)}limit(){return this.offset+this.length}popFirst(s){return this.construct(this.segments,this.offset+(s=void 0===s?1:s),this.length-s)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(s){return this.segments[this.offset+s]}isEmpty(){return 0===this.length}isPrefixOf(s){if(s.length<this.length)return!1;for(let l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0}isImmediateParentOf(s){if(this.length+1!==s.length)return!1;for(let l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0}forEach(s){for(let l=this.offset,p=this.limit();l<p;l++)s(this.segments[l])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(s,l){const p=Math.min(s.length,l.length);for(let y=0;y<p;y++){const E=s.get(y),L=l.get(y);if(E<L)return-1;if(E>L)return 1}return s.length<l.length?-1:s.length>l.length?1:0}}class jr extends us{construct(s,l,p){return new jr(s,l,p)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...s){const l=[];for(const p of s){if(p.indexOf("//")>=0)throw new ti(vn.INVALID_ARGUMENT,`Invalid segment (${p}). Paths must not contain // in them.`);l.push(...p.split("/").filter(y=>y.length>0))}return new jr(l)}static emptyPath(){return new jr([])}}const kl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gs extends us{construct(s,l,p){return new gs(s,l,p)}static isValidIdentifier(s){return kl.test(s)}canonicalString(){return this.toArray().map(s=>(s=s.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gs.isValidIdentifier(s)||(s="`"+s+"`"),s)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gs(["__name__"])}static fromServerFormat(s){const l=[];let p="",y=0;const E=()=>{if(0===p.length)throw new ti(vn.INVALID_ARGUMENT,`Invalid field path (${s}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);l.push(p),p=""};let L=!1;for(;y<s.length;){const J=s[y];if("\\"===J){if(y+1===s.length)throw new ti(vn.INVALID_ARGUMENT,"Path has trailing escape character: "+s);const Te=s[y+1];if("\\"!==Te&&"."!==Te&&"`"!==Te)throw new ti(vn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+s);p+=Te,y+=2}else"`"===J?(L=!L,y++):"."!==J||L?(p+=J,y++):(E(),y++)}if(E(),L)throw new ti(vn.INVALID_ARGUMENT,"Unterminated ` in path: "+s);return new gs(l)}static emptyPath(){return new gs([])}}class Ys{constructor(s){this.fields=s,s.sort(gs.comparator)}covers(s){for(const l of this.fields)if(l.isPrefixOf(s))return!0;return!1}isEqual(s){return mi(this.fields,s.fields,(l,p)=>l.isEqual(p))}}function od(){return"undefined"!=typeof atob}class jo{constructor(s){this.binaryString=s}static fromBase64String(s){const l=atob(s);return new jo(l)}static fromUint8Array(s){const l=function(p){let y="";for(let E=0;E<p.length;++E)y+=String.fromCharCode(p[E]);return y}(s);return new jo(l)}[Symbol.iterator](){let s=0;return{next:()=>s<this.binaryString.length?{value:this.binaryString.charCodeAt(s++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(s){const l=new Uint8Array(s.length);for(let p=0;p<s.length;p++)l[p]=s.charCodeAt(p);return l}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(s){return di(this.binaryString,s.binaryString)}isEqual(s){return this.binaryString===s.binaryString}}jo.EMPTY_BYTE_STRING=new jo("");const Bl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(d){if(Xi(!!d),"string"==typeof d){let s=0;const l=Bl.exec(d);if(Xi(!!l),l[1]){let y=l[1];y=(y+"000000000").substr(0,9),s=Number(y)}const p=new Date(d);return{seconds:Math.floor(p.getTime()/1e3),nanos:s}}return{seconds:Cr(d.seconds),nanos:Cr(d.nanos)}}function Cr(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function ms(d){return"string"==typeof d?jo.fromBase64String(d):jo.fromUint8Array(d)}function rr(d){var s,l;return"server_timestamp"===(null===(l=((null===(s=null==d?void 0:d.mapValue)||void 0===s?void 0:s.fields)||{}).__type__)||void 0===l?void 0:l.stringValue)}function ja(d){const s=d.mapValue.fields.__previous_value__;return rr(s)?ja(s):s}function Zo(d){const s=Zs(d.mapValue.fields.__local_write_time__.timestampValue);return new Ji(s.seconds,s.nanos)}class bl{constructor(s,l,p,y,E,L,J,Te){this.databaseId=s,this.appId=l,this.persistenceKey=p,this.host=y,this.ssl=E,this.forceLongPolling=L,this.autoDetectLongPolling=J,this.useFetchStreams=Te}}class pl{constructor(s,l){this.projectId=s,this.database=l||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(s){return s instanceof pl&&s.projectId===this.projectId&&s.database===this.database}}function bo(d){return null==d}function fl(d){return 0===d&&1/d==-1/0}function Sa(d){return"number"==typeof d&&Number.isInteger(d)&&!fl(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}class Ci{constructor(s){this.path=s}static fromPath(s){return new Ci(jr.fromString(s))}static fromName(s){return new Ci(jr.fromString(s).popFirst(5))}static empty(){return new Ci(jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(s){return this.path.length>=2&&this.path.get(this.path.length-2)===s}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(s){return null!==s&&0===jr.comparator(this.path,s.path)}toString(){return this.path.toString()}static comparator(s,l){return jr.comparator(s.path,l.path)}static isDocumentKey(s){return s.length%2==0}static fromSegments(s){return new Ci(new jr(s.slice()))}}const xu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Pu={nullValue:"NULL_VALUE"};function Gl(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?rr(d)?4:Yi(d)?9:10:xi()}function Ra(d,s){if(d===s)return!0;const l=Gl(d);if(l!==Gl(s))return!1;switch(l){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===s.booleanValue;case 4:return Zo(d).isEqual(Zo(s));case 3:return function(p,y){if("string"==typeof p.timestampValue&&"string"==typeof y.timestampValue&&p.timestampValue.length===y.timestampValue.length)return p.timestampValue===y.timestampValue;const E=Zs(p.timestampValue),L=Zs(y.timestampValue);return E.seconds===L.seconds&&E.nanos===L.nanos}(d,s);case 5:return d.stringValue===s.stringValue;case 6:return y=s,ms(d.bytesValue).isEqual(ms(y.bytesValue));case 7:return d.referenceValue===s.referenceValue;case 8:return function(p,y){return Cr(p.geoPointValue.latitude)===Cr(y.geoPointValue.latitude)&&Cr(p.geoPointValue.longitude)===Cr(y.geoPointValue.longitude)}(d,s);case 2:return function(p,y){if("integerValue"in p&&"integerValue"in y)return Cr(p.integerValue)===Cr(y.integerValue);if("doubleValue"in p&&"doubleValue"in y){const E=Cr(p.doubleValue),L=Cr(y.doubleValue);return E===L?fl(E)===fl(L):isNaN(E)&&isNaN(L)}return!1}(d,s);case 9:return mi(d.arrayValue.values||[],s.arrayValue.values||[],Ra);case 10:return function(p,y){const E=p.mapValue.fields||{},L=y.mapValue.fields||{};if(ya(E)!==ya(L))return!1;for(const J in E)if(E.hasOwnProperty(J)&&(void 0===L[J]||!Ra(E[J],L[J])))return!1;return!0}(d,s);default:return xi()}var y}function or(d,s){return void 0!==(d.values||[]).find(l=>Ra(l,s))}function el(d,s){if(d===s)return 0;const l=Gl(d),p=Gl(s);if(l!==p)return di(l,p);switch(l){case 0:case 9007199254740991:return 0;case 1:return di(d.booleanValue,s.booleanValue);case 2:return function(y,E){const L=Cr(y.integerValue||y.doubleValue),J=Cr(E.integerValue||E.doubleValue);return L<J?-1:L>J?1:L===J?0:isNaN(L)?isNaN(J)?0:-1:1}(d,s);case 3:return Gn(d.timestampValue,s.timestampValue);case 4:return Gn(Zo(d),Zo(s));case 5:return di(d.stringValue,s.stringValue);case 6:return function(y,E){const L=ms(y),J=ms(E);return L.compareTo(J)}(d.bytesValue,s.bytesValue);case 7:return function(y,E){const L=y.split("/"),J=E.split("/");for(let Te=0;Te<L.length&&Te<J.length;Te++){const He=di(L[Te],J[Te]);if(0!==He)return He}return di(L.length,J.length)}(d.referenceValue,s.referenceValue);case 8:return function(y,E){const L=di(Cr(y.latitude),Cr(E.latitude));return 0!==L?L:di(Cr(y.longitude),Cr(E.longitude))}(d.geoPointValue,s.geoPointValue);case 9:return function(y,E){const L=y.values||[],J=E.values||[];for(let Te=0;Te<L.length&&Te<J.length;++Te){const He=el(L[Te],J[Te]);if(He)return He}return di(L.length,J.length)}(d.arrayValue,s.arrayValue);case 10:return function(y,E){const L=y.fields||{},J=Object.keys(L),Te=E.fields||{},He=Object.keys(Te);J.sort(),He.sort();for(let It=0;It<J.length&&It<He.length;++It){const Yt=di(J[It],He[It]);if(0!==Yt)return Yt;const Tn=el(L[J[It]],Te[He[It]]);if(0!==Tn)return Tn}return di(J.length,He.length)}(d.mapValue,s.mapValue);default:throw xi()}}function Gn(d,s){if("string"==typeof d&&"string"==typeof s&&d.length===s.length)return di(d,s);const l=Zs(d),p=Zs(s),y=di(l.seconds,p.seconds);return 0!==y?y:di(l.nanos,p.nanos)}function za(d){return Y(d)}function Y(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(p){const y=Zs(p);return`time(${y.seconds},${y.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?ms(d.bytesValue).toBase64():"referenceValue"in d?Ci.fromName(d.referenceValue).toString():"geoPointValue"in d?`geo(${(s=d.geoPointValue).latitude},${s.longitude})`:"arrayValue"in d?function(p){let y="[",E=!0;for(const L of p.values||[])E?E=!1:y+=",",y+=Y(L);return y+"]"}(d.arrayValue):"mapValue"in d?function(p){const y=Object.keys(p.fields||{}).sort();let E="{",L=!0;for(const J of y)L?L=!1:E+=",",E+=`${J}:${Y(p.fields[J])}`;return E+"}"}(d.mapValue):xi();var s}function ce(d,s){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${s.path.canonicalString()}`}}function T(d){return!!d&&"integerValue"in d}function X(d){return!!d&&"arrayValue"in d}function ze(d){return!!d&&"nullValue"in d}function Ht(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function jn(d){return!!d&&"mapValue"in d}function Pi(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const s={mapValue:{fields:{}}};return _a(d.mapValue.fields,(l,p)=>s.mapValue.fields[l]=Pi(p)),s}if(d.arrayValue){const s={arrayValue:{values:[]}};for(let l=0;l<(d.arrayValue.values||[]).length;++l)s.arrayValue.values[l]=Pi(d.arrayValue.values[l]);return s}return Object.assign({},d)}function Yi(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}function Nn(d){return"nullValue"in d?Pu:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?ce(pl.empty(),Ci.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?{mapValue:{}}:xi()}function oo(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?ce(pl.empty(),Ci.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?{mapValue:{}}:"mapValue"in d?xu:xi()}function qo(d,s){return void 0===d?s:void 0===s||el(d,s)>0?d:s}function Ro(d,s){return void 0===d?s:void 0===s||el(d,s)<0?d:s}class kr{constructor(s){this.value=s}static empty(){return new kr({mapValue:{}})}field(s){if(s.isEmpty())return this.value;{let l=this.value;for(let p=0;p<s.length-1;++p)if(l=(l.mapValue.fields||{})[s.get(p)],!jn(l))return null;return l=(l.mapValue.fields||{})[s.lastSegment()],l||null}}set(s,l){this.getFieldsMap(s.popLast())[s.lastSegment()]=Pi(l)}setAll(s){let l=gs.emptyPath(),p={},y=[];s.forEach((L,J)=>{if(!l.isImmediateParentOf(J)){const Te=this.getFieldsMap(l);this.applyChanges(Te,p,y),p={},y=[],l=J.popLast()}L?p[J.lastSegment()]=Pi(L):y.push(J.lastSegment())});const E=this.getFieldsMap(l);this.applyChanges(E,p,y)}delete(s){const l=this.field(s.popLast());jn(l)&&l.mapValue.fields&&delete l.mapValue.fields[s.lastSegment()]}isEqual(s){return Ra(this.value,s.value)}getFieldsMap(s){let l=this.value;l.mapValue.fields||(l.mapValue={fields:{}});for(let p=0;p<s.length;++p){let y=l.mapValue.fields[s.get(p)];jn(y)&&y.mapValue.fields||(y={mapValue:{fields:{}}},l.mapValue.fields[s.get(p)]=y),l=y}return l.mapValue.fields}applyChanges(s,l,p){_a(l,(y,E)=>s[y]=E);for(const y of p)delete s[y]}clone(){return new kr(Pi(this.value))}}function vs(d){const s=[];return _a(d.fields,(l,p)=>{const y=new gs([l]);if(jn(p)){const E=vs(p.mapValue).fields;if(0===E.length)s.push(y);else for(const L of E)s.push(y.child(L))}else s.push(y)}),new Ys(s)}class qr{constructor(s,l,p,y,E,L){this.key=s,this.documentType=l,this.version=p,this.readTime=y,this.data=E,this.documentState=L}static newInvalidDocument(s){return new qr(s,0,Gi.min(),Gi.min(),kr.empty(),0)}static newFoundDocument(s,l,p){return new qr(s,1,l,Gi.min(),p,0)}static newNoDocument(s,l){return new qr(s,2,l,Gi.min(),kr.empty(),0)}static newUnknownDocument(s,l){return new qr(s,3,l,Gi.min(),kr.empty(),2)}convertToFoundDocument(s,l){return this.version=s,this.documentType=1,this.data=l,this.documentState=0,this}convertToNoDocument(s){return this.version=s,this.documentType=2,this.data=kr.empty(),this.documentState=0,this}convertToUnknownDocument(s){return this.version=s,this.documentType=3,this.data=kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(s){return this.readTime=s,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(s){return s instanceof qr&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.documentType===s.documentType&&this.documentState===s.documentState&&this.data.isEqual(s.data)}mutableCopy(){return new qr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class No{constructor(s,l,p,y){this.indexId=s,this.collectionGroup=l,this.fields=p,this.indexState=y}}function Ta(d){return d.fields.find(s=>2===s.kind)}function El(d){return d.fields.filter(s=>2!==s.kind)}No.UNKNOWN_ID=-1;class Ca{constructor(s,l){this.fieldPath=s,this.kind=l}}class pc{constructor(s,l){this.sequenceNumber=s,this.offset=l}static empty(){return new pc(0,Na.min())}}function Fa(d,s){const l=d.toTimestamp().seconds,p=d.toTimestamp().nanoseconds+1,y=Gi.fromTimestamp(1e9===p?new Ji(l+1,0):new Ji(l,p));return new Na(y,Ci.empty(),s)}function fc(d){return new Na(d.readTime,d.key,-1)}class Na{constructor(s,l,p){this.readTime=s,this.documentKey=l,this.largestBatchId=p}static min(){return new Na(Gi.min(),Ci.empty(),-1)}static max(){return new Na(Gi.max(),Ci.empty(),-1)}}function du(d,s){let l=d.readTime.compareTo(s.readTime);return 0!==l?l:(l=Ci.comparator(d.documentKey,s.documentKey),0!==l?l:di(d.largestBatchId,s.largestBatchId))}class Bd{constructor(s,l=null,p=[],y=[],E=null,L=null,J=null){this.path=s,this.collectionGroup=l,this.orderBy=p,this.filters=y,this.limit=E,this.startAt=L,this.endAt=J,this.P=null}}function se(d,s=null,l=[],p=[],y=null,E=null,L=null){return new Bd(d,s,l,p,y,E,L)}function ye(d){const s=bi(d);if(null===s.P){let l=s.path.canonicalString();null!==s.collectionGroup&&(l+="|cg:"+s.collectionGroup),l+="|f:",l+=s.filters.map(p=>{return(y=p).field.canonicalString()+y.op.toString()+za(y.value);var y}).join(","),l+="|ob:",l+=s.orderBy.map(p=>{return(y=p).field.canonicalString()+y.dir;var y}).join(","),bo(s.limit)||(l+="|l:",l+=s.limit),s.startAt&&(l+="|lb:",l+=s.startAt.inclusive?"b:":"a:",l+=s.startAt.position.map(p=>za(p)).join(",")),s.endAt&&(l+="|ub:",l+=s.endAt.inclusive?"a:":"b:",l+=s.endAt.position.map(p=>za(p)).join(",")),s.P=l}return s.P}function Rt(d,s){if(d.limit!==s.limit||d.orderBy.length!==s.orderBy.length)return!1;for(let y=0;y<d.orderBy.length;y++)if(!hu(d.orderBy[y],s.orderBy[y]))return!1;if(d.filters.length!==s.filters.length)return!1;for(let y=0;y<d.filters.length;y++)if((l=d.filters[y]).op!==(p=s.filters[y]).op||!l.field.isEqual(p.field)||!Ra(l.value,p.value))return!1;var l,p;return d.collectionGroup===s.collectionGroup&&!!d.path.isEqual(s.path)&&!!pu(d.startAt,s.startAt)&&pu(d.endAt,s.endAt)}function fn(d){return Ci.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function In(d,s){return d.filters.filter(l=>l instanceof qi&&l.field.isEqual(s))}function li(d,s,l){let p,y=!0;for(const E of In(d,s)){let L,J=!0;switch(E.op){case"<":case"<=":L=Nn(E.value);break;case"==":case"in":case">=":L=E.value;break;case">":L=E.value,J=!1;break;case"!=":case"not-in":L=Pu}qo(p,L)===L&&(p=L,y=J)}if(null!==l)for(let E=0;E<d.orderBy.length;++E)if(d.orderBy[E].field.isEqual(s)){const L=l.position[E];qo(p,L)===L&&(p=L,y=l.inclusive);break}return{value:p,inclusive:y}}function Fi(d,s,l){let p,y=!0;for(const E of In(d,s)){let L,J=!0;switch(E.op){case">=":case">":L=oo(E.value),J=!1;break;case"==":case"in":case"<=":L=E.value;break;case"<":L=E.value,J=!1;break;case"!=":case"not-in":L=xu}Ro(p,L)===L&&(p=L,y=J)}if(null!==l)for(let E=0;E<d.orderBy.length;++E)if(d.orderBy[E].field.isEqual(s)){const L=l.position[E];Ro(p,L)===L&&(p=L,y=l.inclusive);break}return{value:p,inclusive:y}}class qi extends class{}{constructor(s,l,p){super(),this.field=s,this.op=l,this.value=p}static create(s,l,p){return s.isKeyField()?"in"===l||"not-in"===l?this.V(s,l,p):new dr(s,l,p):"array-contains"===l?new mr(s,p):"in"===l?new Fu(s,p):"not-in"===l?new Dl(s,p):"array-contains-any"===l?new $a(s,p):new qi(s,l,p)}static V(s,l,p){return"in"===l?new fr(s,p):new Wi(s,p)}matches(s){const l=s.data.field(this.field);return"!="===this.op?null!==l&&this.v(el(l,this.value)):null!==l&&Gl(this.value)===Gl(l)&&this.v(el(l,this.value))}v(s){switch(this.op){case"<":return s<0;case"<=":return s<=0;case"==":return 0===s;case"!=":return 0!==s;case">":return s>0;case">=":return s>=0;default:return xi()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dr extends qi{constructor(s,l,p){super(s,l,p),this.key=Ci.fromName(p.referenceValue)}matches(s){const l=Ci.comparator(s.key,this.key);return this.v(l)}}class fr extends qi{constructor(s,l){super(s,"in",l),this.keys=sa(0,l)}matches(s){return this.keys.some(l=>l.isEqual(s.key))}}class Wi extends qi{constructor(s,l){super(s,"not-in",l),this.keys=sa(0,l)}matches(s){return!this.keys.some(l=>l.isEqual(s.key))}}function sa(d,s){var l;return((null===(l=s.arrayValue)||void 0===l?void 0:l.values)||[]).map(p=>Ci.fromName(p.referenceValue))}class mr extends qi{constructor(s,l){super(s,"array-contains",l)}matches(s){const l=s.data.field(this.field);return X(l)&&or(l.arrayValue,this.value)}}class Fu extends qi{constructor(s,l){super(s,"in",l)}matches(s){const l=s.data.field(this.field);return null!==l&&or(this.value.arrayValue,l)}}class Dl extends qi{constructor(s,l){super(s,"not-in",l)}matches(s){if(or(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const l=s.data.field(this.field);return null!==l&&!or(this.value.arrayValue,l)}}class $a extends qi{constructor(s,l){super(s,"array-contains-any",l)}matches(s){const l=s.data.field(this.field);return!(!X(l)||!l.arrayValue.values)&&l.arrayValue.values.some(p=>or(this.value.arrayValue,p))}}class cs{constructor(s,l){this.position=s,this.inclusive=l}}class aa{constructor(s,l="asc"){this.field=s,this.dir=l}}function hu(d,s){return d.dir===s.dir&&d.field.isEqual(s.field)}function Ih(d,s,l){let p=0;for(let y=0;y<d.position.length;y++){const E=s[y],L=d.position[y];if(p=E.field.isKeyField()?Ci.comparator(Ci.fromName(L.referenceValue),l.key):el(L,l.data.field(E.field)),"desc"===E.dir&&(p*=-1),0!==p)break}return p}function pu(d,s){if(null===d)return null===s;if(null===s||d.inclusive!==s.inclusive||d.position.length!==s.position.length)return!1;for(let l=0;l<d.position.length;l++)if(!Ra(d.position[l],s.position[l]))return!1;return!0}class Ka{constructor(s,l=null,p=[],y=[],E=null,L="F",J=null,Te=null){this.path=s,this.collectionGroup=l,this.explicitOrderBy=p,this.filters=y,this.limit=E,this.limitType=L,this.startAt=J,this.endAt=Te,this.D=null,this.C=null}}function Nu(d,s,l,p,y,E,L,J){return new Ka(d,s,l,p,y,E,L,J)}function gl(d){return new Ka(d)}function sd(d){return!bo(d.limit)&&"F"===d.limitType}function ad(d){return!bo(d.limit)&&"L"===d.limitType}function gc(d){return d.explicitOrderBy.length>0?d.explicitOrderBy[0].field:null}function fu(d){for(const s of d.filters)if(s.S())return s.field;return null}function Lu(d){return null!==d.collectionGroup}function gu(d){const s=bi(d);if(null===s.D){s.D=[];const l=fu(s),p=gc(s);if(null!==l&&null===p)l.isKeyField()||s.D.push(new aa(l)),s.D.push(new aa(gs.keyField(),"asc"));else{let y=!1;for(const E of s.explicitOrderBy)s.D.push(E),E.field.isKeyField()&&(y=!0);if(!y){const E=s.explicitOrderBy.length>0?s.explicitOrderBy[s.explicitOrderBy.length-1].dir:"asc";s.D.push(new aa(gs.keyField(),E))}}}return s.D}function tl(d){const s=bi(d);if(!s.C)if("F"===s.limitType)s.C=se(s.path,s.collectionGroup,gu(s),s.filters,s.limit,s.startAt,s.endAt);else{const l=[];for(const E of gu(s))l.push(new aa(E.field,"desc"===E.dir?"asc":"desc"));const p=s.endAt?new cs(s.endAt.position,!s.endAt.inclusive):null,y=s.startAt?new cs(s.startAt.position,!s.startAt.inclusive):null;s.C=se(s.path,s.collectionGroup,l,s.filters,s.limit,p,y)}return s.C}function nl(d,s,l){return new Ka(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),s,l,d.startAt,d.endAt)}function il(d,s){return Rt(tl(d),tl(s))&&d.limitType===s.limitType}function ld(d){return`${ye(tl(d))}|lt:${d.limitType}`}function Oh(d){return`Query(target=${function Ze(d){let s=d.path.canonicalString();return null!==d.collectionGroup&&(s+=" collectionGroup="+d.collectionGroup),d.filters.length>0&&(s+=`, filters: [${d.filters.map(l=>{return`${(p=l).field.canonicalString()} ${p.op} ${za(p.value)}`;var p}).join(", ")}]`),bo(d.limit)||(s+=", limit: "+d.limit),d.orderBy.length>0&&(s+=`, orderBy: [${d.orderBy.map(l=>{return`${(p=l).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),d.startAt&&(s+=", startAt: ",s+=d.startAt.inclusive?"b:":"a:",s+=d.startAt.position.map(l=>za(l)).join(",")),d.endAt&&(s+=", endAt: ",s+=d.endAt.inclusive?"a:":"b:",s+=d.endAt.position.map(l=>za(l)).join(",")),`Target(${s})`}(tl(d))}; limitType=${d.limitType})`}function mc(d,s){return s.isFoundDocument()&&function(l,p){const y=p.key.path;return null!==l.collectionGroup?p.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(y):Ci.isDocumentKey(l.path)?l.path.isEqual(y):l.path.isImmediateParentOf(y)}(d,s)&&function(l,p){for(const y of l.explicitOrderBy)if(!y.field.isKeyField()&&null===p.data.field(y.field))return!1;return!0}(d,s)&&function(l,p){for(const y of l.filters)if(!y.matches(p))return!1;return!0}(d,s)&&(p=s,!((l=d).startAt&&!function(y,E,L){const J=Ih(y,E,L);return y.inclusive?J<=0:J<0}(l.startAt,gu(l),p)||l.endAt&&!function(y,E,L){const J=Ih(y,E,L);return y.inclusive?J>=0:J>0}(l.endAt,gu(l),p)));var l,p}function vc(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Hf(d){return(s,l)=>{let p=!1;for(const y of gu(d)){const E=Uf(y,s,l);if(0!==E)return E;p=p||y.field.isKeyField()}return 0}}function Uf(d,s,l){const p=d.field.isKeyField()?Ci.comparator(s.key,l.key):function(y,E,L){const J=E.data.field(y),Te=L.data.field(y);return null!==J&&null!==Te?el(J,Te):xi()}(d.field,s,l);switch(d.dir){case"asc":return p;case"desc":return-1*p;default:return xi()}}function Op(d,s){if(d.N){if(isNaN(s))return{doubleValue:"NaN"};if(s===1/0)return{doubleValue:"Infinity"};if(s===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(s)?"-0":s}}function Mh(d){return{integerValue:""+d}}function wa(d,s){return Sa(s)?Mh(s):Op(d,s)}class yc{constructor(){this._=void 0}}function Aa(d,s,l){return d instanceof ku?function(p,y){const E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:p.seconds,nanos:p.nanoseconds}}}};return y&&(E.fields.__previous_value__=y),{mapValue:E}}(l,s):d instanceof Sl?Vd(d,s):d instanceof Ya?xh(d,s):function(p,y){const E=Gd(p,y),L=Vl(E)+Vl(p.k);return T(E)&&T(p.k)?Mh(L):Op(p.M,L)}(d,s)}function Wf(d,s,l){return d instanceof Sl?Vd(d,s):d instanceof Ya?xh(d,s):l}function Gd(d,s){return d instanceof mu?T(l=s)||(p=l)&&"doubleValue"in p?s:{integerValue:0}:null;var p,l}class ku extends yc{}class Sl extends yc{constructor(s){super(),this.elements=s}}function Vd(d,s){const l=Mp(s);for(const p of d.elements)l.some(y=>Ra(y,p))||l.push(p);return{arrayValue:{values:l}}}class Ya extends yc{constructor(s){super(),this.elements=s}}function xh(d,s){let l=Mp(s);for(const p of d.elements)l=l.filter(y=>!Ra(y,p));return{arrayValue:{values:l}}}class mu extends yc{constructor(s,l){super(),this.M=s,this.k=l}}function Vl(d){return Cr(d.integerValue||d.doubleValue)}function Mp(d){return X(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class _c{constructor(s,l){this.field=s,this.transform=l}}class Fh{constructor(s,l){this.version=s,this.transformResults=l}}class Ss{constructor(s,l){this.updateTime=s,this.exists=l}static none(){return new Ss}static exists(s){return new Ss(void 0,s)}static updateTime(s){return new Ss(s)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(s){return this.exists===s.exists&&(this.updateTime?!!s.updateTime&&this.updateTime.isEqual(s.updateTime):!s.updateTime)}}function La(d,s){return void 0!==d.updateTime?s.isFoundDocument()&&s.version.isEqual(d.updateTime):void 0===d.exists||d.exists===s.isFoundDocument()}class Hl{}function Cc(d,s,l){d instanceof wc?function(p,y,E){const L=p.value.clone(),J=Pp(p.fieldTransforms,y,E.transformResults);L.setAll(J),y.convertToFoundDocument(E.version,L).setHasCommittedMutations()}(d,s,l):d instanceof vu?function(p,y,E){if(!La(p.precondition,y))return void y.convertToUnknownDocument(E.version);const L=Pp(p.fieldTransforms,y,E.transformResults),J=y.data;J.setAll(kh(p)),J.setAll(L),y.convertToFoundDocument(E.version,J).setHasCommittedMutations()}(d,s,l):s.convertToNoDocument(l.version).setHasCommittedMutations()}function Nh(d,s,l){var y;d instanceof wc?function(p,y,E){if(!La(p.precondition,y))return;const L=p.value.clone(),J=jf(p.fieldTransforms,E,y);L.setAll(J),y.convertToFoundDocument(Lh(y),L).setHasLocalMutations()}(d,s,l):d instanceof vu?function(p,y,E){if(!La(p.precondition,y))return;const L=jf(p.fieldTransforms,E,y),J=y.data;J.setAll(kh(p)),J.setAll(L),y.convertToFoundDocument(Lh(y),J).setHasLocalMutations()}(d,s,l):La(d.precondition,y=s)&&y.convertToNoDocument(Gi.min())}function Hd(d,s){let l=null;for(const p of d.fieldTransforms){const y=s.data.field(p.field),E=Gd(p.transform,y||null);null!=E&&(null==l&&(l=kr.empty()),l.set(p.field,E))}return l||null}function xp(d,s){return d.type===s.type&&!!d.key.isEqual(s.key)&&!!d.precondition.isEqual(s.precondition)&&(p=s.fieldTransforms,!!(void 0===(l=d.fieldTransforms)&&void 0===p||l&&p&&mi(l,p,(y,E)=>function Ph(d,s){return d.field.isEqual(s.field)&&(p=s.transform,(l=d.transform)instanceof Sl&&p instanceof Sl||l instanceof Ya&&p instanceof Ya?mi(l.elements,p.elements,Ra):l instanceof mu&&p instanceof mu?Ra(l.k,p.k):l instanceof ku&&p instanceof ku);var l,p}(y,E))))&&(0===d.type?d.value.isEqual(s.value):1!==d.type||d.data.isEqual(s.data)&&d.fieldMask.isEqual(s.fieldMask));var l,p}function Lh(d){return d.isFoundDocument()?d.version:Gi.min()}class wc extends Hl{constructor(s,l,p,y=[]){super(),this.key=s,this.value=l,this.precondition=p,this.fieldTransforms=y,this.type=0}}class vu extends Hl{constructor(s,l,p,y,E=[]){super(),this.key=s,this.data=l,this.fieldMask=p,this.precondition=y,this.fieldTransforms=E,this.type=1}}function kh(d){const s=new Map;return d.fieldMask.fields.forEach(l=>{if(!l.isEmpty()){const p=d.data.field(l);s.set(l,p)}}),s}function Pp(d,s,l){const p=new Map;Xi(d.length===l.length);for(let y=0;y<l.length;y++){const E=d[y],L=E.transform,J=s.data.field(E.field);p.set(E.field,Wf(L,J,l[y]))}return p}function jf(d,s,l){const p=new Map;for(const y of d){const E=y.transform,L=l.data.field(y.field);p.set(y.field,Aa(E,L,s))}return p}class rl extends Hl{constructor(s,l){super(),this.key=s,this.precondition=l,this.type=2,this.fieldTransforms=[]}}class Nr extends Hl{constructor(s,l){super(),this.key=s,this.precondition=l,this.type=3,this.fieldTransforms=[]}}class zf{constructor(s){this.count=s}}var zo,so;function Za(d){switch(d){default:return xi();case vn.CANCELLED:case vn.UNKNOWN:case vn.DEADLINE_EXCEEDED:case vn.RESOURCE_EXHAUSTED:case vn.INTERNAL:case vn.UNAVAILABLE:case vn.UNAUTHENTICATED:return!1;case vn.INVALID_ARGUMENT:case vn.NOT_FOUND:case vn.ALREADY_EXISTS:case vn.PERMISSION_DENIED:case vn.FAILED_PRECONDITION:case vn.ABORTED:case vn.OUT_OF_RANGE:case vn.UNIMPLEMENTED:case vn.DATA_LOSS:return!0}}function ol(d){if(void 0===d)return Tr("GRPC error has no .code"),vn.UNKNOWN;switch(d){case zo.OK:return vn.OK;case zo.CANCELLED:return vn.CANCELLED;case zo.UNKNOWN:return vn.UNKNOWN;case zo.DEADLINE_EXCEEDED:return vn.DEADLINE_EXCEEDED;case zo.RESOURCE_EXHAUSTED:return vn.RESOURCE_EXHAUSTED;case zo.INTERNAL:return vn.INTERNAL;case zo.UNAVAILABLE:return vn.UNAVAILABLE;case zo.UNAUTHENTICATED:return vn.UNAUTHENTICATED;case zo.INVALID_ARGUMENT:return vn.INVALID_ARGUMENT;case zo.NOT_FOUND:return vn.NOT_FOUND;case zo.ALREADY_EXISTS:return vn.ALREADY_EXISTS;case zo.PERMISSION_DENIED:return vn.PERMISSION_DENIED;case zo.FAILED_PRECONDITION:return vn.FAILED_PRECONDITION;case zo.ABORTED:return vn.ABORTED;case zo.OUT_OF_RANGE:return vn.OUT_OF_RANGE;case zo.UNIMPLEMENTED:return vn.UNIMPLEMENTED;case zo.DATA_LOSS:return vn.DATA_LOSS;default:return xi()}}(so=zo||(zo={}))[so.OK=0]="OK",so[so.CANCELLED=1]="CANCELLED",so[so.UNKNOWN=2]="UNKNOWN",so[so.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",so[so.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",so[so.NOT_FOUND=5]="NOT_FOUND",so[so.ALREADY_EXISTS=6]="ALREADY_EXISTS",so[so.PERMISSION_DENIED=7]="PERMISSION_DENIED",so[so.UNAUTHENTICATED=16]="UNAUTHENTICATED",so[so.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",so[so.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",so[so.ABORTED=10]="ABORTED",so[so.OUT_OF_RANGE=11]="OUT_OF_RANGE",so[so.UNIMPLEMENTED=12]="UNIMPLEMENTED",so[so.INTERNAL=13]="INTERNAL",so[so.UNAVAILABLE=14]="UNAVAILABLE",so[so.DATA_LOSS=15]="DATA_LOSS";class Rl{constructor(s,l){this.mapKeyFn=s,this.equalsFn=l,this.inner={},this.innerSize=0}get(s){const l=this.mapKeyFn(s),p=this.inner[l];if(void 0!==p)for(const[y,E]of p)if(this.equalsFn(y,s))return E}has(s){return void 0!==this.get(s)}set(s,l){const p=this.mapKeyFn(s),y=this.inner[p];if(void 0===y)return this.inner[p]=[[s,l]],void this.innerSize++;for(let E=0;E<y.length;E++)if(this.equalsFn(y[E][0],s))return void(y[E]=[s,l]);y.push([s,l]),this.innerSize++}delete(s){const l=this.mapKeyFn(s),p=this.inner[l];if(void 0===p)return!1;for(let y=0;y<p.length;y++)if(this.equalsFn(p[y][0],s))return 1===p.length?delete this.inner[l]:p.splice(y,1),this.innerSize--,!0;return!1}forEach(s){_a(this.inner,(l,p)=>{for(const[y,E]of p)s(y,E)})}isEmpty(){return hl(this.inner)}size(){return this.innerSize}}class to{constructor(s,l){this.comparator=s,this.root=l||Ps.EMPTY}insert(s,l){return new to(this.comparator,this.root.insert(s,l,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(s){return new to(this.comparator,this.root.remove(s,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(s){let l=this.root;for(;!l.isEmpty();){const p=this.comparator(s,l.key);if(0===p)return l.value;p<0?l=l.left:p>0&&(l=l.right)}return null}indexOf(s){let l=0,p=this.root;for(;!p.isEmpty();){const y=this.comparator(s,p.key);if(0===y)return l+p.left.size;y<0?p=p.left:(l+=p.left.size+1,p=p.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(s){return this.root.inorderTraversal(s)}forEach(s){this.inorderTraversal((l,p)=>(s(l,p),!1))}toString(){const s=[];return this.inorderTraversal((l,p)=>(s.push(`${l}:${p}`),!1)),`{${s.join(", ")}}`}reverseTraversal(s){return this.root.reverseTraversal(s)}getIterator(){return new yu(this.root,null,this.comparator,!1)}getIteratorFrom(s){return new yu(this.root,s,this.comparator,!1)}getReverseIterator(){return new yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(s){return new yu(this.root,s,this.comparator,!0)}}class yu{constructor(s,l,p,y){this.isReverse=y,this.nodeStack=[];let E=1;for(;!s.isEmpty();)if(E=l?p(s.key,l):1,l&&y&&(E*=-1),E<0)s=this.isReverse?s.left:s.right;else{if(0===E){this.nodeStack.push(s);break}this.nodeStack.push(s),s=this.isReverse?s.right:s.left}}getNext(){let s=this.nodeStack.pop();const l={key:s.key,value:s.value};if(this.isReverse)for(s=s.left;!s.isEmpty();)this.nodeStack.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack.push(s),s=s.left;return l}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const s=this.nodeStack[this.nodeStack.length-1];return{key:s.key,value:s.value}}}class Ps{constructor(s,l,p,y,E){this.key=s,this.value=l,this.color=null!=p?p:Ps.RED,this.left=null!=y?y:Ps.EMPTY,this.right=null!=E?E:Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(s,l,p,y,E){return new Ps(null!=s?s:this.key,null!=l?l:this.value,null!=p?p:this.color,null!=y?y:this.left,null!=E?E:this.right)}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,l,p){let y=this;const E=p(s,y.key);return y=E<0?y.copy(null,null,null,y.left.insert(s,l,p),null):0===E?y.copy(null,l,null,null,null):y.copy(null,null,null,null,y.right.insert(s,l,p)),y.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let s=this;return s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.removeMin(),null),s.fixUp()}remove(s,l){let p,y=this;if(l(s,y.key)<0)y.left.isEmpty()||y.left.isRed()||y.left.left.isRed()||(y=y.moveRedLeft()),y=y.copy(null,null,null,y.left.remove(s,l),null);else{if(y.left.isRed()&&(y=y.rotateRight()),y.right.isEmpty()||y.right.isRed()||y.right.left.isRed()||(y=y.moveRedRight()),0===l(s,y.key)){if(y.right.isEmpty())return Ps.EMPTY;p=y.right.min(),y=y.copy(p.key,p.value,null,null,y.right.removeMin())}y=y.copy(null,null,null,null,y.right.remove(s,l))}return y.fixUp()}isRed(){return this.color}fixUp(){let s=this;return s.right.isRed()&&!s.left.isRed()&&(s=s.rotateLeft()),s.left.isRed()&&s.left.left.isRed()&&(s=s.rotateRight()),s.left.isRed()&&s.right.isRed()&&(s=s.colorFlip()),s}moveRedLeft(){let s=this.colorFlip();return s.right.left.isRed()&&(s=s.copy(null,null,null,null,s.right.rotateRight()),s=s.rotateLeft(),s=s.colorFlip()),s}moveRedRight(){let s=this.colorFlip();return s.left.left.isRed()&&(s=s.rotateRight(),s=s.colorFlip()),s}rotateLeft(){const s=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight(){const s=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip(){const s=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,l)}checkMaxDepth(){const s=this.check();return Math.pow(2,s)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xi();const s=this.left.check();if(s!==this.right.check())throw xi();return s+(this.isRed()?0:1)}}Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1,Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw xi()}get value(){throw xi()}get color(){throw xi()}get left(){throw xi()}get right(){throw xi()}copy(d,s,l,p,y){return this}insert(d,s,l){return new Ps(d,s)}remove(d,s){return this}isEmpty(){return!0}inorderTraversal(d){return!1}reverseTraversal(d){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lo{constructor(s){this.comparator=s,this.data=new to(this.comparator)}has(s){return null!==this.data.get(s)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(s){return this.data.indexOf(s)}forEach(s){this.data.inorderTraversal((l,p)=>(s(l),!1))}forEachInRange(s,l){const p=this.data.getIteratorFrom(s[0]);for(;p.hasNext();){const y=p.getNext();if(this.comparator(y.key,s[1])>=0)return;l(y.key)}}forEachWhile(s,l){let p;for(p=void 0!==l?this.data.getIteratorFrom(l):this.data.getIterator();p.hasNext();)if(!s(p.getNext().key))return}firstAfterOrEqual(s){const l=this.data.getIteratorFrom(s);return l.hasNext()?l.getNext().key:null}getIterator(){return new Fp(this.data.getIterator())}getIteratorFrom(s){return new Fp(this.data.getIteratorFrom(s))}add(s){return this.copy(this.data.remove(s).insert(s,!0))}delete(s){return this.has(s)?this.copy(this.data.remove(s)):this}isEmpty(){return this.data.isEmpty()}unionWith(s){let l=this;return l.size<s.size&&(l=s,s=this),s.forEach(p=>{l=l.add(p)}),l}isEqual(s){if(!(s instanceof Lo)||this.size!==s.size)return!1;const l=this.data.getIterator(),p=s.data.getIterator();for(;l.hasNext();){const y=l.getNext().key,E=p.getNext().key;if(0!==this.comparator(y,E))return!1}return!0}toArray(){const s=[];return this.forEach(l=>{s.push(l)}),s}toString(){const s=[];return this.forEach(l=>s.push(l)),"SortedSet("+s.toString()+")"}copy(s){const l=new Lo(this.comparator);return l.data=s,l}}class Fp{constructor(s){this.iter=s}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _u(d){return d.hasNext()?d.getNext():void 0}const Bh=new to(Ci.comparator);function ka(){return Bh}const Gh=new to(Ci.comparator);function Bu(){return Gh}function Ul(){return new Rl(d=>d.toString(),(d,s)=>d.isEqual(s))}const $f=new to(Ci.comparator),ud=new Lo(Ci.comparator);function go(...d){let s=ud;for(const l of d)s=s.add(l);return s}const Vh=new Lo(di);function bc(){return Vh}class Cu{constructor(s,l,p,y,E){this.snapshotVersion=s,this.targetChanges=l,this.targetMismatches=p,this.documentUpdates=y,this.resolvedLimboDocuments=E}static createSynthesizedRemoteEventForCurrentChange(s,l){const p=new Map;return p.set(s,Wl.createSynthesizedTargetChangeForCurrentChange(s,l)),new Cu(Gi.min(),p,bc(),ka(),go())}}class Wl{constructor(s,l,p,y,E){this.resumeToken=s,this.current=l,this.addedDocuments=p,this.modifiedDocuments=y,this.removedDocuments=E}static createSynthesizedTargetChangeForCurrentChange(s,l){return new Wl(jo.EMPTY_BYTE_STRING,l,go(),go(),go())}}class Ec{constructor(s,l,p,y){this.O=s,this.removedTargetIds=l,this.key=p,this.F=y}}class Np{constructor(s,l){this.targetId=s,this.$=l}}class ys{constructor(s,l,p=jo.EMPTY_BYTE_STRING,y=null){this.state=s,this.targetIds=l,this.resumeToken=p,this.cause=y}}class Ud{constructor(){this.B=0,this.L=Dc(),this.U=jo.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(s){s.approximateByteSize()>0&&(this.K=!0,this.U=s)}H(){let s=go(),l=go(),p=go();return this.L.forEach((y,E)=>{switch(E){case 0:s=s.add(y);break;case 2:l=l.add(y);break;case 1:p=p.add(y);break;default:xi()}}),new Wl(this.U,this.q,s,l,p)}J(){this.K=!1,this.L=Dc()}Y(s,l){this.K=!0,this.L=this.L.insert(s,l)}X(s){this.K=!0,this.L=this.L.remove(s)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Kf{constructor(s){this.nt=s,this.st=new Map,this.it=ka(),this.rt=Wd(),this.ot=new Lo(di)}ut(s){for(const l of s.O)s.F&&s.F.isFoundDocument()?this.at(l,s.F):this.ct(l,s.key,s.F);for(const l of s.removedTargetIds)this.ct(l,s.key,s.F)}ht(s){this.forEachTarget(s,l=>{const p=this.lt(l);switch(s.state){case 0:this.ft(l)&&p.W(s.resumeToken);break;case 1:p.tt(),p.G||p.J(),p.W(s.resumeToken);break;case 2:p.tt(),p.G||this.removeTarget(l);break;case 3:this.ft(l)&&(p.et(),p.W(s.resumeToken));break;case 4:this.ft(l)&&(this.dt(l),p.W(s.resumeToken));break;default:xi()}})}forEachTarget(s,l){s.targetIds.length>0?s.targetIds.forEach(l):this.st.forEach((p,y)=>{this.ft(y)&&l(y)})}_t(s){const l=s.targetId,p=s.$.count,y=this.wt(l);if(y){const E=y.target;if(fn(E))if(0===p){const L=new Ci(E.path);this.ct(l,L,qr.newNoDocument(L,Gi.min()))}else Xi(1===p);else this.gt(l)!==p&&(this.dt(l),this.ot=this.ot.add(l))}}yt(s){const l=new Map;this.st.forEach((E,L)=>{const J=this.wt(L);if(J){if(E.current&&fn(J.target)){const Te=new Ci(J.target.path);null!==this.it.get(Te)||this.It(L,Te)||this.ct(L,Te,qr.newNoDocument(Te,s))}E.j&&(l.set(L,E.H()),E.J())}});let p=go();this.rt.forEach((E,L)=>{let J=!0;L.forEachWhile(Te=>{const He=this.wt(Te);return!He||2===He.purpose||(J=!1,!1)}),J&&(p=p.add(E))}),this.it.forEach((E,L)=>L.setReadTime(s));const y=new Cu(s,l,this.ot,this.it,p);return this.it=ka(),this.rt=Wd(),this.ot=new Lo(di),y}at(s,l){if(!this.ft(s))return;const p=this.It(s,l.key)?2:0;this.lt(s).Y(l.key,p),this.it=this.it.insert(l.key,l),this.rt=this.rt.insert(l.key,this.Tt(l.key).add(s))}ct(s,l,p){if(!this.ft(s))return;const y=this.lt(s);this.It(s,l)?y.Y(l,1):y.X(l),this.rt=this.rt.insert(l,this.Tt(l).delete(s)),p&&(this.it=this.it.insert(l,p))}removeTarget(s){this.st.delete(s)}gt(s){const l=this.lt(s).H();return this.nt.getRemoteKeysForTarget(s).size+l.addedDocuments.size-l.removedDocuments.size}Z(s){this.lt(s).Z()}lt(s){let l=this.st.get(s);return l||(l=new Ud,this.st.set(s,l)),l}Tt(s){let l=this.rt.get(s);return l||(l=new Lo(di),this.rt=this.rt.insert(s,l)),l}ft(s){const l=null!==this.wt(s);return l||Jn("WatchChangeAggregator","Detected inactive target",s),l}wt(s){const l=this.st.get(s);return l&&l.G?null:this.nt.Et(s)}dt(s){this.st.set(s,new Ud),this.nt.getRemoteKeysForTarget(s).forEach(l=>{this.ct(s,l,null)})}It(s,l){return this.nt.getRemoteKeysForTarget(s).has(l)}}function Wd(){return new to(Ci.comparator)}function Dc(){return new to(Ci.comparator)}const Lp={asc:"ASCENDING",desc:"DESCENDING"},jd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Yf{constructor(s,l){this.databaseId=s,this.N=l}}function Sc(d,s){return d.N?`${new Date(1e3*s.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+s.nanoseconds).slice(-9)}Z`:{seconds:""+s.seconds,nanos:s.nanoseconds}}function Hh(d,s){return d.N?s.toBase64():s.toUint8Array()}function rm(d,s){return Sc(d,s.toTimestamp())}function qs(d){return Xi(!!d),Gi.fromTimestamp(function(s){const l=Zs(s);return new Ji(l.seconds,l.nanos)}(d))}function Gu(d,s){return(l=d,new jr(["projects",l.projectId,"databases",l.database])).child("documents").child(s).canonicalString();var l}function la(d){const s=jr.fromString(d);return Xi(vl(s)),s}function jl(d,s){return Gu(d.databaseId,s.path)}function Ia(d,s){const l=la(s);if(l.get(1)!==d.databaseId.projectId)throw new ti(vn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+l.get(1)+" vs "+d.databaseId.projectId);if(l.get(3)!==d.databaseId.database)throw new ti(vn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+l.get(3)+" vs "+d.databaseId.database);return new Ci(zd(l))}function cd(d,s){return Gu(d.databaseId,s)}function ua(d){const s=la(d);return 4===s.length?jr.emptyPath():zd(s)}function ml(d){return new jr(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function zd(d){return Xi(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Ba(d,s,l){return{name:jl(d,s),fields:l.value.mapValue.fields}}function Rc(d,s,l){const p=Ia(d,s.name),y=qs(s.updateTime),E=new kr({mapValue:{fields:s.fields}}),L=qr.newFoundDocument(p,y,E);return l&&L.setHasCommittedMutations(),l?L.setHasCommittedMutations():L}function wu(d,s){let l;if(s instanceof wc)l={update:Ba(d,s.key,s.value)};else if(s instanceof rl)l={delete:jl(d,s.key)};else if(s instanceof vu)l={update:Ba(d,s.key,s.data),updateMask:Vp(s.fieldMask)};else{if(!(s instanceof Nr))return xi();l={verify:jl(d,s.key)}}return s.fieldTransforms.length>0&&(l.updateTransforms=s.fieldTransforms.map(p=>function(y,E){const L=E.transform;if(L instanceof ku)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(L instanceof Sl)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:L.elements}};if(L instanceof Ya)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:L.elements}};if(L instanceof mu)return{fieldPath:E.field.canonicalString(),increment:L.k};throw xi()}(0,p))),s.precondition.isNone||(l.currentDocument=void 0!==(y=s.precondition).updateTime?{updateTime:rm(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:xi()),l;var y}function Tl(d,s){const l=s.currentDocument?void 0!==(y=s.currentDocument).updateTime?Ss.updateTime(qs(y.updateTime)):void 0!==y.exists?Ss.exists(y.exists):Ss.none():Ss.none(),p=s.updateTransforms?s.updateTransforms.map(y=>function(E,L){let J=null;"setToServerValue"in L?(Xi("REQUEST_TIME"===L.setToServerValue),J=new ku):"appendMissingElements"in L?J=new Sl(L.appendMissingElements.values||[]):"removeAllFromArray"in L?J=new Ya(L.removeAllFromArray.values||[]):"increment"in L?J=new mu(E,L.increment):xi();const Te=gs.fromServerFormat(L.fieldPath);return new _c(Te,J)}(d,y)):[];var y;if(s.update){const y=Ia(d,s.update.name),E=new kr({mapValue:{fields:s.update.fields}});if(s.updateMask){const L=new Ys((s.updateMask.fieldPaths||[]).map(He=>gs.fromServerFormat(He)));return new vu(y,E,L,l,p)}return new wc(y,E,l,p)}if(s.delete){const y=Ia(d,s.delete);return new rl(y,l)}if(s.verify){const y=Ia(d,s.verify);return new Nr(y,l)}return xi()}function jh(d,s){return{documents:[cd(d,s.path)]}}function bu(d,s){const l={structuredQuery:{}},p=s.path;null!==s.collectionGroup?(l.parent=cd(d,p),l.structuredQuery.from=[{collectionId:s.collectionGroup,allDescendants:!0}]):(l.parent=cd(d,p.popLast()),l.structuredQuery.from=[{collectionId:p.lastSegment()}]);const y=function(Te){if(0===Te.length)return;const He=Te.map(It=>function(Yt){if("=="===Yt.op){if(Ht(Yt.value))return{unaryFilter:{field:Vu(Yt.field),op:"IS_NAN"}};if(ze(Yt.value))return{unaryFilter:{field:Vu(Yt.field),op:"IS_NULL"}}}else if("!="===Yt.op){if(Ht(Yt.value))return{unaryFilter:{field:Vu(Yt.field),op:"IS_NOT_NAN"}};if(ze(Yt.value))return{unaryFilter:{field:Vu(Yt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(Yt.field),op:Gp(Yt.op),value:Yt.value}}}(It));return 1===He.length?He[0]:{compositeFilter:{op:"AND",filters:He}}}(s.filters);y&&(l.structuredQuery.where=y);const E=function(Te){if(0!==Te.length)return Te.map(He=>{return{field:Vu((It=He).field),direction:al(It.dir)};var It})}(s.orderBy);E&&(l.structuredQuery.orderBy=E);const L=(He=s.limit,d.N||bo(He)?He:{value:He});var He,J,Te;return null!==L&&(l.structuredQuery.limit=L),s.startAt&&(l.structuredQuery.startAt={before:(J=s.startAt).inclusive,values:J.position}),s.endAt&&(l.structuredQuery.endAt={before:!(Te=s.endAt).inclusive,values:Te.position}),l}function sl(d){let s=ua(d.parent);const l=d.structuredQuery,p=l.from?l.from.length:0;let y=null;if(p>0){Xi(1===p);const It=l.from[0];It.allDescendants?y=It.collectionId:s=s.child(It.collectionId)}let E=[];l.where&&(E=dd(l.where));let L=[];l.orderBy&&(L=l.orderBy.map(It=>{return new aa(is((Yt=It).field),function(Tn){switch(Tn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Yt.direction));var Yt}));let J=null;l.limit&&(J=function(It){let Yt;return Yt="object"==typeof It?It.value:It,bo(Yt)?null:Yt}(l.limit));let Te=null;var It;l.startAt&&(Te=new cs((It=l.startAt).values||[],!!It.before));let He=null;return l.endAt&&(He=function(It){return new cs(It.values||[],!It.before)}(l.endAt)),Nu(s,y,L,E,J,"F",Te,He)}function dd(d){return d?void 0!==d.unaryFilter?[Tc(d)]:void 0!==d.fieldFilter?[zh(d)]:void 0!==d.compositeFilter?d.compositeFilter.filters.map(s=>dd(s)).reduce((s,l)=>s.concat(l)):xi():[]}function al(d){return Lp[d]}function Gp(d){return jd[d]}function Vu(d){return{fieldPath:d.canonicalString()}}function is(d){return gs.fromServerFormat(d.fieldPath)}function zh(d){return qi.create(is(d.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xi()}}(d.fieldFilter.op),d.fieldFilter.value)}function Tc(d){switch(d.unaryFilter.op){case"IS_NAN":const s=is(d.unaryFilter.field);return qi.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=is(d.unaryFilter.field);return qi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=is(d.unaryFilter.field);return qi.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=is(d.unaryFilter.field);return qi.create(y,"!=",{nullValue:"NULL_VALUE"});default:return xi()}}function Vp(d){const s=[];return d.fields.forEach(l=>s.push(l.canonicalString())),{fieldPaths:s}}function vl(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}function _s(d){let s="";for(let l=0;l<d.length;l++)s.length>0&&(s=$d(s)),s=Al(d.get(l),s);return $d(s)}function Al(d,s){let l=s;const p=d.length;for(let y=0;y<p;y++){const E=d.charAt(y);switch(E){case"\0":l+="\x01\x10";break;case"\x01":l+="\x01\x11";break;default:l+=E}}return l}function $d(d){return d+"\x01\x01"}function Il(d){const s=d.length;if(Xi(s>=2),2===s)return Xi("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),jr.emptyPath();const l=s-2,p=[];let y="";for(let E=0;E<s;){const L=d.indexOf("\x01",E);switch((L<0||L>l)&&xi(),d.charAt(L+1)){case"\x01":const J=d.substring(E,L);let Te;0===y.length?Te=J:(y+=J,Te=y,y=""),p.push(Te);break;case"\x10":y+=d.substring(E,L),y+="\0";break;case"\x11":y+=d.substring(E,L+1);break;default:xi()}E=L+2}return new jr(p)}const Ac=["userId","batchId"];function Kd(d,s){return[d,_s(s)]}function Hp(d,s,l){return[d,_s(s),l]}const Zf={},qf=["prefixPath","collectionGroup","readTime","documentId"],F=["prefixPath","collectionGroup","documentId"],C=["collectionGroup","readTime","prefixPath","documentId"],w=["canonicalId","targetId"],U=["targetId","path"],De=["path","targetId"],Ne=["collectionId","parent"],cn=["indexId","uid"],Ln=["uid","sequenceNumber"],Ei=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zi=["indexId","uid","orderedDocumentKey"],er=["userId","collectionPath","documentId"],ar=["userId","collectionPath","largestBatchId"],rs=["userId","collectionGroup","largestBatchId"],qa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hu=[...qa,"documentOverlays"],Qs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hd=[...Qs,"indexConfiguration","indexState","indexEntries"],Yd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Up{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(s){this.onCommittedListeners.push(s)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(s=>s())}}class kn{constructor(s){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,s(l=>{this.isDone=!0,this.result=l,this.nextCallback&&this.nextCallback(l)},l=>{this.isDone=!0,this.error=l,this.catchCallback&&this.catchCallback(l)})}catch(s){return this.next(void 0,s)}next(s,l){return this.callbackAttached&&xi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(l,this.error):this.wrapSuccess(s,this.result):new kn((p,y)=>{this.nextCallback=E=>{this.wrapSuccess(s,E).next(p,y)},this.catchCallback=E=>{this.wrapFailure(l,E).next(p,y)}})}toPromise(){return new Promise((s,l)=>{this.next(s,l)})}wrapUserFunction(s){try{const l=s();return l instanceof kn?l:kn.resolve(l)}catch(l){return kn.reject(l)}}wrapSuccess(s,l){return s?this.wrapUserFunction(()=>s(l)):kn.resolve(l)}wrapFailure(s,l){return s?this.wrapUserFunction(()=>s(l)):kn.reject(l)}static resolve(s){return new kn((l,p)=>{l(s)})}static reject(s){return new kn((l,p)=>{p(s)})}static waitFor(s){return new kn((l,p)=>{let y=0,E=0,L=!1;s.forEach(J=>{++y,J.next(()=>{++E,L&&E===y&&l()},Te=>p(Te))}),L=!0,E===y&&l()})}static or(s){let l=kn.resolve(!1);for(const p of s)l=l.next(y=>y?kn.resolve(y):p());return l}static forEach(s,l){const p=[];return s.forEach((y,E)=>{p.push(l.call(this,y,E))}),this.waitFor(p)}}class Xs{constructor(s,l){this.action=s,this.transaction=l,this.aborted=!1,this.At=new fo,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{l.error?this.At.reject(new zl(s,l.error)):this.At.resolve()},this.transaction.onerror=p=>{const y=Qf(p.target.error);this.At.reject(new zl(s,y))}}static open(s,l,p,y){try{return new Xs(l,s.transaction(y,p))}catch(E){throw new zl(l,E)}}get Rt(){return this.At.promise}abort(s){s&&this.At.reject(s),this.aborted||(Jn("SimpleDb","Aborting transaction:",s?s.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const s=this.transaction;this.aborted||"function"!=typeof s.commit||s.commit()}store(s){const l=this.transaction.objectStore(s);return new Uu(l)}}class Ga{constructor(s,l,p){this.name=s,this.version=l,this.bt=p,12.2===Ga.Vt((0,g.z$)())&&Tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(s){return Jn("SimpleDb","Removing database:",s),Wu(window.indexedDB.deleteDatabase(s)).toPromise()}static vt(){if(!(0,g.hl)())return!1;if(Ga.St())return!0;const s=(0,g.z$)(),l=Ga.Vt(s),p=0<l&&l<10,y=Ga.Dt(s),E=0<y&&y<4.5;return!(s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0||s.indexOf("Edge/")>0||p||E)}static St(){var s;return"undefined"!=typeof process&&"YES"===(null===(s=process.env)||void 0===s?void 0:s.Ct)}static xt(s,l){return s.store(l)}static Vt(s){const l=s.match(/i(?:phone|pad|pod) os ([\d_]+)/i),p=l?l[1].split("_").slice(0,2).join("."):"-1";return Number(p)}static Dt(s){const l=s.match(/Android ([\d.]+)/i),p=l?l[1].split(".").slice(0,2).join("."):"-1";return Number(p)}Nt(s){var l=this;return(0,v.Z)(function*(){return l.db||(Jn("SimpleDb","Opening database:",l.name),l.db=yield new Promise((p,y)=>{const E=indexedDB.open(l.name,l.version);E.onsuccess=L=>{p(L.target.result)},E.onblocked=()=>{y(new zl(s,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},E.onerror=L=>{const J=L.target.error;y("VersionError"===J.name?new ti(vn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===J.name?new ti(vn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+J):new zl(s,J))},E.onupgradeneeded=L=>{Jn("SimpleDb",'Database "'+l.name+'" requires upgrade from version:',L.oldVersion),l.bt.kt(L.target.result,E.transaction,L.oldVersion,l.version).next(()=>{Jn("SimpleDb","Database upgrade to version "+l.version+" complete")})}})),l.Mt&&(l.db.onversionchange=p=>l.Mt(p)),l.db})()}Ot(s){this.Mt=s,this.db&&(this.db.onversionchange=l=>s(l))}runTransaction(s,l,p,y){var E=this;return(0,v.Z)(function*(){const L="readonly"===l;let J=0;for(;;){++J;try{E.db=yield E.Nt(s);const Te=Xs.open(E.db,s,L?"readonly":"readwrite",p),He=y(Te).next(It=>(Te.Pt(),It)).catch(It=>(Te.abort(It),kn.reject(It))).toPromise();return He.catch(()=>{}),yield Te.Rt,He}catch(Te){const He="FirebaseError"!==Te.name&&J<3;if(Jn("SimpleDb","Transaction failed with error:",Te.message,"Retrying:",He),E.close(),!He)return Promise.reject(Te)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Zd{constructor(s){this.Ft=s,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(s){this.Ft=s}done(){this.$t=!0}Ut(s){this.Bt=s}delete(){return Wu(this.Ft.delete())}}class zl extends ti{constructor(s,l){super(vn.UNAVAILABLE,`IndexedDB transaction '${s}' failed: ${l}`),this.name="IndexedDbTransactionError"}}function Eu(d){return"IndexedDbTransactionError"===d.name}class Uu{constructor(s){this.store=s}put(s,l){let p;return void 0!==l?(Jn("SimpleDb","PUT",this.store.name,s,l),p=this.store.put(l,s)):(Jn("SimpleDb","PUT",this.store.name,"<auto-key>",s),p=this.store.put(s)),Wu(p)}add(s){return Jn("SimpleDb","ADD",this.store.name,s,s),Wu(this.store.add(s))}get(s){return Wu(this.store.get(s)).next(l=>(void 0===l&&(l=null),Jn("SimpleDb","GET",this.store.name,s,l),l))}delete(s){return Jn("SimpleDb","DELETE",this.store.name,s),Wu(this.store.delete(s))}count(){return Jn("SimpleDb","COUNT",this.store.name),Wu(this.store.count())}qt(s,l){const p=this.options(s,l);if(p.index||"function"!=typeof this.store.getAll){const y=this.cursor(p),E=[];return this.Kt(y,(L,J)=>{E.push(J)}).next(()=>E)}{const y=this.store.getAll(p.range);return new kn((E,L)=>{y.onerror=J=>{L(J.target.error)},y.onsuccess=J=>{E(J.target.result)}})}}Gt(s,l){const p=this.store.getAll(s,null===l?void 0:l);return new kn((y,E)=>{p.onerror=L=>{E(L.target.error)},p.onsuccess=L=>{y(L.target.result)}})}Qt(s,l){Jn("SimpleDb","DELETE ALL",this.store.name);const p=this.options(s,l);p.jt=!1;const y=this.cursor(p);return this.Kt(y,(E,L,J)=>J.delete())}Wt(s,l){let p;l?p=s:(p={},l=s);const y=this.cursor(p);return this.Kt(y,l)}zt(s){const l=this.cursor({});return new kn((p,y)=>{l.onerror=E=>{const L=Qf(E.target.error);y(L)},l.onsuccess=E=>{const L=E.target.result;L?s(L.primaryKey,L.value).next(J=>{J?L.continue():p()}):p()}})}Kt(s,l){const p=[];return new kn((y,E)=>{s.onerror=L=>{E(L.target.error)},s.onsuccess=L=>{const J=L.target.result;if(!J)return void y();const Te=new Zd(J),He=l(J.primaryKey,J.value,Te);if(He instanceof kn){const It=He.catch(Yt=>(Te.done(),kn.reject(Yt)));p.push(It)}Te.isDone?y():null===Te.Lt?J.continue():J.continue(Te.Lt)}}).next(()=>kn.waitFor(p))}options(s,l){let p;return void 0!==s&&("string"==typeof s?p=s:l=s),{index:p,range:l}}cursor(s){let l="next";if(s.reverse&&(l="prev"),s.index){const p=this.store.index(s.index);return s.jt?p.openKeyCursor(s.range,l):p.openCursor(s.range,l)}return this.store.openCursor(s.range,l)}}function Wu(d){return new kn((s,l)=>{d.onsuccess=p=>{s(p.target.result)},d.onerror=p=>{const y=Qf(p.target.error);l(y)}})}let om=!1;function Qf(d){const s=Ga.Vt((0,g.z$)());if(s>=12.2&&s<13){const l="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(l)>=0){const p=new ti("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${l}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return om||(om=!0,setTimeout(()=>{throw p},0)),p}}return d}class sm extends Up{constructor(s,l){super(),this.Ht=s,this.currentSequenceNumber=l}}function ca(d,s){const l=bi(d);return Ga.xt(l.Ht,s)}class $h{constructor(s,l,p,y){this.batchId=s,this.localWriteTime=l,this.baseMutations=p,this.mutations=y}applyToRemoteDocument(s,l){const p=l.mutationResults;for(let y=0;y<this.mutations.length;y++){const E=this.mutations[y];E.key.isEqual(s.key)&&Cc(E,s,p[y])}}applyToLocalView(s){for(const l of this.baseMutations)l.key.isEqual(s.key)&&Nh(l,s,this.localWriteTime);for(const l of this.mutations)l.key.isEqual(s.key)&&Nh(l,s,this.localWriteTime)}applyToLocalDocumentSet(s){this.mutations.forEach(l=>{const p=s.get(l.key),y=p;this.applyToLocalView(y),p.isValidDocument()||y.convertToNoDocument(Gi.min())})}keys(){return this.mutations.reduce((s,l)=>s.add(l.key),go())}isEqual(s){return this.batchId===s.batchId&&mi(this.mutations,s.mutations,(l,p)=>xp(l,p))&&mi(this.baseMutations,s.baseMutations,(l,p)=>xp(l,p))}}class Wp{constructor(s,l,p,y){this.batch=s,this.commitVersion=l,this.mutationResults=p,this.docVersions=y}static from(s,l,p){Xi(s.mutations.length===p.length);let y=$f;const E=s.mutations;for(let L=0;L<E.length;L++)y=y.insert(E[L].key,p[L].version);return new Wp(s,l,p,y)}}class Kh{constructor(s,l){this.largestBatchId=s,this.mutation=l}getKey(){return this.mutation.key}isEqual(s){return null!==s&&this.mutation===s.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ic{constructor(s,l,p,y,E=Gi.min(),L=Gi.min(),J=jo.EMPTY_BYTE_STRING){this.target=s,this.targetId=l,this.purpose=p,this.sequenceNumber=y,this.snapshotVersion=E,this.lastLimboFreeSnapshotVersion=L,this.resumeToken=J}withSequenceNumber(s){return new Ic(this.target,this.targetId,this.purpose,s,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(s,l){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,l,this.lastLimboFreeSnapshotVersion,s)}withLastLimboFreeSnapshotVersion(s){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,s,this.resumeToken)}}class am{constructor(s){this.Jt=s}}function Xf(d,s){const l=s.key,p={prefixPath:l.getCollectionPath().popLast().toArray(),collectionGroup:l.collectionGroup,documentId:l.path.lastSegment(),readTime:Du(s.readTime),hasCommittedMutations:s.hasCommittedMutations};if(s.isFoundDocument())p.document={name:jl(y=d.Jt,(E=s).key),fields:E.data.value.mapValue.fields,updateTime:Sc(y,E.version.toTimestamp())};else if(s.isNoDocument())p.noDocument={path:l.path.toArray(),readTime:Oc(s.version)};else{if(!s.isUnknownDocument())return xi();p.unknownDocument={path:l.path.toArray(),version:Oc(s.version)}}var y,E;return p}function Du(d){const s=d.toTimestamp();return[s.seconds,s.nanoseconds]}function Oc(d){const s=d.toTimestamp();return{seconds:s.seconds,nanoseconds:s.nanoseconds}}function Su(d){const s=new Ji(d.seconds,d.nanoseconds);return Gi.fromTimestamp(s)}function xr(d,s){const l=(s.baseMutations||[]).map(E=>Tl(d.Jt,E));for(let E=0;E<s.mutations.length-1;++E){const L=s.mutations[E];E+1<s.mutations.length&&void 0!==s.mutations[E+1].transform&&(L.updateTransforms=s.mutations[E+1].transform.fieldTransforms,s.mutations.splice(E+1,1),++E)}const p=s.mutations.map(E=>Tl(d.Jt,E)),y=Ji.fromMillis(s.localWriteTimeMs);return new $h(s.batchId,y,l,p)}function Ru(d){const s=Su(d.readTime),l=void 0!==d.lastLimboFreeSnapshotVersion?Su(d.lastLimboFreeSnapshotVersion):Gi.min();let p;var y;return void 0!==d.query.documents?(Xi(1===(y=d.query).documents.length),p=tl(gl(ua(y.documents[0])))):p=tl(sl(d.query)),new Ic(p,d.targetId,0,d.lastListenSequenceNumber,s,l,jo.fromBase64String(d.resumeToken))}function um(d,s){const l=Oc(s.snapshotVersion),p=Oc(s.lastLimboFreeSnapshotVersion);let y;y=fn(s.target)?jh(d.Jt,s.target):bu(d.Jt,s.target);const E=s.resumeToken.toBase64();return{targetId:s.targetId,canonicalId:ye(s.target),readTime:l,resumeToken:E,lastListenSequenceNumber:s.sequenceNumber,lastLimboFreeSnapshotVersion:p,query:y}}function jp(d){const s=sl({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?nl(s,s.limit,"L"):s}function zp(d,s){return new Kh(s.largestBatchId,Tl(d.Jt,s.overlayMutation))}function Jf(d,s){const l=s.path.lastSegment();return[d,_s(s.path.popLast()),l]}class eg{getBundleMetadata(s,l){return tg(s).get(l).next(p=>{if(p)return{id:(y=p).bundleId,createTime:Su(y.createTime),version:y.version};var y})}saveBundleMetadata(s,l){return tg(s).put({bundleId:(p=l).id,createTime:Oc(qs(p.createTime)),version:p.version});var p}getNamedQuery(s,l){return Yh(s).get(l).next(p=>{if(p)return{name:(y=p).name,query:jp(y.bundledQuery),readTime:Su(y.readTime)};var y})}saveNamedQuery(s,l){return Yh(s).put({name:(p=l).name,readTime:Oc(qs(p.readTime)),bundledQuery:p.bundledQuery});var p}}function tg(d){return ca(d,"bundles")}function Yh(d){return ca(d,"namedQueries")}class qd{constructor(s,l){this.M=s,this.userId=l}static Yt(s,l){return new qd(s,l.uid||"")}getOverlay(s,l){return ju(s).get(Jf(this.userId,l)).next(p=>p?zp(this.M,p):null)}saveOverlays(s,l,p){const y=[];return p.forEach((E,L)=>{const J=new Kh(l,L);y.push(this.Xt(s,J))}),kn.waitFor(y)}removeOverlaysForBatchId(s,l,p){const y=new Set;l.forEach(L=>y.add(_s(L.getCollectionPath())));const E=[];return y.forEach(L=>{const J=IDBKeyRange.bound([this.userId,L,p],[this.userId,L,p+1],!1,!0);E.push(ju(s).Qt("collectionPathOverlayIndex",J))}),kn.waitFor(E)}getOverlaysForCollection(s,l,p){const y=Ul(),E=_s(l),L=IDBKeyRange.bound([this.userId,E,p],[this.userId,E,Number.POSITIVE_INFINITY],!0);return ju(s).qt("collectionPathOverlayIndex",L).next(J=>{for(const Te of J){const He=zp(this.M,Te);y.set(He.getKey(),He)}return y})}getOverlaysForCollectionGroup(s,l,p,y){const E=Ul();let L;const J=IDBKeyRange.bound([this.userId,l,p],[this.userId,l,Number.POSITIVE_INFINITY],!0);return ju(s).Wt({index:"collectionGroupOverlayIndex",range:J},(Te,He,It)=>{const Yt=zp(this.M,He);E.size()<y||Yt.largestBatchId===L?(E.set(Yt.getKey(),Yt),L=Yt.largestBatchId):It.done()}).next(()=>E)}Xt(s,l){return ju(s).put(function(p,y,E){const[L,J,Te]=Jf(y,E.mutation.key);return{userId:y,collectionPath:J,documentId:Te,collectionGroup:E.mutation.key.getCollectionGroup(),largestBatchId:E.largestBatchId,overlayMutation:wu(p.Jt,E.mutation)}}(this.M,this.userId,l))}}function ju(d){return ca(d,"documentOverlays")}class zu{constructor(){}Zt(s,l){this.te(s,l),l.ee()}te(s,l){if("nullValue"in s)this.ne(l,5);else if("booleanValue"in s)this.ne(l,10),l.se(s.booleanValue?1:0);else if("integerValue"in s)this.ne(l,15),l.se(Cr(s.integerValue));else if("doubleValue"in s){const p=Cr(s.doubleValue);isNaN(p)?this.ne(l,13):(this.ne(l,15),fl(p)?l.se(0):l.se(p))}else if("timestampValue"in s){const p=s.timestampValue;this.ne(l,20),"string"==typeof p?l.ie(p):(l.ie(`${p.seconds||""}`),l.se(p.nanos||0))}else if("stringValue"in s)this.re(s.stringValue,l),this.oe(l);else if("bytesValue"in s)this.ne(l,30),l.ue(ms(s.bytesValue)),this.oe(l);else if("referenceValue"in s)this.ae(s.referenceValue,l);else if("geoPointValue"in s){const p=s.geoPointValue;this.ne(l,45),l.se(p.latitude||0),l.se(p.longitude||0)}else"mapValue"in s?Yi(s)?this.ne(l,Number.MAX_SAFE_INTEGER):(this.ce(s.mapValue,l),this.oe(l)):"arrayValue"in s?(this.he(s.arrayValue,l),this.oe(l)):xi()}re(s,l){this.ne(l,25),this.le(s,l)}le(s,l){l.ie(s)}ce(s,l){const p=s.fields||{};this.ne(l,55);for(const y of Object.keys(p))this.re(y,l),this.te(p[y],l)}he(s,l){const p=s.values||[];this.ne(l,50);for(const y of p)this.te(y,l)}ae(s,l){this.ne(l,37),Ci.fromName(s).path.forEach(p=>{this.ne(l,60),this.le(p,l)})}ne(s,l){s.se(l)}oe(s){s.se(2)}}function cm(d){if(0===d)return 8;let s=0;return d>>4==0&&(s+=4,d<<=4),d>>6==0&&(s+=2,d<<=2),d>>7==0&&(s+=1),s}function $p(d){const s=64-function(l){let p=0;for(let y=0;y<8;++y){const E=cm(255&l[y]);if(p+=E,8!==E)break}return p}(d);return Math.ceil(s/8)}zu.fe=new zu;class Zh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(s){const l=s[Symbol.iterator]();let p=l.next();for(;!p.done;)this._e(p.value),p=l.next();this.we()}me(s){const l=s[Symbol.iterator]();let p=l.next();for(;!p.done;)this.ge(p.value),p=l.next();this.ye()}pe(s){for(const l of s){const p=l.charCodeAt(0);if(p<128)this._e(p);else if(p<2048)this._e(960|p>>>6),this._e(128|63&p);else if(l<"\ud800"||"\udbff"<l)this._e(480|p>>>12),this._e(128|63&p>>>6),this._e(128|63&p);else{const y=l.codePointAt(0);this._e(240|y>>>18),this._e(128|63&y>>>12),this._e(128|63&y>>>6),this._e(128|63&y)}}this.we()}Ie(s){for(const l of s){const p=l.charCodeAt(0);if(p<128)this.ge(p);else if(p<2048)this.ge(960|p>>>6),this.ge(128|63&p);else if(l<"\ud800"||"\udbff"<l)this.ge(480|p>>>12),this.ge(128|63&p>>>6),this.ge(128|63&p);else{const y=l.codePointAt(0);this.ge(240|y>>>18),this.ge(128|63&y>>>12),this.ge(128|63&y>>>6),this.ge(128|63&y)}}this.ye()}Te(s){const l=this.Ee(s),p=$p(l);this.Ae(1+p),this.buffer[this.position++]=255&p;for(let y=l.length-p;y<l.length;++y)this.buffer[this.position++]=255&l[y]}Re(s){const l=this.Ee(s),p=$p(l);this.Ae(1+p),this.buffer[this.position++]=~(255&p);for(let y=l.length-p;y<l.length;++y)this.buffer[this.position++]=~(255&l[y])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(s){this.Ae(s.length),this.buffer.set(s,this.position),this.position+=s.length}Se(){return this.buffer.slice(0,this.position)}Ee(s){const l=function(y){const E=new DataView(new ArrayBuffer(8));return E.setFloat64(0,y,!1),new Uint8Array(E.buffer)}(s),p=0!=(128&l[0]);l[0]^=p?255:128;for(let y=1;y<l.length;++y)l[y]^=p?255:0;return l}_e(s){const l=255&s;0===l?(this.be(0),this.be(255)):255===l?(this.be(255),this.be(0)):this.be(l)}ge(s){const l=255&s;0===l?(this.ve(0),this.ve(255)):255===l?(this.ve(255),this.ve(0)):this.ve(s)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(s){this.Ae(1),this.buffer[this.position++]=s}ve(s){this.Ae(1),this.buffer[this.position++]=~s}Ae(s){const l=s+this.position;if(l<=this.buffer.length)return;let p=2*this.buffer.length;p<l&&(p=l);const y=new Uint8Array(p);y.set(this.buffer),this.buffer=y}}class Fv{constructor(s){this.De=s}ue(s){this.De.de(s)}ie(s){this.De.pe(s)}se(s){this.De.Te(s)}ee(){this.De.Pe()}}class dm{constructor(s){this.De=s}ue(s){this.De.me(s)}ie(s){this.De.Ie(s)}se(s){this.De.Re(s)}ee(){this.De.Ve()}}class Qd{constructor(){this.De=new Zh,this.Ce=new Fv(this.De),this.xe=new dm(this.De)}seed(s){this.De.seed(s)}Ne(s){return 0===s?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Mc{constructor(s,l,p,y){this.indexId=s,this.documentKey=l,this.arrayValue=p,this.directionalValue=y}ke(){const s=this.directionalValue.length,l=0===s||255===this.directionalValue[s-1]?s+1:s,p=new Uint8Array(l);return p.set(this.directionalValue,0),l!==s?p.set([0],this.directionalValue.length):++p[p.length-1],new Mc(this.indexId,this.documentKey,this.arrayValue,p)}}function xc(d,s){let l=d.indexId-s.indexId;return 0!==l?l:(l=Kp(d.arrayValue,s.arrayValue),0!==l?l:(l=Kp(d.directionalValue,s.directionalValue),0!==l?l:Ci.comparator(d.documentKey,s.documentKey)))}function Kp(d,s){for(let l=0;l<d.length&&l<s.length;++l){const p=d[l]-s[l];if(0!==p)return p}return d.length-s.length}class hm{constructor(s){this.collectionId=null!=s.collectionGroup?s.collectionGroup:s.path.lastSegment(),this.Me=s.orderBy,this.Oe=[];for(const l of s.filters){const p=l;p.S()?this.Fe=p:this.Oe.push(p)}}$e(s){const l=Ta(s);if(void 0!==l&&!this.Be(l))return!1;const p=El(s);let y=0,E=0;for(;y<p.length&&this.Be(p[y]);++y);if(y===p.length)return!0;if(void 0!==this.Fe){const L=p[y];if(!this.Le(this.Fe,L)||!this.Ue(this.Me[E++],L))return!1;++y}for(;y<p.length;++y){const L=p[y];if(E>=this.Me.length||!this.Ue(this.Me[E++],L))return!1}return!0}Be(s){for(const l of this.Oe)if(this.Le(l,s))return!0;return!1}Le(s,l){return!(void 0===s||!s.field.isEqual(l.fieldPath))&&2===l.kind==("array-contains"===s.op||"array-contains-any"===s.op)}Ue(s,l){return!!s.field.isEqual(l.fieldPath)&&(0===l.kind&&"asc"===s.dir||1===l.kind&&"desc"===s.dir)}}class Ry{constructor(){this.qe=new $l}addToCollectionParentIndex(s,l){return this.qe.add(l),kn.resolve()}getCollectionParents(s,l){return kn.resolve(this.qe.getEntries(l))}addFieldIndex(s,l){return kn.resolve()}deleteFieldIndex(s,l){return kn.resolve()}getDocumentsMatchingTarget(s,l){return kn.resolve(null)}getFieldIndex(s,l){return kn.resolve(null)}getFieldIndexes(s,l){return kn.resolve([])}getNextCollectionGroupToUpdate(s){return kn.resolve(null)}updateCollectionGroup(s,l,p){return kn.resolve()}updateIndexEntries(s,l){return kn.resolve()}}class $l{constructor(){this.index={}}add(s){const l=s.lastSegment(),p=s.popLast(),y=this.index[l]||new Lo(jr.comparator),E=!y.has(p);return this.index[l]=y.add(p),E}has(s){const l=s.lastSegment(),p=s.popLast(),y=this.index[l];return y&&y.has(p)}getEntries(s){return(this.index[s]||new Lo(jr.comparator)).toArray()}}const Xd=new Uint8Array(0);class pm{constructor(s,l){this.user=s,this.databaseId=l,this.Ke=new $l,this.Ge=new Rl(p=>ye(p),(p,y)=>Rt(p,y)),this.uid=s.uid||""}addToCollectionParentIndex(s,l){if(!this.Ke.has(l)){const p=l.lastSegment(),y=l.popLast();s.addOnCommittedListener(()=>{this.Ke.add(l)});const E={collectionId:p,parent:_s(y)};return fm(s).put(E)}return kn.resolve()}getCollectionParents(s,l){const p=[],y=IDBKeyRange.bound([l,""],[Zr(l),""],!1,!0);return fm(s).qt(y).next(E=>{for(const L of E){if(L.collectionId!==l)break;p.push(Il(L.parent))}return p})}addFieldIndex(s,l){const p=ll(s),y={indexId:(E=l).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var E;return delete y.indexId,p.add(y).next()}deleteFieldIndex(s,l){const p=ll(s),y=Kl(s),E=da(s);return p.delete(l.indexId).next(()=>y.delete(IDBKeyRange.bound([l.indexId],[l.indexId+1],!1,!0))).next(()=>E.delete(IDBKeyRange.bound([l.indexId],[l.indexId+1],!1,!0)))}getDocumentsMatchingTarget(s,l){const p=da(s);let y=!0;const E=new Map;return kn.forEach(this.Qe(l),L=>this.getFieldIndex(s,L).next(J=>{y&&(y=!!J),E.set(L,J)})).next(()=>{if(y){let L=go();const J=[];return kn.forEach(E,(Te,He)=>{var It;Jn("IndexedDbIndexManager",`Using index ${It=Te,`id=${It.indexId}|cg=${It.collectionGroup}|f=${It.fields.map(As=>`${As.fieldPath}:${As.kind}`).join(",")}`} to execute ${ye(l)}`);const Yt=function(As,Va){const Fs=Ta(Va);if(void 0===Fs)return null;for(const Ns of In(As,Fs.fieldPath))switch(Ns.op){case"array-contains-any":return Ns.value.arrayValue.values||[];case"array-contains":return[Ns.value]}return null}(He,Te),Tn=function(As,Va){const Fs=new Map;for(const Ns of El(Va))for(const Xa of In(As,Ns.fieldPath))switch(Xa.op){case"==":case"in":Fs.set(Ns.fieldPath.canonicalString(),Xa.value);break;case"not-in":case"!=":return Fs.set(Ns.fieldPath.canonicalString(),Xa.value),Array.from(Fs.values())}return null}(He,Te),ii=function(As,Va){const Fs=[];let Ns=!0;for(const Xa of El(Va)){const lu=0===Xa.kind?li(As,Xa.fieldPath,As.startAt):Fi(As,Xa.fieldPath,As.startAt);if(!lu.value)return null;Fs.push(lu.value),Ns&&(Ns=lu.inclusive)}return new cs(Fs,Ns)}(He,Te),ai=function(As,Va){const Fs=[];let Ns=!0;for(const Xa of El(Va)){const lu=0===Xa.kind?Fi(As,Xa.fieldPath,As.endAt):li(As,Xa.fieldPath,As.endAt);if(!lu.value)return null;Fs.push(lu.value),Ns&&(Ns=lu.inclusive)}return new cs(Fs,Ns)}(He,Te),ji=this.je(Te,He,ii),Vr=this.je(Te,He,ai),Rs=this.We(Te,He,Tn),Ts=this.ze(Te.indexId,Yt,ji,!!ii&&ii.inclusive,Vr,!!ai&&ai.inclusive,Rs);return kn.forEach(Ts,As=>p.Gt(As,l.limit).next(Va=>{Va.forEach(Fs=>{const Ns=Ci.fromSegments(Fs.documentKey);L.has(Ns)||(L=L.add(Ns),J.push(Ns))})}))}).next(()=>J)}return kn.resolve(null)})}Qe(s){let l=this.Ge.get(s);return l||(l=[s],this.Ge.set(s,l),l)}ze(s,l,p,y,E,L,J){const Te=(null!=l?l.length:1)*Math.max(null!=p?p.length:1,null!=E?E.length:1),He=Te/(null!=l?l.length:1),It=[];for(let Yt=0;Yt<Te;++Yt){const Tn=l?this.He(l[Yt/He]):Xd,ii=p?this.Je(s,Tn,p[Yt%He],y):this.Ye(s),ai=E?this.Xe(s,Tn,E[Yt%He],L):this.Ye(s+1);It.push(...this.createRange(ii,ai,J.map(ji=>this.Je(s,Tn,ji,!0))))}return It}Je(s,l,p,y){const E=new Mc(s,Ci.empty(),l,p);return y?E:E.ke()}Xe(s,l,p,y){const E=new Mc(s,Ci.empty(),l,p);return y?E.ke():E}Ye(s){return new Mc(s,Ci.empty(),Xd,Xd)}getFieldIndex(s,l){const p=new hm(l),y=null!=l.collectionGroup?l.collectionGroup:l.path.lastSegment();return this.getFieldIndexes(s,y).next(E=>{const L=E.filter(J=>p.$e(J));return L.sort((J,Te)=>Te.fields.length-J.fields.length),L.length>0?L[0]:null})}Ze(s,l){const p=new Qd;for(const y of El(s)){const E=l.data.field(y.fieldPath);if(null==E)return null;const L=p.Ne(y.kind);zu.fe.Zt(E,L)}return p.Se()}He(s){const l=new Qd;return zu.fe.Zt(s,l.Ne(0)),l.Se()}tn(s,l){const p=new Qd;return zu.fe.Zt(ce(this.databaseId,l),p.Ne(function(y){const E=El(y);return 0===E.length?0:E[E.length-1].kind}(s))),p.Se()}We(s,l,p){if(null===p)return[];let y=[];y.push(new Qd);let E=0;for(const L of El(s)){const J=p[E++];for(const Te of y)if(this.en(l,L.fieldPath)&&X(J))y=this.nn(y,L,J);else{const He=Te.Ne(L.kind);zu.fe.Zt(J,He)}}return this.sn(y)}je(s,l,p){return null==p?null:this.We(s,l,p.position)}sn(s){const l=[];for(let p=0;p<s.length;++p)l[p]=s[p].Se();return l}nn(s,l,p){const y=[...s],E=[];for(const L of p.arrayValue.values||[])for(const J of y){const Te=new Qd;Te.seed(J.Se()),zu.fe.Zt(L,Te.Ne(l.kind)),E.push(Te)}return E}en(s,l){return!!s.filters.find(p=>p instanceof qi&&p.field.isEqual(l)&&("in"===p.op||"not-in"===p.op))}getFieldIndexes(s,l){const p=ll(s),y=Kl(s);return(l?p.qt("collectionGroupIndex",IDBKeyRange.bound(l,l)):p.qt()).next(E=>{const L=[];return kn.forEach(E,J=>y.get([J.indexId,this.uid]).next(Te=>{L.push(function(He,It){const Yt=It?new pc(It.sequenceNumber,new Na(Su(It.readTime),new Ci(Il(It.documentKey)),It.largestBatchId)):pc.empty(),Tn=He.fields.map(([ii,ai])=>new Ca(gs.fromServerFormat(ii),ai));return new No(He.indexId,He.collectionGroup,Tn,Yt)}(J,Te))})).next(()=>L)})}getNextCollectionGroupToUpdate(s){return this.getFieldIndexes(s).next(l=>0===l.length?null:(l.sort((p,y)=>{const E=p.indexState.sequenceNumber-y.indexState.sequenceNumber;return 0!==E?E:di(p.collectionGroup,y.collectionGroup)}),l[0].collectionGroup))}updateCollectionGroup(s,l,p){const y=ll(s),E=Kl(s);return this.rn(s).next(L=>y.qt("collectionGroupIndex",IDBKeyRange.bound(l,l)).next(J=>kn.forEach(J,Te=>{return E.put({indexId:Te.indexId,uid:this.user.uid||"",sequenceNumber:L,readTime:Oc((Tn=p).readTime),documentKey:_s(Tn.documentKey.path),largestBatchId:Tn.largestBatchId});var Tn})))}updateIndexEntries(s,l){const p=new Map;return kn.forEach(l,(y,E)=>{const L=p.get(y.collectionGroup);return(L?kn.resolve(L):this.getFieldIndexes(s,y.collectionGroup)).next(J=>(p.set(y.collectionGroup,J),kn.forEach(J,Te=>this.on(s,y,Te).next(He=>{const It=this.un(E,Te);return He.isEqual(It)?kn.resolve():this.an(s,E,Te,He,It)}))))})}cn(s,l,p,y){return da(s).put({indexId:y.indexId,uid:this.uid,arrayValue:y.arrayValue,directionalValue:y.directionalValue,orderedDocumentKey:this.tn(p,l.key),documentKey:l.key.path.toArray()})}hn(s,l,p,y){return da(s).delete([y.indexId,this.uid,y.arrayValue,y.directionalValue,this.tn(p,l.key),l.key.path.toArray()])}on(s,l,p){const y=da(s);let E=new Lo(xc);return y.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([p.indexId,this.uid,this.tn(p,l)])},(L,J)=>{E=E.add(new Mc(p.indexId,l,J.arrayValue,J.directionalValue))}).next(()=>E)}un(s,l){let p=new Lo(xc);const y=this.Ze(l,s);if(null==y)return p;const E=Ta(l);if(null!=E){const L=s.data.field(E.fieldPath);if(X(L))for(const J of L.arrayValue.values||[])p=p.add(new Mc(l.indexId,s.key,this.He(J),y))}else p=p.add(new Mc(l.indexId,s.key,Xd,y));return p}an(s,l,p,y,E){Jn("IndexedDbIndexManager","Updating index entries for document '%s'",l.key);const L=[];return function(J,Te,He,It,Yt){const Tn=J.getIterator(),ii=Te.getIterator();let ai=_u(Tn),ji=_u(ii);for(;ai||ji;){let Vr=!1,Rs=!1;if(ai&&ji){const Ts=He(ai,ji);Ts<0?Rs=!0:Ts>0&&(Vr=!0)}else null!=ai?Rs=!0:Vr=!0;Vr?(It(ji),ji=_u(ii)):Rs?(Yt(ai),ai=_u(Tn)):(ai=_u(Tn),ji=_u(ii))}}(y,E,xc,J=>{L.push(this.cn(s,l,p,J))},J=>{L.push(this.hn(s,l,p,J))}),kn.waitFor(L)}rn(s){let l=1;return Kl(s).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(p,y,E)=>{E.done(),l=y.sequenceNumber+1}).next(()=>l)}createRange(s,l,p){p=p.sort((L,J)=>xc(L,J)).filter((L,J,Te)=>!J||0!==xc(L,Te[J-1]));const y=[];y.push(s);for(const L of p){const J=xc(L,s),Te=xc(L,l);if(0===J)y[0]=s.ke();else if(J>0&&Te<0)y.push(L),y.push(L.ke());else if(Te>0)break}y.push(l);const E=[];for(let L=0;L<y.length;L+=2)E.push(IDBKeyRange.bound([y[L].indexId,this.uid,y[L].arrayValue,y[L].directionalValue,Xd,[]],[y[L+1].indexId,this.uid,y[L+1].arrayValue,y[L+1].directionalValue,Xd,[]]));return E}}function fm(d){return ca(d,"collectionParents")}function da(d){return ca(d,"indexEntries")}function ll(d){return ca(d,"indexConfiguration")}function Kl(d){return ca(d,"indexState")}const ng={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class os{constructor(s,l,p){this.cacheSizeCollectionThreshold=s,this.percentileToCollect=l,this.maximumSequenceNumbersToCollect=p}static withCacheSize(s){return new os(s,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gm(d,s,l){const p=d.store("mutations"),y=d.store("documentMutations"),E=[],L=IDBKeyRange.only(l.batchId);let J=0;const Te=p.Wt({range:L},(It,Yt,Tn)=>(J++,Tn.delete()));E.push(Te.next(()=>{Xi(1===J)}));const He=[];for(const It of l.mutations){const Yt=Hp(s,It.key.path,l.batchId);E.push(y.delete(Yt)),He.push(It.key)}return kn.waitFor(E).next(()=>He)}function Yp(d){if(!d)return 0;let s;if(d.document)s=d.document;else if(d.unknownDocument)s=d.unknownDocument;else{if(!d.noDocument)throw xi();s=d.noDocument}return JSON.stringify(s).length}os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(41943040,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);class ig{constructor(s,l,p,y){this.userId=s,this.M=l,this.indexManager=p,this.referenceDelegate=y,this.ln={}}static Yt(s,l,p,y){Xi(""!==s.uid);const E=s.isAuthenticated()?s.uid:"";return new ig(E,l,p,y)}checkEmpty(s){let l=!0;const p=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fc(s).Wt({index:"userMutationsIndex",range:p},(y,E,L)=>{l=!1,L.done()}).next(()=>l)}addMutationBatch(s,l,p,y){const E=Jd(s),L=Fc(s);return L.add({}).next(J=>{Xi("number"==typeof J);const Te=new $h(J,l,p,y),He=function(Tn,ii,ai){const ji=ai.baseMutations.map(Rs=>wu(Tn.Jt,Rs)),Vr=ai.mutations.map(Rs=>wu(Tn.Jt,Rs));return{userId:ii,batchId:ai.batchId,localWriteTimeMs:ai.localWriteTime.toMillis(),baseMutations:ji,mutations:Vr}}(this.M,this.userId,Te),It=[];let Yt=new Lo((Tn,ii)=>di(Tn.canonicalString(),ii.canonicalString()));for(const Tn of y){const ii=Hp(this.userId,Tn.key.path,J);Yt=Yt.add(Tn.key.path.popLast()),It.push(L.put(He)),It.push(E.put(ii,Zf))}return Yt.forEach(Tn=>{It.push(this.indexManager.addToCollectionParentIndex(s,Tn))}),s.addOnCommittedListener(()=>{this.ln[J]=Te.keys()}),kn.waitFor(It).next(()=>Te)})}lookupMutationBatch(s,l){return Fc(s).get(l).next(p=>p?(Xi(p.userId===this.userId),xr(this.M,p)):null)}fn(s,l){return this.ln[l]?kn.resolve(this.ln[l]):this.lookupMutationBatch(s,l).next(p=>{if(p){const y=p.keys();return this.ln[l]=y,y}return null})}getNextMutationBatchAfterBatchId(s,l){const p=l+1,y=IDBKeyRange.lowerBound([this.userId,p]);let E=null;return Fc(s).Wt({index:"userMutationsIndex",range:y},(L,J,Te)=>{J.userId===this.userId&&(Xi(J.batchId>=p),E=xr(this.M,J)),Te.done()}).next(()=>E)}getHighestUnacknowledgedBatchId(s){const l=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let p=-1;return Fc(s).Wt({index:"userMutationsIndex",range:l,reverse:!0},(y,E,L)=>{p=E.batchId,L.done()}).next(()=>p)}getAllMutationBatches(s){const l=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fc(s).qt("userMutationsIndex",l).next(p=>p.map(y=>xr(this.M,y)))}getAllMutationBatchesAffectingDocumentKey(s,l){const p=Kd(this.userId,l.path),y=IDBKeyRange.lowerBound(p),E=[];return Jd(s).Wt({range:y},(L,J,Te)=>{const[He,It,Yt]=L,Tn=Il(It);if(He===this.userId&&l.path.isEqual(Tn))return Fc(s).get(Yt).next(ii=>{if(!ii)throw xi();Xi(ii.userId===this.userId),E.push(xr(this.M,ii))});Te.done()}).next(()=>E)}getAllMutationBatchesAffectingDocumentKeys(s,l){let p=new Lo(di);const y=[];return l.forEach(E=>{const L=Kd(this.userId,E.path),J=IDBKeyRange.lowerBound(L),Te=Jd(s).Wt({range:J},(He,It,Yt)=>{const[Tn,ii,ai]=He,ji=Il(ii);Tn===this.userId&&E.path.isEqual(ji)?p=p.add(ai):Yt.done()});y.push(Te)}),kn.waitFor(y).next(()=>this.dn(s,p))}getAllMutationBatchesAffectingQuery(s,l){const p=l.path,y=p.length+1,E=Kd(this.userId,p),L=IDBKeyRange.lowerBound(E);let J=new Lo(di);return Jd(s).Wt({range:L},(Te,He,It)=>{const[Yt,Tn,ii]=Te,ai=Il(Tn);Yt===this.userId&&p.isPrefixOf(ai)?ai.length===y&&(J=J.add(ii)):It.done()}).next(()=>this.dn(s,J))}dn(s,l){const p=[],y=[];return l.forEach(E=>{y.push(Fc(s).get(E).next(L=>{if(null===L)throw xi();Xi(L.userId===this.userId),p.push(xr(this.M,L))}))}),kn.waitFor(y).next(()=>p)}removeMutationBatch(s,l){return gm(s.Ht,this.userId,l).next(p=>(s.addOnCommittedListener(()=>{this._n(l.batchId)}),kn.forEach(p,y=>this.referenceDelegate.markPotentiallyOrphaned(s,y))))}_n(s){delete this.ln[s]}performConsistencyCheck(s){return this.checkEmpty(s).next(l=>{if(!l)return kn.resolve();const p=IDBKeyRange.lowerBound([this.userId]),y=[];return Jd(s).Wt({range:p},(E,L,J)=>{if(E[0]===this.userId){const Te=Il(E[1]);y.push(Te)}else J.done()}).next(()=>{Xi(0===y.length)})})}containsKey(s,l){return Pc(s,this.userId,l)}wn(s){return rg(s).get(this.userId).next(l=>l||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pc(d,s,l){const p=Kd(s,l.path),y=p[1],E=IDBKeyRange.lowerBound(p);let L=!1;return Jd(d).Wt({range:E,jt:!0},(J,Te,He)=>{const[It,Yt,Tn]=J;It===s&&Yt===y&&(L=!0),He.done()}).next(()=>L)}function Fc(d){return ca(d,"mutations")}function Jd(d){return ca(d,"documentMutations")}function rg(d){return ca(d,"mutationQueues")}class Or{constructor(s){this.mn=s}next(){return this.mn+=2,this.mn}static gn(){return new Or(0)}static yn(){return new Or(-1)}}class mm{constructor(s,l){this.referenceDelegate=s,this.M=l}allocateTargetId(s){return this.pn(s).next(l=>{const p=new Or(l.highestTargetId);return l.highestTargetId=p.next(),this.In(s,l).next(()=>l.highestTargetId)})}getLastRemoteSnapshotVersion(s){return this.pn(s).next(l=>Gi.fromTimestamp(new Ji(l.lastRemoteSnapshotVersion.seconds,l.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(s){return this.pn(s).next(l=>l.highestListenSequenceNumber)}setTargetsMetadata(s,l,p){return this.pn(s).next(y=>(y.highestListenSequenceNumber=l,p&&(y.lastRemoteSnapshotVersion=p.toTimestamp()),l>y.highestListenSequenceNumber&&(y.highestListenSequenceNumber=l),this.In(s,y)))}addTargetData(s,l){return this.Tn(s,l).next(()=>this.pn(s).next(p=>(p.targetCount+=1,this.En(l,p),this.In(s,p))))}updateTargetData(s,l){return this.Tn(s,l)}removeTargetData(s,l){return this.removeMatchingKeysForTargetId(s,l.targetId).next(()=>Nc(s).delete(l.targetId)).next(()=>this.pn(s)).next(p=>(Xi(p.targetCount>0),p.targetCount-=1,this.In(s,p)))}removeTargets(s,l,p){let y=0;const E=[];return Nc(s).Wt((L,J)=>{const Te=Ru(J);Te.sequenceNumber<=l&&null===p.get(Te.targetId)&&(y++,E.push(this.removeTargetData(s,Te)))}).next(()=>kn.waitFor(E)).next(()=>y)}forEachTarget(s,l){return Nc(s).Wt((p,y)=>{const E=Ru(y);l(E)})}pn(s){return og(s).get("targetGlobalKey").next(l=>(Xi(null!==l),l))}In(s,l){return og(s).put("targetGlobalKey",l)}Tn(s,l){return Nc(s).put(um(this.M,l))}En(s,l){let p=!1;return s.targetId>l.highestTargetId&&(l.highestTargetId=s.targetId,p=!0),s.sequenceNumber>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=s.sequenceNumber,p=!0),p}getTargetCount(s){return this.pn(s).next(l=>l.targetCount)}getTargetData(s,l){const p=ye(l),y=IDBKeyRange.bound([p,Number.NEGATIVE_INFINITY],[p,Number.POSITIVE_INFINITY]);let E=null;return Nc(s).Wt({range:y,index:"queryTargetsIndex"},(L,J,Te)=>{const He=Ru(J);Rt(l,He.target)&&(E=He,Te.done())}).next(()=>E)}addMatchingKeys(s,l,p){const y=[],E=Yl(s);return l.forEach(L=>{const J=_s(L.path);y.push(E.put({targetId:p,path:J})),y.push(this.referenceDelegate.addReference(s,p,L))}),kn.waitFor(y)}removeMatchingKeys(s,l,p){const y=Yl(s);return kn.forEach(l,E=>{const L=_s(E.path);return kn.waitFor([y.delete([p,L]),this.referenceDelegate.removeReference(s,p,E)])})}removeMatchingKeysForTargetId(s,l){const p=Yl(s),y=IDBKeyRange.bound([l],[l+1],!1,!0);return p.delete(y)}getMatchingKeysForTargetId(s,l){const p=IDBKeyRange.bound([l],[l+1],!1,!0),y=Yl(s);let E=go();return y.Wt({range:p,jt:!0},(L,J,Te)=>{const He=Il(L[1]),It=new Ci(He);E=E.add(It)}).next(()=>E)}containsKey(s,l){const p=_s(l.path),y=IDBKeyRange.bound([p],[Zr(p)],!1,!0);let E=0;return Yl(s).Wt({index:"documentTargetsIndex",jt:!0,range:y},([L,J],Te,He)=>{0!==L&&(E++,He.done())}).next(()=>E>0)}Et(s,l){return Nc(s).get(l).next(p=>p?Ru(p):null)}}function Nc(d){return ca(d,"targets")}function og(d){return ca(d,"targetGlobal")}function Yl(d){return ca(d,"targetDocuments")}function ba(d){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,v.Z)(function*(d){if(d.code!==vn.FAILED_PRECONDITION||d.message!==Yd)throw d;Jn("LocalStore","Unexpectedly lost primary lease")}),Zp.apply(this,arguments)}function vm([d,s],[l,p]){const y=di(d,l);return 0===y?di(s,p):y}class qh{constructor(s){this.An=s,this.buffer=new Lo(vm),this.Rn=0}Pn(){return++this.Rn}bn(s){const l=[s,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(l);else{const p=this.buffer.last();vm(l,p)<0&&(this.buffer=this.buffer.delete(p).add(l))}}get maxValue(){return this.buffer.last()[0]}}class $u{constructor(s,l){this.garbageCollector=s,this.asyncQueue=l,this.Vn=!1,this.vn=null}start(s){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(s)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(s){var l=this;const p=this.Vn?3e5:6e4;Jn("LruGarbageCollector",`Garbage collection scheduled in ${p}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",p,(0,v.Z)(function*(){l.vn=null,l.Vn=!0;try{yield s.collectGarbage(l.garbageCollector)}catch(y){Eu(y)?Jn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",y):yield ba(y)}yield l.Sn(s)}))}}class sg{constructor(s,l){this.Dn=s,this.params=l}calculateTargetCount(s,l){return this.Dn.Cn(s).next(p=>Math.floor(l/100*p))}nthSequenceNumber(s,l){if(0===l)return kn.resolve(Wt.A);const p=new qh(l);return this.Dn.forEachTarget(s,y=>p.bn(y.sequenceNumber)).next(()=>this.Dn.xn(s,y=>p.bn(y))).next(()=>p.maxValue)}removeTargets(s,l,p){return this.Dn.removeTargets(s,l,p)}removeOrphanedDocuments(s,l){return this.Dn.removeOrphanedDocuments(s,l)}collect(s,l){return-1===this.params.cacheSizeCollectionThreshold?(Jn("LruGarbageCollector","Garbage collection skipped; disabled"),kn.resolve(ng)):this.getCacheSize(s).next(p=>p<this.params.cacheSizeCollectionThreshold?(Jn("LruGarbageCollector",`Garbage collection skipped; Cache size ${p} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ng):this.Nn(s,l))}getCacheSize(s){return this.Dn.getCacheSize(s)}Nn(s,l){let p,y,E,L,J,Te,He;const It=Date.now();return this.calculateTargetCount(s,this.params.percentileToCollect).next(Yt=>(Yt>this.params.maximumSequenceNumbersToCollect?(Jn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Yt}`),y=this.params.maximumSequenceNumbersToCollect):y=Yt,L=Date.now(),this.nthSequenceNumber(s,y))).next(Yt=>(p=Yt,J=Date.now(),this.removeTargets(s,p,l))).next(Yt=>(E=Yt,Te=Date.now(),this.removeOrphanedDocuments(s,p))).next(Yt=>(He=Date.now(),Ua()<=q.in.DEBUG&&Jn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${L-It}ms\n\tDetermined least recently used ${y} in `+(J-L)+`ms\n\tRemoved ${E} targets in `+(Te-J)+`ms\n\tRemoved ${Yt} documents in `+(He-Te)+`ms\nTotal Duration: ${He-It}ms`),kn.resolve({didRun:!0,sequenceNumbersCollected:y,targetsRemoved:E,documentsRemoved:Yt})))}}class ag{constructor(s,l){this.db=s,this.garbageCollector=new sg(this,l)}Cn(s){const l=this.kn(s);return this.db.getTargetCache().getTargetCount(s).next(p=>l.next(y=>p+y))}kn(s){let l=0;return this.xn(s,p=>{l++}).next(()=>l)}forEachTarget(s,l){return this.db.getTargetCache().forEachTarget(s,l)}xn(s,l){return this.Mn(s,(p,y)=>l(y))}addReference(s,l,p){return Lc(s,p)}removeReference(s,l,p){return Lc(s,p)}removeTargets(s,l,p){return this.db.getTargetCache().removeTargets(s,l,p)}markPotentiallyOrphaned(s,l){return Lc(s,l)}On(s,l){return function(p,y){let E=!1;return rg(p).zt(L=>Pc(p,L,y).next(J=>(J&&(E=!0),kn.resolve(!J)))).next(()=>E)}(s,l)}removeOrphanedDocuments(s,l){const p=this.db.getRemoteDocumentCache().newChangeBuffer(),y=[];let E=0;return this.Mn(s,(L,J)=>{if(J<=l){const Te=this.On(s,L).next(He=>{if(!He)return E++,p.getEntry(s,L).next(()=>(p.removeEntry(L,Gi.min()),Yl(s).delete([0,_s(L.path)])))});y.push(Te)}}).next(()=>kn.waitFor(y)).next(()=>p.apply(s)).next(()=>E)}removeTarget(s,l){const p=l.withSequenceNumber(s.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(s,p)}updateLimboDocument(s,l){return Lc(s,l)}Mn(s,l){const p=Yl(s);let y,E=Wt.A;return p.Wt({index:"documentTargetsIndex"},([L,J],{path:Te,sequenceNumber:He})=>{0===L?(E!==Wt.A&&l(new Ci(Il(y)),E),E=He,y=Te):E=Wt.A}).next(()=>{E!==Wt.A&&l(new Ci(Il(y)),E)})}getCacheSize(s){return this.db.getRemoteDocumentCache().getSize(s)}}function Lc(d,s){return Yl(d).put((p=d.currentSequenceNumber,{targetId:0,path:_s(s.path),sequenceNumber:p}));var p}class Nv{constructor(){this.changes=new Rl(s=>s.toString(),(s,l)=>s.isEqual(l)),this.changesApplied=!1}addEntry(s){this.assertNotApplied(),this.changes.set(s.key,s)}removeEntry(s,l){this.assertNotApplied(),this.changes.set(s,qr.newInvalidDocument(s).setReadTime(l))}getEntry(s,l){this.assertNotApplied();const p=this.changes.get(l);return void 0!==p?kn.resolve(p):this.getFromCache(s,l)}getEntries(s,l){return this.getAllFromCache(s,l)}apply(s){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(s)}assertNotApplied(){}}class kc{constructor(s){this.M=s}setIndexManager(s){this.indexManager=s}addEntry(s,l,p){return Zl(s).put(p)}removeEntry(s,l,p){return Zl(s).delete(function(y,E){const L=y.path.toArray();return[L.slice(0,L.length-2),L[L.length-2],Du(E),L[L.length-1]]}(l,p))}updateMetadata(s,l){return this.getMetadata(s).next(p=>(p.byteSize+=l,this.Fn(s,p)))}getEntry(s,l){let p=qr.newInvalidDocument(l);return Zl(s).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(pd(l))},(y,E)=>{p=this.$n(l,E)}).next(()=>p)}Bn(s,l){let p={size:0,document:qr.newInvalidDocument(l)};return Zl(s).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(pd(l))},(y,E)=>{p={document:this.$n(l,E),size:Yp(E)}}).next(()=>p)}getEntries(s,l){let p=ka();return this.Ln(s,l,(y,E)=>{const L=this.$n(y,E);p=p.insert(y,L)}).next(()=>p)}Un(s,l){let p=ka(),y=new to(Ci.comparator);return this.Ln(s,l,(E,L)=>{const J=this.$n(E,L);p=p.insert(E,J),y=y.insert(E,Yp(L))}).next(()=>({documents:p,qn:y}))}Ln(s,l,p){if(l.isEmpty())return kn.resolve();let y=new Lo(Qp);l.forEach(Te=>y=y.add(Te));const E=IDBKeyRange.bound(pd(y.first()),pd(y.last())),L=y.getIterator();let J=L.getNext();return Zl(s).Wt({index:"documentKeyIndex",range:E},(Te,He,It)=>{const Yt=Ci.fromSegments([...He.prefixPath,He.collectionGroup,He.documentId]);for(;J&&Qp(J,Yt)<0;)p(J,null),J=L.getNext();J&&J.isEqual(Yt)&&(p(J,He),J=L.hasNext()?L.getNext():null),J?It.Ut(pd(J)):It.done()}).next(()=>{for(;J;)p(J,null),J=L.hasNext()?L.getNext():null})}getAllFromCollection(s,l,p){const y=[l.popLast().toArray(),l.lastSegment(),Du(p.readTime),p.documentKey.path.isEmpty()?"":p.documentKey.path.lastSegment()],E=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zl(s).qt(IDBKeyRange.bound(y,E,!0)).next(L=>{let J=ka();for(const Te of L){const He=this.$n(Ci.fromSegments(Te.prefixPath.concat(Te.collectionGroup,Te.documentId)),Te);J=J.insert(He.key,He)}return J})}getAllFromCollectionGroup(s,l,p,y){let E=ka();const L=qp(l,p),J=qp(l,Na.max());return Zl(s).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(L,J,!0)},(Te,He,It)=>{const Yt=this.$n(Ci.fromSegments(He.prefixPath.concat(He.collectionGroup,He.documentId)),He);E=E.insert(Yt.key,Yt),E.size===y&&It.done()}).next(()=>E)}newChangeBuffer(s){return new Ty(this,!!s&&s.trackRemovals)}getSize(s){return this.getMetadata(s).next(l=>l.byteSize)}getMetadata(s){return Qh(s).get("remoteDocumentGlobalKey").next(l=>(Xi(!!l),l))}Fn(s,l){return Qh(s).put("remoteDocumentGlobalKey",l)}$n(s,l){if(l){const p=function lm(d,s){let l;if(s.document)l=Rc(d.Jt,s.document,!!s.hasCommittedMutations);else if(s.noDocument){const p=Ci.fromSegments(s.noDocument.path),y=Su(s.noDocument.readTime);l=qr.newNoDocument(p,y),s.hasCommittedMutations&&l.setHasCommittedMutations()}else{if(!s.unknownDocument)return xi();{const p=Ci.fromSegments(s.unknownDocument.path),y=Su(s.unknownDocument.version);l=qr.newUnknownDocument(p,y)}}return s.readTime&&l.setReadTime(function(p){const y=new Ji(p[0],p[1]);return Gi.fromTimestamp(y)}(s.readTime)),l}(this.M,l);if(!p.isNoDocument()||!p.version.isEqual(Gi.min()))return p}return qr.newInvalidDocument(s)}}class Ty extends Nv{constructor(s,l){super(),this.Kn=s,this.trackRemovals=l,this.Gn=new Rl(p=>p.toString(),(p,y)=>p.isEqual(y))}applyChanges(s){const l=[];let p=0,y=new Lo((E,L)=>di(E.canonicalString(),L.canonicalString()));return this.changes.forEach((E,L)=>{const J=this.Gn.get(E);if(l.push(this.Kn.removeEntry(s,E,J.readTime)),L.isValidDocument()){const Te=Xf(this.Kn.M,L);y=y.add(E.path.popLast()),p+=Yp(Te)-J.size,l.push(this.Kn.addEntry(s,E,Te))}else if(p-=J.size,this.trackRemovals){const Te=Xf(this.Kn.M,L.convertToNoDocument(Gi.min()));l.push(this.Kn.addEntry(s,E,Te))}}),y.forEach(E=>{l.push(this.Kn.indexManager.addToCollectionParentIndex(s,E))}),l.push(this.Kn.updateMetadata(s,p)),kn.waitFor(l)}getFromCache(s,l){return this.Kn.Bn(s,l).next(p=>(this.Gn.set(l,{size:p.size,readTime:p.document.readTime}),p.document))}getAllFromCache(s,l){return this.Kn.Un(s,l).next(({documents:p,qn:y})=>(y.forEach((E,L)=>{this.Gn.set(E,{size:L,readTime:p.get(E).readTime})}),p))}}function Qh(d){return ca(d,"remoteDocumentGlobal")}function Zl(d){return ca(d,"remoteDocumentsV14")}function pd(d){const s=d.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],s[s.length-1]]}function qp(d,s){const l=s.documentKey.path.toArray();return[d,Du(s.readTime),l.slice(0,l.length-2),l.length>0?l[l.length-1]:""]}function Qp(d,s){const l=d.path.toArray(),p=s.path.toArray();let y=0;for(let E=0;E<l.length-2&&E<p.length-2;++E)if(y=di(l[E],p[E]),y)return y;return y=di(l.length,p.length),y||(y=di(l[l.length-2],p[p.length-2]),y||di(l[l.length-1],p[p.length-1]))}class lg{constructor(s){this.M=s}kt(s,l,p,y){const E=new Xs("createOrUpgrade",l);var J;p<1&&y>=1&&(s.createObjectStore("owner"),(J=s).createObjectStore("mutationQueues",{keyPath:"userId"}),J.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ac,{unique:!0}),J.createObjectStore("documentMutations"),ym(s),function(J){J.createObjectStore("remoteDocuments")}(s));let L=kn.resolve();return p<3&&y>=3&&(0!==p&&(function(J){J.deleteObjectStore("targetDocuments"),J.deleteObjectStore("targets"),J.deleteObjectStore("targetGlobal")}(s),ym(s)),L=L.next(()=>function(J){const Te=J.store("targetGlobal"),He={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gi.min().toTimestamp(),targetCount:0};return Te.put("targetGlobalKey",He)}(E))),p<4&&y>=4&&(0!==p&&(L=L.next(()=>function(J,Te){return Te.store("mutations").qt().next(He=>{J.deleteObjectStore("mutations"),J.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ac,{unique:!0});const It=Te.store("mutations"),Yt=He.map(Tn=>It.put(Tn));return kn.waitFor(Yt)})}(s,E))),L=L.next(()=>{!function(J){J.createObjectStore("clientMetadata",{keyPath:"clientId"})}(s)})),p<5&&y>=5&&(L=L.next(()=>this.Qn(E))),p<6&&y>=6&&(L=L.next(()=>(function(J){J.createObjectStore("remoteDocumentGlobal")}(s),this.jn(E)))),p<7&&y>=7&&(L=L.next(()=>this.Wn(E))),p<8&&y>=8&&(L=L.next(()=>this.zn(s,E))),p<9&&y>=9&&(L=L.next(()=>{!function(J){J.objectStoreNames.contains("remoteDocumentChanges")&&J.deleteObjectStore("remoteDocumentChanges")}(s)})),p<10&&y>=10&&(L=L.next(()=>this.Hn(E))),p<11&&y>=11&&(L=L.next(()=>{(function(J){J.createObjectStore("bundles",{keyPath:"bundleId"})})(s),function(J){J.createObjectStore("namedQueries",{keyPath:"name"})}(s)})),p<12&&y>=12&&(L=L.next(()=>{!function(J){const Te=J.createObjectStore("documentOverlays",{keyPath:er});Te.createIndex("collectionPathOverlayIndex",ar,{unique:!1}),Te.createIndex("collectionGroupOverlayIndex",rs,{unique:!1})}(s)})),p<13&&y>=13&&(L=L.next(()=>function(J){const Te=J.createObjectStore("remoteDocumentsV14",{keyPath:qf});Te.createIndex("documentKeyIndex",F),Te.createIndex("collectionGroupIndex",C)}(s)).next(()=>this.Jn(s,E)).next(()=>s.deleteObjectStore("remoteDocuments"))),p<14&&y>=14&&(L=L.next(()=>{!function(J){J.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),J.createObjectStore("indexState",{keyPath:cn}).createIndex("sequenceNumberIndex",Ln,{unique:!1}),J.createObjectStore("indexEntries",{keyPath:Ei}).createIndex("documentKeyIndex",zi,{unique:!1})}(s)})),L}jn(s){let l=0;return s.store("remoteDocuments").Wt((p,y)=>{l+=Yp(y)}).next(()=>{const p={byteSize:l};return s.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",p)})}Qn(s){const l=s.store("mutationQueues"),p=s.store("mutations");return l.qt().next(y=>kn.forEach(y,E=>{const L=IDBKeyRange.bound([E.userId,-1],[E.userId,E.lastAcknowledgedBatchId]);return p.qt("userMutationsIndex",L).next(J=>kn.forEach(J,Te=>{Xi(Te.userId===E.userId);const He=xr(this.M,Te);return gm(s,E.userId,He).next(()=>{})}))}))}Wn(s){const l=s.store("targetDocuments"),p=s.store("remoteDocuments");return s.store("targetGlobal").get("targetGlobalKey").next(y=>{const E=[];return p.Wt((L,J)=>{const Te=new jr(L),He=[0,_s(Te)];E.push(l.get(He).next(It=>It?kn.resolve():l.put({targetId:0,path:_s(Te),sequenceNumber:y.highestListenSequenceNumber})))}).next(()=>kn.waitFor(E))})}zn(s,l){s.createObjectStore("collectionParents",{keyPath:Ne});const p=l.store("collectionParents"),y=new $l,E=L=>{if(y.add(L)){const J=L.lastSegment(),Te=L.popLast();return p.put({collectionId:J,parent:_s(Te)})}};return l.store("remoteDocuments").Wt({jt:!0},(L,J)=>{const Te=new jr(L);return E(Te.popLast())}).next(()=>l.store("documentMutations").Wt({jt:!0},([L,J,Te],He)=>{const It=Il(J);return E(It.popLast())}))}Hn(s){const l=s.store("targets");return l.Wt((p,y)=>{const E=Ru(y),L=um(this.M,E);return l.put(L)})}Jn(s,l){const p=l.store("remoteDocuments"),y=[];return p.Wt((E,L)=>{const J=l.store("remoteDocumentsV14"),Te=(He=L,He.document?new Ci(jr.fromString(He.document.name).popFirst(5)):He.noDocument?Ci.fromSegments(He.noDocument.path):He.unknownDocument?Ci.fromSegments(He.unknownDocument.path):xi()).path.toArray();var He;const It={prefixPath:Te.slice(0,Te.length-2),collectionGroup:Te[Te.length-2],documentId:Te[Te.length-1],readTime:L.readTime||[0,0],unknownDocument:L.unknownDocument,noDocument:L.noDocument,document:L.document,hasCommittedMutations:!!L.hasCommittedMutations};y.push(J.put(It))}).next(()=>kn.waitFor(y))}}function ym(d){d.createObjectStore("targetDocuments",{keyPath:U}).createIndex("documentTargetsIndex",De,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",w,{unique:!0}),d.createObjectStore("targetGlobal")}const Ku="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ug{constructor(s,l,p,y,E,L,J,Te,He,It,Yt=13){if(this.allowTabSynchronization=s,this.persistenceKey=l,this.clientId=p,this.Yn=E,this.window=L,this.document=J,this.Xn=He,this.Zn=It,this.ts=Yt,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Tn=>Promise.resolve(),!ug.vt())throw new ti(vn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ag(this,y),this.hs=l+"main",this.M=new am(Te),this.ls=new Ga(this.hs,this.ts,new lg(this.M)),this.fs=new mm(this.referenceDelegate,this.M),this.ds=new kc(this.M),this._s=new eg,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===It&&Tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ti(vn.FAILED_PRECONDITION,Ku);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",s=>this.fs.getHighestSequenceNumber(s))}).then(s=>{this.es=new Wt(s,this.Xn)}).then(()=>{this.ns=!0}).catch(s=>(this.ls&&this.ls.close(),Promise.reject(s)))}Ts(s){var l=this;return this.cs=function(){var p=(0,v.Z)(function*(y){if(l.started)return s(y)});return function(y){return p.apply(this,arguments)}}(),s(this.isPrimary)}setDatabaseDeletedListener(s){this.ls.Ot(function(){var l=(0,v.Z)(function*(p){null===p.newVersion&&(yield s())});return function(p){return l.apply(this,arguments)}}())}setNetworkEnabled(s){var l=this;this.networkEnabled!==s&&(this.networkEnabled=s,this.Yn.enqueueAndForget((0,v.Z)(function*(){l.started&&(yield l.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",s=>Xh(s).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(s).next(l=>{l||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(s)).next(l=>this.isPrimary&&!l?this.Rs(s).next(()=>!1):!!l&&this.Ps(s).next(()=>!0))).catch(s=>{if(Eu(s))return Jn("IndexedDbPersistence","Failed to extend owner lease: ",s),this.isPrimary;if(!this.allowTabSynchronization)throw s;return Jn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",s),!1}).then(s=>{this.isPrimary!==s&&this.Yn.enqueueRetryable(()=>this.cs(s)),this.isPrimary=s})}Es(s){return eh(s).get("owner").next(l=>kn.resolve(this.bs(l)))}Vs(s){return Xh(s).delete(this.clientId)}vs(){var s=this;return(0,v.Z)(function*(){if(s.isPrimary&&!s.Ss(s.us,18e5)){s.us=Date.now();const l=yield s.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",p=>{const y=ca(p,"clientMetadata");return y.qt().next(E=>{const L=s.Ds(E,18e5),J=E.filter(Te=>-1===L.indexOf(Te));return kn.forEach(J,Te=>y.delete(Te.clientId)).next(()=>J)})}).catch(()=>[]);if(s.ws)for(const p of l)s.ws.removeItem(s.Cs(p.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(s){return!!s&&s.ownerId===this.clientId}As(s){return this.Zn?kn.resolve(!0):eh(s).get("owner").next(l=>{if(null!==l&&this.Ss(l.leaseTimestampMs,5e3)&&!this.xs(l.ownerId)){if(this.bs(l)&&this.networkEnabled)return!0;if(!this.bs(l)){if(!l.allowTabSynchronization)throw new ti(vn.FAILED_PRECONDITION,Ku);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xh(s).qt().next(p=>void 0===this.Ds(p,5e3).find(y=>{if(this.clientId!==y.clientId){const L=!this.inForeground&&y.inForeground,J=this.networkEnabled===y.networkEnabled;if(!this.networkEnabled&&y.networkEnabled||L&&J)return!0}return!1}))}).next(l=>(this.isPrimary!==l&&Jn("IndexedDbPersistence",`Client ${l?"is":"is not"} eligible for a primary lease.`),l))}shutdown(){var s=this;return(0,v.Z)(function*(){s.ns=!1,s.Ns(),s.os&&(s.os.cancel(),s.os=null),s.ks(),s.Ms(),yield s.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],l=>{const p=new sm(l,Wt.A);return s.Rs(p).next(()=>s.Vs(p))}),s.ls.close(),s.Os()})()}Ds(s,l){return s.filter(p=>this.Ss(p.updateTimeMs,l)&&!this.xs(p.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",s=>Xh(s).qt().next(l=>this.Ds(l,18e5).map(p=>p.clientId)))}get started(){return this.ns}getMutationQueue(s,l){return ig.Yt(s,this.M,l,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(s){return new pm(s,this.M.Jt.databaseId)}getDocumentOverlayCache(s){return qd.Yt(this.M,s)}getBundleCache(){return this._s}runTransaction(s,l,p){Jn("IndexedDbPersistence","Starting transaction:",s);const y="readonly"===l?"readonly":"readwrite",E=14===(L=this.ts)?hd:13===L?Qs:12===L?Hu:11===L?qa:void xi();var L;let J;return this.ls.runTransaction(s,y,E,Te=>(J=new sm(Te,this.es?this.es.next():Wt.A),"readwrite-primary"===l?this.Es(J).next(He=>!!He||this.As(J)).next(He=>{if(!He)throw Tr(`Failed to obtain primary lease for action '${s}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new ti(vn.FAILED_PRECONDITION,Yd);return p(J)}).next(He=>this.Ps(J).next(()=>He)):this.$s(J).next(()=>p(J)))).then(Te=>(J.raiseOnCommittedEvent(),Te))}$s(s){return eh(s).get("owner").next(l=>{if(null!==l&&this.Ss(l.leaseTimestampMs,5e3)&&!this.xs(l.ownerId)&&!this.bs(l)&&!(this.Zn||this.allowTabSynchronization&&l.allowTabSynchronization))throw new ti(vn.FAILED_PRECONDITION,Ku)})}Ps(s){const l={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eh(s).put("owner",l)}static vt(){return Ga.vt()}Rs(s){const l=eh(s);return l.get("owner").next(p=>this.bs(p)?(Jn("IndexedDbPersistence","Releasing primary lease."),l.delete("owner")):kn.resolve())}Ss(s,l){const p=Date.now();return!(s<p-l||s>p&&(Tr(`Detected an update time that is in the future: ${s} > ${p}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var s;"function"==typeof(null===(s=this.window)||void 0===s?void 0:s.addEventListener)&&(this.ss=()=>{this.Ns(),(0,g.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(s){var l;try{const p=null!==(null===(l=this.ws)||void 0===l?void 0:l.getItem(this.Cs(s)));return Jn("IndexedDbPersistence",`Client '${s}' ${p?"is":"is not"} zombied in LocalStorage`),p}catch(p){return Tr("IndexedDbPersistence","Failed to get zombied client id.",p),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(s){Tr("Failed to set zombie client id.",s)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(s){}}Cs(s){return`firestore_zombie_${this.persistenceKey}_${s}`}}function eh(d){return ca(d,"owner")}function Xh(d){return ca(d,"clientMetadata")}function th(d,s){let l=d.projectId;return d.isDefaultDatabase||(l+="."+d.database),"firestore/"+s+"/"+l+"/"}class _m{constructor(s,l,p){this.ds=s,this.Bs=l,this.indexManager=p}Ls(s,l){return this.Bs.getAllMutationBatchesAffectingDocumentKey(s,l).next(p=>this.Us(s,l,p))}Us(s,l,p){return this.ds.getEntry(s,l).next(y=>{for(const E of p)E.applyToLocalView(y);return y})}qs(s,l){s.forEach((p,y)=>{for(const E of l)E.applyToLocalView(y)})}Ks(s,l){return this.ds.getEntries(s,l).next(p=>this.Gs(s,p).next(()=>p))}Gs(s,l){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(s,l).next(p=>this.qs(l,p))}Qs(s,l,p){return Ci.isDocumentKey((y=l).path)&&null===y.collectionGroup&&0===y.filters.length?this.js(s,l.path):Lu(l)?this.Ws(s,l,p):this.zs(s,l,p);var y}js(s,l){return this.Ls(s,new Ci(l)).next(p=>{let y=Bu();return p.isFoundDocument()&&(y=y.insert(p.key,p)),y})}Ws(s,l,p){const y=l.collectionGroup;let E=Bu();return this.indexManager.getCollectionParents(s,y).next(L=>kn.forEach(L,J=>{const Te=(He=l,It=J.child(y),new Ka(It,null,He.explicitOrderBy.slice(),He.filters.slice(),He.limit,He.limitType,He.startAt,He.endAt));var He,It;return this.zs(s,Te,p).next(He=>{He.forEach((It,Yt)=>{E=E.insert(It,Yt)})})}).next(()=>E))}zs(s,l,p){let y;return this.ds.getAllFromCollection(s,l.path,p).next(E=>(y=E,this.Bs.getAllMutationBatchesAffectingQuery(s,l))).next(E=>{for(const L of E)for(const J of L.mutations){const Te=J.key;let He=y.get(Te);null==He&&(He=qr.newInvalidDocument(Te),y=y.insert(Te,He)),Nh(J,He,L.localWriteTime),He.isFoundDocument()||(y=y.remove(Te))}}).next(()=>(y.forEach((E,L)=>{mc(l,L)||(y=y.remove(E))}),y))}}class Cm{constructor(s,l,p,y){this.targetId=s,this.fromCache=l,this.Hs=p,this.Js=y}static Ys(s,l){let p=go(),y=go();for(const E of l.docChanges)switch(E.type){case 0:p=p.add(E.doc.key);break;case 1:y=y.add(E.doc.key)}return new Cm(s,l.fromCache,p,y)}}class Xp{Xs(s){this.Zs=s}Qs(s,l,p,y){return 0===(E=l).filters.length&&null===E.limit&&null==E.startAt&&null==E.endAt&&(0===E.explicitOrderBy.length||1===E.explicitOrderBy.length&&E.explicitOrderBy[0].field.isKeyField())||p.isEqual(Gi.min())?this.ti(s,l):this.Zs.Ks(s,y).next(E=>{const L=this.ei(l,E);return(sd(l)||ad(l))&&this.ni(l.limitType,L,y,p)?this.ti(s,l):(Ua()<=q.in.DEBUG&&Jn("QueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),Oh(l)),this.Zs.Qs(s,l,Fa(p,-1)).next(J=>(L.forEach(Te=>{J=J.insert(Te.key,Te)}),J)))});var E}ei(s,l){let p=new Lo(Hf(s));return l.forEach((y,E)=>{mc(s,E)&&(p=p.add(E))}),p}ni(s,l,p,y){if(p.size!==l.size)return!0;const E="F"===s?l.last():l.first();return!!E&&(E.hasPendingWrites||E.version.compareTo(y)>0)}ti(s,l){return Ua()<=q.in.DEBUG&&Jn("QueryEngine","Using full collection scan to execute query:",Oh(l)),this.Zs.Qs(s,l,Na.min())}}class cg{constructor(s,l,p,y){this.persistence=s,this.si=l,this.M=y,this.ii=new to(di),this.ri=new Rl(E=>ye(E),Rt),this.oi=new Map,this.ui=s.getRemoteDocumentCache(),this.fs=s.getTargetCache(),this._s=s.getBundleCache(),this.ai(p)}ai(s){this.indexManager=this.persistence.getIndexManager(s),this.Bs=this.persistence.getMutationQueue(s,this.indexManager),this.ci=new _m(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(s){return this.persistence.runTransaction("Collect garbage","readwrite-primary",l=>s.collect(l,this.ii))}}function wm(d,s,l,p){return new cg(d,s,l,p)}function fd(d,s){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,v.Z)(function*(d,s){const l=bi(d);return yield l.persistence.runTransaction("Handle user change","readonly",p=>{let y;return l.Bs.getAllMutationBatches(p).next(E=>(y=E,l.ai(s),l.Bs.getAllMutationBatches(p))).next(E=>{const L=[],J=[];let Te=go();for(const He of y){L.push(He.batchId);for(const It of He.mutations)Te=Te.add(It.key)}for(const He of E){J.push(He.batchId);for(const It of He.mutations)Te=Te.add(It.key)}return l.ci.Ks(p,Te).next(He=>({hi:He,removedBatchIds:L,addedBatchIds:J}))})})}),Oa.apply(this,arguments)}function Lv(d,s){const l=bi(d);return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",p=>{const y=s.batch.keys(),E=l.ui.newChangeBuffer({trackRemovals:!0});return function(L,J,Te,He){const It=Te.batch,Yt=It.keys();let Tn=kn.resolve();return Yt.forEach(ii=>{Tn=Tn.next(()=>He.getEntry(J,ii)).next(ai=>{const ji=Te.docVersions.get(ii);Xi(null!==ji),ai.version.compareTo(ji)<0&&(It.applyToRemoteDocument(ai,Te),ai.isValidDocument()&&(ai.setReadTime(Te.commitVersion),He.addEntry(ai)))})}),Tn.next(()=>L.Bs.removeMutationBatch(J,It))}(l,p,s,E).next(()=>E.apply(p)).next(()=>l.Bs.performConsistencyCheck(p)).next(()=>l.ci.Ks(p,y))})}function kv(d){const s=bi(d);return s.persistence.runTransaction("Get last remote snapshot version","readonly",l=>s.fs.getLastRemoteSnapshotVersion(l))}function Ay(d,s){const l=bi(d),p=s.snapshotVersion;let y=l.ii;return l.persistence.runTransaction("Apply remote event","readwrite-primary",E=>{const L=l.ui.newChangeBuffer({trackRemovals:!0});y=l.ii;const J=[];s.targetChanges.forEach((He,It)=>{const Yt=y.get(It);if(!Yt)return;J.push(l.fs.removeMatchingKeys(E,He.removedDocuments,It).next(()=>l.fs.addMatchingKeys(E,He.addedDocuments,It)));let Tn=Yt.withSequenceNumber(E.currentSequenceNumber);var ii,ai,ji;s.targetMismatches.has(It)?Tn=Tn.withResumeToken(jo.EMPTY_BYTE_STRING,Gi.min()).withLastLimboFreeSnapshotVersion(Gi.min()):He.resumeToken.approximateByteSize()>0&&(Tn=Tn.withResumeToken(He.resumeToken,p)),y=y.insert(It,Tn),ai=Tn,ji=He,(0===(ii=Yt).resumeToken.approximateByteSize()||ai.snapshotVersion.toMicroseconds()-ii.snapshotVersion.toMicroseconds()>=3e8||ji.addedDocuments.size+ji.modifiedDocuments.size+ji.removedDocuments.size>0)&&J.push(l.fs.updateTargetData(E,Tn))});let Te=ka();if(s.documentUpdates.forEach(He=>{s.resolvedLimboDocuments.has(He)&&J.push(l.persistence.referenceDelegate.updateLimboDocument(E,He))}),J.push(bm(E,L,s.documentUpdates).next(He=>{Te=He})),!p.isEqual(Gi.min())){const He=l.fs.getLastRemoteSnapshotVersion(E).next(It=>l.fs.setTargetsMetadata(E,E.currentSequenceNumber,p));J.push(He)}return kn.waitFor(J).next(()=>L.apply(E)).next(()=>l.ci.Gs(E,Te)).next(()=>Te)}).then(E=>(l.ii=y,E))}function bm(d,s,l){let p=go();return l.forEach(y=>p=p.add(y)),s.getEntries(d,p).next(y=>{let E=ka();return l.forEach((L,J)=>{const Te=y.get(L);J.isNoDocument()&&J.version.isEqual(Gi.min())?(s.removeEntry(L,J.readTime),E=E.insert(L,J)):!Te.isValidDocument()||J.version.compareTo(Te.version)>0||0===J.version.compareTo(Te.version)&&Te.hasPendingWrites?(s.addEntry(J),E=E.insert(L,J)):Jn("LocalStore","Ignoring outdated watch update for ",L,". Current version:",Te.version," Watch version:",J.version)}),E})}function Iy(d,s){const l=bi(d);return l.persistence.runTransaction("Get next mutation batch","readonly",p=>(void 0===s&&(s=-1),l.Bs.getNextMutationBatchAfterBatchId(p,s)))}function nh(d,s){const l=bi(d);return l.persistence.runTransaction("Allocate target","readwrite",p=>{let y;return l.fs.getTargetData(p,s).next(E=>E?(y=E,kn.resolve(y)):l.fs.allocateTargetId(p).next(L=>(y=new Ic(s,L,0,p.currentSequenceNumber),l.fs.addTargetData(p,y).next(()=>y))))}).then(p=>{const y=l.ii.get(p.targetId);return(null===y||p.snapshotVersion.compareTo(y.snapshotVersion)>0)&&(l.ii=l.ii.insert(p.targetId,p),l.ri.set(s,p.targetId)),p})}function Jh(d,s,l){return Em.apply(this,arguments)}function Em(){return Em=(0,v.Z)(function*(d,s,l){const p=bi(d),y=p.ii.get(s),E=l?"readwrite":"readwrite-primary";try{l||(yield p.persistence.runTransaction("Release target",E,L=>p.persistence.referenceDelegate.removeTarget(L,y)))}catch(L){if(!Eu(L))throw L;Jn("LocalStore",`Failed to update sequence numbers for target ${s}: ${L}`)}p.ii=p.ii.remove(s),p.ri.delete(y.target)}),Em.apply(this,arguments)}function dg(d,s,l){const p=bi(d);let y=Gi.min(),E=go();return p.persistence.runTransaction("Execute query","readonly",L=>function(J,Te,He){const It=bi(J),Yt=It.ri.get(He);return void 0!==Yt?kn.resolve(It.ii.get(Yt)):It.fs.getTargetData(Te,He)}(p,L,tl(s)).next(J=>{if(J)return y=J.lastLimboFreeSnapshotVersion,p.fs.getMatchingKeysForTargetId(L,J.targetId).next(Te=>{E=Te})}).next(()=>p.si.Qs(L,s,l?y:Gi.min(),l?E:go())).next(J=>(Dm(p,vc(s),J),{documents:J,li:E})))}function ql(d,s){const l=bi(d),p=bi(l.fs),y=l.ii.get(s);return y?Promise.resolve(y.target):l.persistence.runTransaction("Get target data","readonly",E=>p.Et(E,s).next(L=>L?L.target:null))}function Yu(d,s){const l=bi(d),p=l.oi.get(s)||Gi.min();return l.persistence.runTransaction("Get new document changes","readonly",y=>l.ui.getAllFromCollectionGroup(y,s,Fa(p,-1),Number.MAX_SAFE_INTEGER)).then(y=>(Dm(l,s,y),y))}function Dm(d,s,l){let p=Gi.min();l.forEach((y,E)=>{E.readTime.compareTo(p)>0&&(p=E.readTime)}),d.oi.set(s,p)}function ih(){return ih=(0,v.Z)(function*(d,s,l,p){const y=bi(d);let E=go(),L=ka();for(const He of l){const It=s.fi(He.metadata.name);He.document&&(E=E.add(It));const Yt=s.di(He);Yt.setReadTime(s._i(He.metadata.readTime)),L=L.insert(It,Yt)}const J=y.ui.newChangeBuffer({trackRemovals:!0}),Te=yield nh(y,(He=p,tl(gl(jr.fromString(`__bundle__/docs/${He}`)))));var He;return y.persistence.runTransaction("Apply bundle documents","readwrite",He=>bm(He,J,L).next(It=>(J.apply(He),It)).next(It=>y.fs.removeMatchingKeysForTargetId(He,Te.targetId).next(()=>y.fs.addMatchingKeys(He,E,Te.targetId)).next(()=>y.ci.Gs(He,It)).next(()=>It)))}),ih.apply(this,arguments)}function pg(d,s){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,v.Z)(function*(d,s,l=go()){const p=yield nh(d,tl(jp(s.bundledQuery))),y=bi(d);return y.persistence.runTransaction("Save named query","readwrite",E=>{const L=qs(s.readTime);if(p.snapshotVersion.compareTo(L)>=0)return y._s.saveNamedQuery(E,s);const J=p.withResumeToken(jo.EMPTY_BYTE_STRING,L);return y.ii=y.ii.insert(J.targetId,J),y.fs.updateTargetData(E,J).next(()=>y.fs.removeMatchingKeysForTargetId(E,p.targetId)).next(()=>y.fs.addMatchingKeys(E,l,p.targetId)).next(()=>y._s.saveNamedQuery(E,s))})}),Zu.apply(this,arguments)}class Sm{constructor(s){this.M=s,this.wi=new Map,this.mi=new Map}getBundleMetadata(s,l){return kn.resolve(this.wi.get(l))}saveBundleMetadata(s,l){var p;return this.wi.set(l.id,{id:(p=l).id,version:p.version,createTime:qs(p.createTime)}),kn.resolve()}getNamedQuery(s,l){return kn.resolve(this.mi.get(l))}saveNamedQuery(s,l){return this.mi.set(l.name,{name:(p=l).name,query:jp(p.bundledQuery),readTime:qs(p.readTime)}),kn.resolve();var p}}class Bc{constructor(){this.overlays=new to(Ci.comparator),this.gi=new Map}getOverlay(s,l){return kn.resolve(this.overlays.get(l))}saveOverlays(s,l,p){return p.forEach((y,E)=>{this.Xt(s,l,E)}),kn.resolve()}removeOverlaysForBatchId(s,l,p){const y=this.gi.get(p);return void 0!==y&&(y.forEach(E=>this.overlays=this.overlays.remove(E)),this.gi.delete(p)),kn.resolve()}getOverlaysForCollection(s,l,p){const y=Ul(),E=l.length+1,L=new Ci(l.child("")),J=this.overlays.getIteratorFrom(L);for(;J.hasNext();){const Te=J.getNext().value,He=Te.getKey();if(!l.isPrefixOf(He.path))break;He.path.length===E&&Te.largestBatchId>p&&y.set(Te.getKey(),Te)}return kn.resolve(y)}getOverlaysForCollectionGroup(s,l,p,y){let E=new to((He,It)=>He-It);const L=this.overlays.getIterator();for(;L.hasNext();){const He=L.getNext().value;if(He.getKey().getCollectionGroup()===l&&He.largestBatchId>p){let It=E.get(He.largestBatchId);null===It&&(It=Ul(),E=E.insert(He.largestBatchId,It)),It.set(He.getKey(),He)}}const J=Ul(),Te=E.getIterator();for(;Te.hasNext()&&(Te.getNext().value.forEach((He,It)=>J.set(He,It)),!(J.size()>=y)););return kn.resolve(J)}Xt(s,l,p){if(null===p)return;const y=this.overlays.get(p.key);if(null!==y){const L=this.gi.get(y.largestBatchId).delete(p.key);this.gi.set(y.largestBatchId,L)}this.overlays=this.overlays.insert(p.key,new Kh(l,p));let E=this.gi.get(l);void 0===E&&(E=go(),this.gi.set(l,E)),this.gi.set(l,E.add(p.key))}}class Gc{constructor(){this.yi=new Lo(ha.pi),this.Ii=new Lo(ha.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(s,l){const p=new ha(s,l);this.yi=this.yi.add(p),this.Ii=this.Ii.add(p)}Ei(s,l){s.forEach(p=>this.addReference(p,l))}removeReference(s,l){this.Ai(new ha(s,l))}Ri(s,l){s.forEach(p=>this.removeReference(p,l))}Pi(s){const l=new Ci(new jr([])),p=new ha(l,s),y=new ha(l,s+1),E=[];return this.Ii.forEachInRange([p,y],L=>{this.Ai(L),E.push(L.key)}),E}bi(){this.yi.forEach(s=>this.Ai(s))}Ai(s){this.yi=this.yi.delete(s),this.Ii=this.Ii.delete(s)}Vi(s){const l=new Ci(new jr([])),p=new ha(l,s),y=new ha(l,s+1);let E=go();return this.Ii.forEachInRange([p,y],L=>{E=E.add(L.key)}),E}containsKey(s){const l=new ha(s,0),p=this.yi.firstAfterOrEqual(l);return null!==p&&s.isEqual(p.key)}}class ha{constructor(s,l){this.key=s,this.vi=l}static pi(s,l){return Ci.comparator(s.key,l.key)||di(s.vi,l.vi)}static Ti(s,l){return di(s.vi,l.vi)||Ci.comparator(s.key,l.key)}}class fg{constructor(s,l){this.indexManager=s,this.referenceDelegate=l,this.Bs=[],this.Si=1,this.Di=new Lo(ha.pi)}checkEmpty(s){return kn.resolve(0===this.Bs.length)}addMutationBatch(s,l,p,y){const E=this.Si;this.Si++;const L=new $h(E,l,p,y);this.Bs.push(L);for(const J of y)this.Di=this.Di.add(new ha(J.key,E)),this.indexManager.addToCollectionParentIndex(s,J.key.path.popLast());return kn.resolve(L)}lookupMutationBatch(s,l){return kn.resolve(this.Ci(l))}getNextMutationBatchAfterBatchId(s,l){const y=this.xi(l+1),E=y<0?0:y;return kn.resolve(this.Bs.length>E?this.Bs[E]:null)}getHighestUnacknowledgedBatchId(){return kn.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(s){return kn.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(s,l){const p=new ha(l,0),y=new ha(l,Number.POSITIVE_INFINITY),E=[];return this.Di.forEachInRange([p,y],L=>{const J=this.Ci(L.vi);E.push(J)}),kn.resolve(E)}getAllMutationBatchesAffectingDocumentKeys(s,l){let p=new Lo(di);return l.forEach(y=>{const E=new ha(y,0),L=new ha(y,Number.POSITIVE_INFINITY);this.Di.forEachInRange([E,L],J=>{p=p.add(J.vi)})}),kn.resolve(this.Ni(p))}getAllMutationBatchesAffectingQuery(s,l){const p=l.path,y=p.length+1;let E=p;Ci.isDocumentKey(E)||(E=E.child(""));const L=new ha(new Ci(E),0);let J=new Lo(di);return this.Di.forEachWhile(Te=>{const He=Te.key.path;return!!p.isPrefixOf(He)&&(He.length===y&&(J=J.add(Te.vi)),!0)},L),kn.resolve(this.Ni(J))}Ni(s){const l=[];return s.forEach(p=>{const y=this.Ci(p);null!==y&&l.push(y)}),l}removeMutationBatch(s,l){Xi(0===this.ki(l.batchId,"removed")),this.Bs.shift();let p=this.Di;return kn.forEach(l.mutations,y=>{const E=new ha(y.key,l.batchId);return p=p.delete(E),this.referenceDelegate.markPotentiallyOrphaned(s,y.key)}).next(()=>{this.Di=p})}_n(s){}containsKey(s,l){const p=new ha(l,0),y=this.Di.firstAfterOrEqual(p);return kn.resolve(l.isEqual(y&&y.key))}performConsistencyCheck(s){return kn.resolve()}ki(s,l){return this.xi(s)}xi(s){return 0===this.Bs.length?0:s-this.Bs[0].batchId}Ci(s){const l=this.xi(s);return l<0||l>=this.Bs.length?null:this.Bs[l]}}class Bv{constructor(s){this.Mi=s,this.docs=new to(Ci.comparator),this.size=0}setIndexManager(s){this.indexManager=s}addEntry(s,l){const p=l.key,y=this.docs.get(p),E=y?y.size:0,L=this.Mi(l);return this.docs=this.docs.insert(p,{document:l.mutableCopy(),size:L}),this.size+=L-E,this.indexManager.addToCollectionParentIndex(s,p.path.popLast())}removeEntry(s){const l=this.docs.get(s);l&&(this.docs=this.docs.remove(s),this.size-=l.size)}getEntry(s,l){const p=this.docs.get(l);return kn.resolve(p?p.document.mutableCopy():qr.newInvalidDocument(l))}getEntries(s,l){let p=ka();return l.forEach(y=>{const E=this.docs.get(y);p=p.insert(y,E?E.document.mutableCopy():qr.newInvalidDocument(y))}),kn.resolve(p)}getAllFromCollection(s,l,p){let y=ka();const E=new Ci(l.child("")),L=this.docs.getIteratorFrom(E);for(;L.hasNext();){const{key:J,value:{document:Te}}=L.getNext();if(!l.isPrefixOf(J.path))break;J.path.length>l.length+1||du(fc(Te),p)<=0||(y=y.insert(Te.key,Te.mutableCopy()))}return kn.resolve(y)}getAllFromCollectionGroup(s,l,p,y){xi()}Oi(s,l){return kn.forEach(this.docs,p=>l(p))}newChangeBuffer(s){return new Jp(this)}getSize(s){return kn.resolve(this.size)}}class Jp extends Nv{constructor(s){super(),this.Kn=s}applyChanges(s){const l=[];return this.changes.forEach((p,y)=>{y.isValidDocument()?l.push(this.Kn.addEntry(s,y)):this.Kn.removeEntry(p)}),kn.waitFor(l)}getFromCache(s,l){return this.Kn.getEntry(s,l)}getAllFromCache(s,l){return this.Kn.getEntries(s,l)}}class Gv{constructor(s){this.persistence=s,this.Fi=new Rl(l=>ye(l),Rt),this.lastRemoteSnapshotVersion=Gi.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Gc,this.targetCount=0,this.Li=Or.gn()}forEachTarget(s,l){return this.Fi.forEach((p,y)=>l(y)),kn.resolve()}getLastRemoteSnapshotVersion(s){return kn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(s){return kn.resolve(this.$i)}allocateTargetId(s){return this.highestTargetId=this.Li.next(),kn.resolve(this.highestTargetId)}setTargetsMetadata(s,l,p){return p&&(this.lastRemoteSnapshotVersion=p),l>this.$i&&(this.$i=l),kn.resolve()}Tn(s){this.Fi.set(s.target,s);const l=s.targetId;l>this.highestTargetId&&(this.Li=new Or(l),this.highestTargetId=l),s.sequenceNumber>this.$i&&(this.$i=s.sequenceNumber)}addTargetData(s,l){return this.Tn(l),this.targetCount+=1,kn.resolve()}updateTargetData(s,l){return this.Tn(l),kn.resolve()}removeTargetData(s,l){return this.Fi.delete(l.target),this.Bi.Pi(l.targetId),this.targetCount-=1,kn.resolve()}removeTargets(s,l,p){let y=0;const E=[];return this.Fi.forEach((L,J)=>{J.sequenceNumber<=l&&null===p.get(J.targetId)&&(this.Fi.delete(L),E.push(this.removeMatchingKeysForTargetId(s,J.targetId)),y++)}),kn.waitFor(E).next(()=>y)}getTargetCount(s){return kn.resolve(this.targetCount)}getTargetData(s,l){const p=this.Fi.get(l)||null;return kn.resolve(p)}addMatchingKeys(s,l,p){return this.Bi.Ei(l,p),kn.resolve()}removeMatchingKeys(s,l,p){this.Bi.Ri(l,p);const y=this.persistence.referenceDelegate,E=[];return y&&l.forEach(L=>{E.push(y.markPotentiallyOrphaned(s,L))}),kn.waitFor(E)}removeMatchingKeysForTargetId(s,l){return this.Bi.Pi(l),kn.resolve()}getMatchingKeysForTargetId(s,l){const p=this.Bi.Vi(l);return kn.resolve(p)}containsKey(s,l){return kn.resolve(this.Bi.containsKey(l))}}class gg{constructor(s,l){this.Ui={},this.overlays={},this.es=new Wt(0),this.ns=!1,this.ns=!0,this.referenceDelegate=s(this),this.fs=new Gv(this),this.indexManager=new Ry,this.ds=new Bv(p=>this.referenceDelegate.qi(p)),this.M=new am(l),this._s=new Sm(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(s){return this.indexManager}getDocumentOverlayCache(s){let l=this.overlays[s.toKey()];return l||(l=new Bc,this.overlays[s.toKey()]=l),l}getMutationQueue(s,l){let p=this.Ui[s.toKey()];return p||(p=new fg(l,this.referenceDelegate),this.Ui[s.toKey()]=p),p}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(s,l,p){Jn("MemoryPersistence","Starting transaction:",s);const y=new ep(this.es.next());return this.referenceDelegate.Ki(),p(y).next(E=>this.referenceDelegate.Gi(y).next(()=>E)).toPromise().then(E=>(y.raiseOnCommittedEvent(),E))}Qi(s,l){return kn.or(Object.values(this.Ui).map(p=>()=>p.containsKey(s,l)))}}class ep extends Up{constructor(s){super(),this.currentSequenceNumber=s}}class Vc{constructor(s){this.persistence=s,this.ji=new Gc,this.Wi=null}static zi(s){return new Vc(s)}get Hi(){if(this.Wi)return this.Wi;throw xi()}addReference(s,l,p){return this.ji.addReference(p,l),this.Hi.delete(p.toString()),kn.resolve()}removeReference(s,l,p){return this.ji.removeReference(p,l),this.Hi.add(p.toString()),kn.resolve()}markPotentiallyOrphaned(s,l){return this.Hi.add(l.toString()),kn.resolve()}removeTarget(s,l){this.ji.Pi(l.targetId).forEach(y=>this.Hi.add(y.toString()));const p=this.persistence.getTargetCache();return p.getMatchingKeysForTargetId(s,l.targetId).next(y=>{y.forEach(E=>this.Hi.add(E.toString()))}).next(()=>p.removeTargetData(s,l))}Ki(){this.Wi=new Set}Gi(s){const l=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kn.forEach(this.Hi,p=>{const y=Ci.fromPath(p);return this.Ji(s,y).next(E=>{E||l.removeEntry(y,Gi.min())})}).next(()=>(this.Wi=null,l.apply(s)))}updateLimboDocument(s,l){return this.Ji(s,l).next(p=>{p?this.Hi.delete(l.toString()):this.Hi.add(l.toString())})}qi(s){return 0}Ji(s,l){return kn.or([()=>kn.resolve(this.ji.containsKey(l)),()=>this.persistence.getTargetCache().containsKey(s,l),()=>this.persistence.Qi(s,l)])}}function rh(d,s){return`firestore_clients_${d}_${s}`}function gd(d,s,l){let p=`firestore_mutations_${d}_${l}`;return s.isAuthenticated()&&(p+=`_${s.uid}`),p}function md(d,s){return`firestore_targets_${d}_${s}`}class Tu{constructor(s,l,p,y){this.user=s,this.batchId=l,this.state=p,this.error=y}static Yi(s,l,p){const y=JSON.parse(p);let E,L="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error);return L&&y.error&&(L="string"==typeof y.error.message&&"string"==typeof y.error.code,L&&(E=new ti(y.error.code,y.error.message))),L?new Tu(s,l,y.state,E):(Tr("SharedClientState",`Failed to parse mutation state for ID '${l}': ${p}`),null)}Xi(){const s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)}}class oh{constructor(s,l,p){this.targetId=s,this.state=l,this.error=p}static Yi(s,l){const p=JSON.parse(l);let y,E="object"==typeof p&&-1!==["not-current","current","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error);return E&&p.error&&(E="string"==typeof p.error.message&&"string"==typeof p.error.code,E&&(y=new ti(p.error.code,p.error.message))),E?new oh(s,p.state,y):(Tr("SharedClientState",`Failed to parse target state for ID '${s}': ${l}`),null)}Xi(){const s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)}}class tp{constructor(s,l){this.clientId=s,this.activeTargetIds=l}static Yi(s,l){const p=JSON.parse(l);let y="object"==typeof p&&p.activeTargetIds instanceof Array,E=bc();for(let L=0;y&&L<p.activeTargetIds.length;++L)y=Sa(p.activeTargetIds[L]),E=E.add(p.activeTargetIds[L]);return y?new tp(s,E):(Tr("SharedClientState",`Failed to parse client data for instance '${s}': ${l}`),null)}}class ef{constructor(s,l){this.clientId=s,this.onlineState=l}static Yi(s){const l=JSON.parse(s);return"object"==typeof l&&-1!==["Unknown","Online","Offline"].indexOf(l.onlineState)&&"string"==typeof l.clientId?new ef(l.clientId,l.onlineState):(Tr("SharedClientState",`Failed to parse online state: ${s}`),null)}}class np{constructor(){this.activeTargetIds=bc()}Zi(s){this.activeTargetIds=this.activeTargetIds.add(s)}tr(s){this.activeTargetIds=this.activeTargetIds.delete(s)}Xi(){const s={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(s)}}class qu{constructor(s,l,p,y,E){this.window=s,this.Yn=l,this.persistenceKey=p,this.er=y,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new to(di),this.started=!1,this.rr=[];const L=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.ur=rh(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new np),this.cr=new RegExp(`^firestore_clients_${L}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${L}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${L}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(J){return`firestore_bundle_loaded_v2_${J}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(s){return!(!s||!s.localStorage)}start(){var s=this;return(0,v.Z)(function*(){const l=yield s.syncEngine.Fs();for(const y of l){if(y===s.er)continue;const E=s.getItem(rh(s.persistenceKey,y));if(E){const L=tp.Yi(y,E);L&&(s.ir=s.ir.insert(L.clientId,L))}}s.wr();const p=s.storage.getItem(s.dr);if(p){const y=s.mr(p);y&&s.gr(y)}for(const y of s.rr)s.sr(y);s.rr=[],s.window.addEventListener("pagehide",()=>s.shutdown()),s.started=!0})()}writeSequenceNumber(s){this.setItem(this.ar,JSON.stringify(s))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(s){let l=!1;return this.ir.forEach((p,y)=>{y.activeTargetIds.has(s)&&(l=!0)}),l}addPendingMutation(s){this.pr(s,"pending")}updateMutationState(s,l,p){this.pr(s,l,p),this.Ir(s)}addLocalQueryTarget(s){let l="not-current";if(this.isActiveQueryTarget(s)){const p=this.storage.getItem(md(this.persistenceKey,s));if(p){const y=oh.Yi(s,p);y&&(l=y.state)}}return this.Tr.Zi(s),this.wr(),l}removeLocalQueryTarget(s){this.Tr.tr(s),this.wr()}isLocalQueryTarget(s){return this.Tr.activeTargetIds.has(s)}clearQueryState(s){this.removeItem(md(this.persistenceKey,s))}updateQueryState(s,l,p){this.Er(s,l,p)}handleUserChange(s,l,p){l.forEach(y=>{this.Ir(y)}),this.currentUser=s,p.forEach(y=>{this.addPendingMutation(y)})}setOnlineState(s){this.Ar(s)}notifyBundleLoaded(s){this.Rr(s)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(s){const l=this.storage.getItem(s);return Jn("SharedClientState","READ",s,l),l}setItem(s,l){Jn("SharedClientState","SET",s,l),this.storage.setItem(s,l)}removeItem(s){Jn("SharedClientState","REMOVE",s),this.storage.removeItem(s)}sr(s){var l=this;const p=s;if(p.storageArea===this.storage){if(Jn("SharedClientState","EVENT",p.key,p.newValue),p.key===this.ur)return void Tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,v.Z)(function*(){if(l.started){if(null!==p.key)if(l.cr.test(p.key)){if(null==p.newValue){const y=l.Pr(p.key);return l.br(y,null)}{const y=l.Vr(p.key,p.newValue);if(y)return l.br(y.clientId,y)}}else if(l.hr.test(p.key)){if(null!==p.newValue){const y=l.vr(p.key,p.newValue);if(y)return l.Sr(y)}}else if(l.lr.test(p.key)){if(null!==p.newValue){const y=l.Dr(p.key,p.newValue);if(y)return l.Cr(y)}}else if(p.key===l.dr){if(null!==p.newValue){const y=l.mr(p.newValue);if(y)return l.gr(y)}}else if(p.key===l.ar){const y=function(E){let L=Wt.A;if(null!=E)try{const J=JSON.parse(E);Xi("number"==typeof J),L=J}catch(J){Tr("SharedClientState","Failed to read sequence number from WebStorage",J)}return L}(p.newValue);y!==Wt.A&&l.sequenceNumberHandler(y)}else if(p.key===l._r){const y=l.Nr(p.newValue);yield Promise.all(y.map(E=>l.syncEngine.kr(E)))}}else l.rr.push(p)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(s,l,p){const y=new Tu(this.currentUser,s,l,p),E=gd(this.persistenceKey,this.currentUser,s);this.setItem(E,y.Xi())}Ir(s){const l=gd(this.persistenceKey,this.currentUser,s);this.removeItem(l)}Ar(s){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:s}))}Er(s,l,p){const y=md(this.persistenceKey,s),E=new oh(s,l,p);this.setItem(y,E.Xi())}Rr(s){const l=JSON.stringify(Array.from(s));this.setItem(this._r,l)}Pr(s){const l=this.cr.exec(s);return l?l[1]:null}Vr(s,l){const p=this.Pr(s);return tp.Yi(p,l)}vr(s,l){const p=this.hr.exec(s),y=Number(p[1]);return Tu.Yi(new Er(void 0!==p[2]?p[2]:null),y,l)}Dr(s,l){const p=this.lr.exec(s),y=Number(p[1]);return oh.Yi(y,l)}mr(s){return ef.Yi(s)}Nr(s){return JSON.parse(s)}Sr(s){var l=this;return(0,v.Z)(function*(){if(s.user.uid===l.currentUser.uid)return l.syncEngine.Mr(s.batchId,s.state,s.error);Jn("SharedClientState",`Ignoring mutation for non-active user ${s.user.uid}`)})()}Cr(s){return this.syncEngine.Or(s.targetId,s.state,s.error)}br(s,l){const p=l?this.ir.insert(s,l):this.ir.remove(s),y=this.yr(this.ir),E=this.yr(p),L=[],J=[];return E.forEach(Te=>{y.has(Te)||L.push(Te)}),y.forEach(Te=>{E.has(Te)||J.push(Te)}),this.syncEngine.Fr(L,J).then(()=>{this.ir=p})}gr(s){this.ir.get(s.clientId)&&this.onlineStateHandler(s.onlineState)}yr(s){let l=bc();return s.forEach((p,y)=>{l=l.unionWith(y.activeTargetIds)}),l}}class lo{constructor(){this.$r=new np,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(s){}updateMutationState(s,l,p){}addLocalQueryTarget(s){return this.$r.Zi(s),this.Br[s]||"not-current"}updateQueryState(s,l,p){this.Br[s]=l}removeLocalQueryTarget(s){this.$r.tr(s)}isLocalQueryTarget(s){return this.$r.activeTargetIds.has(s)}clearQueryState(s){delete this.Br[s]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(s){return this.$r.activeTargetIds.has(s)}start(){return this.$r=new np,Promise.resolve()}handleUserChange(s,l,p){}setOnlineState(s){}shutdown(){}writeSequenceNumber(s){}notifyBundleLoaded(s){}}class Au{Lr(s){}shutdown(){}}class mg{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(s){this.Qr.push(s)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Jn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const s of this.Qr)s(0)}Gr(){Jn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const s of this.Qr)s(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Rm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Oy{constructor(s){this.Wr=s.Wr,this.zr=s.zr}Hr(s){this.Jr=s}Yr(s){this.Xr=s}onMessage(s){this.Zr=s}close(){this.zr()}send(s){this.Wr(s)}eo(){this.Jr()}no(s){this.Xr(s)}so(s){this.Zr(s)}}class ip extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId,this.io=(s.ssl?"https":"http")+"://"+s.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(s,l,p,y,E){const L=this.uo(s,l);Jn("RestConnection","Sending: ",L,p);const J={};return this.ao(J,y,E),this.co(s,L,J,p).then(Te=>(Jn("RestConnection","Received: ",Te),Te),Te=>{throw fs("RestConnection",`${s} failed with error: `,Te,"url: ",L,"request:",p),Te})}ho(s,l,p,y,E){return this.oo(s,l,p,y,E)}ao(s,l,p){s["X-Goog-Api-Client"]="gl-js/ fire/"+wo,s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),l&&l.headers.forEach((y,E)=>s[E]=y),p&&p.headers.forEach((y,E)=>s[E]=y)}uo(s,l){return`${this.io}/v1/${l}:${Rm[s]}`}}{constructor(s){super(s),this.forceLongPolling=s.forceLongPolling,this.autoDetectLongPolling=s.autoDetectLongPolling,this.useFetchStreams=s.useFetchStreams}co(s,l,p,y){return new Promise((E,L)=>{const J=new po;J.listenOnce(Fo.COMPLETE,()=>{try{switch(J.getLastErrorCode()){case xs.NO_ERROR:const He=J.getResponseJson();Jn("Connection","XHR received:",JSON.stringify(He)),E(He);break;case xs.TIMEOUT:Jn("Connection",'RPC "'+s+'" timed out'),L(new ti(vn.DEADLINE_EXCEEDED,"Request time out"));break;case xs.HTTP_ERROR:const It=J.getStatus();if(Jn("Connection",'RPC "'+s+'" failed with status:',It,"response text:",J.getResponseText()),It>0){const Yt=J.getResponseJson().error;if(Yt&&Yt.status&&Yt.message){const Tn=function(ii){const ai=ii.toLowerCase().replace(/_/g,"-");return Object.values(vn).indexOf(ai)>=0?ai:vn.UNKNOWN}(Yt.status);L(new ti(Tn,Yt.message))}else L(new ti(vn.UNKNOWN,"Server responded with status "+J.getStatus()))}else L(new ti(vn.UNAVAILABLE,"Connection failed."));break;default:xi()}}finally{Jn("Connection",'RPC "'+s+'" completed.')}});const Te=JSON.stringify(y);J.send(l,"POST",Te,p,15)})}lo(s,l,p){const y=[this.io,"/","google.firestore.v1.Firestore","/",s,"/channel"],E=Gs(),L=Co(),J={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(J.xmlHttpFactory=new Qi({})),this.ao(J.initMessageHeaders,l,p),(0,g.uI)()||(0,g.b$)()||(0,g.d)()||(0,g.w1)()||(0,g.Mn)()||(0,g.ru)()||(J.httpHeadersOverwriteParam="$httpHeaders");const Te=y.join("");Jn("Connection","Creating WebChannel: "+Te,J);const He=E.createWebChannel(Te,J);let It=!1,Yt=!1;const Tn=new Oy({Wr:ai=>{Yt?Jn("Connection","Not sending because WebChannel is closed:",ai):(It||(Jn("Connection","Opening WebChannel transport."),He.open(),It=!0),Jn("Connection","WebChannel sending:",ai),He.send(ai))},zr:()=>He.close()}),ii=(ai,ji,Vr)=>{ai.listen(ji,Rs=>{try{Vr(Rs)}catch(Ts){setTimeout(()=>{throw Ts},0)}})};return ii(He,pr.EventType.OPEN,()=>{Yt||Jn("Connection","WebChannel transport opened.")}),ii(He,pr.EventType.CLOSE,()=>{Yt||(Yt=!0,Jn("Connection","WebChannel transport closed"),Tn.no())}),ii(He,pr.EventType.ERROR,ai=>{Yt||(Yt=!0,fs("Connection","WebChannel transport errored:",ai),Tn.no(new ti(vn.UNAVAILABLE,"The operation could not be completed")))}),ii(He,pr.EventType.MESSAGE,ai=>{var ji;if(!Yt){const Vr=ai.data[0];Xi(!!Vr);const Rs=Vr,Ts=Rs.error||(null===(ji=Rs[0])||void 0===ji?void 0:ji.error);if(Ts){Jn("Connection","WebChannel received error:",Ts);const As=Ts.status;let Va=function(Ns){const Xa=zo[Ns];if(void 0!==Xa)return ol(Xa)}(As),Fs=Ts.message;void 0===Va&&(Va=vn.INTERNAL,Fs="Unknown error status: "+As+" with message "+Ts.message),Yt=!0,Tn.no(new ti(Va,Fs)),He.close()}else Jn("Connection","WebChannel received:",Vr),Tn.so(Vr)}}),ii(L,fi.STAT_EVENT,ai=>{ai.stat===Vi.PROXY?Jn("Connection","Detected buffering proxy"):ai.stat===Vi.NOPROXY&&Jn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Tn.eo()},0),Tn}}function vg(){return"undefined"!=typeof window?window:null}function rp(){return"undefined"!=typeof document?document:null}function Hc(d){return new Yf(d,!0)}class yg{constructor(s,l,p=1e3,y=1.5,E=6e4){this.Yn=s,this.timerId=l,this.fo=p,this._o=y,this.wo=E,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(s){this.cancel();const l=Math.floor(this.mo+this.Eo()),p=Math.max(0,Date.now()-this.po),y=Math.max(0,l-p);y>0&&Jn("ExponentialBackoff",`Backing off for ${y} ms (base delay: ${this.mo} ms, delay with jitter: ${l} ms, last attempt: ${p} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,y,()=>(this.po=Date.now(),s())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class vd{constructor(s,l,p,y,E,L,J,Te){this.Yn=s,this.Ro=p,this.Po=y,this.bo=E,this.authCredentialsProvider=L,this.appCheckCredentialsProvider=J,this.listener=Te,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new yg(s,l)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var s=this;return(0,v.Z)(function*(){s.Co()&&(yield s.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(s){this.$o(),this.stream.send(s)}Oo(){var s=this;return(0,v.Z)(function*(){if(s.xo())return s.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(s,l){var p=this;return(0,v.Z)(function*(){p.$o(),p.Bo(),p.Do.cancel(),p.Vo++,4!==s?p.Do.reset():l&&l.code===vn.RESOURCE_EXHAUSTED?(Tr(l.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),p.Do.Io()):l&&l.code===vn.UNAUTHENTICATED&&3!==p.state&&(p.authCredentialsProvider.invalidateToken(),p.appCheckCredentialsProvider.invalidateToken()),null!==p.stream&&(p.Lo(),p.stream.close(),p.stream=null),p.state=s,yield p.listener.Yr(l)})()}Lo(){}auth(){this.state=1;const s=this.Uo(this.Vo),l=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([p,y])=>{this.Vo===l&&this.qo(p,y)},p=>{s(()=>{const y=new ti(vn.UNKNOWN,"Fetching auth token failed: "+p.message);return this.Ko(y)})})}qo(s,l){const p=this.Uo(this.Vo);this.stream=this.Go(s,l),this.stream.Hr(()=>{p(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(y=>{p(()=>this.Ko(y))}),this.stream.onMessage(y=>{p(()=>this.onMessage(y))})}No(){var s=this;this.state=5,this.Do.To((0,v.Z)(function*(){s.state=0,s.start()}))}Ko(s){return Jn("PersistentStream",`close with error: ${s}`),this.stream=null,this.close(4,s)}Uo(s){return l=>{this.Yn.enqueueAndForget(()=>this.Vo===s?l():(Jn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ul extends vd{constructor(s,l,p,y,E,L){super(s,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",l,p,y,L),this.M=E}Go(s,l){return this.bo.lo("Listen",s,l)}onMessage(s){this.Do.reset();const l=function kp(d,s){let l;if("targetChange"in s){const p="NO_CHANGE"===(Te=s.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Te?1:"REMOVE"===Te?2:"CURRENT"===Te?3:"RESET"===Te?4:xi(),y=s.targetChange.targetIds||[],E=function(Te,He){return Te.N?(Xi(void 0===He||"string"==typeof He),jo.fromBase64String(He||"")):(Xi(void 0===He||He instanceof Uint8Array),jo.fromUint8Array(He||new Uint8Array))}(d,s.targetChange.resumeToken),L=s.targetChange.cause,J=L&&function(Te){const He=void 0===Te.code?vn.UNKNOWN:ol(Te.code);return new ti(He,Te.message||"")}(L);l=new ys(p,y,E,J||null)}else if("documentChange"in s){const p=s.documentChange,y=Ia(d,p.document.name),E=qs(p.document.updateTime),L=new kr({mapValue:{fields:p.document.fields}}),J=qr.newFoundDocument(y,E,L);l=new Ec(p.targetIds||[],p.removedTargetIds||[],J.key,J)}else if("documentDelete"in s){const p=s.documentDelete,y=Ia(d,p.document),E=p.readTime?qs(p.readTime):Gi.min(),L=qr.newNoDocument(y,E);l=new Ec([],p.removedTargetIds||[],L.key,L)}else if("documentRemove"in s){const p=s.documentRemove,y=Ia(d,p.document);l=new Ec([],p.removedTargetIds||[],y,null)}else{if(!("filter"in s))return xi();{const p=s.filter,E=new zf(p.count||0);l=new Np(p.targetId,E)}}var Te;return l}(this.M,s),p=function(y){if(!("targetChange"in y))return Gi.min();const E=y.targetChange;return E.targetIds&&E.targetIds.length?Gi.min():E.readTime?qs(E.readTime):Gi.min()}(s);return this.listener.Qo(l,p)}jo(s){const l={};l.database=ml(this.M),l.addTarget=function(y,E){let L;const J=E.target;return L=fn(J)?{documents:jh(y,J)}:{query:bu(y,J)},L.targetId=E.targetId,E.resumeToken.approximateByteSize()>0?L.resumeToken=Hh(y,E.resumeToken):E.snapshotVersion.compareTo(Gi.min())>0&&(L.readTime=Sc(y,E.snapshotVersion.toTimestamp())),L}(this.M,s);const p=function Bp(d,s){const l=function(p,y){switch(y){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xi()}}(0,s.purpose);return null==l?null:{"goog-listen-tags":l}}(0,s);p&&(l.labels=p),this.Fo(l)}Wo(s){const l={};l.database=ml(this.M),l.removeTarget=s,this.Fo(l)}}class Vv extends vd{constructor(s,l,p,y,E,L){super(s,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",l,p,y,L),this.M=E,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(s,l){return this.bo.lo("Write",s,l)}onMessage(s){if(Xi(!!s.streamToken),this.lastStreamToken=s.streamToken,this.zo){this.Do.reset();const l=function Wh(d,s){return d&&d.length>0?(Xi(void 0!==s),d.map(l=>function(p,y){let E=qs(p.updateTime?p.updateTime:y);return E.isEqual(Gi.min())&&(E=qs(y)),new Fh(E,p.transformResults||[])}(l,s))):[]}(s.writeResults,s.commitTime),p=qs(s.commitTime);return this.listener.Yo(p,l)}return Xi(!s.writeResults||0===s.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const s={};s.database=ml(this.M),this.Fo(s)}Jo(s){const l={streamToken:this.lastStreamToken,writes:s.map(p=>wu(this.M,p))};this.Fo(l)}}class _g extends class{}{constructor(s,l,p,y){super(),this.authCredentials=s,this.appCheckCredentials=l,this.bo=p,this.M=y,this.tu=!1}eu(){if(this.tu)throw new ti(vn.FAILED_PRECONDITION,"The client has already been terminated.")}oo(s,l,p){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,E])=>this.bo.oo(s,l,p,y,E)).catch(y=>{throw"FirebaseError"===y.name?(y.code===vn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new ti(vn.UNKNOWN,y.toString())})}ho(s,l,p){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,E])=>this.bo.ho(s,l,p,y,E)).catch(y=>{throw"FirebaseError"===y.name?(y.code===vn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new ti(vn.UNKNOWN,y.toString())})}terminate(){this.tu=!0}}class My{constructor(s,l){this.asyncQueue=s,this.onlineStateHandler=l,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(s){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${s.toString()}`),this.ou("Offline")))}set(s){this.cu(),this.nu=0,"Online"===s&&(this.iu=!1),this.ou(s)}ou(s){s!==this.state&&(this.state=s,this.onlineStateHandler(s))}uu(s){const l=`Could not reach Cloud Firestore backend. ${s}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Tr(l),this.iu=!1):Jn("OnlineStateTracker",l)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class xy{constructor(s,l,p,y,E){var L=this;this.localStore=s,this.datastore=l,this.asyncQueue=p,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=E,this._u.Lr(J=>{p.enqueueAndForget((0,v.Z)(function*(){var Te;Xu(L)&&(Jn("RemoteStore","Restarting streams for network reachability change."),yield(Te=(0,v.Z)(function*(He){const It=bi(He);It.fu.add(4),yield Qu(It),It.wu.set("Unknown"),It.fu.delete(4),yield Ql(It)}),function(He){return Te.apply(this,arguments)})(L))}))}),this.wu=new My(p,y)}}function Ql(d){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,v.Z)(function*(d){if(Xu(d))for(const s of d.du)yield s(!0)}),Tm.apply(this,arguments)}function Qu(d){return op.apply(this,arguments)}function op(){return op=(0,v.Z)(function*(d){for(const s of d.du)yield s(!1)}),op.apply(this,arguments)}function sp(d,s){const l=bi(d);l.lu.has(s.targetId)||(l.lu.set(s.targetId,s),Cg(l)?yd(l):jc(l).xo()&&tf(l,s))}function cl(d,s){const l=bi(d),p=jc(l);l.lu.delete(s),p.xo()&&Am(l,s),0===l.lu.size&&(p.xo()?p.Mo():Xu(l)&&l.wu.set("Unknown"))}function tf(d,s){d.mu.Z(s.targetId),jc(d).jo(s)}function Am(d,s){d.mu.Z(s),jc(d).Wo(s)}function yd(d){d.mu=new Kf({getRemoteKeysForTarget:s=>d.remoteSyncer.getRemoteKeysForTarget(s),Et:s=>d.lu.get(s)||null}),jc(d).start(),d.wu.ru()}function Cg(d){return Xu(d)&&!jc(d).Co()&&d.lu.size>0}function Xu(d){return 0===bi(d).fu.size}function Im(d){d.mu=void 0}function Hv(d){return nf.apply(this,arguments)}function nf(){return nf=(0,v.Z)(function*(d){d.lu.forEach((s,l)=>{tf(d,s)})}),nf.apply(this,arguments)}function _d(d,s){return rf.apply(this,arguments)}function rf(){return rf=(0,v.Z)(function*(d,s){Im(d),Cg(d)?(d.wu.au(s),yd(d)):d.wu.set("Unknown")}),rf.apply(this,arguments)}function Iu(d,s,l){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,v.Z)(function*(d,s,l){if(d.wu.set("Online"),s instanceof ys&&2===s.state&&s.cause)try{yield(p=(0,v.Z)(function*(y,E){const L=E.cause;for(const J of E.targetIds)y.lu.has(J)&&(yield y.remoteSyncer.rejectListen(J,L),y.lu.delete(J),y.mu.removeTarget(J))}),function(y,E){return p.apply(this,arguments)})(d,s)}catch(p){Jn("RemoteStore","Failed to remove targets %s: %s ",s.targetIds.join(","),p),yield sf(d,p)}else if(s instanceof Ec?d.mu.ut(s):s instanceof Np?d.mu._t(s):d.mu.ht(s),!l.isEqual(Gi.min()))try{const p=yield kv(d.localStore);l.compareTo(p)>=0&&(yield function(y,E){const L=y.mu.yt(E);return L.targetChanges.forEach((J,Te)=>{if(J.resumeToken.approximateByteSize()>0){const He=y.lu.get(Te);He&&y.lu.set(Te,He.withResumeToken(J.resumeToken,E))}}),L.targetMismatches.forEach(J=>{const Te=y.lu.get(J);if(!Te)return;y.lu.set(J,Te.withResumeToken(jo.EMPTY_BYTE_STRING,Te.snapshotVersion)),Am(y,J);const He=new Ic(Te.target,J,1,Te.sequenceNumber);tf(y,He)}),y.remoteSyncer.applyRemoteEvent(L)}(d,l))}catch(p){Jn("RemoteStore","Failed to raise snapshot:",p),yield sf(d,p)}var p}),Cd.apply(this,arguments)}function sf(d,s,l){return sh.apply(this,arguments)}function sh(){return sh=(0,v.Z)(function*(d,s,l){if(!Eu(s))throw s;d.fu.add(1),yield Qu(d),d.wu.set("Offline"),l||(l=()=>kv(d.localStore)),d.asyncQueue.enqueueRetryable((0,v.Z)(function*(){Jn("RemoteStore","Retrying IndexedDB access"),yield l(),d.fu.delete(1),yield Ql(d)}))}),sh.apply(this,arguments)}function Uv(d,s){return s().catch(l=>sf(d,l,s))}function Xl(d){return wg.apply(this,arguments)}function wg(){return wg=(0,v.Z)(function*(d){const s=bi(d),l=Ju(s);let p=s.hu.length>0?s.hu[s.hu.length-1].batchId:-1;for(;Wv(s);)try{const y=yield Iy(s.localStore,p);if(null===y){0===s.hu.length&&l.Mo();break}p=y.batchId,Om(s,y)}catch(y){yield sf(s,y)}af(s)&&lf(s)}),wg.apply(this,arguments)}function Wv(d){return Xu(d)&&d.hu.length<10}function Om(d,s){d.hu.push(s);const l=Ju(d);l.xo()&&l.Ho&&l.Jo(s.mutations)}function af(d){return Xu(d)&&!Ju(d).Co()&&d.hu.length>0}function lf(d){Ju(d).start()}function uf(d){return ah.apply(this,arguments)}function ah(){return ah=(0,v.Z)(function*(d){Ju(d).Zo()}),ah.apply(this,arguments)}function Uc(d){return cf.apply(this,arguments)}function cf(){return cf=(0,v.Z)(function*(d){const s=Ju(d);for(const l of d.hu)s.Jo(l.mutations)}),cf.apply(this,arguments)}function bg(d,s,l){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,v.Z)(function*(d,s,l){const p=d.hu.shift(),y=Wp.from(p,s,l);yield Uv(d,()=>d.remoteSyncer.applySuccessfulWrite(y)),yield Xl(d)}),Wc.apply(this,arguments)}function Eg(d,s){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,v.Z)(function*(d,s){var l;s&&Ju(d).Ho&&(yield(l=(0,v.Z)(function*(p,y){if(Za(E=y.code)&&E!==vn.ABORTED){const L=p.hu.shift();Ju(p).ko(),yield Uv(p,()=>p.remoteSyncer.rejectFailedWrite(L.batchId,y)),yield Xl(p)}var E}),function(p,y){return l.apply(this,arguments)})(d,s)),af(d)&&lf(d)}),Dg.apply(this,arguments)}function Mm(d,s){return lh.apply(this,arguments)}function lh(){return lh=(0,v.Z)(function*(d,s){const l=bi(d);l.asyncQueue.verifyOperationInProgress(),Jn("RemoteStore","RemoteStore received new credentials");const p=Xu(l);l.fu.add(3),yield Qu(l),p&&l.wu.set("Unknown"),yield l.remoteSyncer.handleCredentialChange(s),l.fu.delete(3),yield Ql(l)}),lh.apply(this,arguments)}function xm(d,s){return ap.apply(this,arguments)}function ap(){return ap=(0,v.Z)(function*(d,s){const l=bi(d);s?(l.fu.delete(2),yield Ql(l)):s||(l.fu.add(2),yield Qu(l),l.wu.set("Unknown"))}),ap.apply(this,arguments)}function jc(d){return d.gu||(d.gu=function(s,l,p){const y=bi(s);return y.eu(),new ul(l,y.bo,y.authCredentials,y.appCheckCredentials,y.M,p)}(d.datastore,d.asyncQueue,{Hr:Hv.bind(null,d),Yr:_d.bind(null,d),Qo:Iu.bind(null,d)}),d.du.push(function(){var s=(0,v.Z)(function*(l){l?(d.gu.ko(),Cg(d)?yd(d):d.wu.set("Unknown")):(yield d.gu.stop(),Im(d))});return function(l){return s.apply(this,arguments)}}())),d.gu}function Ju(d){return d.yu||(d.yu=function(s,l,p){const y=bi(s);return y.eu(),new Vv(l,y.bo,y.authCredentials,y.appCheckCredentials,y.M,p)}(d.datastore,d.asyncQueue,{Hr:uf.bind(null,d),Yr:Eg.bind(null,d),Xo:Uc.bind(null,d),Yo:bg.bind(null,d)}),d.du.push(function(){var s=(0,v.Z)(function*(l){l?(d.yu.ko(),yield Xl(d)):(yield d.yu.stop(),d.hu.length>0&&(Jn("RemoteStore",`Stopping write stream with ${d.hu.length} pending writes`),d.hu=[]))});return function(l){return s.apply(this,arguments)}}())),d.yu}class zc{constructor(s,l,p,y,E){this.asyncQueue=s,this.timerId=l,this.targetTimeMs=p,this.op=y,this.removalCallback=E,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(L=>{})}static createAndSchedule(s,l,p,y,E){const L=Date.now()+p,J=new zc(s,l,L,y,E);return J.start(p),J}start(s){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),s)}skipDelay(){return this.handleDelayElapsed()}cancel(s){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ti(vn.CANCELLED,"Operation cancelled"+(s?": "+s:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(s=>this.deferred.resolve(s))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $c(d,s){if(Tr("AsyncQueue",`${s}: ${d}`),Eu(d))return new ti(vn.UNAVAILABLE,`${s}: ${d}`);throw d}class wd{constructor(s){this.comparator=s?(l,p)=>s(l,p)||Ci.comparator(l.key,p.key):(l,p)=>Ci.comparator(l.key,p.key),this.keyedMap=Bu(),this.sortedSet=new to(this.comparator)}static emptySet(s){return new wd(s.comparator)}has(s){return null!=this.keyedMap.get(s)}get(s){return this.keyedMap.get(s)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(s){const l=this.keyedMap.get(s);return l?this.sortedSet.indexOf(l):-1}get size(){return this.sortedSet.size}forEach(s){this.sortedSet.inorderTraversal((l,p)=>(s(l),!1))}add(s){const l=this.delete(s.key);return l.copy(l.keyedMap.insert(s.key,s),l.sortedSet.insert(s,null))}delete(s){const l=this.get(s);return l?this.copy(this.keyedMap.remove(s),this.sortedSet.remove(l)):this}isEqual(s){if(!(s instanceof wd)||this.size!==s.size)return!1;const l=this.sortedSet.getIterator(),p=s.sortedSet.getIterator();for(;l.hasNext();){const y=l.getNext().key,E=p.getNext().key;if(!y.isEqual(E))return!1}return!0}toString(){const s=[];return this.forEach(l=>{s.push(l.toString())}),0===s.length?"DocumentSet ()":"DocumentSet (\n  "+s.join("  \n")+"\n)"}copy(s,l){const p=new wd;return p.comparator=this.comparator,p.keyedMap=s,p.sortedSet=l,p}}class yl{constructor(){this.pu=new to(Ci.comparator)}track(s){const l=s.doc.key,p=this.pu.get(l);p?0!==s.type&&3===p.type?this.pu=this.pu.insert(l,s):3===s.type&&1!==p.type?this.pu=this.pu.insert(l,{type:p.type,doc:s.doc}):2===s.type&&2===p.type?this.pu=this.pu.insert(l,{type:2,doc:s.doc}):2===s.type&&0===p.type?this.pu=this.pu.insert(l,{type:0,doc:s.doc}):1===s.type&&0===p.type?this.pu=this.pu.remove(l):1===s.type&&2===p.type?this.pu=this.pu.insert(l,{type:1,doc:p.doc}):0===s.type&&1===p.type?this.pu=this.pu.insert(l,{type:2,doc:s.doc}):xi():this.pu=this.pu.insert(l,s)}Iu(){const s=[];return this.pu.inorderTraversal((l,p)=>{s.push(p)}),s}}class ec{constructor(s,l,p,y,E,L,J,Te){this.query=s,this.docs=l,this.oldDocs=p,this.docChanges=y,this.mutatedKeys=E,this.fromCache=L,this.syncStateChanged=J,this.excludesMetadataChanges=Te}static fromInitialDocuments(s,l,p,y){const E=[];return l.forEach(L=>{E.push({type:0,doc:L})}),new ec(s,l,wd.emptySet(l),E,p,y,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(s){if(!(this.fromCache===s.fromCache&&this.syncStateChanged===s.syncStateChanged&&this.mutatedKeys.isEqual(s.mutatedKeys)&&il(this.query,s.query)&&this.docs.isEqual(s.docs)&&this.oldDocs.isEqual(s.oldDocs)))return!1;const l=this.docChanges,p=s.docChanges;if(l.length!==p.length)return!1;for(let y=0;y<l.length;y++)if(l[y].type!==p[y].type||!l[y].doc.isEqual(p[y].doc))return!1;return!0}}class jv{constructor(){this.Tu=void 0,this.listeners=[]}}class zv{constructor(){this.queries=new Rl(s=>ld(s),il),this.onlineState="Unknown",this.Eu=new Set}}function Pm(d,s){return uh.apply(this,arguments)}function uh(){return uh=(0,v.Z)(function*(d,s){const l=bi(d),p=s.query;let y=!1,E=l.queries.get(p);if(E||(y=!0,E=new jv),y)try{E.Tu=yield l.onListen(p)}catch(L){const J=$c(L,`Initialization of query '${Oh(s.query)}' failed`);return void s.onError(J)}l.queries.set(p,E),E.listeners.push(s),s.Au(l.onlineState),E.Tu&&s.Ru(E.Tu)&&cp(l)}),uh.apply(this,arguments)}function lp(d,s){return up.apply(this,arguments)}function up(){return up=(0,v.Z)(function*(d,s){const l=bi(d),p=s.query;let y=!1;const E=l.queries.get(p);if(E){const L=E.listeners.indexOf(s);L>=0&&(E.listeners.splice(L,1),y=0===E.listeners.length)}if(y)return l.queries.delete(p),l.onUnlisten(p)}),up.apply(this,arguments)}function bd(d,s){const l=bi(d);let p=!1;for(const y of s){const L=l.queries.get(y.query);if(L){for(const J of L.listeners)J.Ru(y)&&(p=!0);L.Tu=y}}p&&cp(l)}function Fm(d,s,l){const p=bi(d),y=p.queries.get(s);if(y)for(const E of y.listeners)E.onError(l);p.queries.delete(s)}function cp(d){d.Eu.forEach(s=>{s.next()})}class dp{constructor(s,l,p){this.query=s,this.Pu=l,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=p||{}}Ru(s){if(!this.options.includeMetadataChanges){const p=[];for(const y of s.docChanges)3!==y.type&&p.push(y);s=new ec(s.query,s.docs,s.oldDocs,p,s.mutatedKeys,s.fromCache,s.syncStateChanged,!0)}let l=!1;return this.bu?this.vu(s)&&(this.Pu.next(s),l=!0):this.Su(s,this.onlineState)&&(this.Du(s),l=!0),this.Vu=s,l}onError(s){this.Pu.error(s)}Au(s){this.onlineState=s;let l=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,s)&&(this.Du(this.Vu),l=!0),l}Su(s,l){return!s.fromCache||!(this.options.Cu&&"Offline"!==l||s.docs.isEmpty()&&"Offline"!==l)}vu(s){return s.docChanges.length>0||!!(s.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==s.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(s){s=ec.fromInitialDocuments(s.query,s.docs,s.mutatedKeys,s.fromCache),this.bu=!0,this.Pu.next(s)}}class Sg{constructor(s,l){this.payload=s,this.byteLength=l}xu(){return"metadata"in this.payload}}class Rg{constructor(s){this.M=s}fi(s){return Ia(this.M,s)}di(s){return s.metadata.exists?Rc(this.M,s.document,!1):qr.newNoDocument(this.fi(s.metadata.name),this._i(s.metadata.readTime))}_i(s){return qs(s)}}class Nm{constructor(s,l,p){this.Nu=s,this.localStore=l,this.M=p,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=df(s)}ku(s){this.progress.bytesLoaded+=s.byteLength;let l=this.progress.documentsLoaded;if(s.payload.namedQuery)this.queries.push(s.payload.namedQuery);else if(s.payload.documentMetadata){this.documents.push({metadata:s.payload.documentMetadata}),s.payload.documentMetadata.exists||++l;const p=jr.fromString(s.payload.documentMetadata.name);this.collectionGroups.add(p.get(p.length-2))}else s.payload.document&&(this.documents[this.documents.length-1].document=s.payload.document,++l);return l!==this.progress.documentsLoaded?(this.progress.documentsLoaded=l,Object.assign({},this.progress)):null}Mu(s){const l=new Map,p=new Rg(this.M);for(const y of s)if(y.metadata.queries){const E=p.fi(y.metadata.name);for(const L of y.metadata.queries){const J=(l.get(L)||go()).add(E);l.set(L,J)}}return l}complete(){var s=this;return(0,v.Z)(function*(){const l=yield function hg(d,s,l,p){return ih.apply(this,arguments)}(s.localStore,new Rg(s.M),s.documents,s.Nu.id),p=s.Mu(s.documents);for(const y of s.queries)yield pg(s.localStore,y,p.get(y.name));return s.progress.taskState="Success",{progress:s.progress,Ou:s.collectionGroups,Fu:l}})()}}function df(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class ch{constructor(s){this.key=s}}class Tg{constructor(s){this.key=s}}class Ag{constructor(s,l){this.query=s,this.$u=l,this.Bu=null,this.current=!1,this.Lu=go(),this.mutatedKeys=go(),this.Uu=Hf(s),this.qu=new wd(this.Uu)}get Ku(){return this.$u}Gu(s,l){const p=l?l.Qu:new yl,y=l?l.qu:this.qu;let E=l?l.mutatedKeys:this.mutatedKeys,L=y,J=!1;const Te=sd(this.query)&&y.size===this.query.limit?y.last():null,He=ad(this.query)&&y.size===this.query.limit?y.first():null;if(s.inorderTraversal((It,Yt)=>{const Tn=y.get(It),ii=mc(this.query,Yt)?Yt:null,ai=!!Tn&&this.mutatedKeys.has(Tn.key),ji=!!ii&&(ii.hasLocalMutations||this.mutatedKeys.has(ii.key)&&ii.hasCommittedMutations);let Vr=!1;Tn&&ii?Tn.data.isEqual(ii.data)?ai!==ji&&(p.track({type:3,doc:ii}),Vr=!0):this.ju(Tn,ii)||(p.track({type:2,doc:ii}),Vr=!0,(Te&&this.Uu(ii,Te)>0||He&&this.Uu(ii,He)<0)&&(J=!0)):!Tn&&ii?(p.track({type:0,doc:ii}),Vr=!0):Tn&&!ii&&(p.track({type:1,doc:Tn}),Vr=!0,(Te||He)&&(J=!0)),Vr&&(ii?(L=L.add(ii),E=ji?E.add(It):E.delete(It)):(L=L.delete(It),E=E.delete(It)))}),sd(this.query)||ad(this.query))for(;L.size>this.query.limit;){const It=sd(this.query)?L.last():L.first();L=L.delete(It.key),E=E.delete(It.key),p.track({type:1,doc:It})}return{qu:L,Qu:p,ni:J,mutatedKeys:E}}ju(s,l){return s.hasLocalMutations&&l.hasCommittedMutations&&!l.hasLocalMutations}applyChanges(s,l,p){const y=this.qu;this.qu=s.qu,this.mutatedKeys=s.mutatedKeys;const E=s.Qu.Iu();E.sort((He,It)=>function(Yt,Tn){const ii=ai=>{switch(ai){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xi()}};return ii(Yt)-ii(Tn)}(He.type,It.type)||this.Uu(He.doc,It.doc)),this.Wu(p);const L=l?this.zu():[],J=0===this.Lu.size&&this.current?1:0,Te=J!==this.Bu;return this.Bu=J,0!==E.length||Te?{snapshot:new ec(this.query,s.qu,y,E,s.mutatedKeys,0===J,Te,!1),Hu:L}:{Hu:L}}Au(s){return this.current&&"Offline"===s?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new yl,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(s){return!this.$u.has(s)&&!!this.qu.has(s)&&!this.qu.get(s).hasLocalMutations}Wu(s){s&&(s.addedDocuments.forEach(l=>this.$u=this.$u.add(l)),s.modifiedDocuments.forEach(l=>{}),s.removedDocuments.forEach(l=>this.$u=this.$u.delete(l)),this.current=s.current)}zu(){if(!this.current)return[];const s=this.Lu;this.Lu=go(),this.qu.forEach(p=>{this.Ju(p.key)&&(this.Lu=this.Lu.add(p.key))});const l=[];return s.forEach(p=>{this.Lu.has(p)||l.push(new Tg(p))}),this.Lu.forEach(p=>{s.has(p)||l.push(new ch(p))}),l}Yu(s){this.$u=s.li,this.Lu=go();const l=this.Gu(s.documents);return this.applyChanges(l,!0)}Xu(){return ec.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Ma{constructor(s,l,p){this.query=s,this.targetId=l,this.view=p}}class Lm{constructor(s){this.key=s,this.Zu=!1}}class km{constructor(s,l,p,y,E,L){this.localStore=s,this.remoteStore=l,this.eventManager=p,this.sharedClientState=y,this.currentUser=E,this.maxConcurrentLimboResolutions=L,this.ta={},this.ea=new Rl(J=>ld(J),il),this.na=new Map,this.sa=new Set,this.ia=new to(Ci.comparator),this.ra=new Map,this.oa=new Gc,this.ua={},this.aa=new Map,this.ca=Or.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Bm(d,s){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,v.Z)(function*(d,s){const l=eu(d);let p,y;const E=l.ea.get(s);if(E)p=E.targetId,l.sharedClientState.addLocalQueryTarget(p),y=E.view.Xu();else{const L=yield nh(l.localStore,tl(s));l.isPrimaryClient&&sp(l.remoteStore,L);const J=l.sharedClientState.addLocalQueryTarget(L.targetId);p=L.targetId,y=yield Ig(l,s,p,"current"===J)}return y}),Kc.apply(this,arguments)}function Ig(d,s,l,p){return hf.apply(this,arguments)}function hf(){return hf=(0,v.Z)(function*(d,s,l,p){d.la=(It,Yt,Tn)=>{return(ii=(0,v.Z)(function*(ai,ji,Vr,Rs){let Ts=ji.view.Gu(Vr);Ts.ni&&(Ts=yield dg(ai.localStore,ji.query,!1).then(({documents:Fs})=>ji.view.Gu(Fs,Ts)));const As=Rs&&Rs.targetChanges.get(ji.targetId),Va=ji.view.applyChanges(Ts,ai.isPrimaryClient,As);return fp(ai,ji.targetId,Va.Hu),Va.snapshot}),function(ai,ji,Vr,Rs){return ii.apply(this,arguments)})(d,It,Yt,Tn);var ii};const y=yield dg(d.localStore,s,!0),E=new Ag(s,y.li),L=E.Gu(y.documents),J=Wl.createSynthesizedTargetChangeForCurrentChange(l,p&&"Offline"!==d.onlineState),Te=E.applyChanges(L,d.isPrimaryClient,J);fp(d,l,Te.Hu);const He=new Ma(s,l,E);return d.ea.set(s,He),d.na.has(l)?d.na.get(l).push(s):d.na.set(l,[s]),Te.snapshot}),hf.apply(this,arguments)}function Gm(d,s){return Og.apply(this,arguments)}function Og(){return Og=(0,v.Z)(function*(d,s){const l=bi(d),p=l.ea.get(s),y=l.na.get(p.targetId);if(y.length>1)return l.na.set(p.targetId,y.filter(E=>!il(E,s))),void l.ea.delete(s);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(p.targetId),l.sharedClientState.isActiveQueryTarget(p.targetId)||(yield Jh(l.localStore,p.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(p.targetId),cl(l.remoteStore,p.targetId),pp(l,p.targetId)}).catch(ba))):(pp(l,p.targetId),yield Jh(l.localStore,p.targetId,!0))}),Og.apply(this,arguments)}function dh(){return dh=(0,v.Z)(function*(d,s,l){const p=xg(d);try{const y=yield function(E,L){const J=bi(E),Te=Ji.now(),He=L.reduce((Yt,Tn)=>Yt.add(Tn.key),go());let It;return J.persistence.runTransaction("Locally write mutations","readwrite",Yt=>J.ci.Ks(Yt,He).next(Tn=>{It=Tn;const ii=[];for(const ai of L){const ji=Hd(ai,It.get(ai.key));null!=ji&&ii.push(new vu(ai.key,ji,vs(ji.value.mapValue),Ss.exists(!0)))}return J.Bs.addMutationBatch(Yt,Te,ii,L)})).then(Yt=>(Yt.applyToLocalDocumentSet(It),{batchId:Yt.batchId,changes:It}))}(p.localStore,s);p.sharedClientState.addPendingMutation(y.batchId),function(E,L,J){let Te=E.ua[E.currentUser.toKey()];Te||(Te=new to(di)),Te=Te.insert(L,J),E.ua[E.currentUser.toKey()]=Te}(p,y.batchId,l),yield Ol(p,y.changes),yield Xl(p.remoteStore)}catch(y){const E=$c(y,"Failed to persist write");l.reject(E)}}),dh.apply(this,arguments)}function hh(d,s){return pf.apply(this,arguments)}function pf(){return pf=(0,v.Z)(function*(d,s){const l=bi(d);try{const p=yield Ay(l.localStore,s);s.targetChanges.forEach((y,E)=>{const L=l.ra.get(E);L&&(Xi(y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size<=1),y.addedDocuments.size>0?L.Zu=!0:y.modifiedDocuments.size>0?Xi(L.Zu):y.removedDocuments.size>0&&(Xi(L.Zu),L.Zu=!1))}),yield Ol(l,p,s)}catch(p){yield ba(p)}}),pf.apply(this,arguments)}function ph(d,s,l){const p=bi(d);if(p.isPrimaryClient&&0===l||!p.isPrimaryClient&&1===l){const y=[];p.ea.forEach((E,L)=>{const J=L.view.Au(s);J.snapshot&&y.push(J.snapshot)}),function(E,L){const J=bi(E);J.onlineState=L;let Te=!1;J.queries.forEach((He,It)=>{for(const Yt of It.listeners)Yt.Au(L)&&(Te=!0)}),Te&&cp(J)}(p.eventManager,s),y.length&&p.ta.Qo(y),p.onlineState=s,p.isPrimaryClient&&p.sharedClientState.setOnlineState(s)}}function Vm(d,s,l){return hp.apply(this,arguments)}function hp(){return hp=(0,v.Z)(function*(d,s,l){const p=bi(d);p.sharedClientState.updateQueryState(s,"rejected",l);const y=p.ra.get(s),E=y&&y.key;if(E){let L=new to(Ci.comparator);L=L.insert(E,qr.newNoDocument(E,Gi.min()));const J=go().add(E),Te=new Cu(Gi.min(),new Map,new Lo(di),L,J);yield hh(p,Te),p.ia=p.ia.remove(E),p.ra.delete(s),yf(p)}else yield Jh(p.localStore,s,!1).then(()=>pp(p,s,l)).catch(ba)}),hp.apply(this,arguments)}function $v(d,s){return ff.apply(this,arguments)}function ff(){return ff=(0,v.Z)(function*(d,s){const l=bi(d),p=s.batch.batchId;try{const y=yield Lv(l.localStore,s);vf(l,p,null),mf(l,p),l.sharedClientState.updateMutationState(p,"acknowledged"),yield Ol(l,y)}catch(y){yield ba(y)}}),ff.apply(this,arguments)}function Kv(d,s,l){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,v.Z)(function*(d,s,l){const p=bi(d);try{const y=yield function(E,L){const J=bi(E);return J.persistence.runTransaction("Reject batch","readwrite-primary",Te=>{let He;return J.Bs.lookupMutationBatch(Te,L).next(It=>(Xi(null!==It),He=It.keys(),J.Bs.removeMutationBatch(Te,It))).next(()=>J.Bs.performConsistencyCheck(Te)).next(()=>J.ci.Ks(Te,He))})}(p.localStore,s);vf(p,s,l),mf(p,s),p.sharedClientState.updateMutationState(s,"rejected",l),yield Ol(p,y)}catch(y){yield ba(y)}}),Yc.apply(this,arguments)}function gf(){return gf=(0,v.Z)(function*(d,s){const l=bi(d);Xu(l.remoteStore)||Jn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const p=yield function(E){const L=bi(E);return L.persistence.runTransaction("Get highest unacknowledged batch id","readonly",J=>L.Bs.getHighestUnacknowledgedBatchId(J))}(l.localStore);if(-1===p)return void s.resolve();const y=l.aa.get(p)||[];y.push(s),l.aa.set(p,y)}catch(p){const y=$c(p,"Initialization of waitForPendingWrites() operation failed");s.reject(y)}}),gf.apply(this,arguments)}function mf(d,s){(d.aa.get(s)||[]).forEach(l=>{l.resolve()}),d.aa.delete(s)}function vf(d,s,l){const p=bi(d);let y=p.ua[p.currentUser.toKey()];if(y){const E=y.get(s);E&&(l?E.reject(l):E.resolve(),y=y.remove(s)),p.ua[p.currentUser.toKey()]=y}}function pp(d,s,l=null){d.sharedClientState.removeLocalQueryTarget(s);for(const p of d.na.get(s))d.ea.delete(p),l&&d.ta.fa(p,l);d.na.delete(s),d.isPrimaryClient&&d.oa.Pi(s).forEach(p=>{d.oa.containsKey(p)||Hm(d,p)})}function Hm(d,s){d.sa.delete(s.path.canonicalString());const l=d.ia.get(s);null!==l&&(cl(d.remoteStore,l),d.ia=d.ia.remove(s),d.ra.delete(l),yf(d))}function fp(d,s,l){for(const p of l)p instanceof ch?(d.oa.addReference(p.key,s),Um(d,p)):p instanceof Tg?(Jn("SyncEngine","Document no longer in limbo: "+p.key),d.oa.removeReference(p.key,s),d.oa.containsKey(p.key)||Hm(d,p.key)):xi()}function Um(d,s){const l=s.key,p=l.path.canonicalString();d.ia.get(l)||d.sa.has(p)||(Jn("SyncEngine","New document in limbo: "+l),d.sa.add(p),yf(d))}function yf(d){for(;d.sa.size>0&&d.ia.size<d.maxConcurrentLimboResolutions;){const s=d.sa.values().next().value;d.sa.delete(s);const l=new Ci(jr.fromString(s)),p=d.ca.next();d.ra.set(p,new Lm(l)),d.ia=d.ia.insert(l,p),sp(d.remoteStore,new Ic(tl(gl(l.path)),p,2,Wt.A))}}function Ol(d,s,l){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,v.Z)(function*(d,s,l){const p=bi(d),y=[],E=[],L=[];var J;p.ea.isEmpty()||(p.ea.forEach((J,Te)=>{L.push(p.la(Te,s,l).then(He=>{if(He){p.isPrimaryClient&&p.sharedClientState.updateQueryState(Te.targetId,He.fromCache?"not-current":"current"),y.push(He);const It=Cm.Ys(Te.targetId,He);E.push(It)}}))}),yield Promise.all(L),p.ta.Qo(y),yield(J=(0,v.Z)(function*(Te,He){const It=bi(Te);try{yield It.persistence.runTransaction("notifyLocalViewChanges","readwrite",Yt=>kn.forEach(He,Tn=>kn.forEach(Tn.Hs,ii=>It.persistence.referenceDelegate.addReference(Yt,Tn.targetId,ii)).next(()=>kn.forEach(Tn.Js,ii=>It.persistence.referenceDelegate.removeReference(Yt,Tn.targetId,ii)))))}catch(Yt){if(!Eu(Yt))throw Yt;Jn("LocalStore","Failed to update sequence numbers: "+Yt)}for(const Yt of He){const Tn=Yt.targetId;if(!Yt.fromCache){const ii=It.ii.get(Tn),ji=ii.withLastLimboFreeSnapshotVersion(ii.snapshotVersion);It.ii=It.ii.insert(Tn,ji)}}}),function(Te,He){return J.apply(this,arguments)})(p.localStore,E))}),Wm.apply(this,arguments)}function Ml(d,s){return jm.apply(this,arguments)}function jm(){return jm=(0,v.Z)(function*(d,s){const l=bi(d);if(!l.currentUser.isEqual(s)){Jn("SyncEngine","User change. New user:",s.toKey());const p=yield fd(l.localStore,s);l.currentUser=s,(y=l).aa.forEach(L=>{L.forEach(J=>{J.reject(new ti(vn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.aa.clear(),l.sharedClientState.handleUserChange(s,p.removedBatchIds,p.addedBatchIds),yield Ol(l,p.hi)}var y}),jm.apply(this,arguments)}function Zv(d,s){const l=bi(d),p=l.ra.get(s);if(p&&p.Zu)return go().add(p.key);{let y=go();const E=l.na.get(s);if(!E)return y;for(const L of E){const J=l.ea.get(L);y=y.unionWith(J.view.Ku)}return y}}function zm(d,s){return gp.apply(this,arguments)}function gp(){return gp=(0,v.Z)(function*(d,s){const l=bi(d),p=yield dg(l.localStore,s.query,!0),y=s.view.Yu(p);return l.isPrimaryClient&&fp(l,s.targetId,y.Hu),y}),gp.apply(this,arguments)}function $m(d,s){return fh.apply(this,arguments)}function fh(){return fh=(0,v.Z)(function*(d,s){const l=bi(d);return Yu(l.localStore,s).then(p=>Ol(l,p))}),fh.apply(this,arguments)}function qv(d,s,l,p){return _f.apply(this,arguments)}function _f(){return _f=(0,v.Z)(function*(d,s,l,p){const y=bi(d),E=yield function(L,J){const Te=bi(L),He=bi(Te.Bs);return Te.persistence.runTransaction("Lookup mutation documents","readonly",It=>He.fn(It,J).next(Yt=>Yt?Te.ci.Ks(It,Yt):kn.resolve(null)))}(y.localStore,s);var J;null!==E?("pending"===l?yield Xl(y.remoteStore):"acknowledged"===l||"rejected"===l?(vf(y,s,p||null),mf(y,s),J=s,bi(bi(y.localStore).Bs)._n(J)):xi(),yield Ol(y,E)):Jn("SyncEngine","Cannot apply mutation batch with id: "+s)}),_f.apply(this,arguments)}function Cf(){return Cf=(0,v.Z)(function*(d,s){const l=bi(d);if(eu(l),xg(l),!0===s&&!0!==l.ha){const p=l.sharedClientState.getAllActiveQueryTargets(),y=yield wf(l,p.toArray());l.ha=!0,yield xm(l.remoteStore,!0);for(const E of y)sp(l.remoteStore,E)}else if(!1===s&&!1!==l.ha){const p=[];let y=Promise.resolve();l.na.forEach((E,L)=>{l.sharedClientState.isLocalQueryTarget(L)?p.push(L):y=y.then(()=>(pp(l,L),Jh(l.localStore,L,!0))),cl(l.remoteStore,L)}),yield y,yield wf(l,p),function(E){const L=bi(E);L.ra.forEach((J,Te)=>{cl(L.remoteStore,Te)}),L.oa.bi(),L.ra=new Map,L.ia=new to(Ci.comparator)}(l),l.ha=!1,yield xm(l.remoteStore,!1)}}),Cf.apply(this,arguments)}function wf(d,s,l){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,v.Z)(function*(d,s,l){const p=bi(d),y=[],E=[];for(const L of s){let J;const Te=p.na.get(L);if(Te&&0!==Te.length){J=yield nh(p.localStore,tl(Te[0]));for(const He of Te){const It=p.ea.get(He),Yt=yield zm(p,It);Yt.snapshot&&E.push(Yt.snapshot)}}else{const He=yield ql(p.localStore,L);J=yield nh(p.localStore,He),yield Ig(p,Km(He),L,!1)}y.push(J)}return p.ta.Qo(E),y}),Jl.apply(this,arguments)}function Km(d){return Nu(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function Qv(d){const s=bi(d);return bi(bi(s.localStore).persistence).Fs()}function Xv(d,s,l,p){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,v.Z)(function*(d,s,l,p){const y=bi(d);if(y.ha)return void Jn("SyncEngine","Ignoring unexpected query state notification.");const E=y.na.get(s);if(E&&E.length>0)switch(l){case"current":case"not-current":{const L=yield Yu(y.localStore,vc(E[0])),J=Cu.createSynthesizedRemoteEventForCurrentChange(s,"current"===l);yield Ol(y,L,J);break}case"rejected":yield Jh(y.localStore,s,!0),pp(y,s,p);break;default:xi()}}),Dd.apply(this,arguments)}function Mg(d,s,l){return gh.apply(this,arguments)}function gh(){return gh=(0,v.Z)(function*(d,s,l){const p=eu(d);if(p.ha){for(const y of s){if(p.na.has(y)){Jn("SyncEngine","Adding an already active target "+y);continue}const E=yield ql(p.localStore,y),L=yield nh(p.localStore,E);yield Ig(p,Km(E),L.targetId,!1),sp(p.remoteStore,L)}for(const y of l)p.na.has(y)&&(yield Jh(p.localStore,y,!1).then(()=>{cl(p.remoteStore,y),pp(p,y)}).catch(ba))}}),gh.apply(this,arguments)}function eu(d){const s=bi(d);return s.remoteStore.remoteSyncer.applyRemoteEvent=hh.bind(null,s),s.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zv.bind(null,s),s.remoteStore.remoteSyncer.rejectListen=Vm.bind(null,s),s.ta.Qo=bd.bind(null,s.eventManager),s.ta.fa=Fm.bind(null,s.eventManager),s}function xg(d){const s=bi(d);return s.remoteStore.remoteSyncer.applySuccessfulWrite=$v.bind(null,s),s.remoteStore.remoteSyncer.rejectFailedWrite=Kv.bind(null,s),s}class Ym{constructor(){this.synchronizeTabs=!1}initialize(s){var l=this;return(0,v.Z)(function*(){l.M=Hc(s.databaseInfo.databaseId),l.sharedClientState=l._a(s),l.persistence=l.wa(s),yield l.persistence.start(),l.gcScheduler=l.ma(s),l.localStore=l.ga(s)})()}ma(s){return null}ga(s){return wm(this.persistence,new Xp,s.initialUser,this.M)}wa(s){return new gg(Vc.zi,this.M)}_a(s){return new lo}terminate(){var s=this;return(0,v.Z)(function*(){s.gcScheduler&&s.gcScheduler.stop(),yield s.sharedClientState.shutdown(),yield s.persistence.shutdown()})()}}class Pg extends Ym{constructor(s,l,p){super(),this.ya=s,this.cacheSizeBytes=l,this.forceOwnership=p,this.synchronizeTabs=!1}initialize(s){var l=()=>super.initialize,p=this;return(0,v.Z)(function*(){yield l().call(p,s),yield p.ya.initialize(p,s),yield xg(p.ya.syncEngine),yield Xl(p.ya.remoteStore),yield p.persistence.Ts(()=>(p.gcScheduler&&!p.gcScheduler.started&&p.gcScheduler.start(p.localStore),Promise.resolve()))})()}ga(s){return wm(this.persistence,new Xp,s.initialUser,this.M)}ma(s){return new $u(this.persistence.referenceDelegate.garbageCollector,s.asyncQueue)}wa(s){const l=th(s.databaseInfo.databaseId,s.databaseInfo.persistenceKey),p=void 0!==this.cacheSizeBytes?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new ug(this.synchronizeTabs,l,s.clientId,p,s.asyncQueue,vg(),rp(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(s){return new lo}}class Fg extends Pg{constructor(s,l){super(s,l,!1),this.ya=s,this.cacheSizeBytes=l,this.synchronizeTabs=!0}initialize(s){var l=()=>super.initialize,p=this;return(0,v.Z)(function*(){yield l().call(p,s);const y=p.ya.syncEngine;p.sharedClientState instanceof qu&&(p.sharedClientState.syncEngine={Mr:qv.bind(null,y),Or:Xv.bind(null,y),Fr:Mg.bind(null,y),Fs:Qv.bind(null,y),kr:$m.bind(null,y)},yield p.sharedClientState.start()),yield p.persistence.Ts(function(){var E=(0,v.Z)(function*(L){yield function Ed(d,s){return Cf.apply(this,arguments)}(p.ya.syncEngine,L),p.gcScheduler&&(L&&!p.gcScheduler.started?p.gcScheduler.start(p.localStore):L||p.gcScheduler.stop())});return function(L){return E.apply(this,arguments)}}())})()}_a(s){const l=vg();if(!qu.vt(l))throw new ti(vn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const p=th(s.databaseInfo.databaseId,s.databaseInfo.persistenceKey);return new qu(l,s.asyncQueue,p,s.clientId,s.initialUser)}}class pa{initialize(s,l){var p=this;return(0,v.Z)(function*(){p.localStore||(p.localStore=s.localStore,p.sharedClientState=s.sharedClientState,p.datastore=p.createDatastore(l),p.remoteStore=p.createRemoteStore(l),p.eventManager=p.createEventManager(l),p.syncEngine=p.createSyncEngine(l,!s.synchronizeTabs),p.sharedClientState.onlineStateHandler=y=>ph(p.syncEngine,y,1),p.remoteStore.remoteSyncer.handleCredentialChange=Ml.bind(null,p.syncEngine),yield xm(p.remoteStore,p.syncEngine.isPrimaryClient))})()}createEventManager(s){return new zv}createDatastore(s){const l=Hc(s.databaseInfo.databaseId),p=new ip(s.databaseInfo);return new _g(s.authCredentials,s.appCheckCredentials,p,l)}createRemoteStore(s){return l=this.localStore,p=this.datastore,y=s.asyncQueue,E=J=>ph(this.syncEngine,J,0),L=mg.vt()?new mg:new Au,new xy(l,p,y,E,L);var l,p,y,E,L}createSyncEngine(s,l){return function(p,y,E,L,J,Te,He){const It=new km(p,y,E,L,J,Te);return He&&(It.ha=!0),It}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions,l)}terminate(){return(s=(0,v.Z)(function*(l){const p=bi(l);Jn("RemoteStore","RemoteStore shutting down."),p.fu.add(5),yield Qu(p),p._u.shutdown(),p.wu.set("Unknown")}),function(l){return s.apply(this,arguments)})(this.remoteStore);var s}}function Rd(d,s=10240){let l=0;return{read:()=>(0,v.Z)(function*(){if(l<d.byteLength){const p={value:d.slice(l,l+s),done:!1};return l+=s,p}return{done:!0}})(),cancel:()=>(0,v.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class fa{constructor(s){this.observer=s,this.muted=!1}next(s){this.observer.next&&this.pa(this.observer.next,s)}error(s){this.observer.error?this.pa(this.observer.error,s):console.error("Uncaught Error in snapshot listener:",s)}Ia(){this.muted=!0}pa(s,l){this.muted||setTimeout(()=>{this.muted||s(l)},0)}}class Zc{constructor(s,l){this.Ta=s,this.M=l,this.metadata=new fo,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(p=>{p&&p.xu()?this.metadata.resolve(p.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==p?void 0:p.payload)}`))},p=>this.metadata.reject(p))}close(){return this.Ta.cancel()}getMetadata(){var s=this;return(0,v.Z)(function*(){return s.metadata.promise})()}da(){var s=this;return(0,v.Z)(function*(){return yield s.getMetadata(),s.Aa()})()}Aa(){var s=this;return(0,v.Z)(function*(){const l=yield s.Ra();if(null===l)return null;const p=s.Ea.decode(l),y=Number(p);isNaN(y)&&s.Pa(`length string (${p}) is not valid number`);const E=yield s.ba(y);return new Sg(JSON.parse(E),l.length+y)})()}Va(){return this.buffer.findIndex(s=>s==="{".charCodeAt(0))}Ra(){var s=this;return(0,v.Z)(function*(){for(;s.Va()<0&&!(yield s.va()););if(0===s.buffer.length)return null;const l=s.Va();l<0&&s.Pa("Reached the end of bundle when a length string is expected.");const p=s.buffer.slice(0,l);return s.buffer=s.buffer.slice(l),p})()}ba(s){var l=this;return(0,v.Z)(function*(){for(;l.buffer.length<s;)(yield l.va())&&l.Pa("Reached the end of bundle when more is expected.");const p=l.Ea.decode(l.buffer.slice(0,s));return l.buffer=l.buffer.slice(s),p})()}Pa(s){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${s}`)}va(){var s=this;return(0,v.Z)(function*(){const l=yield s.Ta.read();if(!l.done){const p=new Uint8Array(s.buffer.length+l.value.length);p.set(s.buffer),p.set(l.value,s.buffer.length),s.buffer=p}return l.done})()}}class mp{constructor(s){this.datastore=s,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(s){var l=this;return(0,v.Z)(function*(){if(l.ensureCommitNotCalled(),l.mutations.length>0)throw new ti(vn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const p=yield(y=(0,v.Z)(function*(E,L){const J=bi(E),Te=ml(J.M)+"/documents",He={documents:L.map(ii=>jl(J.M,ii))},It=yield J.ho("BatchGetDocuments",Te,He),Yt=new Map;It.forEach(ii=>{const ai=function Uh(d,s){return"found"in s?function(l,p){Xi(!!p.found);const y=Ia(l,p.found.name),E=qs(p.found.updateTime),L=new kr({mapValue:{fields:p.found.fields}});return qr.newFoundDocument(y,E,L)}(d,s):"missing"in s?function(l,p){Xi(!!p.missing),Xi(!!p.readTime);const y=Ia(l,p.missing),E=qs(p.readTime);return qr.newNoDocument(y,E)}(d,s):xi()}(J.M,ii);Yt.set(ai.key.toString(),ai)});const Tn=[];return L.forEach(ii=>{const ai=Yt.get(ii.toString());Xi(!!ai),Tn.push(ai)}),Tn}),function(E,L){return y.apply(this,arguments)})(l.datastore,s);var y;return p.forEach(y=>l.recordVersion(y)),p})()}set(s,l){this.write(l.toMutation(s,this.precondition(s))),this.writtenDocs.add(s.toString())}update(s,l){try{this.write(l.toMutation(s,this.preconditionForUpdate(s)))}catch(p){this.lastWriteError=p}this.writtenDocs.add(s.toString())}delete(s){this.write(new rl(s,this.precondition(s))),this.writtenDocs.add(s.toString())}commit(){var s=this;return(0,v.Z)(function*(){if(s.ensureCommitNotCalled(),s.lastWriteError)throw s.lastWriteError;const l=s.readVersions;var p;s.mutations.forEach(p=>{l.delete(p.key.toString())}),l.forEach((p,y)=>{const E=Ci.fromPath(y);s.mutations.push(new Nr(E,s.precondition(E)))}),yield(p=(0,v.Z)(function*(y,E){const L=bi(y),J=ml(L.M)+"/documents",Te={writes:E.map(He=>wu(L.M,He))};yield L.oo("Commit",J,Te)}),function(y,E){return p.apply(this,arguments)})(s.datastore,s.mutations),s.committed=!0})()}recordVersion(s){let l;if(s.isFoundDocument())l=s.version;else{if(!s.isNoDocument())throw xi();l=Gi.min()}const p=this.readVersions.get(s.key.toString());if(p){if(!l.isEqual(p))throw new ti(vn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(s.key.toString(),l)}precondition(s){const l=this.readVersions.get(s.toString());return!this.writtenDocs.has(s.toString())&&l?Ss.updateTime(l):Ss.none()}preconditionForUpdate(s){const l=this.readVersions.get(s.toString());if(!this.writtenDocs.has(s.toString())&&l){if(l.isEqual(Gi.min()))throw new ti(vn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ss.updateTime(l)}return Ss.exists(!0)}write(s){this.ensureCommitNotCalled(),this.mutations.push(s)}ensureCommitNotCalled(){}}class xl{constructor(s,l,p,y){this.asyncQueue=s,this.datastore=l,this.updateFunction=p,this.deferred=y,this.Sa=5,this.Do=new yg(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var s=this;this.Do.To((0,v.Z)(function*(){const l=new mp(s.datastore),p=s.Ca(l);p&&p.then(y=>{s.asyncQueue.enqueueAndForget(()=>l.commit().then(()=>{s.deferred.resolve(y)}).catch(E=>{s.xa(E)}))}).catch(y=>{s.xa(y)})}))}Ca(s){try{const l=this.updateFunction(s);return!bo(l)&&l.catch&&l.then?l:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(l){return this.deferred.reject(l),null}}xa(s){this.Sa>0&&this.Na(s)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(s)}Na(s){if("FirebaseError"===s.name){const l=s.code;return"aborted"===l||"failed-precondition"===l||!Za(l)}return!1}}class Ng{constructor(s,l,p,y){var E=this;this.authCredentials=s,this.appCheckCredentials=l,this.asyncQueue=p,this.databaseInfo=y,this.user=Er.UNAUTHENTICATED,this.clientId=Ii.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(p,function(){var L=(0,v.Z)(function*(J){Jn("FirestoreClient","Received user=",J.uid),yield E.authCredentialListener(J),E.user=J});return function(J){return L.apply(this,arguments)}}()),this.appCheckCredentials.start(p,L=>(Jn("FirestoreClient","Received new app check token=",L),this.appCheckCredentialListener(L,this.user)))}getConfiguration(){var s=this;return(0,v.Z)(function*(){return{asyncQueue:s.asyncQueue,databaseInfo:s.databaseInfo,clientId:s.clientId,authCredentials:s.authCredentials,appCheckCredentials:s.appCheckCredentials,initialUser:s.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(s){this.authCredentialListener=s}setAppCheckTokenChangeListener(s){this.appCheckCredentialListener=s}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ti(vn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var s=this;this.asyncQueue.enterRestrictedMode();const l=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,v.Z)(function*(){try{s.onlineComponents&&(yield s.onlineComponents.terminate()),s.offlineComponents&&(yield s.offlineComponents.terminate()),s.authCredentials.shutdown(),s.appCheckCredentials.shutdown(),l.resolve()}catch(p){const y=$c(p,"Failed to shutdown persistence");l.reject(y)}})),l.promise}}function Td(d,s){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,v.Z)(function*(d,s){d.asyncQueue.verifyOperationInProgress(),Jn("FirestoreClient","Initializing OfflineComponentProvider");const l=yield d.getConfiguration();yield s.initialize(l);let p=l.initialUser;d.setCredentialChangeListener(function(){var y=(0,v.Z)(function*(E){p.isEqual(E)||(yield fd(s.localStore,E),p=E)});return function(E){return y.apply(this,arguments)}}()),s.persistence.setDatabaseDeletedListener(()=>d.terminate()),d.offlineComponents=s}),Pl.apply(this,arguments)}function Ad(d,s){return tu.apply(this,arguments)}function tu(){return tu=(0,v.Z)(function*(d,s){d.asyncQueue.verifyOperationInProgress();const l=yield tc(d);Jn("FirestoreClient","Initializing OnlineComponentProvider");const p=yield d.getConfiguration();yield s.initialize(l,p),d.setCredentialChangeListener(y=>Mm(s.remoteStore,y)),d.setAppCheckTokenChangeListener((y,E)=>Mm(s.remoteStore,E)),d.onlineComponents=s}),tu.apply(this,arguments)}function tc(d){return nc.apply(this,arguments)}function nc(){return nc=(0,v.Z)(function*(d){return d.offlineComponents||(Jn("FirestoreClient","Using default OfflineComponentProvider"),yield Td(d,new Ym)),d.offlineComponents}),nc.apply(this,arguments)}function ic(d){return qc.apply(this,arguments)}function qc(){return qc=(0,v.Z)(function*(d){return d.onlineComponents||(Jn("FirestoreClient","Using default OnlineComponentProvider"),yield Ad(d,new pa)),d.onlineComponents}),qc.apply(this,arguments)}function Qc(d){return tc(d).then(s=>s.persistence)}function bf(d){return tc(d).then(s=>s.localStore)}function Ef(d){return ic(d).then(s=>s.remoteStore)}function rc(d){return ic(d).then(s=>s.syncEngine)}function Id(d){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,v.Z)(function*(d){const s=yield ic(d),l=s.eventManager;return l.onListen=Bm.bind(null,s.syncEngine),l.onUnlisten=Gm.bind(null,s.syncEngine),l}),Qa.apply(this,arguments)}function Lg(d,s,l={}){const p=new fo;return d.asyncQueue.enqueueAndForget((0,v.Z)(function*(){return function(y,E,L,J,Te){const He=new fa({next:Yt=>{E.enqueueAndForget(()=>lp(y,It));const Tn=Yt.docs.has(L);!Tn&&Yt.fromCache?Te.reject(new ti(vn.UNAVAILABLE,"Failed to get document because the client is offline.")):Tn&&Yt.fromCache&&J&&"server"===J.source?Te.reject(new ti(vn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Te.resolve(Yt)},error:Yt=>Te.reject(Yt)}),It=new dp(gl(L.path),He,{includeMetadataChanges:!0,Cu:!0});return Pm(y,It)}(yield Id(d),d.asyncQueue,s,l,p)})),p.promise}function nu(d,s,l={}){const p=new fo;return d.asyncQueue.enqueueAndForget((0,v.Z)(function*(){return function(y,E,L,J,Te){const He=new fa({next:Yt=>{E.enqueueAndForget(()=>lp(y,It)),Yt.fromCache&&"server"===J.source?Te.reject(new ti(vn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Te.resolve(Yt)},error:Yt=>Te.reject(Yt)}),It=new dp(L,He,{includeMetadataChanges:!0,Cu:!0});return Pm(y,It)}(yield Id(d),d.asyncQueue,s,l,p)})),p.promise}const Xm=new Map;function Sf(d,s,l){if(!l)throw new ti(vn.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${s}.`)}function Jm(d,s,l,p){if(!0===s&&!0===p)throw new ti(vn.INVALID_ARGUMENT,`${d} and ${l} cannot be used together.`)}function Rf(d){if(!Ci.isDocumentKey(d))throw new ti(vn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function ev(d){if(Ci.isDocumentKey(d))throw new ti(vn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function Xc(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const s=(l=d).constructor?l.constructor.name:null;return s?`a custom ${s} object`:"an object"}}var l;return"function"==typeof d?"a function":xi()}function yo(d,s){if("_delegate"in d&&(d=d._delegate),!(d instanceof s)){if(s.name===d.constructor.name)throw new ti(vn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const l=Xc(d);throw new ti(vn.INVALID_ARGUMENT,`Expected type '${s.name}', but it was: ${l}`)}}return d}function tv(d,s){if(s<=0)throw new ti(vn.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${s}.`)}class Jc{constructor(s){var l;if(void 0===s.host){if(void 0!==s.ssl)throw new ti(vn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=s.host,this.ssl=null===(l=s.ssl)||void 0===l||l;if(this.credentials=s.credentials,this.ignoreUndefinedProperties=!!s.ignoreUndefinedProperties,void 0===s.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==s.cacheSizeBytes&&s.cacheSizeBytes<1048576)throw new ti(vn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=s.cacheSizeBytes}this.experimentalForceLongPolling=!!s.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!s.experimentalAutoDetectLongPolling,this.useFetchStreams=!!s.useFetchStreams,Jm("experimentalForceLongPolling",s.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",s.experimentalAutoDetectLongPolling)}isEqual(s){return this.host===s.host&&this.ssl===s.ssl&&this.credentials===s.credentials&&this.cacheSizeBytes===s.cacheSizeBytes&&this.experimentalForceLongPolling===s.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===s.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===s.ignoreUndefinedProperties&&this.useFetchStreams===s.useFetchStreams}}class Md{constructor(s,l,p){this._authCredentials=l,this._appCheckCredentials=p,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jc({}),this._settingsFrozen=!1,s instanceof pl?this._databaseId=s:(this._app=s,this._databaseId=function(y){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ti(vn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(y.options.projectId)}(s))}get app(){if(!this._app)throw new ti(vn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(s){if(this._settingsFrozen)throw new ti(vn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jc(s),void 0!==s.credentials&&(this._authCredentials=function(l){if(!l)return new Da;switch(l.type){case"gapi":const p=l.client;return Xi(!("object"!=typeof p||null===p||!p.auth||!p.auth.getAuthHeaderValueForFirstParty)),new ge(p,l.sessionIndex||"0",l.iamToken||null);case"provider":return l.client;default:throw new ti(vn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(s.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const l=Xm.get(s);l&&(Jn("ComponentProvider","Removing Datastore"),Xm.delete(s),l.terminate())}(this),Promise.resolve()}}function nv(d,s,l,p={}){var y;const E=(d=yo(d,Md))._getSettings();if("firestore.googleapis.com"!==E.host&&E.host!==s&&fs("Host has been set in both settings() and useEmulator(), emulator host will be used"),d._setSettings(Object.assign(Object.assign({},E),{host:`${s}:${l}`,ssl:!1})),p.mockUserToken){let L,J;if("string"==typeof p.mockUserToken)L=p.mockUserToken,J=Er.MOCK_USER;else{L=(0,g.Sg)(p.mockUserToken,null===(y=d._app)||void 0===y?void 0:y.options.projectId);const Te=p.mockUserToken.sub||p.mockUserToken.user_id;if(!Te)throw new ti(vn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");J=new Er(Te)}d._authCredentials=new Z(new Ja(L,J))}}class Vs{constructor(s,l,p){this.converter=l,this._key=p,this.type="document",this.firestore=s}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(s){return new Vs(this.firestore,s,this._key)}}class Js{constructor(s,l,p){this.converter=l,this._query=p,this.type="query",this.firestore=s}withConverter(s){return new Js(this.firestore,s,this._query)}}class oc extends Js{constructor(s,l,p){super(s,l,gl(p)),this._path=p,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const s=this._path.popLast();return s.isEmpty()?null:new Vs(this.firestore,null,new Ci(s))}withConverter(s){return new oc(this.firestore,s,this._path)}}function iv(d,s,...l){if(d=(0,g.m9)(d),Sf("collection","path",s),d instanceof Md){const p=jr.fromString(s,...l);return ev(p),new oc(d,null,p)}{if(!(d instanceof Vs||d instanceof oc))throw new ti(vn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const p=d._path.child(jr.fromString(s,...l));return ev(p),new oc(d.firestore,null,p)}}function Tf(d,s){if(d=yo(d,Md),Sf("collectionGroup","collection id",s),s.indexOf("/")>=0)throw new ti(vn.INVALID_ARGUMENT,`Invalid collection ID '${s}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Js(d,null,(l=s,new Ka(jr.emptyPath(),l)));var l}function rv(d,s,...l){if(d=(0,g.m9)(d),1===arguments.length&&(s=Ii.R()),Sf("doc","path",s),d instanceof Md){const p=jr.fromString(s,...l);return Rf(p),new Vs(d,null,new Ci(p))}{if(!(d instanceof Vs||d instanceof oc))throw new ti(vn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const p=d._path.child(jr.fromString(s,...l));return Rf(p),new Vs(d.firestore,d instanceof oc?d.converter:null,new Ci(p))}}function ey(d,s){return d=(0,g.m9)(d),s=(0,g.m9)(s),(d instanceof Vs||d instanceof oc)&&(s instanceof Vs||s instanceof oc)&&d.firestore===s.firestore&&d.path===s.path&&d.converter===s.converter}function iu(d,s){return d=(0,g.m9)(d),s=(0,g.m9)(s),d instanceof Js&&s instanceof Js&&d.firestore===s.firestore&&il(d._query,s._query)&&d.converter===s.converter}class ov{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new yg(this,"async_queue_retry"),this.qa=()=>{const l=rp();l&&Jn("AsyncQueue","Visibility state changed to "+l.visibilityState),this.Do.Ao()};const s=rp();s&&"function"==typeof s.addEventListener&&s.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(s){this.enqueue(s)}enqueueAndForgetEvenWhileRestricted(s){this.Ka(),this.Ga(s)}enterRestrictedMode(s){if(!this.Oa){this.Oa=!0,this.La=s||!1;const l=rp();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.qa)}}enqueue(s){if(this.Ka(),this.Oa)return new Promise(()=>{});const l=new fo;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(s().then(l.resolve,l.reject),l.promise)).then(()=>l.promise)}enqueueRetryable(s){this.enqueueAndForget(()=>(this.Ma.push(s),this.Qa()))}Qa(){var s=this;return(0,v.Z)(function*(){if(0!==s.Ma.length){try{yield s.Ma[0](),s.Ma.shift(),s.Do.reset()}catch(l){if(!Eu(l))throw l;Jn("AsyncQueue","Operation failed with retryable error: "+l)}s.Ma.length>0&&s.Do.To(()=>s.Qa())}})()}Ga(s){const l=this.ka.then(()=>(this.Ba=!0,s().catch(p=>{throw this.$a=p,this.Ba=!1,Tr("INTERNAL UNHANDLED ERROR: ",function(E){let L=E.message||"";return E.stack&&(L=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),L}(p)),p}).then(p=>(this.Ba=!1,p))));return this.ka=l,l}enqueueAfterDelay(s,l,p){this.Ka(),this.Ua.indexOf(s)>-1&&(l=0);const y=zc.createAndSchedule(this,s,l,p,E=>this.ja(E));return this.Fa.push(y),y}Ka(){this.$a&&xi()}verifyOperationInProgress(){}Wa(){var s=this;return(0,v.Z)(function*(){let l;do{l=s.ka,yield l}while(l!==s.ka)})()}za(s){for(const l of this.Fa)if(l.timerId===s)return!0;return!1}Ha(s){return this.Wa().then(()=>{this.Fa.sort((l,p)=>l.targetTimeMs-p.targetTimeMs);for(const l of this.Fa)if(l.skipDelay(),"all"!==s&&l.timerId===s)break;return this.Wa()})}Ja(s){this.Ua.push(s)}ja(s){const l=this.Fa.indexOf(s);this.Fa.splice(l,1)}}function Af(d){return function(s,l){if("object"!=typeof s||null===s)return!1;const p=s;for(const y of["next","error","complete"])if(y in p&&"function"==typeof p[y])return!0;return!1}(d)}class sv{constructor(){this._progressObserver={},this._taskCompletionResolver=new fo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(s,l,p){this._progressObserver={next:s,error:l,complete:p}}catch(s){return this._taskCompletionResolver.promise.catch(s)}then(s,l){return this._taskCompletionResolver.promise.then(s,l)}_completeWith(s){this._updateProgress(s),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(s)}_failWith(s){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(s),this._taskCompletionResolver.reject(s)}_updateProgress(s){this._lastProgress=s,this._progressObserver.next&&this._progressObserver.next(s)}}const av=-1;class Qo extends Md{constructor(s,l,p){super(s,l,p),this.type="firestore",this._queue=new ov,this._persistenceKey="name"in s?s.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||lv(this),this._firestoreClient.terminate()}}function Hs(d){return d._firestoreClient||lv(d),d._firestoreClient.verifyNotTerminated(),d._firestoreClient}function lv(d){var s;const l=d._freezeSettings(),p=(E=(null===(s=d._app)||void 0===s?void 0:s.options.appId)||"",new bl(d._databaseId,E,d._persistenceKey,(J=l).host,J.ssl,J.experimentalForceLongPolling,J.experimentalAutoDetectLongPolling,J.useFetchStreams));var E,J;d._firestoreClient=new Ng(d._authCredentials,d._appCheckCredentials,d._queue,p)}function uv(d,s){dv(d=yo(d,Qo));const l=Hs(d),p=d._freezeSettings(),y=new pa;return Bg(l,y,new Pg(y,p.cacheSizeBytes,null==s?void 0:s.forceOwnership))}function ny(d){dv(d=yo(d,Qo));const s=Hs(d),l=d._freezeSettings(),p=new pa;return Bg(s,p,new Fg(p,l.cacheSizeBytes))}function Bg(d,s,l){const p=new fo;return d.asyncQueue.enqueue((0,v.Z)(function*(){try{yield Td(d,l),yield Ad(d,s),p.resolve()}catch(y){if(!("FirebaseError"===(E=y).name?E.code===vn.FAILED_PRECONDITION||E.code===vn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&E instanceof DOMException)||22===E.code||20===E.code||11===E.code))throw y;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+y),p.reject(y)}var E})).then(()=>p.promise)}function yp(d){if(d._initialized&&!d._terminated)throw new ti(vn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const s=new fo;return d._queue.enqueueAndForgetEvenWhileRestricted((0,v.Z)(function*(){try{yield(l=(0,v.Z)(function*(p){if(!Ga.vt())return Promise.resolve();const y=p+"main";yield Ga.delete(y)}),function(p){return l.apply(this,arguments)})(th(d._databaseId,d._persistenceKey)),s.resolve()}catch(l){s.reject(l)}var l})),s.promise}function iy(d){return function(s){const l=new fo;return s.asyncQueue.enqueueAndForget((0,v.Z)(function*(){return function Yv(d,s){return gf.apply(this,arguments)}(yield rc(s),l)})),l.promise}(Hs(d=yo(d,Qo)))}function ed(d){return function Zm(d){return d.asyncQueue.enqueue((0,v.Z)(function*(){const s=yield Qc(d),l=yield Ef(d);return s.setNetworkEnabled(!0),function(p){const y=bi(p);return y.fu.delete(0),Ql(y)}(l)}))}(Hs(d=yo(d,Qo)))}function Gg(d){return function qm(d){return d.asyncQueue.enqueue((0,v.Z)(function*(){const s=yield Qc(d),l=yield Ef(d);return s.setNetworkEnabled(!1),(p=(0,v.Z)(function*(y){const E=bi(y);E.fu.add(0),yield Qu(E),E.wu.set("Offline")}),function(y){return p.apply(this,arguments)})(l);var p}))}(Hs(d=yo(d,Qo)))}function If(d,s){const l=Hs(d=yo(d,Qo)),p=new sv;return function Qm(d,s,l,p){const y=function(E,L){let J;return J="string"==typeof E?(new TextEncoder).encode(E):E,Te=function(Te,He){if(Te instanceof Uint8Array)return Rd(Te,void 0);if(Te instanceof ArrayBuffer)return Rd(new Uint8Array(Te),void 0);if(Te instanceof ReadableStream)return Te.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(J),new Zc(Te,L);var Te}(l,Hc(s));d.asyncQueue.enqueueAndForget((0,v.Z)(function*(){!function Sd(d,s,l){const p=bi(d);var y;(y=(0,v.Z)(function*(E,L,J){try{const Te=yield L.getMetadata();if(yield function(Tn,ii){const ai=bi(Tn),ji=qs(ii.createTime);return ai.persistence.runTransaction("hasNewerBundle","readonly",Vr=>ai._s.getBundleMetadata(Vr,ii.id)).then(Vr=>!!Vr&&Vr.createTime.compareTo(ji)>=0)}(E.localStore,Te))return yield L.close(),J._completeWith({taskState:"Success",documentsLoaded:(Tn=Te).totalDocuments,bytesLoaded:Tn.totalBytes,totalDocuments:Tn.totalDocuments,totalBytes:Tn.totalBytes}),Promise.resolve(new Set);J._updateProgress(df(Te));const He=new Nm(Te,E.localStore,L.M);let It=yield L.da();for(;It;){const Tn=yield He.ku(It);Tn&&J._updateProgress(Tn),It=yield L.da()}const Yt=yield He.complete();return yield Ol(E,Yt.Fu,void 0),yield function(Tn,ii){const ai=bi(Tn);return ai.persistence.runTransaction("Save bundle","readwrite",ji=>ai._s.saveBundleMetadata(ji,ii))}(E.localStore,Te),J._completeWith(Yt.progress),Promise.resolve(Yt.Ou)}catch(Te){return fs("SyncEngine",`Loading bundle failed with ${Te}`),J._failWith(Te),Promise.resolve(new Set)}var Tn}),function(E,L,J){return y.apply(this,arguments)})(p,s,l).then(y=>{p.sharedClientState.notifyBundleLoaded(y)})}(yield rc(d),y,p)}))}(l,d._databaseId,s,p),p}function Of(d,s){return function Df(d,s){return d.asyncQueue.enqueue((0,v.Z)(function*(){return function(l,p){const y=bi(l);return y.persistence.runTransaction("Get named query","readonly",E=>y._s.getNamedQuery(E,p))}(yield bf(d),s)}))}(Hs(d=yo(d,Qo)),s).then(l=>l?new Js(d,null,l.query):null)}function dv(d){if(d._initialized||d._terminated)throw new ti(vn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ou{constructor(...s){for(let l=0;l<s.length;++l)if(0===s[l].length)throw new ti(vn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gs(s)}isEqual(s){return this._internalPath.isEqual(s._internalPath)}}class sc{constructor(s){this._byteString=s}static fromBase64String(s){try{return new sc(jo.fromBase64String(s))}catch(l){throw new ti(vn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+l)}}static fromUint8Array(s){return new sc(jo.fromUint8Array(s))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(s){return this._byteString.isEqual(s._byteString)}}class ru{constructor(s){this._methodName=s}}class mh{constructor(s,l){if(!isFinite(s)||s<-90||s>90)throw new ti(vn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+s);if(!isFinite(l)||l<-180||l>180)throw new ti(vn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+l);this._lat=s,this._long=l}get latitude(){return this._lat}get longitude(){return this._long}isEqual(s){return this._lat===s._lat&&this._long===s._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(s){return di(this._lat,s._lat)||di(this._long,s._long)}}const ry=/^__.*__$/;class vh{constructor(s,l,p){this.data=s,this.fieldMask=l,this.fieldTransforms=p}toMutation(s,l){return null!==this.fieldMask?new vu(s,this.data,this.fieldMask,l,this.fieldTransforms):new wc(s,this.data,l,this.fieldTransforms)}}class Cp{constructor(s,l,p){this.data=s,this.fieldMask=l,this.fieldTransforms=p}toMutation(s,l){return new vu(s,this.data,this.fieldMask,l,this.fieldTransforms)}}function Mf(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xi()}}class wp{constructor(s,l,p,y,E,L){this.settings=s,this.databaseId=l,this.M=p,this.ignoreUndefinedProperties=y,void 0===E&&this.Ya(),this.fieldTransforms=E||[],this.fieldMask=L||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(s){return new wp(Object.assign(Object.assign({},this.settings),s),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(s){var l;const p=null===(l=this.path)||void 0===l?void 0:l.child(s),y=this.Za({path:p,ec:!1});return y.nc(s),y}sc(s){var l;const p=null===(l=this.path)||void 0===l?void 0:l.child(s),y=this.Za({path:p,ec:!1});return y.Ya(),y}ic(s){return this.Za({path:void 0,ec:!0})}rc(s){return Ch(s,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(s){return void 0!==this.fieldMask.find(l=>s.isPrefixOf(l))||void 0!==this.fieldTransforms.find(l=>s.isPrefixOf(l.field))}Ya(){if(this.path)for(let s=0;s<this.path.length;s++)this.nc(this.path.get(s))}nc(s){if(0===s.length)throw this.rc("Document fields must not be empty");if(Mf(this.Xa)&&ry.test(s))throw this.rc('Document fields cannot begin and end with "__"')}}class oy{constructor(s,l,p){this.databaseId=s,this.ignoreUndefinedProperties=l,this.M=p||Hc(s)}ac(s,l,p,y=!1){return new wp({Xa:s,methodName:l,uc:p,path:gs.emptyPath(),ec:!1,oc:y},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Mu(d){const s=d._freezeSettings(),l=Hc(d._databaseId);return new oy(d._databaseId,!!s.ignoreUndefinedProperties,l)}function ac(d,s,l,p,y,E={}){const L=d.ac(E.merge||E.mergeFields?2:0,s,l,y);Wg("Data must be an object, but it was:",L,p);const J=Pf(p,L);let Te,He;if(E.merge)Te=new Ys(L.fieldMask),He=L.fieldTransforms;else if(E.mergeFields){const It=[];for(const Yt of E.mergeFields){const Tn=Ff(s,Yt,l);if(!L.contains(Tn))throw new ti(vn.INVALID_ARGUMENT,`Field '${Tn}' is specified in your field mask but missing from your input data.`);Dp(It,Tn)||It.push(Tn)}Te=new Ys(It),He=L.fieldTransforms.filter(Yt=>Te.covers(Yt.field))}else Te=null,He=L.fieldTransforms;return new vh(new kr(J),Te,He)}class xd extends ru{_toFieldTransform(s){if(2!==s.Xa)throw s.rc(1===s.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return s.fieldMask.push(s.path),null}isEqual(s){return s instanceof xd}}function Vg(d,s,l){return new wp({Xa:3,uc:s.settings.uc,methodName:d._methodName,ec:l},s.databaseId,s.M,s.ignoreUndefinedProperties)}class yh extends ru{_toFieldTransform(s){return new _c(s.path,new ku)}isEqual(s){return s instanceof yh}}class Hg extends ru{constructor(s,l){super(s),this.cc=l}_toFieldTransform(s){const l=Vg(this,s,!0),p=this.cc.map(E=>td(E,l)),y=new Sl(p);return new _c(s.path,y)}isEqual(s){return this===s}}class hv extends ru{constructor(s,l){super(s),this.cc=l}_toFieldTransform(s){const l=Vg(this,s,!0),p=this.cc.map(E=>td(E,l)),y=new Ya(p);return new _c(s.path,y)}isEqual(s){return this===s}}class _h extends ru{constructor(s,l){super(s),this.hc=l}_toFieldTransform(s){const l=new mu(s.M,wa(s.M,this.hc));return new _c(s.path,l)}isEqual(s){return this===s}}function bp(d,s,l,p){const y=d.ac(1,s,l);Wg("Data must be an object, but it was:",y,p);const E=[],L=kr.empty();_a(p,(Te,He)=>{const It=Pd(s,Te,l);He=(0,g.m9)(He);const Yt=y.sc(It);if(He instanceof xd)E.push(It);else{const Tn=td(He,Yt);null!=Tn&&(E.push(It),L.set(It,Tn))}});const J=new Ys(E);return new Cp(L,J,y.fieldTransforms)}function Ug(d,s,l,p,y,E){const L=d.ac(1,s,l),J=[Ff(s,p,l)],Te=[y];if(E.length%2!=0)throw new ti(vn.INVALID_ARGUMENT,`Function ${s}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Tn=0;Tn<E.length;Tn+=2)J.push(Ff(s,E[Tn])),Te.push(E[Tn+1]);const He=[],It=kr.empty();for(let Tn=J.length-1;Tn>=0;--Tn)if(!Dp(He,J[Tn])){const ii=J[Tn];let ai=Te[Tn];ai=(0,g.m9)(ai);const ji=L.sc(ii);if(ai instanceof xd)He.push(ii);else{const Vr=td(ai,ji);null!=Vr&&(He.push(ii),It.set(ii,Vr))}}const Yt=new Ys(He);return new Cp(It,Yt,L.fieldTransforms)}function xf(d,s,l,p=!1){return td(l,d.ac(p?4:3,s))}function td(d,s){if(Ep(d=(0,g.m9)(d)))return Wg("Unsupported field value:",s,d),Pf(d,s);if(d instanceof ru)return function(l,p){if(!Mf(p.Xa))throw p.rc(`${l._methodName}() can only be used with update() and set()`);if(!p.path)throw p.rc(`${l._methodName}() is not currently supported inside arrays`);const y=l._toFieldTransform(p);y&&p.fieldTransforms.push(y)}(d,s),null;if(void 0===d&&s.ignoreUndefinedProperties)return null;if(s.path&&s.fieldMask.push(s.path),d instanceof Array){if(s.settings.ec&&4!==s.Xa)throw s.rc("Nested arrays are not supported");return function(l,p){const y=[];let E=0;for(const L of l){let J=td(L,p.ic(E));null==J&&(J={nullValue:"NULL_VALUE"}),y.push(J),E++}return{arrayValue:{values:y}}}(d,s)}return function(l,p){if(null===(l=(0,g.m9)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return wa(p.M,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){const y=Ji.fromDate(l);return{timestampValue:Sc(p.M,y)}}if(l instanceof Ji){const y=new Ji(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:Sc(p.M,y)}}if(l instanceof mh)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof sc)return{bytesValue:Hh(p.M,l._byteString)};if(l instanceof Vs){const y=p.databaseId,E=l.firestore._databaseId;if(!E.isEqual(y))throw p.rc(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:Gu(l.firestore._databaseId||p.databaseId,l._key.path)}}throw p.rc(`Unsupported field value: ${Xc(l)}`)}(d,s)}function Pf(d,s){const l={};return hl(d)?s.path&&s.path.length>0&&s.fieldMask.push(s.path):_a(d,(p,y)=>{const E=td(y,s.tc(p));null!=E&&(l[p]=E)}),{mapValue:{fields:l}}}function Ep(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Ji||d instanceof mh||d instanceof sc||d instanceof Vs||d instanceof ru)}function Wg(d,s,l){if(!Ep(l)||"object"!=typeof(p=l)||null===p||Object.getPrototypeOf(p)!==Object.prototype&&null!==Object.getPrototypeOf(p)){const p=Xc(l);throw s.rc("an object"===p?d+" a custom object":d+" "+p)}var p}function Ff(d,s,l){if((s=(0,g.m9)(s))instanceof Ou)return s._internalPath;if("string"==typeof s)return Pd(d,s);throw Ch("Field path arguments must be of type string or ",d,!1,void 0,l)}const jg=new RegExp("[~\\*/\\[\\]]");function Pd(d,s,l){if(s.search(jg)>=0)throw Ch(`Invalid field path (${s}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,l);try{return new Ou(...s.split("."))._internalPath}catch(p){throw Ch(`Invalid field path (${s}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,l)}}function Ch(d,s,l,p,y){const E=p&&!p.isEmpty(),L=void 0!==y;let J=`Function ${s}() called with invalid data`;l&&(J+=" (via `toFirestore()`)"),J+=". ";let Te="";return(E||L)&&(Te+=" (found",E&&(Te+=` in field ${p}`),L&&(Te+=` in document ${y}`),Te+=")"),new ti(vn.INVALID_ARGUMENT,J+d+Te)}function Dp(d,s){return d.some(l=>l.isEqual(s))}class nd{constructor(s,l,p,y,E){this._firestore=s,this._userDataWriter=l,this._key=p,this._document=y,this._converter=E}get id(){return this._key.path.lastSegment()}get ref(){return new Vs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const s=new pv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(s)}return this._userDataWriter.convertValue(this._document.data.value)}}get(s){if(this._document){const l=this._document.data.field(wh("DocumentSnapshot.get",s));if(null!==l)return this._userDataWriter.convertValue(l)}}}class pv extends nd{data(){return super.data()}}function wh(d,s){return"string"==typeof s?Pd(d,s):s instanceof Ou?s._internalPath:s._delegate._internalPath}class Fl{constructor(s,l){this.hasPendingWrites=s,this.fromCache=l}isEqual(s){return this.hasPendingWrites===s.hasPendingWrites&&this.fromCache===s.fromCache}}class lc extends nd{constructor(s,l,p,y,E,L){super(s,l,p,y,L),this._firestore=s,this._firestoreImpl=s,this.metadata=E}exists(){return super.exists()}data(s={}){if(this._document){if(this._converter){const l=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(l,s)}return this._userDataWriter.convertValue(this._document.data.value,s.serverTimestamps)}}get(s,l={}){if(this._document){const p=this._document.data.field(wh("DocumentSnapshot.get",s));if(null!==p)return this._userDataWriter.convertValue(p,l.serverTimestamps)}}}class bh extends lc{data(s={}){return super.data(s)}}class ou{constructor(s,l,p,y){this._firestore=s,this._userDataWriter=l,this._snapshot=y,this.metadata=new Fl(y.hasPendingWrites,y.fromCache),this.query=p}get docs(){const s=[];return this.forEach(l=>s.push(l)),s}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(s,l){this._snapshot.docs.forEach(p=>{s.call(l,new bh(this._firestore,this._userDataWriter,p.key,p,new Fl(this._snapshot.mutatedKeys.has(p.key),this._snapshot.fromCache),this.query.converter))})}docChanges(s={}){const l=!!s.includeMetadataChanges;if(l&&this._snapshot.excludesMetadataChanges)throw new ti(vn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===l||(this._cachedChanges=function(p,y){if(p._snapshot.oldDocs.isEmpty()){let E=0;return p._snapshot.docChanges.map(L=>({type:"added",doc:new bh(p._firestore,p._userDataWriter,L.doc.key,L.doc,new Fl(p._snapshot.mutatedKeys.has(L.doc.key),p._snapshot.fromCache),p.query.converter),oldIndex:-1,newIndex:E++}))}{let E=p._snapshot.oldDocs;return p._snapshot.docChanges.filter(L=>y||3!==L.type).map(L=>{const J=new bh(p._firestore,p._userDataWriter,L.doc.key,L.doc,new Fl(p._snapshot.mutatedKeys.has(L.doc.key),p._snapshot.fromCache),p.query.converter);let Te=-1,He=-1;return 0!==L.type&&(Te=E.indexOf(L.doc.key),E=E.delete(L.doc.key)),1!==L.type&&(E=E.add(L.doc),He=E.indexOf(L.doc.key)),{type:Fy(L.type),doc:J,oldIndex:Te,newIndex:He}})}}(this,l),this._cachedChangesIncludeMetadataChanges=l),this._cachedChanges}}function Fy(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xi()}}function sy(d,s){return d instanceof lc&&s instanceof lc?d._firestore===s._firestore&&d._key.isEqual(s._key)&&(null===d._document?null===s._document:d._document.isEqual(s._document))&&d._converter===s._converter:d instanceof ou&&s instanceof ou&&d._firestore===s._firestore&&iu(d.query,s.query)&&d.metadata.isEqual(s.metadata)&&d._snapshot.isEqual(s._snapshot)}function fv(d){if(ad(d)&&0===d.explicitOrderBy.length)throw new ti(vn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fd{}function gv(d,...s){for(const l of s)d=l._apply(d);return d}class ga extends Fd{constructor(s,l,p){super(),this.lc=s,this.fc=l,this.dc=p,this.type="where"}_apply(s){const l=Mu(s.firestore),p=function(y,E,L,J,Te,He,It){let Yt;if(Te.isKeyField()){if("array-contains"===He||"array-contains-any"===He)throw new ti(vn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${He}' queries on documentId().`);if("in"===He||"not-in"===He){Eh(It,He);const ii=[];for(const ai of It)ii.push(Nf(J,y,ai));Yt={arrayValue:{values:ii}}}else Yt=Nf(J,y,It)}else"in"!==He&&"not-in"!==He&&"array-contains-any"!==He||Eh(It,He),Yt=xf(L,"where",It,"in"===He||"not-in"===He);const Tn=qi.create(Te,He,Yt);return function(ii,ai){if(ai.S()){const Vr=fu(ii);if(null!==Vr&&!Vr.isEqual(ai.field))throw new ti(vn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Vr.toString()}' and '${ai.field.toString()}'`);const Rs=gc(ii);null!==Rs&&Sp(0,ai.field,Rs)}const ji=function(Vr,Rs){for(const Ts of Vr.filters)if(Rs.indexOf(Ts.op)>=0)return Ts.op;return null}(ii,function(Vr){switch(Vr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ai.op));if(null!==ji)throw new ti(vn.INVALID_ARGUMENT,ji===ai.op?`Invalid query. You cannot use more than one '${ai.op.toString()}' filter.`:`Invalid query. You cannot use '${ai.op.toString()}' filters with '${ji.toString()}' filters.`)}(y,Tn),Tn}(s._query,0,l,s.firestore._databaseId,this.lc,this.fc,this.dc);return new Js(s.firestore,s.converter,function(y,E){const L=y.filters.concat([E]);return new Ka(y.path,y.collectionGroup,y.explicitOrderBy.slice(),L,y.limit,y.limitType,y.startAt,y.endAt)}(s._query,p))}}function _l(d,s,l){const p=s,y=wh("where",d);return new ga(y,p,l)}class ay extends Fd{constructor(s,l){super(),this.lc=s,this._c=l,this.type="orderBy"}_apply(s){const l=function(p,y,E){if(null!==p.startAt)throw new ti(vn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==p.endAt)throw new ti(vn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const L=new aa(y,E);return function(J,Te){if(null===gc(J)){const He=fu(J);null!==He&&Sp(0,He,Te.field)}}(p,L),L}(s._query,this.lc,this._c);return new Js(s.firestore,s.converter,function(p,y){const E=p.explicitOrderBy.concat([y]);return new Ka(p.path,p.collectionGroup,E,p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(s._query,l))}}function ly(d,s="asc"){const l=s,p=wh("orderBy",d);return new ay(p,l)}class id extends Fd{constructor(s,l,p){super(),this.type=s,this.wc=l,this.mc=p}_apply(s){return new Js(s.firestore,s.converter,nl(s._query,this.wc,this.mc))}}function Nd(d){return tv("limit",d),new id("limit",d,"F")}function mv(d){return tv("limitToLast",d),new id("limitToLast",d,"L")}class zg extends Fd{constructor(s,l,p){super(),this.type=s,this.gc=l,this.yc=p}_apply(s){const l=$g(s,this.type,this.gc,this.yc);return new Js(s.firestore,s.converter,(y=l,new Ka((p=s._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,y,p.endAt)));var p,y}}function uc(...d){return new zg("startAt",d,!0)}function vv(...d){return new zg("startAfter",d,!1)}class yv extends Fd{constructor(s,l,p){super(),this.type=s,this.gc=l,this.yc=p}_apply(s){const l=$g(s,this.type,this.gc,this.yc);return new Js(s.firestore,s.converter,(y=l,new Ka((p=s._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,y)));var p,y}}function _v(...d){return new yv("endBefore",d,!1)}function Cv(...d){return new yv("endAt",d,!0)}function $g(d,s,l,p){if(l[0]=(0,g.m9)(l[0]),l[0]instanceof nd)return function(y,E,L,J,Te){if(!J)throw new ti(vn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${L}().`);const He=[];for(const It of gu(y))if(It.field.isKeyField())He.push(ce(E,J.key));else{const Yt=J.data.field(It.field);if(rr(Yt))throw new ti(vn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+It.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Yt){const Tn=It.field.canonicalString();throw new ti(vn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Tn}' (used as the orderBy) does not exist.`)}He.push(Yt)}return new cs(He,Te)}(d._query,d.firestore._databaseId,s,l[0]._document,p);{const y=Mu(d.firestore);return function(E,L,J,Te,He,It){const Yt=E.explicitOrderBy;if(He.length>Yt.length)throw new ti(vn.INVALID_ARGUMENT,`Too many arguments provided to ${Te}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Tn=[];for(let ii=0;ii<He.length;ii++){const ai=He[ii];if(Yt[ii].field.isKeyField()){if("string"!=typeof ai)throw new ti(vn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Te}(), but got a ${typeof ai}`);if(!Lu(E)&&-1!==ai.indexOf("/"))throw new ti(vn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Te}() must be a plain document ID, but '${ai}' contains a slash.`);const ji=E.path.child(jr.fromString(ai));if(!Ci.isDocumentKey(ji))throw new ti(vn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Te}() must result in a valid document path, but '${ji}' is not because it contains an odd number of segments.`);const Vr=new Ci(ji);Tn.push(ce(L,Vr))}else{const ji=xf(J,Te,ai);Tn.push(ji)}}return new cs(Tn,It)}(d._query,d.firestore._databaseId,y,s,l,p)}}function Nf(d,s,l){if("string"==typeof(l=(0,g.m9)(l))){if(""===l)throw new ti(vn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lu(s)&&-1!==l.indexOf("/"))throw new ti(vn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${l}' contains a '/' character.`);const p=s.path.child(jr.fromString(l));if(!Ci.isDocumentKey(p))throw new ti(vn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${p}' is not because it has an odd number of segments (${p.length}).`);return ce(d,new Ci(p))}if(l instanceof Vs)return ce(d,l._key);throw new ti(vn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xc(l)}.`)}function Eh(d,s){if(!Array.isArray(d)||0===d.length)throw new ti(vn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${s.toString()}' filters.`);if(d.length>10)throw new ti(vn.INVALID_ARGUMENT,`Invalid Query. '${s.toString()}' filters support a maximum of 10 elements in the value array.`)}function Sp(d,s,l){if(!l.isEqual(s))throw new ti(vn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${s.toString()}' and so you must also use '${s.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${l.toString()}' instead.`)}class Nl{convertValue(s,l="none"){switch(Gl(s)){case 0:return null;case 1:return s.booleanValue;case 2:return Cr(s.integerValue||s.doubleValue);case 3:return this.convertTimestamp(s.timestampValue);case 4:return this.convertServerTimestamp(s,l);case 5:return s.stringValue;case 6:return this.convertBytes(ms(s.bytesValue));case 7:return this.convertReference(s.referenceValue);case 8:return this.convertGeoPoint(s.geoPointValue);case 9:return this.convertArray(s.arrayValue,l);case 10:return this.convertObject(s.mapValue,l);default:throw xi()}}convertObject(s,l){const p={};return _a(s.fields,(y,E)=>{p[y]=this.convertValue(E,l)}),p}convertGeoPoint(s){return new mh(Cr(s.latitude),Cr(s.longitude))}convertArray(s,l){return(s.values||[]).map(p=>this.convertValue(p,l))}convertServerTimestamp(s,l){switch(l){case"previous":const p=ja(s);return null==p?null:this.convertValue(p,l);case"estimate":return this.convertTimestamp(Zo(s));default:return null}}convertTimestamp(s){const l=Zs(s);return new Ji(l.seconds,l.nanos)}convertDocumentKey(s,l){const p=jr.fromString(s);Xi(vl(p));const y=new pl(p.get(1),p.get(3)),E=new Ci(p.popFirst(5));return y.isEqual(l)||Tr(`Document ${E} contains a document reference within a different database (${y.projectId}/${y.database}) which is not supported. It will be treated as a reference in the current database (${l.projectId}/${l.database}) instead.`),E}}function su(d,s,l){let p;return p=d?l&&(l.merge||l.mergeFields)?d.toFirestore(s,l):d.toFirestore(s):s,p}class uy extends Nl{constructor(s){super(),this.firestore=s}convertBytes(s){return new sc(s)}convertReference(s){const l=this.convertDocumentKey(s,this.firestore._databaseId);return new Vs(this.firestore,null,l)}}class au{constructor(s,l){this._firestore=s,this._commitHandler=l,this._mutations=[],this._committed=!1,this._dataReader=Mu(s)}set(s,l,p){this._verifyNotCommitted();const y=ea(s,this._firestore),E=su(y.converter,l,p),L=ac(this._dataReader,"WriteBatch.set",y._key,E,null!==y.converter,p);return this._mutations.push(L.toMutation(y._key,Ss.none())),this}update(s,l,p,...y){this._verifyNotCommitted();const E=ea(s,this._firestore);let L;return L="string"==typeof(l=(0,g.m9)(l))||l instanceof Ou?Ug(this._dataReader,"WriteBatch.update",E._key,l,p,y):bp(this._dataReader,"WriteBatch.update",E._key,l),this._mutations.push(L.toMutation(E._key,Ss.exists(!0))),this}delete(s){this._verifyNotCommitted();const l=ea(s,this._firestore);return this._mutations=this._mutations.concat(new rl(l._key,Ss.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ti(vn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ea(d,s){if((d=(0,g.m9)(d)).firestore!==s)throw new ti(vn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}function Ll(d){d=yo(d,Vs);const s=yo(d.firestore,Qo);return Lg(Hs(s),d._key).then(l=>cc(s,d,l))}class rd extends Nl{constructor(s){super(),this.firestore=s}convertBytes(s){return new sc(s)}convertReference(s){const l=this.convertDocumentKey(s,this.firestore._databaseId);return new Vs(this.firestore,null,l)}}function wv(d){d=yo(d,Vs);const s=yo(d.firestore,Qo),l=Hs(s),p=new rd(s);return function Od(d,s){const l=new fo;return d.asyncQueue.enqueueAndForget((0,v.Z)(function*(){return(p=(0,v.Z)(function*(y,E,L){try{const J=yield function(Te,He){const It=bi(Te);return It.persistence.runTransaction("read document","readonly",Yt=>It.ci.Ls(Yt,He))}(y,E);J.isFoundDocument()?L.resolve(J):J.isNoDocument()?L.resolve(null):L.reject(new ti(vn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(J){const Te=$c(J,`Failed to get document '${E} from cache`);L.reject(Te)}}),function(y,E,L){return p.apply(this,arguments)})(yield bf(d),s,l);var p})),l.promise}(l,d._key).then(y=>new lc(s,p,d._key,y,new Fl(null!==y&&y.hasLocalMutations,!0),d.converter))}function Kg(d){d=yo(d,Vs);const s=yo(d.firestore,Qo);return Lg(Hs(s),d._key,{source:"server"}).then(l=>cc(s,d,l))}function cy(d){d=yo(d,Js);const s=yo(d.firestore,Qo),l=Hs(s),p=new rd(s);return fv(d._query),nu(l,d._query).then(y=>new ou(s,p,d,y))}function Lf(d){d=yo(d,Js);const s=yo(d.firestore,Qo),l=Hs(s),p=new rd(s);return function vp(d,s){const l=new fo;return d.asyncQueue.enqueueAndForget((0,v.Z)(function*(){return(p=(0,v.Z)(function*(y,E,L){try{const J=yield dg(y,E,!0),Te=new Ag(E,J.li),He=Te.Gu(J.documents),It=Te.applyChanges(He,!1);L.resolve(It.snapshot)}catch(J){const Te=$c(J,`Failed to execute query '${E} against cache`);L.reject(Te)}}),function(y,E,L){return p.apply(this,arguments)})(yield bf(d),s,l);var p})),l.promise}(l,d._query).then(y=>new ou(s,p,d,y))}function bv(d){d=yo(d,Js);const s=yo(d.firestore,Qo),l=Hs(s),p=new rd(s);return nu(l,d._query,{source:"server"}).then(y=>new ou(s,p,d,y))}function Yg(d,s,l){d=yo(d,Vs);const p=yo(d.firestore,Qo),y=su(d.converter,s,l);return Ld(p,[ac(Mu(p),"setDoc",d._key,y,null!==d.converter,l).toMutation(d._key,Ss.none())])}function Rp(d,s,l,...p){d=yo(d,Vs);const y=yo(d.firestore,Qo),E=Mu(y);let L;return L="string"==typeof(s=(0,g.m9)(s))||s instanceof Ou?Ug(E,"updateDoc",d._key,s,l,p):bp(E,"updateDoc",d._key,s),Ld(y,[L.toMutation(d._key,Ss.exists(!0))])}function Ev(d){return Ld(yo(d.firestore,Qo),[new rl(d._key,Ss.none())])}function Dv(d,s){const l=yo(d.firestore,Qo),p=rv(d),y=su(d.converter,s);return Ld(l,[ac(Mu(d.firestore),"addDoc",p._key,y,null!==d.converter,{}).toMutation(p._key,Ss.exists(!1))]).then(()=>p)}function dy(d,...s){var l,p,y;d=(0,g.m9)(d);let E={includeMetadataChanges:!1},L=0;"object"!=typeof s[L]||Af(s[L])||(E=s[L],L++);const J={includeMetadataChanges:E.includeMetadataChanges};if(Af(s[L])){const Yt=s[L];s[L]=null===(l=Yt.next)||void 0===l?void 0:l.bind(Yt),s[L+1]=null===(p=Yt.error)||void 0===p?void 0:p.bind(Yt),s[L+2]=null===(y=Yt.complete)||void 0===y?void 0:y.bind(Yt)}let Te,He,It;if(d instanceof Vs)He=yo(d.firestore,Qo),It=gl(d._key.path),Te={next:Yt=>{s[L]&&s[L](cc(He,d,Yt))},error:s[L+1],complete:s[L+2]};else{const Yt=yo(d,Js);He=yo(Yt.firestore,Qo),It=Yt._query;const Tn=new rd(He);Te={next:ii=>{s[L]&&s[L](new ou(He,Tn,Yt,ii))},error:s[L+1],complete:s[L+2]},fv(d._query)}return function(Yt,Tn,ii,ai){const ji=new fa(ai),Vr=new dp(Tn,ji,ii);return Yt.asyncQueue.enqueueAndForget((0,v.Z)(function*(){return Pm(yield Id(Yt),Vr)})),()=>{ji.Ia(),Yt.asyncQueue.enqueueAndForget((0,v.Z)(function*(){return lp(yield Id(Yt),Vr)}))}}(Hs(He),It,J,Te)}function Sv(d,s){return function Jv(d,s){const l=new fa(s);return d.asyncQueue.enqueueAndForget((0,v.Z)(function*(){return p=yield Id(d),y=l,bi(p).Eu.add(y),void y.next();var p,y})),()=>{l.Ia(),d.asyncQueue.enqueueAndForget((0,v.Z)(function*(){return p=yield Id(d),y=l,void bi(p).Eu.delete(y);var p,y}))}}(Hs(d=yo(d,Qo)),Af(s)?s:{next:s})}function Ld(d,s){return function(l,p){const y=new fo;return l.asyncQueue.enqueueAndForget((0,v.Z)(function*(){return function dl(d,s,l){return dh.apply(this,arguments)}(yield rc(l),p,y)})),y.promise}(Hs(d),s)}function cc(d,s,l){const p=l.docs.get(s._key),y=new rd(d);return new lc(d,y,s._key,p,new Fl(l.hasPendingWrites,l.fromCache),s.converter)}class hy extends class{constructor(s,l){this._firestore=s,this._transaction=l,this._dataReader=Mu(s)}get(s){const l=ea(s,this._firestore),p=new uy(this._firestore);return this._transaction.lookup([l._key]).then(y=>{if(!y||1!==y.length)return xi();const E=y[0];if(E.isFoundDocument())return new nd(this._firestore,p,E.key,E,l.converter);if(E.isNoDocument())return new nd(this._firestore,p,l._key,null,l.converter);throw xi()})}set(s,l,p){const y=ea(s,this._firestore),E=su(y.converter,l,p),L=ac(this._dataReader,"Transaction.set",y._key,E,null!==y.converter,p);return this._transaction.set(y._key,L),this}update(s,l,p,...y){const E=ea(s,this._firestore);let L;return L="string"==typeof(l=(0,g.m9)(l))||l instanceof Ou?Ug(this._dataReader,"Transaction.update",E._key,l,p,y):bp(this._dataReader,"Transaction.update",E._key,l),this._transaction.update(E._key,L),this}delete(s){const l=ea(s,this._firestore);return this._transaction.delete(l._key),this}}{constructor(s,l){super(s,l),this._firestore=s}get(s){const l=ea(s,this._firestore),p=new rd(this._firestore);return super.get(s).then(y=>new lc(this._firestore,p,l._key,y._document,new Fl(!1,!1),l.converter))}}function Rv(d,s){return function kg(d,s){const l=new fo;return d.asyncQueue.enqueueAndForget((0,v.Z)(function*(){const p=yield(y=d,ic(y).then(E=>E.datastore));var y;new xl(d.asyncQueue,p,s,l).run()})),l.promise}(Hs(d=yo(d,Qo)),l=>s(new hy(d,l)))}function Dh(){return new xd("deleteField")}function Zg(){return new yh("serverTimestamp")}function kf(...d){return new Hg("arrayUnion",d)}function Bf(...d){return new hv("arrayRemove",d)}function Tv(d){return new _h("increment",d)}!function(d,s=!0){wo=V.SDK_VERSION,(0,V._registerComponent)(new I.wA("firestore",(l,{options:p})=>{const y=l.getProvider("app").getImmediate(),E=new Qo(y,new W(l.getProvider("auth-internal")),new Ye(l.getProvider("app-check-internal")));return p=Object.assign({useFetchStreams:s},p),E._setSettings(p),E},"PUBLIC")),(0,V.registerVersion)(ts,"3.4.8",d),(0,V.registerVersion)(ts,"3.4.8","esm2017")}()},2090:(Ot,B,R)=>{R.d(B,{$s:()=>ri,BH:()=>Le,G6:()=>et,L:()=>Ee,LL:()=>an,Lj:()=>oe,Mn:()=>it,Sg:()=>st,UG:()=>ht,US:()=>P,X3:()=>x,ZB:()=>we,ZR:()=>Qt,b$:()=>at,d:()=>ke,eu:()=>Be,hl:()=>en,jU:()=>Xe,m9:()=>mn,ne:()=>Dn,pd:()=>En,r3:()=>Bt,ru:()=>Nt,tV:()=>ae,uI:()=>Je,vZ:()=>je,w1:()=>Ke,xO:()=>rt,xb:()=>Vt,z$:()=>gt,zI:()=>At,zd:()=>bt});var v=R(5861);const g=function(de){const Se=[];let We=0;for(let zt=0;zt<de.length;zt++){let Et=de.charCodeAt(zt);Et<128?Se[We++]=Et:Et<2048?(Se[We++]=Et>>6|192,Se[We++]=63&Et|128):55296==(64512&Et)&&zt+1<de.length&&56320==(64512&de.charCodeAt(zt+1))?(Et=65536+((1023&Et)<<10)+(1023&de.charCodeAt(++zt)),Se[We++]=Et>>18|240,Se[We++]=Et>>12&63|128,Se[We++]=Et>>6&63|128,Se[We++]=63&Et|128):(Se[We++]=Et>>12|224,Se[We++]=Et>>6&63|128,Se[We++]=63&Et|128)}return Se},P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,Se){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const We=Se?this.byteToCharMapWebSafe_:this.byteToCharMap_,zt=[];for(let Et=0;Et<de.length;Et+=3){const An=de[Et],Gt=Et+1<de.length,_t=Gt?de[Et+1]:0,ct=Et+2<de.length,wt=ct?de[Et+2]:0;let vi=(15&_t)<<2|wt>>6,$i=63&wt;ct||($i=64,Gt||(vi=64)),zt.push(We[An>>2],We[(3&An)<<4|_t>>4],We[vi],We[$i])}return zt.join("")},encodeString(de,Se){return this.HAS_NATIVE_SUPPORT&&!Se?btoa(de):this.encodeByteArray(g(de),Se)},decodeString(de,Se){return this.HAS_NATIVE_SUPPORT&&!Se?atob(de):function(de){const Se=[];let We=0,zt=0;for(;We<de.length;){const Et=de[We++];if(Et<128)Se[zt++]=String.fromCharCode(Et);else if(Et>191&&Et<224){const An=de[We++];Se[zt++]=String.fromCharCode((31&Et)<<6|63&An)}else if(Et>239&&Et<365){const ct=((7&Et)<<18|(63&de[We++])<<12|(63&de[We++])<<6|63&de[We++])-65536;Se[zt++]=String.fromCharCode(55296+(ct>>10)),Se[zt++]=String.fromCharCode(56320+(1023&ct))}else{const An=de[We++],Gt=de[We++];Se[zt++]=String.fromCharCode((15&Et)<<12|(63&An)<<6|63&Gt)}}return Se.join("")}(this.decodeStringToByteArray(de,Se))},decodeStringToByteArray(de,Se){this.init_();const We=Se?this.charToByteMapWebSafe_:this.charToByteMap_,zt=[];for(let Et=0;Et<de.length;){const An=We[de.charAt(Et++)],_t=Et<de.length?We[de.charAt(Et)]:0;++Et;const wt=Et<de.length?We[de.charAt(Et)]:64;++Et;const Kn=Et<de.length?We[de.charAt(Et)]:64;if(++Et,null==An||null==_t||null==wt||null==Kn)throw Error();zt.push(An<<2|_t>>4),64!==wt&&(zt.push(_t<<4&240|wt>>2),64!==Kn&&zt.push(wt<<6&192|Kn))}return zt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}},Ee=function(de){return function(de){const Se=g(de);return P.encodeByteArray(Se,!0)}(de).replace(/\./g,"")},ae=function(de){try{return P.decodeString(de,!0)}catch(Se){console.error("base64Decode failed: ",Se)}return null};function we(de,Se){if(!(Se instanceof Object))return Se;switch(Se.constructor){case Date:return new Date(Se.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return Se}for(const We in Se)!Se.hasOwnProperty(We)||!Oe(We)||(de[We]=we(de[We],Se[We]));return de}function Oe(de){return"__proto__"!==de}class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Se,We)=>{this.resolve=Se,this.reject=We})}wrapCallback(Se){return(We,zt)=>{We?this.reject(We):this.resolve(zt),"function"==typeof Se&&(this.promise.catch(()=>{}),1===Se.length?Se(We):Se(We,zt))}}}function st(de,Se){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const zt=Se||"demo-project",Et=de.iat||0,An=de.sub||de.user_id;if(!An)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Gt=Object.assign({iss:`https://securetoken.google.com/${zt}`,aud:zt,iat:Et,exp:Et+3600,auth_time:Et,sub:An,user_id:An,firebase:{sign_in_provider:"custom",identities:{}}},de);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(Gt)),""].join(".")}function gt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function ht(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(de){return!1}}function Xe(){return"object"==typeof self&&self.self===self}function Nt(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function at(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return gt().indexOf("Electron/")>=0}function Ke(){const de=gt();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function it(){return gt().indexOf("MSAppHost/")>=0}function et(){return!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function en(){return"object"==typeof indexedDB}function Be(){return new Promise((de,Se)=>{try{let We=!0;const zt="validate-browser-context-for-indexeddb-analytics-module",Et=self.indexedDB.open(zt);Et.onsuccess=()=>{Et.result.close(),We||self.indexedDB.deleteDatabase(zt),de(!0)},Et.onupgradeneeded=()=>{We=!1},Et.onerror=()=>{var An;Se((null===(An=Et.error)||void 0===An?void 0:An.message)||"")}}catch(We){Se(We)}})}function At(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Qt extends Error{constructor(Se,We,zt){super(We),this.code=Se,this.customData=zt,this.name="FirebaseError",Object.setPrototypeOf(this,Qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}}class an{constructor(Se,We,zt){this.service=Se,this.serviceName=We,this.errors=zt}create(Se,...We){const zt=We[0]||{},Et=`${this.service}/${Se}`,An=this.errors[Se],Gt=An?function Bn(de,Se){return de.replace(ie,(We,zt)=>{const Et=Se[zt];return null!=Et?String(Et):`<${zt}?>`})}(An,zt):"Error";return new Qt(Et,`${this.serviceName}: ${Gt} (${Et}).`,zt)}}const ie=/\{\$([^}]+)}/g;function Bt(de,Se){return Object.prototype.hasOwnProperty.call(de,Se)}function Vt(de){for(const Se in de)if(Object.prototype.hasOwnProperty.call(de,Se))return!1;return!0}function je(de,Se){if(de===Se)return!0;const We=Object.keys(de),zt=Object.keys(Se);for(const Et of We){if(!zt.includes(Et))return!1;const An=de[Et],Gt=Se[Et];if(Pt(An)&&Pt(Gt)){if(!je(An,Gt))return!1}else if(An!==Gt)return!1}for(const Et of zt)if(!We.includes(Et))return!1;return!0}function Pt(de){return null!==de&&"object"==typeof de}function rt(de){const Se=[];for(const[We,zt]of Object.entries(de))Array.isArray(zt)?zt.forEach(Et=>{Se.push(encodeURIComponent(We)+"="+encodeURIComponent(Et))}):Se.push(encodeURIComponent(We)+"="+encodeURIComponent(zt));return Se.length?"&"+Se.join("&"):""}function bt(de){const Se={};return de.replace(/^\?/,"").split("&").forEach(zt=>{if(zt){const[Et,An]=zt.split("=");Se[decodeURIComponent(Et)]=decodeURIComponent(An)}}),Se}function En(de){const Se=de.indexOf("?");if(!Se)return"";const We=de.indexOf("#",Se);return de.substring(Se,We>0?We:void 0)}function Dn(de,Se){const We=new ft(de,Se);return We.subscribe.bind(We)}class ft{constructor(Se,We){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=We,this.task.then(()=>{Se(this)}).catch(zt=>{this.error(zt)})}next(Se){this.forEachObserver(We=>{We.next(Se)})}error(Se){this.forEachObserver(We=>{We.error(Se)}),this.close(Se)}complete(){this.forEachObserver(Se=>{Se.complete()}),this.close()}subscribe(Se,We,zt){let Et;if(void 0===Se&&void 0===We&&void 0===zt)throw new Error("Missing Observer.");Et=function Ae(de,Se){if("object"!=typeof de||null===de)return!1;for(const We of Se)if(We in de&&"function"==typeof de[We])return!0;return!1}(Se,["next","error","complete"])?Se:{next:Se,error:We,complete:zt},void 0===Et.next&&(Et.next=D),void 0===Et.error&&(Et.error=D),void 0===Et.complete&&(Et.complete=D);const An=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Et.error(this.finalError):Et.complete()}catch(Gt){}}),this.observers.push(Et),An}unsubscribeOne(Se){void 0===this.observers||void 0===this.observers[Se]||(delete this.observers[Se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Se){if(!this.finalized)for(let We=0;We<this.observers.length;We++)this.sendOne(We,Se)}sendOne(Se,We){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Se])try{We(this.observers[Se])}catch(zt){"undefined"!=typeof console&&console.error&&console.error(zt)}})}close(Se){this.finalized||(this.finalized=!0,void 0!==Se&&(this.finalError=Se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D(){}function ri(de,Se=1e3,We=2){const zt=Se*Math.pow(We,de),Et=Math.round(.5*zt*(Math.random()-.5)*2);return Math.min(144e5,zt+Et)}function mn(de){return de&&de._delegate?de._delegate:de}function _i(de,Se){return new Promise((We,zt)=>{de.onsuccess=Et=>{We(Et.target.result)},de.onerror=Et=>{var An;zt(`${Se}: ${null===(An=Et.target.error)||void 0===An?void 0:An.message}`)}})}class ci{constructor(Se){this._db=Se,this.objectStoreNames=this._db.objectStoreNames}transaction(Se,We="readonly"){return new Dt(this._db.transaction.call(this._db,Se,We))}createObjectStore(Se,We){return new $(this._db.createObjectStore(Se,We))}close(){this._db.close()}}class Dt{constructor(Se){this._transaction=Se,this.complete=new Promise((We,zt)=>{this._transaction.oncomplete=function(){We()},this._transaction.onerror=()=>{zt(this._transaction.error)},this._transaction.onabort=()=>{zt(this._transaction.error)}})}objectStore(Se){return new $(this._transaction.objectStore(Se))}}class ${constructor(Se){this._store=Se}index(Se){return new O(this._store.index(Se))}createIndex(Se,We,zt){return new O(this._store.createIndex(Se,We,zt))}get(Se){return _i(this._store.get(Se),"Error reading from IndexedDB")}put(Se,We){return _i(this._store.put(Se,We),"Error writing to IndexedDB")}delete(Se){return _i(this._store.delete(Se),"Error deleting from IndexedDB")}clear(){return _i(this._store.clear(),"Error clearing IndexedDB object store")}}class O{constructor(Se){this._index=Se}get(Se){return _i(this._index.get(Se),"Error reading from IndexedDB")}}function x(de,Se,We){return new Promise((zt,Et)=>{try{const An=indexedDB.open(de,Se);An.onsuccess=Gt=>{zt(new ci(Gt.target.result))},An.onerror=Gt=>{var _t;Et(`Error opening indexedDB: ${null===(_t=Gt.target.error)||void 0===_t?void 0:_t.message}`)},An.onupgradeneeded=Gt=>{We(new ci(An.result),Gt.oldVersion,Gt.newVersion,new Dt(An.transaction))}}catch(An){Et(`Error opening indexedDB: ${An.message}`)}})}function oe(de){return re.apply(this,arguments)}function re(){return(re=(0,v.Z)(function*(de){return new Promise((Se,We)=>{try{const zt=indexedDB.deleteDatabase(de);zt.onsuccess=()=>{Se()},zt.onerror=Et=>{var An;We(`Error deleting indexedDB database "${de}": ${null===(An=Et.target.error)||void 0===An?void 0:An.message}`)}}catch(zt){We(`Error deleting indexedDB database "${de}": ${zt.message}`)}})})).apply(this,arguments)}},4839:(Ot,B,R)=>{R.d(B,{$b:()=>Ue,NV:()=>I,RD:()=>we,RM:()=>Ee,WI:()=>V,Wj:()=>P,m3:()=>g,sS:()=>v});var v=(()=>{return(Oe=v||(v={})).Login="[Auth] Login",Oe.Logout="[Auth] Logout",Oe.LoginComplete="[Auth] Login Success",Oe.LoginError="[Auth] Login Failure",Oe.LoginRedirect="[Auth] Login Redirect",Oe.FetchedUsers="[Auth] fetchUsers",Oe.FetchedUsersComplete="[Auth] fetchUsers Complete",Oe.FetchedUsersError="[Auth] fetchUsers Error",Oe.LoadOrderUser="[Auth] Load User",Oe.LoadOrderUserComplete="[Auth] Load User Complete",Oe.LoadOrderUserError="[Auth] Load Use Error",v;var Oe})();class V{constructor(Le){this.payload=Le,this.type=v.FetchedUsers}}class I{constructor(Le){this.payload=Le,this.type=v.FetchedUsersComplete}}class g{constructor(Le){this.payload=Le,this.type=v.Login}}class Ue{constructor(Le){this.payload=Le,this.type=v.LoginComplete}}class P{constructor(Le){this.payload=Le,this.type=v.LoginError}}class Ee{constructor(Le){this.payload=Le,this.type=v.LoadOrderUserComplete}}class we{constructor(){this.type=v.Logout}}},819:(Ot,B,R)=>{R.d(B,{FU:()=>Me,I6:()=>g,L7:()=>Ue,PR:()=>Ee,cx:()=>ae,v9:()=>Ce});var v=R(4839),V=R(5620);const I={loggedIn:!1,user:null,orderUser:null,pending:!1,errors:"",fetchedUsers:new Array},q=(0,V.ZF)("auth");function g(we=I,Oe){switch(Oe.type){case v.sS.Login:return Object.assign(Object.assign({},we),{pending:!0});case v.sS.LoginComplete:return Object.assign(Object.assign({},we),{loggedIn:!0,pending:!1,user:Oe.payload});case v.sS.LoginError:return Object.assign(Object.assign({},we),{pending:!1});case v.sS.LoadOrderUser:return Object.assign({},we);case v.sS.LoadOrderUserComplete:return Object.assign(Object.assign({},we),{orderUser:Oe.payload});case v.sS.LoadOrderUserError:return Object.assign({},we);case v.sS.Logout:return I;case v.sS.FetchedUsers:return we;case v.sS.FetchedUsersComplete:return Object.assign(Object.assign({},we),{fetchedUsers:Oe.payload});default:return we}}const Ue=(0,V.P1)(q,we=>we.fetchedUsers),Ce=((0,V.P1)(q,we=>we.orderUser),we=>we.loggedIn),Ee=we=>we.user,ae=we=>we.pending,Me=we=>we.errors},6518:(Ot,B,R)=>{R.d(B,{e:()=>P});var v=R(5861),V=R(4004),I=R(5e3),q=R(6185),g=R(1041),Ue=R(1402);let P=(()=>{class Ce{constructor(ae,Me,we,Oe){this.db=ae,this.afAuth=Me,this.router=we,this.ngZone=Oe,this.afAuth.authState.subscribe(Le=>{Le?(this.userState=Le,localStorage.setItem("user",JSON.stringify(this.userState)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))})}loadUser(ae){return this.db.collection("users",Me=>Me.where("uid","==",ae)).get()}getAllUsers(){return this.db.collection("users").get().pipe((0,V.U)(ae=>ae.docs.map(we=>we.data())))}fetchUsers(ae){return this.db.collection("users",Me=>Me.where("email",">=",ae).where("email","<=",ae+"\uf8ff")).get()}SignIn(ae,Me){return this.afAuth.signInWithEmailAndPassword(ae,Me).then(we=>(this.ngZone.run(()=>{}),Promise.resolve(this.SetUserData(we.user)))).catch(we=>(window.alert(we.message),Promise.reject("error in signin")))}ForgotPassword(ae){return this.afAuth.sendPasswordResetEmail(ae).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(Me=>{window.alert(Me)})}get isLoggedIn(){const ae=JSON.parse(localStorage.getItem("user"));return null!==ae&&!1!==ae.emailVerified}authProvider(ae){return this.afAuth.signInWithPopup(ae).then(Me=>(this.ngZone.run(()=>{this.router.navigate(["/"])}),Promise.resolve(this.SetUserData(Me.user)))).catch(Me=>(window.alert(Me),Promise.reject("error in login with provider")))}SetUserData(ae,Me){var we=this;return(0,v.Z)(function*(){const Oe=we.db.doc(`users/${ae.uid}`),Le={uid:ae.uid,email:ae.email,displayName:we.parseName(ae.email),photoURL:ae.photoURL,emailVerified:ae.emailVerified};return yield Oe.set(Le,{merge:!0}),Le})()}parseName(ae){return ae.substring(0,ae.indexOf("@"))}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"])})}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(I.LFG(q.ST),I.LFG(g.zQ),I.LFG(Ue.F0),I.LFG(I.R0b))},Ce.\u0275prov=I.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})()},163:(Ot,B,R)=>{R.d(B,{M:()=>q});var v=R(7579),V=R(5e3),I=R(6185);let q=(()=>{class g{constructor(P){this.db=P,this.nextProductId$=new v.x,this.nextCategoryId$=new v.x}getNextProductId(P){console.log("getNextProductId - catId"),console.dir(P),console.log("DbService generateProductId"),this.db.collection("categories",Ee=>Ee.where("id","==",P)).get().subscribe(Ee=>{const ae=Ee.docs[0].get("products");console.log("products; "+length),console.dir(ae),ae?this.nextProductId$.next(ae.length+1):(console.log("next productId: <<1>>"),this.nextCategoryId$.next(1))})}getNextCategoryId(){let P=0;console.log("DbService generateCategoryId"),this.db.collection("/categories").get().subscribe(Ce=>{Ce.forEach(Ee=>{const ae=parseInt(Ee.id);ae>P&&(P=ae)}),this.nextCategoryId$.next(P+1)})}}return g.\u0275fac=function(P){return new(P||g)(V.LFG(I.ST))},g.\u0275prov=V.Yz7({token:g,factory:function(P){let Ce=null;return Ce=P?new(P||g):"db",Ce},providedIn:"root"}),g})()},2916:(Ot,B,R)=>{R.d(B,{q:()=>za});var v=R(7544),V=R(7423),I=R(9224),q=R(3191),g=R(5e3),P=(R(3075),R(508)),Ce=R(6360),ae=(R(5664),R(7144));let it=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({}),Y})(),A=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[P.si,P.BQ,ae.Q8,it],P.BQ,it]}),Y})();var et=R(6856);let Be=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[P.BQ],P.BQ]}),Y})(),bt=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[P.uc,P.BQ],P.uc,P.BQ]}),Y})();var Xn=R(5245),Dn=R(7531),ft=R(9808),Rn=R(7579);R(2722),R(8675),R(449),R(1159);let zt=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[P.uc,P.si,P.BQ,P.us,ft.ez],P.uc,P.BQ,P.us,Be]}),Y})();var Et=R(925),An=R(727),Gt=R(495);function _t(Y,ce){if(1&Y&&(g.O4$(),g._UZ(0,"circle",4)),2&Y){const T=g.oxw(),X=g.MAs(1);g.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+T._spinnerAnimationLabel)("stroke-dashoffset",T._getStrokeDashOffset(),"px")("stroke-dasharray",T._getStrokeCircumference(),"px")("stroke-width",T._getCircleStrokeWidth(),"%")("transform-origin",T._getCircleTransformOrigin(X)),g.uIk("r",T._getCircleRadius())}}function ct(Y,ce){if(1&Y&&(g.O4$(),g._UZ(0,"circle",4)),2&Y){const T=g.oxw(),X=g.MAs(1);g.Udp("stroke-dashoffset",T._getStrokeDashOffset(),"px")("stroke-dasharray",T._getStrokeCircumference(),"px")("stroke-width",T._getCircleStrokeWidth(),"%")("transform-origin",T._getCircleTransformOrigin(X)),g.uIk("r",T._getCircleRadius())}}const Kn=(0,P.pj)(class{constructor(Y){this._elementRef=Y}},"primary"),vi=new g.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function $i(){return{diameter:100}}});class Ir extends Kn{constructor(ce,T,X,ze,Ht,jn,Pi,Yi){super(ce),this._document=X,this._diameter=100,this._value=0,this._resizeSubscription=An.w0.EMPTY,this.mode="determinate";const Nn=Ir._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),Nn.has(X.head)||Nn.set(X.head,new Set([100])),this._noopAnimations="NoopAnimations"===ze&&!!Ht&&!Ht._forceAnimations,"mat-spinner"===ce.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),Ht&&(Ht.diameter&&(this.diameter=Ht.diameter),Ht.strokeWidth&&(this.strokeWidth=Ht.strokeWidth)),T.isBrowser&&T.SAFARI&&Pi&&jn&&Yi&&(this._resizeSubscription=Pi.change(150).subscribe(()=>{"indeterminate"===this.mode&&Yi.run(()=>jn.markForCheck())}))}get diameter(){return this._diameter}set diameter(ce){this._diameter=(0,q.su)(ce),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(ce){this._strokeWidth=(0,q.su)(ce)}get value(){return"determinate"===this.mode?this._value:0}set value(ce){this._value=Math.max(0,Math.min(100,(0,q.su)(ce)))}ngOnInit(){const ce=this._elementRef.nativeElement;this._styleRoot=(0,Et.kV)(ce)||this._document.head,this._attachStyleNode(),ce.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const ce=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${ce} ${ce}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(ce){var T;const X=50*(null!==(T=ce.currentScale)&&void 0!==T?T:1);return`${X}% ${X}%`}_attachStyleNode(){const ce=this._styleRoot,T=this._diameter,X=Ir._diameters;let ze=X.get(ce);if(!ze||!ze.has(T)){const Ht=this._document.createElement("style");Ht.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),Ht.textContent=this._getAnimationText(),ce.appendChild(Ht),ze||(ze=new Set,X.set(ce,ze)),ze.add(T)}}_getAnimationText(){const ce=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*ce).replace(/END_VALUE/g,""+.2*ce).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Ir._diameters=new WeakMap,Ir.\u0275fac=function(ce){return new(ce||Ir)(g.Y36(g.SBq),g.Y36(Et.t4),g.Y36(ft.K0,8),g.Y36(Ce.Qb,8),g.Y36(vi),g.Y36(g.sBO),g.Y36(Gt.rL),g.Y36(g.R0b))},Ir.\u0275cmp=g.Xpm({type:Ir,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(ce,T){2&ce&&(g.uIk("aria-valuemin","determinate"===T.mode?0:null)("aria-valuemax","determinate"===T.mode?100:null)("aria-valuenow","determinate"===T.mode?T.value:null)("mode",T.mode),g.Udp("width",T.diameter,"px")("height",T.diameter,"px"),g.ekj("_mat-animation-noopable",T._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[g.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(ce,T){1&ce&&(g.O4$(),g.TgZ(0,"svg",0,1),g.YNc(2,_t,1,11,"circle",2),g.YNc(3,ct,1,9,"circle",3),g.qZA()),2&ce&&(g.Udp("width",T.diameter,"px")("height",T.diameter,"px"),g.Q6J("ngSwitch","indeterminate"===T.mode),g.uIk("viewBox",T._getViewBox()),g.xp6(2),g.Q6J("ngSwitchCase",!0),g.xp6(1),g.Q6J("ngSwitchCase",!1))},directives:[ft.RF,ft.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let qt=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[P.BQ,ft.ez],P.BQ]}),Y})(),Xr=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[P.si,P.BQ],P.BQ]}),Y})();var St=R(4107);R(1777);let Wn=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[ft.ez,P.BQ,Gt.ZD],Gt.ZD,P.BQ]}),Y})();var oi=R(1271),ki=R(7429),wr=R(226);let Do=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[wr.vT]]}),Y})(),qe=(()=>{class Y{constructor(){this.changes=new Rn.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275prov=g.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();const On={provide:qe,deps:[[new g.FiY,new g.tp0,qe]],useFactory:function $t(Y){return Y||new qe}};let $e=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({providers:[On,P.rD],imports:[[P.BQ,ft.ez,ki.eL,V.ot,Do,Xn.Ps,P.si],P.BQ]}),Y})();R(8996),R(1135),R(9751),R(576),R(9646),R(5698);let Ua=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[Gt.Cl]]}),Y})(),Pn=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[Ua,P.BQ],P.BQ]}),Y})();var Zr=R(3251),Ji=R(4594);let jr=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({}),Y})(),Ra=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[ft.ez,P.BQ,jr,ki.eL]]}),Y})();var or=R(2181),el=R(1079),Gn=R(4448);let za=(()=>{class Y{}return Y.\u0275fac=function(T){return new(T||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[Ra,Dn.c,I.QW,V.ot,Wn,Be,zt,Xn.Ps,Ji.g0,Zr.Nh,qt,v.g,Pn,A,St.LD,bt,et.FA,P.XK,$e,Xr,oi.ZX,bt,or.Tx,el.Bb,Gn.sF.forRoot()],Ra,Dn.c,I.QW,V.ot,Wn,zt,Xn.Ps,Ji.g0,Zr.Nh,qt,v.g,Pn,A,St.LD,bt,et.FA,P.XK,$e,Xr,oi.ZX,bt,or.Tx,el.Bb,Gn.sF]}),Y})()},6338:(Ot,B,R)=>{R.d(B,{AG:()=>V,AN:()=>Ce,E0:()=>P,Em:()=>q,Go:()=>Le,I9:()=>Oe,ZU:()=>v,_s:()=>Je,a3:()=>gt,q5:()=>Ue});var v=(()=>{return(Xe=v||(v={})).Reset="[Order] Reset",Xe.Load="[Order] Load",Xe.LoadComplete="[Order] Load Complete",Xe.LoadError="[Order] Load Error",Xe.Select="[Order] Select Order Item",Xe.Copy="[Order] Copy",Xe.CopyComplete="[Order] Copy Complete",Xe.CopyError="[Order] Copy Error",Xe.SaveOrder="[Order] Save Order",Xe.SaveOrderComplete="[Order] Save Order Complete",Xe.SaveOrderError="[Order] Save Order Error",Xe.PaidChange="[Order] Paid Change",Xe.PaidChangeComplete="[Order] Paid Change Complete",Xe.PaidChangeEror="[Order] Paid Change Error",Xe.StatusChange="[Order] Status Change",Xe.StatusChangeComplete="[Order] Status Complete",Xe.StatusChangeError="[Order] Status Change Error",v;var Xe})();class V{constructor(){this.type=v.Reset}}class q{constructor(Nt){this.payload=Nt,this.type=v.SaveOrderComplete}}class Ue{constructor(Nt){this.payload=Nt,this.type=v.Load}}class P{constructor(Nt){this.payload=Nt,this.type=v.LoadComplete}}class Ce{constructor(Nt){this.payload=Nt,this.type=v.LoadError}}class Oe{constructor(Nt){this.payload=Nt,this.type=v.PaidChange}}class Le{constructor(Nt){this.payload=Nt,this.type=v.PaidChangeComplete}}class gt{constructor(Nt){this.payload=Nt,this.type=v.StatusChange}}class Je{constructor(Nt){this.payload=Nt,this.type=v.StatusChangeComplete}}},599:(Ot,B,R)=>{var v=R(2313),V=R(5e3),I=R(9808),q=R(520),g=R(508),Ue=R(1271),P=R(6360),Ce=R(6642),Ee=R(5620),ae=R(1402),Me=R(1365);const we="@ngrx/router-store/request",Le=((0,Ee.PH)(we,(0,Ee.Ky)()),"@ngrx/router-store/navigation"),gt=((0,Ee.PH)(Le,(0,Ee.Ky)()),"@ngrx/router-store/cancel"),ht=((0,Ee.PH)(gt,(0,Ee.Ky)()),"@ngrx/router-store/error"),Nt=((0,Ee.PH)(ht,(0,Ee.Ky)()),"@ngrx/router-store/navigated");(0,Ee.PH)(Nt,(0,Ee.Ky)());class Ke{}class it{serialize(Hn){return{root:this.serializeRoute(Hn.root),url:Hn.url}}serializeRoute(Hn){const bn=Hn.children.map(yi=>this.serializeRoute(yi));return{params:Hn.params,paramMap:Hn.paramMap,data:Hn.data,url:Hn.url,outlet:Hn.outlet,routeConfig:Hn.routeConfig?{component:Hn.routeConfig.component,path:Hn.routeConfig.path,pathMatch:Hn.routeConfig.pathMatch,redirectTo:Hn.routeConfig.redirectTo,outlet:Hn.routeConfig.outlet}:null,queryParams:Hn.queryParams,queryParamMap:Hn.queryParamMap,fragment:Hn.fragment,component:Hn.routeConfig?Hn.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:bn[0],pathFromRoot:void 0,children:bn}}}class A{serialize(Hn){return{root:this.serializeRoute(Hn.root),url:Hn.url}}serializeRoute(Hn){const bn=Hn.children.map(yi=>this.serializeRoute(yi));return{params:Hn.params,data:Hn.data,url:Hn.url,outlet:Hn.outlet,routeConfig:Hn.routeConfig?{path:Hn.routeConfig.path,pathMatch:Hn.routeConfig.pathMatch,redirectTo:Hn.routeConfig.redirectTo,outlet:Hn.routeConfig.outlet}:null,queryParams:Hn.queryParams,fragment:Hn.fragment,firstChild:bn[0],children:bn}}}var et=(()=>{return(qt=et||(et={}))[qt.PreActivation=1]="PreActivation",qt[qt.PostActivation=2]="PostActivation",et;var qt})();const en=new V.OlP("@ngrx/router-store Internal Configuration"),Be=new V.OlP("@ngrx/router-store Configuration");function Ut(qt){return Object.assign({stateKey:"router",serializer:A,navigationActionTiming:et.PreActivation},qt)}var nn=(()=>{return(qt=nn||(nn={}))[qt.NONE=1]="NONE",qt[qt.ROUTER=2]="ROUTER",qt[qt.STORE=3]="STORE",nn;var qt})();let Qt=(()=>{class qt{constructor(bn,yi,Zi,$n,Hi,Ui){this.store=bn,this.router=yi,this.serializer=Zi,this.errorHandler=$n,this.config=Hi,this.activeRuntimeChecks=Ui,this.lastEvent=null,this.routerState=null,this.trigger=nn.NONE,this.stateKey=this.config.stateKey,!(0,Ee.rM)()&&(0,V.X6Q)()&&((null==Ui?void 0:Ui.strictActionSerializability)||(null==Ui?void 0:Ui.strictStateSerializability))&&this.serializer instanceof it&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the DefaultRouterStateSerializer. The default serializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer. This also applies to Ivy with immutability runtime checks."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}static forRoot(bn={}){return{ngModule:qt,providers:[{provide:en,useValue:bn},{provide:Be,useFactory:Ut,deps:[en]},{provide:Ke,useClass:bn.serializer?bn.serializer:0===bn.routerState?it:A}]}}setUpStoreStateListener(){this.store.pipe((0,Ee.Ys)(this.stateKey),(0,Me.M)(this.store)).subscribe(([bn,yi])=>{this.navigateIfNeeded(bn,yi)})}navigateIfNeeded(bn,yi){if(!bn||!bn.state||this.trigger===nn.ROUTER||this.lastEvent instanceof ae.OD)return;const Zi=bn.state.url;(function an(qt,Hn){return Bn(qt)===Bn(Hn)})(this.router.url,Zi)||(this.storeState=yi,this.trigger=nn.STORE,this.router.navigateByUrl(Zi).catch($n=>{this.errorHandler.handleError($n)}))}setUpRouterEventsListener(){const bn=this.config.navigationActionTiming===et.PostActivation;let yi;this.router.events.pipe((0,Me.M)(this.store)).subscribe(([Zi,$n])=>{this.lastEvent=Zi,Zi instanceof ae.OD?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==nn.STORE&&(this.storeState=$n,this.dispatchRouterRequest(Zi))):Zi instanceof ae.R9?(yi=Zi,!bn&&this.trigger!==nn.STORE&&this.dispatchRouterNavigation(Zi)):Zi instanceof ae.gk?(this.dispatchRouterCancel(Zi),this.reset()):Zi instanceof ae.Q3?(this.dispatchRouterError(Zi),this.reset()):Zi instanceof ae.m2&&(this.trigger!==nn.STORE&&(bn&&this.dispatchRouterNavigation(yi),this.dispatchRouterNavigated(Zi)),this.reset())})}dispatchRouterRequest(bn){this.dispatchRouterAction(we,{event:bn})}dispatchRouterNavigation(bn){const yi=this.serializer.serialize(bn.state);this.dispatchRouterAction(Le,{routerState:yi,event:new ae.R9(bn.id,bn.url,bn.urlAfterRedirects,yi)})}dispatchRouterCancel(bn){this.dispatchRouterAction(gt,{storeState:this.storeState,event:bn})}dispatchRouterError(bn){this.dispatchRouterAction(ht,{storeState:this.storeState,event:new ae.Q3(bn.id,bn.url,`${bn}`)})}dispatchRouterNavigated(bn){const yi=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(Nt,{event:bn,routerState:yi})}dispatchRouterAction(bn,yi){this.trigger=nn.ROUTER;try{this.store.dispatch({type:bn,payload:Object.assign(Object.assign({routerState:this.routerState},yi),{event:0===this.config.routerState?yi.event:{id:yi.event.id,url:yi.event.url,urlAfterRedirects:yi.event.urlAfterRedirects}})})}finally{this.trigger=nn.NONE}}reset(){this.trigger=nn.NONE,this.storeState=null,this.routerState=null}}return qt.\u0275fac=function(bn){return new(bn||qt)(V.LFG(Ee.yh),V.LFG(ae.F0),V.LFG(Ke),V.LFG(V.qLn),V.LFG(Be),V.LFG(Ee.hg))},qt.\u0275mod=V.oAB({type:qt}),qt.\u0275inj=V.cJS({}),qt})();function Bn(qt){return(null==qt?void 0:qt.length)>0&&"/"===qt[qt.length-1]?qt.substring(0,qt.length-1):qt}var ut=R(9565);const Zt_firebase={apiKey:"AIzaSyAHPGQum6r5FlC8-eBZgb49BlxhWq9be0w",authDomain:"acacia-ready-admin.firebaseapp.com",projectId:"acacia-ready-admin",storageBucket:"acacia-ready-admin.appspot.com",messagingSenderId:"960956864173",appId:"1:960956864173:web:8fe993af87590ad3e69824"},Zt_firebaseWithDatabase={apiKey:"AIzaSyAkhZZSPNGgb-a1o3pWGE0Bi7vLLk35VHM",authDomain:"acacia-ready.firebaseapp.com",projectId:"acacia-ready",storageBucket:"acacia-ready.appspot.com",messagingSenderId:"465010542685",appId:"1:465010542685:web:f0df541e998ef0dd8c25b4",measurementId:"G-TXRLTZ4K9F",databaseURL:"https://acacia-ready-default-rtdb.europe-west1.firebasedatabase.app/"};var hn=R(4839),Kt=(()=>{return(qt=Kt||(Kt={})).LoadDeliveryTimes="[Config] Load Delivery Times",qt.LoadDeliveryTimesComplete="[Config] Load Delivery Times Complete ",qt.LoadDeliveryTimesError="[Config] Load Delivery Times Error",Kt;var qt})();const mt={deliveryTimes:[]};var je=R(819);const Pt={config:function Vt(qt=mt,Hn){switch(Hn.type){case Kt.LoadDeliveryTimesComplete:return{deliveryTimes:Hn.payload};case Kt.LoadDeliveryTimesError:return{deliveryTimes:[]};default:return qt}},router:function ke(qt,Hn){const bn=Hn;switch(bn.type){case Le:case ht:case gt:return{state:bn.payload.routerState,navigationId:bn.payload.event.id};default:return qt}},auth:je.I6},bt=[function rt(qt){return function(Hn,bn){return qt(Hn,bn)}}],Xn=((0,Ee.ZF)("config"),(0,Ee.ZF)("auth")),Dn=(0,Ee.P1)(Xn,je.v9),ft=(0,Ee.P1)(Xn,je.PR);(0,Ee.P1)(Xn,je.cx),(0,Ee.P1)(Xn,je.FU);var D=R(4594);const te=["*"];let ne=(()=>{class qt{}return qt.\u0275fac=function(bn){return new(bn||qt)},qt.\u0275cmp=V.Xpm({type:qt,selectors:[["app-toolbar"]],ngContentSelectors:te,decls:5,vars:0,consts:[["color","primary"],["src","/assets/icon/favicon.png","width","90","height","60",2,"padding-right","4px"],[1,"appTitle"]],template:function(bn,yi){1&bn&&(V.F$t(),V.TgZ(0,"mat-toolbar",0),V.Hsn(1),V._UZ(2,"img",1),V.TgZ(3,"span",2),V._uU(4,"Acacia Admin"),V.qZA()())},directives:[D.Ye],styles:['.appTitle[_ngcontent-%COMP%]{align-self:flex-start;font-size:16px;color:orange;padding-top:8px;padding-right:5px;justify:center;font-family:Arial;font-stretch:expanded;font-weight:700;font-feature-settings:"smcp";font-variant:small-caps;text-shadow:4px 4px 4px maroon}']}),qt})();var me=R(7423),xe=R(2181),pt=R(5245);function Ft(qt,Hn){if(1&qt&&(V.TgZ(0,"button",8),V._uU(1,"Menu"),V.TgZ(2,"mat-icon"),V._uU(3,"menu"),V.qZA()()),2&qt){V.oxw();const bn=V.MAs(4);V.Q6J("matMenuTriggerFor",bn)}}function rn(qt,Hn){if(1&qt&&(V.TgZ(0,"span",9)(1,"span",10),V._uU(2,"Logged as: "),V.qZA(),V.TgZ(3,"b"),V._uU(4),V.ALo(5,"async"),V.qZA()()),2&qt){const bn=V.oxw();let yi;V.xp6(4),V.Oqu(null==(yi=V.lcZ(5,1,bn.user$))?null:yi.displayName)}}let Qe=(()=>{class qt{constructor(bn){this.store=bn}ngOnInit(){this.loggedIn$=this.store.pipe((0,Ee.Ys)(Dn)),this.user$=this.store.pipe((0,Ee.Ys)(ft))}logout(){this.store.dispatch(new hn.RD)}}return qt.\u0275fac=function(bn){return new(bn||qt)(V.Y36(Ee.yh))},qt.\u0275cmp=V.Xpm({type:qt,selectors:[["app-root"]],decls:25,vars:6,consts:[["mat-button","",3,"matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","","routerLink","/shop/categories/0"],["mat-menu-item","","routerLink","/shop/category/new"],["mat-menu-item","","routerLink","/orders"],["mat-menu-item","",3,"click"],[2,"flex","1 1 auto","flex-direction","row"],["class","login",4,"ngIf"],["mat-button","",3,"matMenuTriggerFor"],[1,"login"],[2,"padding-right","10px","color","white"]],template:function(bn,yi){1&bn&&(V.TgZ(0,"app-toolbar"),V.YNc(1,Ft,4,1,"button",0),V.ALo(2,"async"),V.TgZ(3,"mat-menu",null,1)(5,"button",2)(6,"mat-icon"),V._uU(7,"list"),V.qZA(),V._uU(8," Categories "),V.qZA(),V.TgZ(9,"button",3)(10,"mat-icon"),V._uU(11,"add"),V.qZA(),V._uU(12," New Category "),V.qZA(),V.TgZ(13,"button",4)(14,"mat-icon"),V._uU(15,"perm_media"),V.qZA(),V._uU(16," Orders "),V.qZA(),V.TgZ(17,"button",5),V.NdJ("click",function(){return yi.logout()}),V.TgZ(18,"mat-icon"),V._uU(19,"phonelink_off"),V.qZA(),V._uU(20," Sign Out "),V.qZA()(),V.TgZ(21,"div",6),V.YNc(22,rn,6,3,"span",7),V.ALo(23,"async"),V.qZA()(),V._UZ(24,"router-outlet")),2&bn&&(V.xp6(1),V.Q6J("ngIf",V.lcZ(2,2,yi.loggedIn$)),V.xp6(21),V.Q6J("ngIf",V.lcZ(23,4,yi.loggedIn$)))},directives:[ne,I.O5,me.lW,xe.p6,pt.Hw,xe.VK,xe.OP,ae.rH,ae.lC],pipes:[I.Ov],styles:[".login[_ngcontent-%COMP%]{font-size:12px;color:#ff0;float:right;padding-right:20px}"],changeDetection:0}),qt})();var Cn=R(2916),xn=R(9224);let ei=(()=>{class qt{}return qt.\u0275fac=function(bn){return new(bn||qt)},qt.\u0275cmp=V.Xpm({type:qt,selectors:[["app-not-found-page"]],decls:9,vars:0,consts:[["mat-raised-button","","color","primary","routerLink","/"]],template:function(bn,yi){1&bn&&(V.TgZ(0,"mat-card")(1,"mat-card-title"),V._uU(2,"404: Not Found"),V.qZA(),V.TgZ(3,"mat-card-content")(4,"p"),V._uU(5,"Hey! It looks like this page doesn't exist yet."),V.qZA()(),V.TgZ(6,"mat-card-actions")(7,"button",0),V._uU(8,"Take Me Home"),V.qZA()()())},directives:[xn.a8,xn.n5,xn.dn,xn.hq,me.lW,ae.rH],styles:["[_nghost-%COMP%]{text-align:center}"],changeDetection:0}),qt})(),ri=(()=>{class qt{}return qt.\u0275fac=function(bn){return new(bn||qt)},qt.\u0275cmp=V.Xpm({type:qt,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"appTitle"]],template:function(bn,yi){1&bn&&(V.TgZ(0,"p")(1,"span",0),V._uU(2,"Welcome to Acacia Admin"),V.qZA()())},styles:['.appTitle[_ngcontent-%COMP%]{align-self:flex-start;font-size:16px;color:orange;padding-top:8px;padding-right:5px;justify:center;font-family:Arial;font-stretch:expanded;font-weight:700;font-feature-settings:"smcp";font-variant:small-caps}']}),qt})(),Si=(()=>{class qt{static forRoot(){return{ngModule:qt,providers:[]}}}return qt.\u0275fac=function(bn){return new(bn||qt)},qt.\u0275mod=V.oAB({type:qt}),qt.\u0275inj=V.cJS({imports:[[I.ez,ae.Bz,Cn.q]]}),qt})();var mn=R(6185);let _i=(()=>{class qt{constructor(bn){this.db=bn,bn.collection("/orders").get().subscribe(yi=>{})}}return qt.\u0275fac=function(bn){return new(bn||qt)(V.LFG(mn.ST))},qt.\u0275prov=V.Yz7({token:qt,factory:function(bn){let yi=null;return yi=bn?new(bn||qt):"db",yi},providedIn:"root"}),qt})(),ci=(()=>{class qt{constructor(bn,yi){this.actions$=bn,this.configService=yi}}return qt.\u0275fac=function(bn){return new(bn||qt)(V.LFG(Ce.eX),V.LFG(_i))},qt.\u0275prov=V.Yz7({token:qt,factory:qt.\u0275fac}),qt})();class Dt{serialize(Hn){let bn=Hn.root;for(;bn.firstChild;)bn=bn.firstChild;const{url:yi,root:{queryParams:Zi}}=Hn,{params:$n}=bn;return{url:yi,params:$n,queryParams:Zi}}}var $=R(2011),O=R(1041),x=R(3075),oe=R(7322),re=R(7531);let de=(()=>{class qt{constructor(){this.emailSubmission=new V.vpe,this.form=new x.cw({email:new x.NI("",x.kI.email),password:new x.NI("",x.kI.required)})}login(){this.form.valid&&this.emailSubmission.emit(this.form.value)}}return qt.\u0275fac=function(bn){return new(bn||qt)},qt.\u0275cmp=V.Xpm({type:qt,selectors:[["app-sign-in"]],outputs:{emailSubmission:"emailSubmission"},decls:15,vars:1,consts:[[3,"formGroup"],["type","text","matInput","","placeholder","Email","formControlName","email"],["type","password","matInput","","placeholder","Password","formControlName","password"],[1,"loginButtons"],["mat-fab","","type","button","mat-button","",3,"click"]],template:function(bn,yi){1&bn&&(V.TgZ(0,"mat-card")(1,"mat-card-subtitle"),V._uU(2,"Email Sign In "),V.qZA(),V._UZ(3,"mat-card-header"),V.TgZ(4,"mat-card-content")(5,"form",0)(6,"p")(7,"mat-form-field"),V._UZ(8,"input",1),V.qZA()(),V.TgZ(9,"p")(10,"mat-form-field"),V._UZ(11,"input",2),V.qZA()(),V.TgZ(12,"p",3)(13,"button",4),V.NdJ("click",function(){return yi.login()}),V._uU(14,"Sign In"),V.qZA()()()()()),2&bn&&(V.xp6(5),V.Q6J("formGroup",yi.form))},directives:[xn.a8,xn.$j,xn.dk,xn.dn,x._Y,x.JL,x.sg,oe.KE,re.Nt,x.Fj,x.JJ,x.u,me.lW],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;margin:72px 0}.mat-form-field[_ngcontent-%COMP%]{width:100%;min-width:300px}mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center}.loginError[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.loginButtons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}"]}),qt})(),Se=(()=>{class qt{constructor(bn){this.store=bn}ngOnInit(){}doLogin(bn){this.store.dispatch(new hn.m3(bn))}}return qt.\u0275fac=function(bn){return new(bn||qt)(V.Y36(Ee.yh))},qt.\u0275cmp=V.Xpm({type:qt,selectors:[["app-login-page"]],decls:1,vars:0,consts:[[3,"emailSubmission"]],template:function(bn,yi){1&bn&&(V.TgZ(0,"app-sign-in",0),V.NdJ("emailSubmission",function($n){return yi.doLogin($n)}),V.qZA())},directives:[de],encapsulation:2}),qt})();var We=R(6518);let zt=(()=>{class qt{constructor(bn){this.authService=bn}canActivate(){return!!this.authService.isLoggedIn}}return qt.\u0275fac=function(bn){return new(bn||qt)(V.LFG(We.e))},qt.\u0275prov=V.Yz7({token:qt,factory:qt.\u0275fac}),qt})();const Et=[{path:"login",component:Se},{path:"",redirectTo:"login",pathMatch:"full"},{path:"home",component:ri},{path:"shop",loadChildren:()=>Promise.all([R.e(592),R.e(102)]).then(R.bind(R,1102)).then(qt=>qt.ShopModule),canActivate:[zt]},{path:"orders",loadChildren:()=>Promise.all([R.e(592),R.e(586)]).then(R.bind(R,4586)).then(qt=>qt.OrdersModule),canActivate:[zt]},{path:"**",component:ei}];let An=(()=>{class qt{}return qt.\u0275fac=function(bn){return new(bn||qt)},qt.\u0275mod=V.oAB({type:qt}),qt.\u0275inj=V.cJS({imports:[[ae.Bz.forRoot(Et)],ae.Bz]}),qt})();var Gt=R(3900),_t=R(8505),ct=R(4004),wt=R(262),dn=R(9646),Kn=R(6338);let vi=(()=>{class qt{constructor(bn,yi,Zi,$n,Hi,Ui){this.actions$=bn,this.authService=yi,this.router=Zi,this.route=$n,this.location=Hi,this.orderStore=Ui,this.login$=(0,Ce.GW)(()=>this.actions$.pipe((0,Ce.l4)(hn.sS.Login),(0,Gt.w)(Tt=>this.authService.SignIn(Tt.payload.email,Tt.payload.password).then(ln=>new hn.$b(ln)).catch(ln=>new hn.Wj(ln)))),{dispatch:!0}),this.loginSuccess$=(0,Ce.GW)(()=>this.actions$.pipe((0,Ce.l4)(hn.sS.LoginComplete),(0,_t.b)(()=>{this.router.navigate(["home"])})),{dispatch:!1}),this.loginRedirect$=(0,Ce.GW)(()=>this.actions$.pipe((0,Ce.l4)(hn.sS.LoginRedirect,hn.sS.Logout),(0,_t.b)(Tt=>{this.orderStore.dispatch(new Kn.AG),this.router.navigate(["/login"])})),{dispatch:!1}),this.fetchUsers$=(0,Ce.GW)(()=>{let Tt;return this.actions$.pipe((0,Ce.l4)(hn.sS.FetchedUsers),(0,Gt.w)(ln=>this.authService.fetchUsers(ln.payload)),(0,ct.U)(ln=>(Tt=ln.docs.map(j=>j.data()),new hn.NV(Tt))),(0,wt.K)(ln=>(0,dn.of)(ln)))},{dispatch:!0}),this.fetchUsersSuccess$=(0,Ce.GW)(()=>this.actions$.pipe((0,Ce.l4)(hn.sS.FetchedUsersComplete),(0,Gt.w)(Tt=>(console.log("auth effect fetchUsercomplete"),console.dir(Tt.payload),(0,dn.of)(null)))),{dispatch:!1}),this.loadOrderUsers$=(0,Ce.GW)(()=>{let Tt;return this.actions$.pipe((0,Ce.l4)(hn.sS.LoadOrderUser),(0,Gt.w)(ln=>this.authService.loadUser(ln.payload)),(0,ct.U)(ln=>(Tt=ln.docs[0].data(),new hn.RM(Tt))),(0,wt.K)(ln=>(0,dn.of)(ln)))},{dispatch:!0}),this.loadOrderUserSuccess$=(0,Ce.GW)(()=>this.actions$.pipe((0,Ce.l4)(hn.sS.LoadOrderUserComplete),(0,Gt.w)(Tt=>(console.log("auth effect LoadOrderUserComplete"),console.dir(Tt.payload),(0,dn.of)(null)))),{dispatch:!1})}}return qt.\u0275fac=function(bn){return new(bn||qt)(V.LFG(Ce.eX),V.LFG(We.e),V.LFG(ae.F0),V.LFG(ae.gz),V.LFG(I.Ye),V.LFG(Ee.yh))},qt.\u0275prov=V.Yz7({token:qt,factory:qt.\u0275fac}),qt})(),$i=(()=>{class qt{static forRoot(){return{ngModule:qt,providers:[We.e,zt]}}}return qt.\u0275fac=function(bn){return new(bn||qt)},qt.\u0275mod=V.oAB({type:qt}),qt.\u0275inj=V.cJS({imports:[[I.ez,Cn.q,x.UX,Ee.Aw.forFeature("auth",je.I6),Ce.sQ.forFeature([vi])]]}),qt})();var gr=R(163);let Ir=(()=>{class qt{}return qt.\u0275fac=function(bn){return new(bn||qt)},qt.\u0275mod=V.oAB({type:qt,bootstrap:[Qe]}),qt.\u0275inj=V.cJS({providers:[_i,gr.M,{provide:Ke,useClass:Dt},{provide:Ue.Ve,useValue:{duration:4e3}},{provide:g.Ad,useValue:"en-GB"},{provide:$.xv,useValue:"db"}],imports:[[I.ez,v.b2,P.PW,q.JF,An,$.hO.initializeApp(Zt_firebase),$.hO.initializeApp(Zt_firebaseWithDatabase,"db"),O.ww,mn.yb,Ee.Aw.forRoot(Pt,{metaReducers:bt}),Ce.sQ.forRoot([ci]),Qt.forRoot({stateKey:"router"}),ut.FT.instrument({name:"NgRx Acacia Store DevTools",logOnly:true}),Si.forRoot(),$i.forRoot()]]}),qt})();(0,V.G48)(),v.q6().bootstrapModule(Ir).catch(qt=>console.error(qt))},4448:(Ot,B,R)=>{function g(ie,Mt,ut,Zt){var gn,hn=arguments.length,Kt=hn<3?Mt:null===Zt?Zt=Object.getOwnPropertyDescriptor(Mt,ut):Zt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Kt=Reflect.decorate(ie,Mt,ut,Zt);else for(var Lt=ie.length-1;Lt>=0;Lt--)(gn=ie[Lt])&&(Kt=(hn<3?gn(Kt):hn>3?gn(Mt,ut,Kt):gn(Mt,ut))||Kt);return hn>3&&Kt&&Object.defineProperty(Mt,ut,Kt),Kt}function P(ie,Mt){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ie,Mt)}R.d(B,{N8:()=>Qt,sF:()=>Bn});var en,A=R(5e3),et=R(3564);let Be=en=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let Mt=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(Mt.children=this.getChildColDefs(this.childColumns)),Mt}getChildColDefs(Mt){return Mt.filter(ut=>!ut.hasChildColumns()).map(ut=>ut.toColDef())}createColDefFromGridColumn(Mt){return function q(ie,Mt){var ut={};for(var Zt in ie)Object.prototype.hasOwnProperty.call(ie,Zt)&&Mt.indexOf(Zt)<0&&(ut[Zt]=ie[Zt]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var hn=0;for(Zt=Object.getOwnPropertySymbols(ie);hn<Zt.length;hn++)Mt.indexOf(Zt[hn])<0&&Object.prototype.propertyIsEnumerable.call(ie,Zt[hn])&&(ut[Zt[hn]]=ie[Zt[hn]])}return ut}(Mt,["childColumns"])}};Be.\u0275fac=function(Mt){return new(Mt||Be)},Be.\u0275cmp=A.Xpm({type:Be,selectors:[["ag-grid-column"]],contentQueries:function(Mt,ut,Zt){if(1&Mt&&A.Suo(Zt,en,4),2&Mt){let hn;A.iGM(hn=A.CRH())&&(ut.childColumns=hn)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",floatingFilterFramework:"floatingFilterFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",defaultAggFunc:"defaultAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(Mt,ut){},encapsulation:2}),g([(0,A.AcB)(en),P("design:type",A.n_E)],Be.prototype,"childColumns",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"filterFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"filterParams",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"floatingFilterComponent",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"floatingFilterComponentParams",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"floatingFilterComponentFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"floatingFilterFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"filter",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"headerName",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"headerValueGetter",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"headerTooltip",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"headerClass",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"suppressHeaderKeyboardEvent",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"columnGroupShow",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"toolPanelClass",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"suppressColumnsToolPanel",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"suppressFiltersToolPanel",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"tooltipComponent",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"tooltipComponentFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"tooltipComponentParams",void 0),g([(0,A.IIB)(),P("design:type",Array)],Be.prototype,"children",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"groupId",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"openByDefault",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"marryChildren",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"headerGroupComponent",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"headerGroupComponentFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"headerGroupComponentParams",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"colId",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"field",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"type",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"valueGetter",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"valueFormatter",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"refData",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"keyCreator",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"equals",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"tooltipField",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"tooltipValueGetter",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"checkboxSelection",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"icons",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"suppressNavigable",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"suppressKeyboardEvent",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"suppressPaste",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"suppressFillHandle",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"hide",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"initialHide",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"lockVisible",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"lockPosition",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"suppressMovable",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"editable",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"valueSetter",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"valueParser",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"cellEditor",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"cellEditorFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"cellEditorParams",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"cellEditorSelector",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"singleClickEdit",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"newValueHandler",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"cellEditorPopup",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"cellEditorPopupPosition",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"onCellValueChanged",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"onCellClicked",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"onCellDoubleClicked",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"onCellContextMenu",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"getQuickFilterText",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"filterValueGetter",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"floatingFilter",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"headerComponent",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"headerComponentFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"headerComponentParams",void 0),g([(0,A.IIB)(),P("design:type",Array)],Be.prototype,"menuTabs",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"columnsMenuParams",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"suppressMenu",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"headerCheckboxSelection",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"headerCheckboxSelectionFilteredOnly",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"chartDataType",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"pinned",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"initialPinned",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"lockPinned",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"pinnedRowCellRenderer",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"pinnedRowCellRendererFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"pinnedRowCellRendererParams",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"pinnedRowValueFormatter",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"pivot",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"initialPivot",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"pivotIndex",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"initialPivotIndex",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"pivotComparator",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"enablePivot",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"cellStyle",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"cellClass",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"cellClassRules",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"cellRenderer",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"cellRendererFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"cellRendererParams",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"cellRendererSelector",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"autoHeight",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"wrapText",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"enableCellChangeFlash",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"suppressCellFlash",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"rowDrag",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"rowDragText",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"dndSource",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"dndSourceOnRowDrag",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"rowGroup",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"initialRowGroup",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"rowGroupIndex",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"initialRowGroupIndex",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"enableRowGroup",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"enableValue",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"aggFunc",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"initialAggFunc",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"defaultAggFunc",void 0),g([(0,A.IIB)(),P("design:type",Array)],Be.prototype,"allowedAggFuncs",void 0),g([(0,A.IIB)(),P("design:type",Object)],Be.prototype,"showRowGroup",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"sortable",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"sort",void 0),g([(0,A.IIB)(),P("design:type",String)],Be.prototype,"initialSort",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"sortIndex",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"initialSortIndex",void 0),g([(0,A.IIB)(),P("design:type",Array)],Be.prototype,"sortingOrder",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"comparator",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"unSortIcon",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"sortedAt",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"colSpan",void 0),g([(0,A.IIB)(),P("design:type",Function)],Be.prototype,"rowSpan",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"width",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"initialWidth",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"minWidth",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"maxWidth",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"flex",void 0),g([(0,A.IIB)(),P("design:type",Number)],Be.prototype,"initialFlex",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"resizable",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"suppressSizeToFit",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],Be.prototype,"suppressAutoSize",void 0);let At=(()=>{let ie=class extends et.VanillaFrameworkOverrides{constructor(ut){super(),this._ngZone=ut}setEmitterUsedCallback(ut){this.isEmitterUsed=ut}setTimeout(ut,Zt){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{ut()},Zt)}):window.setTimeout(()=>{ut()},Zt)}setInterval(ut,Zt){return new et.AgPromise(hn=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{hn(window.setInterval(()=>{ut()},Zt))}):hn(window.setInterval(()=>{ut()},Zt))})}addEventListener(ut,Zt,hn,Kt){this.isOutsideAngular(Zt)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{ut.addEventListener(Zt,hn,Kt)}):ut.addEventListener(Zt,hn,Kt)}dispatchEvent(ut,Zt,hn=!1){this.isOutsideAngular(ut)?this._ngZone?this._ngZone.runOutsideAngular(Zt):Zt():(this.isEmitterUsed(ut)||hn)&&(!A.R0b.isInAngularZone()&&this._ngZone?this._ngZone.run(Zt):Zt())}isFrameworkComponent(ut){if(!ut)return!1;const Zt=ut.prototype;return Zt&&"agInit"in Zt}};return ie.\u0275fac=function(ut){return new(ut||ie)(A.LFG(A.R0b))},ie.\u0275prov=A.Yz7({token:ie,factory:function(Mt){return ie.\u0275fac(Mt)}}),ie=g([P("design:paramtypes",[A.R0b])],ie),ie})(),Ut=(()=>{let ie=class extends et.BaseComponentWrapper{setViewContainerRef(ut){this.viewContainerRef=ut}setComponentFactoryResolver(ut){this.componentFactoryResolver=ut}createWrapper(ut){let Zt=this,Kt=new class hn extends class nn{init(Mt){this._params=Mt,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(Lt){super.init(Lt),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return Zt.createComponent(ut)}hasMethod(Lt){return null!=Kt.getFrameworkComponentInstance()[Lt]}callMethod(Lt,Bt){const mt=this.getFrameworkComponentInstance();return Kt.getFrameworkComponentInstance()[Lt].apply(mt,Bt)}addMethod(Lt,Bt){Kt[Lt]=Bt}};return Kt}createComponent(ut){let Zt=this.componentFactoryResolver.resolveComponentFactory(ut);return this.viewContainerRef.createComponent(Zt)}};return ie.\u0275fac=function(){let Mt;return function(Zt){return(Mt||(Mt=A.n5z(ie)))(Zt||ie)}}(),ie.\u0275prov=A.Yz7({token:ie,factory:function(Mt){return ie.\u0275fac(Mt)}}),ie})(),Qt=(()=>{let ie=class{constructor(ut,Zt,hn,Kt,gn){this.viewContainerRef=Zt,this.angularFrameworkOverrides=hn,this.frameworkComponentWrapper=Kt,this.componentFactoryResolver=gn,this._initialised=!1,this._destroyed=!1,this._fullyReady=et.AgPromise.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideStoreType=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new A.vpe,this.pasteStart=new A.vpe,this.pasteEnd=new A.vpe,this.columnVisible=new A.vpe,this.columnPinned=new A.vpe,this.columnResized=new A.vpe,this.columnMoved=new A.vpe,this.columnValueChanged=new A.vpe,this.columnPivotModeChanged=new A.vpe,this.columnPivotChanged=new A.vpe,this.columnGroupOpened=new A.vpe,this.newColumnsLoaded=new A.vpe,this.gridColumnsChanged=new A.vpe,this.displayedColumnsChanged=new A.vpe,this.virtualColumnsChanged=new A.vpe,this.columnEverythingChanged=new A.vpe,this.componentStateChanged=new A.vpe,this.cellValueChanged=new A.vpe,this.cellEditRequest=new A.vpe,this.rowValueChanged=new A.vpe,this.cellEditingStarted=new A.vpe,this.cellEditingStopped=new A.vpe,this.rowEditingStarted=new A.vpe,this.rowEditingStopped=new A.vpe,this.filterOpened=new A.vpe,this.filterChanged=new A.vpe,this.filterModified=new A.vpe,this.chartCreated=new A.vpe,this.chartRangeSelectionChanged=new A.vpe,this.chartOptionsChanged=new A.vpe,this.chartDestroyed=new A.vpe,this.cellKeyDown=new A.vpe,this.cellKeyPress=new A.vpe,this.gridReady=new A.vpe,this.firstDataRendered=new A.vpe,this.gridSizeChanged=new A.vpe,this.modelUpdated=new A.vpe,this.virtualRowRemoved=new A.vpe,this.viewportChanged=new A.vpe,this.bodyScroll=new A.vpe,this.bodyScrollEnd=new A.vpe,this.dragStarted=new A.vpe,this.dragStopped=new A.vpe,this.paginationChanged=new A.vpe,this.rowDragEnter=new A.vpe,this.rowDragMove=new A.vpe,this.rowDragLeave=new A.vpe,this.rowDragEnd=new A.vpe,this.columnRowGroupChanged=new A.vpe,this.rowGroupOpened=new A.vpe,this.expandOrCollapseAll=new A.vpe,this.pinnedRowDataChanged=new A.vpe,this.rowDataChanged=new A.vpe,this.rowDataUpdated=new A.vpe,this.asyncTransactionsFlushed=new A.vpe,this.cellClicked=new A.vpe,this.cellDoubleClicked=new A.vpe,this.cellFocused=new A.vpe,this.cellMouseOver=new A.vpe,this.cellMouseOut=new A.vpe,this.cellMouseDown=new A.vpe,this.rowClicked=new A.vpe,this.rowDoubleClicked=new A.vpe,this.rowSelected=new A.vpe,this.selectionChanged=new A.vpe,this.cellContextMenu=new A.vpe,this.rangeSelectionChanged=new A.vpe,this.sortChanged=new A.vpe,this.columnRowGroupChangeRequest=new A.vpe,this.columnPivotChangeRequest=new A.vpe,this.columnValueChangeRequest=new A.vpe,this.columnAggFuncChangeRequest=new A.vpe,this._nativeElement=ut.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=et.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(ut=>ut.toColDef())),new et.Grid(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,ut=>ut)}ngOnChanges(ut){this._initialised&&et.ComponentUtil.processOnChange(ut,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(ut){const Zt=this[ut],hn=!!Zt&&Zt.observers&&Zt.observers.length>0,Kt=`on${ut.charAt(0).toUpperCase()}${ut.substring(1)}`;return hn||!!this.gridOptions&&!!this.gridOptions[Kt]}globalEventListener(ut,Zt){if(this._destroyed)return;const hn=this[ut];hn&&this.isEmitterUsed(ut)&&("gridReady"===ut?this._fullyReady.then(Kt=>{hn.emit(Zt)}):hn.emit(Zt))}};return ie.\u0275fac=function(ut){return new(ut||ie)(A.Y36(A.SBq),A.Y36(A.s_b),A.Y36(At),A.Y36(Ut),A.Y36(A._Vd))},ie.\u0275cmp=A.Xpm({type:ie,selectors:[["ag-grid-angular"]],contentQueries:function(ut,Zt,hn){if(1&ut&&A.Suo(hn,Be,4),2&ut){let Kt;A.iGM(Kt=A.CRH())&&(Zt.columns=Kt)}},inputs:{statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideStoreType:"serverSideStoreType",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",isFullWidthRow:"isFullWidthRow",gridOptions:"gridOptions",modules:"modules"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[A._Bn([At,Ut]),A.TTD],decls:0,vars:0,template:function(ut,Zt){},encapsulation:2}),g([(0,A.AcB)(Be),P("design:type",A.n_E)],ie.prototype,"columns",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"gridOptions",void 0),g([(0,A.IIB)(),P("design:type",Array)],ie.prototype,"modules",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"statusBar",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"sideBar",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressContextMenu",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"preventDefaultOnContextMenu",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"allowContextMenuWithControlKey",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressMenuHide",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enableBrowserTooltips",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"tooltipShowDelay",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"tooltipHideDelay",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"tooltipMouseTrack",void 0),g([(0,A.IIB)(),P("design:type",HTMLElement)],ie.prototype,"popupParent",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"copyHeadersToClipboard",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"copyGroupHeadersToClipboard",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"clipboardDelimiter",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressCopyRowsToClipboard",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressCopySingleCellRanges",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressLastEmptyLineOnPaste",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressClipboardPaste",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressClipboardApi",void 0),g([(0,A.IIB)(),P("design:type",Array)],ie.prototype,"columnDefs",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"defaultColDef",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"defaultColGroupDef",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"columnTypes",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"maintainColumnOrder",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressFieldDotNotation",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"deltaColumnMode",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"applyColumnDefOrder",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"immutableColumns",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressSetColumnStateEvents",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressColumnStateEvents",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"colWidth",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"minColWidth",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"maxColWidth",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"headerHeight",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"groupHeaderHeight",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"floatingFiltersHeight",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"pivotHeaderHeight",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"pivotGroupHeaderHeight",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"allowDragFromColumnsToolPanel",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressMovableColumns",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressColumnMoveAnimation",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressDragLeaveHidesColumns",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"colResizeDefault",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressAutoSize",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"autoSizePadding",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"skipHeaderOnAutoSize",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"components",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"frameworkComponents",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"editType",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"singleClickEdit",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressClickEdit",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"readOnlyEdit",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"stopEditingWhenCellsLoseFocus",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enterMovesDown",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enterMovesDownAfterEdit",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"undoRedoCellEditing",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"undoRedoCellEditingLimit",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"stopEditingWhenGridLosesFocus",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"defaultCsvExportParams",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressCsvExport",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"defaultExcelExportParams",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressExcelExport",void 0),g([(0,A.IIB)(),P("design:type",Array)],ie.prototype,"excelStyles",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"defaultExportParams",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"quickFilterText",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"cacheQuickFilter",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"excludeChildrenWhenTreeDataFiltering",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enableCharts",void 0),g([(0,A.IIB)(),P("design:type",Array)],ie.prototype,"chartThemes",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"customChartThemes",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"chartThemeOverrides",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"loadingCellRenderer",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"loadingCellRendererFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"loadingCellRendererParams",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"loadingCellRendererSelector",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"localeText",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"masterDetail",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"keepDetailRows",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"keepDetailRowsCount",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"detailCellRenderer",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"detailCellRendererFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"detailCellRendererParams",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"detailRowHeight",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"detailRowAutoHeight",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"context",void 0),g([(0,A.IIB)(),P("design:type",Array)],ie.prototype,"alignedGrids",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"tabIndex",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"rowBuffer",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"valueCache",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"valueCacheNeverExpires",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enableCellExpressions",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressParentsInRowNodes",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressTouch",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressFocusAfterRefresh",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressAsyncEvents",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressBrowserResizeObserver",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressPropertyNamesCheck",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressChangeDetection",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"debug",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"overlayLoadingTemplate",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"loadingOverlayComponent",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"loadingOverlayComponentFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"loadingOverlayComponentParams",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressLoadingOverlay",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"overlayNoRowsTemplate",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"noRowsOverlayComponent",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"noRowsOverlayComponentFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"noRowsOverlayComponentParams",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressNoRowsOverlay",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"pagination",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"paginationPageSize",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"paginationAutoPageSize",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"paginateChildRows",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressPaginationPanel",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"pivotMode",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"pivotPanelShow",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"pivotColumnGroupTotals",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"pivotRowTotals",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"pivotSuppressAutoColumn",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressExpandablePivotGroups",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"functionsReadOnly",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"aggFuncs",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressAggFuncInHeader",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressAggAtRootLevel",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"aggregateOnlyChangedColumns",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressAggFilteredOnly",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"removePivotHeaderRowWhenSingleValueColumn",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"animateRows",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enableCellChangeFlash",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"cellFlashDelay",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"cellFadeDelay",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"domLayout",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"ensureDomOrder",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enableRtl",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressColumnVirtualisation",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressMaxRenderedRowRestriction",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressRowVirtualisation",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"rowDragManaged",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressRowDrag",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressMoveWhenRowDragging",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"rowDragEntireRow",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"rowDragMultiRow",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"fullWidthCellRenderer",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"fullWidthCellRendererFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"fullWidthCellRendererParams",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"embedFullWidthRows",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"deprecatedEmbedFullWidthRows",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"groupDisplayType",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"groupDefaultExpanded",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"autoGroupColumnDef",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupMaintainOrder",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupSelectsChildren",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"groupAggFiltering",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupIncludeFooter",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupIncludeTotalFooter",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupSuppressBlankHeader",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupSelectsFiltered",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"showOpenedGroup",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupRemoveSingleChildren",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupRemoveLowestSingleChildren",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupHideOpenParents",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"rowGroupPanelShow",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"groupRowRenderer",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"groupRowRendererFramework",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"groupRowRendererParams",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressMakeColumnVisibleAfterUnGroup",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"treeData",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"groupRowInnerRenderer",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"groupRowInnerRendererFramework",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupMultiAutoColumn",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupUseEntireRow",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"groupSuppressAutoColumn",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"rememberGroupStateWhenNewData",void 0),g([(0,A.IIB)(),P("design:type",Array)],ie.prototype,"pinnedTopRowData",void 0),g([(0,A.IIB)(),P("design:type",Array)],ie.prototype,"pinnedBottomRowData",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"rowModelType",void 0),g([(0,A.IIB)(),P("design:type",Array)],ie.prototype,"rowData",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"immutableData",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"asyncTransactionWaitMillis",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressModelUpdateAfterUpdateTransaction",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"deltaRowDataMode",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"batchUpdateWaitMillis",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"datasource",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"cacheOverflowSize",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"infiniteInitialRowCount",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"serverSideStoreType",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"cacheBlockSize",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"maxBlocksInCache",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"maxConcurrentDatasourceRequests",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"blockLoadDebounceMillis",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"purgeClosedRowNodes",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"serverSideDatasource",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"serverSideSortingAlwaysResets",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"serverSideFilteringAlwaysResets",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressEnterpriseResetOnNewColumns",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"viewportDatasource",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"viewportRowModelPageSize",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"viewportRowModelBufferSize",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"alwaysShowHorizontalScroll",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"alwaysShowVerticalScroll",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"debounceVerticalScrollbar",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressHorizontalScroll",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressScrollOnNewData",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressScrollWhenPopupsAreOpen",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressAnimationFrame",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressMiddleClickScrolls",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressPreventDefaultOnMouseWheel",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"scrollbarWidth",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"rowSelection",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"rowMultiSelectWithClick",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressRowDeselection",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressRowClickSelection",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressCellSelection",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressCellFocus",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressMultiRangeSelection",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enableCellTextSelection",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enableRangeSelection",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enableRangeHandle",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enableFillHandle",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"fillHandleDirection",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressClearOnFillReduction",void 0),g([(0,A.IIB)(),P("design:type",Array)],ie.prototype,"sortingOrder",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"accentedSort",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"unSortIcon",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressMultiSort",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"alwaysMultiSort",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"multiSortKey",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressMaintainUnsortedOrder",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"icons",void 0),g([(0,A.IIB)(),P("design:type",Number)],ie.prototype,"rowHeight",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"rowStyle",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"rowClass",void 0),g([(0,A.IIB)(),P("design:type",Object)],ie.prototype,"rowClassRules",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressRowHoverHighlight",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"suppressRowTransform",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"columnHoverHighlight",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"deltaSort",void 0),g([(0,A.IIB)(),P("design:type",String)],ie.prototype,"treeDataDisplayType",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"angularCompileRows",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"angularCompileFilters",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"functionsPassive",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"enableGroupEdit",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getContextMenuItems",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getMainMenuItems",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"postProcessPopup",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"processCellForClipboard",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"processHeaderForClipboard",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"processGroupHeaderForClipboard",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"processCellFromClipboard",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"sendToClipboard",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"processDataFromClipboard",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"isExternalFilterPresent",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"doesExternalFilterPass",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getChartToolbarItems",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"createChartContainer",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"navigateToNextHeader",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"tabToNextHeader",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"navigateToNextCell",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"tabToNextCell",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"suppressKeyboardEvent",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"localeTextFunc",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getLocaleText",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getDocument",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"paginationNumberFormatter",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"groupRowAggNodes",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getGroupRowAgg",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"isGroupOpenByDefault",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"initialGroupOrderComparator",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"defaultGroupOrderComparator",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"processSecondaryColDef",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"processSecondaryColGroupDef",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getDataPath",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"defaultGroupSortComparator",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getChildCount",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getServerSideStoreParams",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"isServerSideGroupOpenByDefault",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"isApplyServerSideTransaction",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"isServerSideGroup",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getServerSideGroupKey",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getBusinessKeyForNode",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getRowNodeId",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getRowId",void 0),g([(0,A.IIB)(),P("design:type",Boolean)],ie.prototype,"resetRowDataOnUpdate",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"processRowPostCreate",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"isRowSelectable",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"isRowMaster",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"fillOperation",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"postSort",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"postSortRows",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getRowStyle",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getRowClass",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"getRowHeight",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"isFullWidthCell",void 0),g([(0,A.IIB)(),P("design:type",Function)],ie.prototype,"isFullWidthRow",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"toolPanelVisibleChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"pasteStart",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"pasteEnd",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnVisible",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnPinned",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnResized",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnMoved",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnValueChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnPivotModeChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnPivotChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnGroupOpened",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"newColumnsLoaded",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"gridColumnsChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"displayedColumnsChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"virtualColumnsChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnEverythingChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"componentStateChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellValueChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellEditRequest",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowValueChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellEditingStarted",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellEditingStopped",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowEditingStarted",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowEditingStopped",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"filterOpened",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"filterChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"filterModified",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"chartCreated",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"chartRangeSelectionChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"chartOptionsChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"chartDestroyed",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellKeyDown",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellKeyPress",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"gridReady",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"firstDataRendered",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"gridSizeChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"modelUpdated",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"virtualRowRemoved",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"viewportChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"bodyScroll",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"bodyScrollEnd",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"dragStarted",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"dragStopped",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"paginationChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowDragEnter",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowDragMove",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowDragLeave",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowDragEnd",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnRowGroupChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowGroupOpened",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"expandOrCollapseAll",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"pinnedRowDataChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowDataChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowDataUpdated",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"asyncTransactionsFlushed",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellClicked",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellDoubleClicked",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellFocused",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellMouseOver",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellMouseOut",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellMouseDown",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowClicked",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowDoubleClicked",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rowSelected",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"selectionChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"cellContextMenu",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"rangeSelectionChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"sortChanged",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnRowGroupChangeRequest",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnPivotChangeRequest",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnValueChangeRequest",void 0),g([(0,A.r_U)(),P("design:type",A.vpe)],ie.prototype,"columnAggFuncChangeRequest",void 0),ie=g([P("design:paramtypes",[A.SBq,A.s_b,At,Ut,A._Vd])],ie),ie})();var an;let Bn=an=class{static withComponents(Mt){return{ngModule:an,providers:[{provide:A.deG,useValue:Mt,multi:!0}]}}static forRoot(Mt){return{ngModule:an,providers:[{provide:A.deG,useValue:Mt,multi:!0}]}}};Bn.\u0275fac=function(Mt){return new(Mt||Bn)},Bn.\u0275mod=A.oAB({type:Bn}),Bn.\u0275inj=A.cJS({imports:[[]]})},3564:(Ot,B)=>{function R(o){return null==o||""===o?null:o}function v(o,t){return void 0===t&&(t=!1),null!=o&&(""!==o||t)}function V(o){return!v(o)}function I(o){return null==o||0===o.length}function q(o){return null!=o&&"function"==typeof o.toString?o.toString():null}function g(o){if(void 0!==o){if(null===o||""===o)return null;if("number"==typeof o)return isNaN(o)?void 0:o;var t=parseInt(o,10);return isNaN(t)?void 0:t}}function Ue(o){if(void 0!==o)return null!==o&&""!==o&&("boolean"==typeof o?o:/true/i.test(o))}function ae(o,t,e){void 0===e&&(e=!1);var n=null==o,i=null==t;if(o&&o.toNumber&&(o=o.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function r(c,f){return c>f?1:c<f?-1:0}if("string"!=typeof o||!e)return r(o,t);try{return o.localeCompare(t)}catch(c){return r(o,t)}}function Me(o){if(o instanceof Set||o instanceof Map){var t=[];return o.forEach(function(e){return t.push(e)}),t}return Object.values(o)}Object.defineProperty(B,"__esModule",{value:!0});var we=Object.freeze({makeNull:R,exists:v,missing:V,missingOrEmpty:I,toStringOrNull:q,attrToNumber:g,attrToBoolean:Ue,attrToString:function P(o){if(null!=o&&""!==o)return o},referenceCompare:function Ce(o,t){return null==o&&null==t||!(null==o&&null!=t||null!=o&&null==t)&&o===t},jsonEquals:function Ee(o,t){return(o?JSON.stringify(o):null)===(t?JSON.stringify(t):null)},defaultComparator:ae,values:Me}),Oe=function(){function o(){this.existingKeys={}}return o.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},o.prototype.getUniqueKey=function(t,e){t=q(t);for(var n=0;;){var i=void 0;if(t?(i=t,0!==n&&(i+="_"+n)):e?(i=e,0!==n&&(i+="_"+n)):i=""+n,!this.existingKeys[i])return this.existingKeys[i]=!0,i;n++}},o}();function Le(o,t){null!=o&&(Array.isArray(o)?o.forEach(function(e,n){return t(""+n,e)}):Object.keys(o).forEach(function(e){return t(e,o[e])}))}function st(o){for(var t={},e=Object.keys(o),n=0;n<e.length;n++){var i=e[n];t[i]=o[i]}return t}function Je(o,t){if(o){var e=o,n={};return Object.keys(e).forEach(function(i){if(!(t&&t.indexOf(i)>=0)){var r=e[i],c=nn(r)&&r.constructor===Object;n[i]=c?Je(r):r}}),n}}function ht(o,t){return o[t]}function Xe(o,t,e){o[t]=e}function at(o,t,e,n){var i=ht(o,e);void 0!==i&&Xe(t,e,n?n(i):i)}function ke(o){var t={};return o.filter(function(e){return null!=e}).forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=null})}),Object.keys(t)}function Ke(o){if(!o)return[];var t=Object;if("function"==typeof t.values)return t.values(o);var e=[];for(var n in o)o.hasOwnProperty(n)&&o.propertyIsEnumerable(n)&&e.push(o[n]);return e}function it(o,t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),v(t)&&Le(t,function(i,r){var c=o[i];c!==r&&(n&&null==c&&null!=r&&"object"==typeof r&&r.constructor===Object&&(o[i]=c={}),nn(r)&&nn(c)&&!Array.isArray(c)?it(c,r,e,n):(e||void 0!==r)&&(o[i]=r))})}function At(o,t,e){if(t&&o){if(!e)return o[t];for(var n=t.split("."),i=o,r=0;r<n.length;r++){if(null==i)return;i=i[n[r]]}return i}}function Ut(o,t){Object.keys(o).forEach(function(i){"object"==typeof o[i]&&(o[i]=void 0)});var e=Object.getPrototypeOf(o),n={};Object.keys(e).forEach(function(i){"function"==typeof e[i]&&(n[i]={value:function(){console.warn("AG Grid: "+t+" function "+i+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(o,n)}function nn(o){return"object"==typeof o&&null!==o}var Qt=Object.freeze({iterateObject:Le,cloneObject:st,deepCloneObject:function gt(o){return JSON.parse(JSON.stringify(o))},deepCloneDefinition:Je,getProperty:ht,setProperty:Xe,copyPropertiesIfPresent:function Nt(o,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];e.forEach(function(i){return at(o,t,i)})},copyPropertyIfPresent:at,getAllKeysInObjects:ke,getAllValuesInObject:Ke,mergeDeep:it,missingOrEmptyObject:function A(o){return V(o)||0===Object.keys(o).length},get:function et(o,t,e){if(null==o)return e;for(var n=t.split("."),i=o;n.length>1;)if(null==(i=i[n.shift()]))return e;var r=i[n[0]];return null!=r?r:e},set:function en(o,t,e){if(null!=o){for(var n=t.split("."),i=o;n.length>1;)if(null==(i=i[n.shift()]))return;i[n[0]]=e}},deepFreeze:function Be(o){return Object.freeze(o),Me(o).forEach(function(t){(nn(t)||"function"==typeof t)&&Be(t)}),o},getValueUsingField:At,removeAllReferences:Ut,isNonNullObject:nn}),an=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Bn=/([^\s,]+)/g,ie={};function Mt(o,t){ie[t]||(o(),ie[t]=!0)}function ut(o){if(o.name)return o.name;var t=/function\s+([^\(]+)/.exec(o.toString());return t&&2===t.length?t[1].trim():null}function hn(o){return!!(o&&o.constructor&&o.call&&o.apply)}function Kt(o){mt(o,400)}var gn=[],Lt=!1;function Bt(o){gn.push(o),!Lt&&(Lt=!0,window.setTimeout(function(){var t=gn.slice();gn.length=0,Lt=!1,t.forEach(function(e){return e()})},0))}function mt(o,t){void 0===t&&(t=0),o.length>0&&window.setTimeout(function(){return o.forEach(function(e){return e()})},t)}function Vt(o,t,e){var n;return void 0===e&&(e=!1),function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var c=this,f=e&&!n;window.clearTimeout(n),n=window.setTimeout(function(){n=null,e||o.apply(c,i)},t),f&&o.apply(c,i)}}function ot(o,t){var e=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=this,c=(new Date).getTime();c-e<t||(e=c,o.apply(r,n))}}function je(o,t,e,n){void 0===e&&(e=100);var i=(new Date).getTime(),r=null,c=!1,f=function(){var S=(new Date).getTime()-i>e;(o()||S)&&(t(),c=!0,null!=r&&(window.clearInterval(r),r=null),S&&n&&console.warn(n))};f(),c||(r=window.setInterval(f,10))}function rt(o){o&&o()}var bt=Object.freeze({doOnce:Mt,getFunctionName:ut,getFunctionParameters:function Zt(o){var t=o.toString().replace(an,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(Bn)||[]},isFunction:hn,executeInAWhile:Kt,executeNextVMTurn:Bt,executeAfter:mt,debounce:Vt,throttle:ot,waitUntil:je,compose:function Pt(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return function(e){return o.reduce(function(n,i){return i(n)},e)}},callIfPresent:rt}),En=function(){function o(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return o.prototype.getBeanInstances=function(){return Me(this.beanWrappers).map(function(t){return t.beanInstance})},o.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},o.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),v(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},o.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Le(this.beanWrappers,function(n,i){var r;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(r=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var c=t.getBeansForParameters(r,i.bean.name),f=function Xn(o,t){var e=[null].concat(t);return new(o.bind.apply(o,e))}(i.bean,c);i.beanInstance=f});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},o.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var n;return n=t.prototype.constructor?ut(t.prototype.constructor):""+t,void console.error("Context item "+n+" is not a bean")}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}},o.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(n){e.forEachMetaDataInHierarchy(n,function(i,r){var c=i.agClassAttributes;!c||c.forEach(function(f){var S=e.lookupBeanInstance(r,f.beanName,f.optional);n[f.attributeName]=S})})})},o.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(n){e.forEachMetaDataInHierarchy(n,function(i,r){Le(i.autowireMethods,function(c,f){if("agConstructor"!==c){var S=e.getBeansForParameters(f,r);n[c].apply(n,S)}})})})},o.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);null!=n;){var i=n.constructor;i.hasOwnProperty("__agBeanMetaData")&&e(i.__agBeanMetaData,this.getBeanName(i)),n=Object.getPrototypeOf(n)}},o.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},o.prototype.getBeansForParameters=function(t,e){var n=this,i=[];return t&&Le(t,function(r,c){var f=n.lookupBeanInstance(e,c);i[Number(r)]=f}),i},o.prototype.lookupBeanInstance=function(t,e,n){if(void 0===n&&(n=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var i=this.beanWrappers[e];return i?i.beanInstance:(n||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+t),null)},o.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach(function(i){return n.callLifeCycleMethodsOnBean(i,e)})},o.prototype.callLifeCycleMethodsOnBean=function(t,e,n){var i={};this.forEachMetaDataInHierarchy(t,function(c){var f=c[e];f&&f.forEach(function(S){S!=n&&(i[S]=!0)})}),Object.keys(i).forEach(function(c){return t[c]()})},o.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},o.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},o.prototype.destroyBean=function(t){!t||this.destroyBeans([t])},o.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(n){e.callLifeCycleMethodsOnBean(n,"preDestroyMethods","destroy"),"function"==typeof n.destroy&&n.destroy()}),[]):[]},o}();function Dn(o,t,e){var n=xe(o.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function ft(o,t,e){var n=xe(o.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function Rn(o,t,e){var n=xe(o.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function Ae(o){return function(t){xe(t).beanName=o}}function D(o){return function(t,e,n){ne(t,o,!1,0,e,null)}}function te(o){return function(t,e,n){ne(t,o,!0,0,e,null)}}function ne(o,t,e,n,i,r){if(null!==t)if("number"!=typeof r){var c=xe(o.constructor);c.agClassAttributes||(c.agClassAttributes=[]),c.agClassAttributes.push({attributeName:i,beanName:t,optional:e})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function me(o){return function(t,e,n){var r,i="function"==typeof t?t:t.constructor;if("number"==typeof n){var c=void 0;e?(r=xe(i),c=e):(r=xe(i),c="agConstructor"),r.autowireMethods||(r.autowireMethods={}),r.autowireMethods[c]||(r.autowireMethods[c]={}),r.autowireMethods[c][n]=o}}}function xe(o){return o.hasOwnProperty("__agBeanMetaData")||(o.__agBeanMetaData={}),o.__agBeanMetaData}var o,pt=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Ft=function(o,t){return function(e,n){t(e,n,o)}},rn=function(){function o(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return o.prototype.setBeans=function(t,e,n,i){if(void 0===i&&(i=null),this.frameworkOverrides=n,i){var r=e.useAsyncEvents();this.addGlobalListener(i,r)}},o.prototype.getListeners=function(t,e,n){var i=e?this.allAsyncListeners:this.allSyncListeners,r=i.get(t);return!r&&n&&i.set(t,r=new Set),r},o.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},o.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n,!0).add(e)},o.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!1);var i=this.getListeners(t,n,!1);i&&(i.delete(e),0===i.size)&&(n?this.allAsyncListeners:this.allSyncListeners).delete(t)},o.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},o.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},o.prototype.dispatchEvent=function(t){this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},o.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},o.prototype.dispatchToListeners=function(t,e){var n=this,i=t.type,c=this.getListeners(i,e,!1);c&&c.forEach(function(M){e?n.dispatchAsync(function(){return M(t)}):M(t)}),(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(S){e?n.dispatchAsync(function(){return n.frameworkOverrides.dispatchEvent(i,function(){return S(i,t)},!0)}):n.frameworkOverrides.dispatchEvent(i,function(){return S(i,t)},!0)})},o.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},o.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},pt([Ft(0,me("loggerFactory")),Ft(1,me("gridOptionsWrapper")),Ft(2,me("frameworkOverrides")),Ft(3,me("globalEventListener"))],o.prototype,"setBeans",null),pt([Ae("eventService")],o)}(),Qe=function(){function o(){}return o.ROW_BUFFER_SIZE=10,o.LAYOUT_INTERVAL=500,o.BATCH_WAIT_MILLIS=50,o.EXPORT_TYPE_DRAG_COPY="dragCopy",o.EXPORT_TYPE_CLIPBOARD="clipboard",o.EXPORT_TYPE_EXCEL="excel",o.EXPORT_TYPE_CSV="csv",o.ROW_MODEL_TYPE_INFINITE="infinite",o.ROW_MODEL_TYPE_VIEWPORT="viewport",o.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",o.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",o.ALWAYS="always",o.ONLY_WHEN_GROUPING="onlyWhenGrouping",o.PINNED_TOP="top",o.PINNED_BOTTOM="bottom",o.DOM_LAYOUT_NORMAL="normal",o.DOM_LAYOUT_PRINT="print",o.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",o.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",o.SOURCE_PASTE="paste",o.PINNED_RIGHT="right",o.PINNED_LEFT="left",o.SORT_ASC="asc",o.SORT_DESC="desc",o.INPUT_SELECTOR="input, select, button, textarea",o.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",o.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",o}();(o=B.ModuleNames||(B.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",o.CommunityAllModules="@ag-grid-community/all",o.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",o.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",o.CsvExportModule="@ag-grid-community/csv-export",o.EnterpriseCoreModule="@ag-grid-enterprise/core",o.EnterpriseAllModules="@ag-grid-enterprise/all",o.RowGroupingModule="@ag-grid-enterprise/row-grouping",o.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",o.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",o.MenuModule="@ag-grid-enterprise/menu",o.SetFilterModule="@ag-grid-enterprise/set-filter",o.MultiFilterModule="@ag-grid-enterprise/multi-filter",o.StatusBarModule="@ag-grid-enterprise/status-bar",o.SideBarModule="@ag-grid-enterprise/side-bar",o.RangeSelectionModule="@ag-grid-enterprise/range-selection",o.MasterDetailModule="@ag-grid-enterprise/master-detail",o.RichSelectModule="@ag-grid-enterprise/rich-select",o.GridChartsModule="@ag-grid-enterprise/charts",o.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",o.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",o.ExcelExportModule="@ag-grid-enterprise/excel-export",o.ClipboardModule="@ag-grid-enterprise/clipboard",o.SparklinesModule="@ag-grid-enterprise/sparklines",o.AngularModule="@ag-grid-community/angular",o.ReactModule="@ag-grid-community/react",o.VueModule="@ag-grid-community/vue",o.PolymerModule="@ag-grid-community/polymer";var Cn=function(){function o(){}return o.register=function(t,e){void 0===e&&(e=!0),o.modulesMap[t.moduleName]=t,void 0===o.moduleBased?o.moduleBased=e:o.moduleBased!==e&&Mt(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},o.registerModules=function(t,e){void 0===e&&(e=!0),t&&t.forEach(function(n){return o.register(n,e)})},o.assertRegistered=function(t,e){return!!this.isRegistered(t)||(i=o.moduleBased?"AG Grid: unable to use "+e+" as module "+t+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+e+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",Mt(function(){console.warn(i)},e+t),!1);var i},o.isRegistered=function(t){return!!o.modulesMap[t]},o.getRegisteredModules=function(){return Me(o.modulesMap)},o.isPackageBased=function(){return!o.moduleBased},o.modulesMap={},o}(),xn=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ei=0,ri=function(){function o(t,e,n,i){this.instanceId=ei++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new rn,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=i,this.setState(t)}return o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setState=function(t){void 0!==t.sort?(t.sort===Qe.SORT_ASC||t.sort===Qe.SORT_DESC)&&(this.sort=t.sort):(t.initialSort===Qe.SORT_ASC||t.initialSort===Qe.SORT_DESC)&&(this.sort=t.initialSort);var e=g(t.sortIndex),n=g(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==n&&(this.sortIndex=n);var i=Ue(t.hide),r=Ue(t.initialHide);this.visible=void 0!==i?!i:!r,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);var c=g(t.flex),f=g(t.initialFlex);void 0!==c?this.flex=c:void 0!==f&&(this.flex=f)},o.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation()},o.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},o.prototype.setParent=function(t){this.parent=t},o.prototype.getParent=function(){return this.parent},o.prototype.setOriginalParent=function(t){this.originalParent=t},o.prototype.getOriginalParent=function(){return this.originalParent},o.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},o.prototype.initDotNotation=function(){var t=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=v(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=v(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},o.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},o.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},o.prototype.isEmptyGroup=function(){return!1},o.prototype.isRowGroupDisplayed=function(t){return!(V(this.colDef)||V(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==t)},o.prototype.isPrimary=function(){return this.primary},o.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},o.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},o.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},o.prototype.validate=function(){var t=this.colDef;function e(c,f,S){Mt(function(){S?console.warn(c,S):Mt(function(){return console.warn(c)},f)},f)}this.gridOptionsWrapper.isRowModelDefault()&&!Cn.isRegistered(B.ModuleNames.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(c){v(t[c])&&(Cn.isPackageBased()?e("AG Grid: "+c+" is only valid in ag-grid-enterprise, your column definition should not have "+c,"ColumnRowGroupingMissing"+c):e("AG Grid: "+c+" is only valid with AG Grid Enterprise Module "+B.ModuleNames.RowGroupingModule+" - your column definition should not have "+c,"ColumnRowGroupingMissing"+c))}),Cn.isRegistered(B.ModuleNames.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(Cn.isPackageBased()?e("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):e("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+B.ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(c){v(t[c])&&e("AG Grid: "+c+" is not possible when doing tree data, your column definition should not have "+c,"TreeDataCannotRowGroup")}),v(this.colDef.width)&&"number"!=typeof this.colDef.width&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),t.pinnedRowCellRenderer&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowCellRendererParams&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowCellRendererFramework&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowValueGetter&&e("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},o.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},o.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},o.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},o.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(t,this.colDef.editable)},o.prototype.isSuppressFillHandle=function(){return!!Ue(this.colDef.suppressFillHandle)},o.prototype.isAutoHeight=function(){return!!Ue(this.colDef.autoHeight)},o.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},o.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},o.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},o.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},o.prototype.isResizable=function(){return!!Ue(this.colDef.resizable)},o.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},o.prototype.setMoving=function(t,e){void 0===e&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_MOVING_CHANGED,e))},o.prototype.createColumnEvent=function(t,e){return{api:this.gridApi,columnApi:this.columnApi,type:t,column:this,columns:[this],source:e}},o.prototype.isMoving=function(){return this.moving},o.prototype.getSort=function(){return this.sort},o.prototype.setSort=function(t,e){void 0===e&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_SORT_CHANGED,e)))},o.prototype.setMenuVisible=function(t,e){void 0===e&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_MENU_VISIBLE_CHANGED,e)))},o.prototype.isMenuVisible=function(){return this.menuVisible},o.prototype.isSortAscending=function(){return this.sort===Qe.SORT_ASC},o.prototype.isSortDescending=function(){return this.sort===Qe.SORT_DESC},o.prototype.isSortNone=function(){return V(this.sort)},o.prototype.isSorting=function(){return v(this.sort)},o.prototype.getSortIndex=function(){return this.sortIndex},o.prototype.setSortIndex=function(t){this.sortIndex=t},o.prototype.setAggFunc=function(t){this.aggFunc=t},o.prototype.getAggFunc=function(){return this.aggFunc},o.prototype.getLeft=function(){return this.left},o.prototype.getOldLeft=function(){return this.oldLeft},o.prototype.getRight=function(){return this.left+this.actualWidth},o.prototype.setLeft=function(t,e){void 0===e&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_LEFT_CHANGED,e)))},o.prototype.isFilterActive=function(){return this.filterActive},o.prototype.setFilterActive=function(t,e,n){void 0===e&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_FILTER_ACTIVE_CHANGED,e)));var i=this.createColumnEvent(o.EVENT_FILTER_CHANGED,e);n&&it(i,n),this.eventService.dispatchEvent(i)},o.prototype.setPinned=function(t){this.pinned=!0===t||t===Qe.PINNED_LEFT?Qe.PINNED_LEFT:t===Qe.PINNED_RIGHT?Qe.PINNED_RIGHT:null},o.prototype.setFirstRightPinned=function(t,e){void 0===e&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_FIRST_RIGHT_PINNED_CHANGED,e)))},o.prototype.setLastLeftPinned=function(t,e){void 0===e&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_LAST_LEFT_PINNED_CHANGED,e)))},o.prototype.isFirstRightPinned=function(){return this.firstRightPinned},o.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},o.prototype.isPinned=function(){return this.pinned===Qe.PINNED_LEFT||this.pinned===Qe.PINNED_RIGHT},o.prototype.isPinnedLeft=function(){return this.pinned===Qe.PINNED_LEFT},o.prototype.isPinnedRight=function(){return this.pinned===Qe.PINNED_RIGHT},o.prototype.getPinned=function(){return this.pinned},o.prototype.setVisible=function(t,e){void 0===e&&(e="api");var n=!0===t;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_VISIBLE_CHANGED,e)))},o.prototype.isVisible=function(){return this.visible},o.prototype.getColDef=function(){return this.colDef},o.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},o.prototype.getColId=function(){return this.colId},o.prototype.getId=function(){return this.getColId()},o.prototype.getUniqueId=function(){return this.getId()},o.prototype.getDefinition=function(){return this.colDef},o.prototype.getActualWidth=function(){return this.actualWidth},o.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},o.prototype.getColSpan=function(t){if(V(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},o.prototype.getRowSpan=function(t){if(V(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},o.prototype.setActualWidth=function(t,e,n){void 0===e&&(e="api"),void 0===n&&(n=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e))},o.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_WIDTH_CHANGED,t))},o.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},o.prototype.getMinWidth=function(){return this.minWidth},o.prototype.getMaxWidth=function(){return this.maxWidth},o.prototype.getFlex=function(){return this.flex||0},o.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},o.prototype.setMinimum=function(t){void 0===t&&(t="api"),v(this.minWidth)&&this.setActualWidth(this.minWidth,t)},o.prototype.setRowGroupActive=function(t,e){void 0===e&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_ROW_GROUP_CHANGED,e)))},o.prototype.isRowGroupActive=function(){return this.rowGroupActive},o.prototype.setPivotActive=function(t,e){void 0===e&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_PIVOT_CHANGED,e)))},o.prototype.isPivotActive=function(){return this.pivotActive},o.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},o.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},o.prototype.setValueActive=function(t,e){void 0===e&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(o.EVENT_VALUE_CHANGED,e)))},o.prototype.isValueActive=function(){return this.aggregationActive},o.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},o.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},o.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},o.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},o.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},o.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},o.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},o.EVENT_MOVING_CHANGED="movingChanged",o.EVENT_LEFT_CHANGED="leftChanged",o.EVENT_WIDTH_CHANGED="widthChanged",o.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",o.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",o.EVENT_VISIBLE_CHANGED="visibleChanged",o.EVENT_FILTER_CHANGED="filterChanged",o.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",o.EVENT_SORT_CHANGED="sortChanged",o.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",o.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",o.EVENT_PIVOT_CHANGED="columnPivotChanged",o.EVENT_VALUE_CHANGED="columnValueChanged",xn([D("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),xn([D("columnUtils")],o.prototype,"columnUtils",void 0),xn([D("columnApi")],o.prototype,"columnApi",void 0),xn([D("gridApi")],o.prototype,"gridApi",void 0),xn([D("context")],o.prototype,"context",void 0),xn([ft],o.prototype,"initialise",null),o}();function Oi(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];for(var e=0;e<o.length;e++){var n=o[e];if(v(n))return n}return null}function mn(o){if(o&&o.length)return o[o.length-1]}function _i(o,t,e){return null==o&&null==t||null!=o&&null!=t&&o.length===t.length&&o.every(function(n,i){return e?e(n,t[i]):t[i]===n})}function $(o){return o.sort(function(t,e){return t-e})}function x(o,t){var e=o.indexOf(t);e>=0&&o.splice(e,1)}function oe(o,t){t.forEach(function(e){return x(o,e)})}function re(o,t,e){o.splice(e,0,t)}function Se(o,t,e){oe(o,t),t.slice().reverse().forEach(function(n){return re(o,n,e)})}function We(o,t){return o.indexOf(t)>-1}function Et(o,t){null==t||null==o||t.forEach(function(e){return o.push(e)})}var _t=Object.freeze({firstExistingValue:Oi,existsAndNotEmpty:function Si(o){return null!=o&&o.length>0},last:mn,areEqual:_i,compareArrays:function ci(o,t){return _i(o,t)},shallowCompare:function Dt(o,t){return _i(o,t)},sortNumerically:$,removeRepeatsFromArray:function O(o,t){if(o)for(var e=o.length-2;e>=0;e--)o[e]===t&&o[e+1]===t&&o.splice(e+1,1)},removeFromArray:x,removeAllFromArray:oe,insertIntoArray:re,insertArrayIntoArray:function de(o,t,e){if(null!=o&&null!=t)for(var n=t.length-1;n>=0;n--)re(o,t[n],e)},moveInArray:Se,includes:We,flatten:function zt(o){return[].concat.apply([],o)},pushAll:Et,toStrings:function An(o){return o.map(q)},forEachReverse:function Gt(o,t){if(null!=o)for(var e=o.length-1;e>=0;e--)t(o[e],e)}}),wt=function(){function o(t,e,n,i){this.displayedChildren=[],this.localEventService=new rn,this.groupId=e,this.instanceId=n,this.providedColumnGroup=t,this.pinned=i}return o.createUniqueId=function(t,e){return t+"_"+e},o.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},o.prototype.getParent=function(){return this.parent},o.prototype.setParent=function(t){this.parent=t},o.prototype.getUniqueId=function(){return o.createUniqueId(this.groupId,this.instanceId)},o.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},o.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(function(e){return e.isMoving()})},o.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof o&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var e=mn(this.displayedChildren).getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},o.prototype.getLeft=function(){return this.left},o.prototype.getOldLeft=function(){return this.oldLeft},o.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_LEFT_CHANGED)))},o.prototype.getPinned=function(){return this.pinned},o.prototype.createAgEvent=function(t){return{type:t}},o.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},o.prototype.getGroupId=function(){return this.groupId},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(n){t===n&&(e=!0),n instanceof o&&n.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},o.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},o.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},o.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},o.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},o.prototype.getDisplayedChildren=function(){return this.displayedChildren},o.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},o.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},o.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},o.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},o.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},o.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},o.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},o.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},o.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof ri?t.push(e):e instanceof o&&e.addDisplayedLeafColumns(t)})},o.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof ri?t.push(e):e instanceof o&&e.addLeafColumns(t)})},o.prototype.getChildren=function(){return this.children},o.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},o.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},o.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},o.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},o.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(i){if(!(i instanceof o)||i.displayedChildren&&i.displayedChildren.length)switch(i.getColumnGroupShow()){case o.HEADER_GROUP_SHOW_OPEN:e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case o.HEADER_GROUP_SHOW_CLOSED:e.providedColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:t.displayedChildren.push(i)}}),this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_DISPLAYED_CHILDREN_CHANGED))},o.HEADER_GROUP_SHOW_OPEN="open",o.HEADER_GROUP_SHOW_CLOSED="closed",o.EVENT_LEFT_CHANGED="leftChanged",o.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([D("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),o}(),dn=function(){function o(t,e,n,i){this.localEventService=new rn,this.expandable=!1,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=i}return o.prototype.setOriginalParent=function(t){this.originalParent=t},o.prototype.getOriginalParent=function(){return this.originalParent},o.prototype.getLevel=function(){return this.level},o.prototype.isVisible=function(){return!!this.children&&this.children.some(function(t){return t.isVisible()})},o.prototype.isPadding=function(){return this.padding},o.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:o.EVENT_EXPANDED_CHANGED})},o.prototype.isExpandable=function(){return this.expandable},o.prototype.isExpanded=function(){return this.expanded},o.prototype.getGroupId=function(){return this.groupId},o.prototype.getId=function(){return this.getGroupId()},o.prototype.setChildren=function(t){this.children=t},o.prototype.getChildren=function(){return this.children},o.prototype.getColGroupDef=function(){return this.colGroupDef},o.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},o.prototype.addLeafColumns=function(t){!this.children||this.children.forEach(function(e){e instanceof ri?t.push(e):e instanceof o&&e.addLeafColumns(t)})},o.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},o.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.getLeafColumns().forEach(function(e){return e.addEventListener(ri.EVENT_VISIBLE_CHANGED,t.onColumnVisibilityChanged.bind(t))})},o.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,n=!1,i=this.findChildrenRemovingPadding(),r=0,c=i.length;r<c;r++){var f=i[r];if(f.isVisible()){var S=f.getColumnGroupShow();S===wt.HEADER_GROUP_SHOW_OPEN?(t=!0,n=!0):S===wt.HEADER_GROUP_SHOW_CLOSED?(e=!0,n=!0):(t=!0,e=!0)}}var M=t&&e&&n;this.expandable!==M&&(this.expandable=M,this.localEventService.dispatchEvent({type:o.EVENT_EXPANDABLE_CHANGED}))}},o.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(n){n.forEach(function(i){i instanceof o&&i.isPadding()?e(i.children):t.push(i)})};return e(this.children),t},o.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},o.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},o.EVENT_EXPANDED_CHANGED="expandedChanged",o.EVENT_EXPANDABLE_CHANGED="expandableChanged",o}(),Kn={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},vi="__ag_Grid_Stop_Propagation",$i=["touchstart","touchend","touchmove","touchcancel"],gr={};function Ir(o){o[vi]=!0}function qt(o){return!0===o[vi]}var Hn=function(){var o={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(e){if("boolean"==typeof gr[e])return gr[e];var n=document.createElement(o[e]||"div");return gr[e="on"+e]=e in n}}();function bn(o,t,e){for(var n=t.target;n;){var i=o.getDomData(n,e);if(i)return i;n=n.parentElement}return null}function Zi(o,t){return!(!t||!o)&&Ui(t).indexOf(o)>=0}function $n(o){for(var t=[],e=o.target;e;)t.push(e),e=e.parentElement;return t}function Ui(o){var t=o;return t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:$n(o)}function Tt(o,t,e,n){var i=We($i,e);o&&o.addEventListener&&o.addEventListener(t,e,n,i?{passive:!0}:void 0)}var ln=Object.freeze({stopPropagationForAgGrid:Ir,isStopPropagationForAgGrid:qt,isEventSupported:Hn,getCtrlForEvent:bn,addChangeListener:function yi(o,t){o.addEventListener("changed",t),o.addEventListener("paste",t),o.addEventListener("input",t)},isElementInEventPath:Zi,createEventPath:$n,addAgGridEventPath:function Hi(o){o.__agGridEventPath=Ui(o)},getEventPath:Ui,addSafePassiveEventListener:Tt}),j=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},he=function(){function o(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!t.destroyed}}return o.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},o.prototype.getContext=function(){return this.context},o.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:o.EVENT_DESTROYED})},o.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new rn),this.localEventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},o.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout(function(){return e.dispatchEvent(t)},0)},o.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},o.prototype.addManagedListener=function(t,e,n){var i=this;if(!this.destroyed){t instanceof HTMLElement?Tt(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var r=function(){return t.removeEventListener(e,n),i.destroyFunctions=i.destroyFunctions.filter(function(c){return c!==r}),null};return this.destroyFunctions.push(r),r}},o.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},o.prototype.createManagedBean=function(t,e){var n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n},o.prototype.createBean=function(t,e,n){return(e||this.getContext()).createBean(t,n)},o.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},o.prototype.destroyBeans=function(t,e){var n=this;return t&&t.forEach(function(i){return n.destroyBean(i,e)}),[]},o.EVENT_DESTROYED="destroyed",j([D("frameworkOverrides")],o.prototype,"frameworkOverrides",void 0),j([D("context")],o.prototype,"context",void 0),j([D("eventService")],o.prototype,"eventService",void 0),j([D("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),j([Rn],o.prototype,"destroy",null),o}(),tt=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xt=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},hi=function(o,t){return function(e,n){t(e,n,o)}},gi=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return tt(t,o),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,n,i){var r=new Oe,c=this.extractExistingTreeData(i),f=c.existingCols,S=c.existingGroups;r.addExistingKeys(c.existingColKeys);var K=this.recursivelyCreateColumns(e,0,n,f,r,S),ve=this.findMaxDept(K,0);this.logger.log("Number of levels for grouped columns is "+ve);var Pe=this.balanceColumnTree(K,0,ve,r);return this.columnUtils.depthFirstOriginalTreeSearch(null,Pe,function(vt,sn){vt instanceof dn&&vt.setupExpandable(),vt.setOriginalParent(sn)}),{columnTree:Pe,treeDept:ve}},t.prototype.extractExistingTreeData=function(e){var n=[],i=[],r=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(c){if(c instanceof dn)i.push(c);else{var S=c;r.push(S.getId()),n.push(S)}}),{existingCols:n,existingGroups:i,existingColKeys:r}},t.prototype.createForAutoGroups=function(e,n){var i=this;return e.map(function(r){return i.createAutoGroupTreeItem(n,r)})},t.prototype.createAutoGroupTreeItem=function(e,n){for(var r=n,c=this.findDepth(e)-1;c>=0;c--){var f=new dn(null,"FAKE_PATH_"+n.getId()+"}_"+c,!0,c);this.context.createBean(f),f.setChildren([r]),r.setOriginalParent(f),r=f}return r},t.prototype.findDepth=function(e){for(var n=0,i=e;i&&i[0]&&i[0]instanceof dn;)n++,i=i[0].getChildren();return n},t.prototype.balanceColumnTree=function(e,n,i,r){for(var c=[],f=0;f<e.length;f++){var S=e[f];if(S instanceof dn){var M=S,K=this.balanceColumnTree(M.getChildren(),n+1,i,r);M.setChildren(K),c.push(M)}else{for(var ve=void 0,Pe=void 0,dt=i-1;dt>=n;dt--){var vt=r.getUniqueKey(null,null),sn=this.createMergedColGroupDef(null),wn=new dn(sn,vt,!0,n);this.context.createBean(wn),Pe&&Pe.setChildren([wn]),Pe=wn,ve||(ve=Pe)}if(ve&&Pe){if(c.push(ve),e.some(function(Un){return Un instanceof dn})){Pe.setChildren([S]);continue}Pe.setChildren(e);break}c.push(S)}}return c},t.prototype.findMaxDept=function(e,n){for(var i=n,r=0;r<e.length;r++){var c=e[r];if(c instanceof dn){var S=this.findMaxDept(c.getChildren(),n+1);i<S&&(i=S)}}return i},t.prototype.recursivelyCreateColumns=function(e,n,i,r,c,f){var S=this;return(e||[]).map(function(M){return S.isColumnGroup(M)?S.createColumnGroup(i,M,n,r,c,f):S.createColumn(i,M,r,c)})},t.prototype.createColumnGroup=function(e,n,i,r,c,f){var S=this.createMergedColGroupDef(n),M=c.getUniqueKey(S.groupId||null,null),K=new dn(S,M,!1,i);this.context.createBean(K);var ve=this.findExistingGroup(n,f);ve&&x(f,ve),ve&&ve.isExpanded()&&K.setExpanded(!0);var Pe=this.recursivelyCreateColumns(S.children,i+1,e,r,c,f);return K.setChildren(Pe),K},t.prototype.createMergedColGroupDef=function(e){var n={};return Object.assign(n,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(n,e),this.checkForDeprecatedItems(n),n},t.prototype.createColumn=function(e,n,i,r){var c=this.mergeColDefs(n);this.checkForDeprecatedItems(c);var f=this.findExistingColumn(n,i);if(i&&f&&x(i,f),f)f.setColDef(c,n),this.applyColumnState(f,c);else{var S=r.getUniqueKey(c.colId,c.field);f=new ri(c,n,S,e),this.context.createBean(f)}return f},t.prototype.applyColumnState=function(e,n){var i=g(n.flex);if(void 0!==i&&e.setFlex(i),e.getFlex()<=0){var c=g(n.width);if(null!=c)e.setActualWidth(c);else{var f=e.getActualWidth();e.setActualWidth(f)}}void 0!==n.sort&&e.setSort(n.sort==Qe.SORT_ASC||n.sort==Qe.SORT_DESC?n.sort:void 0);var S=g(n.sortIndex);void 0!==S&&e.setSortIndex(S);var M=Ue(n.hide);void 0!==M&&e.setVisible(!M),void 0!==n.pinned&&e.setPinned(n.pinned)},t.prototype.findExistingColumn=function(e,n){return(n||[]).find(function(i){var r=i.getUserProvidedColDef();if(!r)return!1;var f=null!=e.field;return null!=e.colId?i.getId()===e.colId:f?r.field===e.field:r===e})},t.prototype.findExistingGroup=function(e,n){return n.find(function(i){return!(!i.getColGroupDef()||null==e.groupId||i.getId()!==e.groupId)})},t.prototype.mergeColDefs=function(e){var n={},i=this.gridOptionsWrapper.getDefaultColDef();it(n,i,!1,!0);var r=e.type;return r||(r=i&&i.type),r&&this.assignColumnTypes(r,n),it(n,e,!1,!0),n},t.prototype.assignColumnTypes=function(e,n){var i=[];if(e instanceof Array)e.some(function(S){return"string"!=typeof S})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):i=e;else{if("string"!=typeof e)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");i=e.split(",")}var c=Object.assign({},Kn);Le(this.gridOptionsWrapper.getColumnTypes()||{},function(S,M){S in c?console.warn("AG Grid: the column type '"+S+"' is a default column type and cannot be overridden."):c[S]=M}),i.forEach(function(S){var M=c[S.trim()];M?it(n,M,!1,!0):console.warn("AG Grid: colDef.type '"+S+"' does not correspond to defined gridOptions.columnTypes")})},t.prototype.checkForDeprecatedItems=function(e){if(e){var n=e;void 0!==n.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==n.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==n.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==n.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==n.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(n.suppressRowGroup||n.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),n.displayName&&(console.warn("AG Grid: Found displayName "+n.displayName+", please use headerName instead, displayName is deprecated."),n.headerName=n.displayName)}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},xt([D("columnUtils")],t.prototype,"columnUtils",void 0),xt([hi(0,me("loggerFactory"))],t.prototype,"setBeans",null),xt([Ae("columnFactory")],t)}(he),nt=function(){function o(){}return o.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",o.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",o.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",o.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",o.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",o.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",o.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",o.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",o.EVENT_COLUMN_MOVED="columnMoved",o.EVENT_COLUMN_VISIBLE="columnVisible",o.EVENT_COLUMN_PINNED="columnPinned",o.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",o.EVENT_COLUMN_RESIZED="columnResized",o.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",o.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",o.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",o.EVENT_ROW_GROUP_OPENED="rowGroupOpened",o.EVENT_ROW_DATA_CHANGED="rowDataChanged",o.EVENT_ROW_DATA_UPDATED="rowDataUpdated",o.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",o.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",o.EVENT_CHART_CREATED="chartCreated",o.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",o.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",o.EVENT_CHART_DESTROYED="chartDestroyed",o.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",o.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",o.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",o.EVENT_MODEL_UPDATED="modelUpdated",o.EVENT_PASTE_START="pasteStart",o.EVENT_PASTE_END="pasteEnd",o.EVENT_FILL_START="fillStart",o.EVENT_FILL_END="fillEnd",o.EVENT_CELL_CLICKED="cellClicked",o.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",o.EVENT_CELL_MOUSE_DOWN="cellMouseDown",o.EVENT_CELL_CONTEXT_MENU="cellContextMenu",o.EVENT_CELL_VALUE_CHANGED="cellValueChanged",o.EVENT_CELL_EDIT_REQUEST="cellEditRequest",o.EVENT_ROW_VALUE_CHANGED="rowValueChanged",o.EVENT_CELL_FOCUSED="cellFocused",o.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",o.EVENT_ROW_SELECTED="rowSelected",o.EVENT_SELECTION_CHANGED="selectionChanged",o.EVENT_CELL_KEY_DOWN="cellKeyDown",o.EVENT_CELL_KEY_PRESS="cellKeyPress",o.EVENT_CELL_MOUSE_OVER="cellMouseOver",o.EVENT_CELL_MOUSE_OUT="cellMouseOut",o.EVENT_FILTER_CHANGED="filterChanged",o.EVENT_FILTER_MODIFIED="filterModified",o.EVENT_FILTER_OPENED="filterOpened",o.EVENT_SORT_CHANGED="sortChanged",o.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",o.EVENT_ROW_CLICKED="rowClicked",o.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",o.EVENT_GRID_READY="gridReady",o.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",o.EVENT_VIEWPORT_CHANGED="viewportChanged",o.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",o.EVENT_FIRST_DATA_RENDERED="firstDataRendered",o.EVENT_DRAG_STARTED="dragStarted",o.EVENT_DRAG_STOPPED="dragStopped",o.EVENT_CHECKBOX_CHANGED="checkboxChanged",o.EVENT_ROW_EDITING_STARTED="rowEditingStarted",o.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",o.EVENT_CELL_EDITING_STARTED="cellEditingStarted",o.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",o.EVENT_BODY_SCROLL="bodyScroll",o.EVENT_BODY_SCROLL_END="bodyScrollEnd",o.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",o.EVENT_PAGINATION_CHANGED="paginationChanged",o.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",o.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",o.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",o.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",o.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",o.EVENT_FLASH_CELLS="flashCells",o.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",o.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",o.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",o.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",o.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",o.EVENT_ROW_DRAG_ENTER="rowDragEnter",o.EVENT_ROW_DRAG_MOVE="rowDragMove",o.EVENT_ROW_DRAG_LEAVE="rowDragLeave",o.EVENT_ROW_DRAG_END="rowDragEnd",o.EVENT_POPUP_TO_FRONT="popupToFront",o.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",o.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",o.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",o.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",o.EVENT_KEYBOARD_FOCUS="keyboardFocus",o.EVENT_MOUSE_FOCUS="mouseFocus",o.EVENT_STORE_UPDATED="storeUpdated",o}(),Xr=function(){function o(){this.existingIds={}}return o.prototype.getInstanceIdForKey=function(t){var n,e=this.existingIds[t];return this.existingIds[t]=n="number"!=typeof e?0:e+1,n},o}(),St=/[&<>"']/g,un={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Sn(o){return null==o?null:o.replace(/([A-Z])/g,function(t){return"-"+t[0].toLowerCase()})}function Zn(o){return null==o?null:o.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}function ni(o){return o[0].toUpperCase()+o.substr(1).toLowerCase()}function pi(o){return null==o?null:o.toString().toString().replace(St,function(t){return un[t]})}function Dr(o){return o&&null!=o?o.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(n){return n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")}).join(" "):null}var Hr=Object.freeze({utf8_encode:function on(o){var t=String.fromCharCode;function i(ve,Pe){return t(ve>>Pe&63|128)}function r(ve){if(ve>=0&&ve<=31&&10!==ve)return"_x"+ve.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&ve))return t(ve);var vt="";return 0==(4294965248&ve)?vt=t(ve>>6&31|192):0==(4294901760&ve)?(function n(ve){if(ve>=55296&&ve<=57343)throw Error("Lone surrogate U+"+ve.toString(16).toUpperCase()+" is not a scalar value")}(ve),vt=t(ve>>12&15|224),vt+=i(ve,6)):0==(4292870144&ve)&&(vt=t(ve>>18&7|240),vt+=i(ve,12),vt+=i(ve,6)),vt+t(63&ve|128)}for(var c=function e(ve){var Pe=[];if(!ve)return[];for(var sn,wn,dt=ve.length,vt=0;vt<dt;)(sn=ve.charCodeAt(vt++))>=55296&&sn<=56319&&vt<dt?56320==(64512&(wn=ve.charCodeAt(vt++)))?Pe.push(((1023&sn)<<10)+(1023&wn)+65536):(Pe.push(sn),vt--):Pe.push(sn);return Pe}(o),f=c.length,S=-1,K="";++S<f;)K+=r(c[S]);return K},camelCaseToHyphen:Sn,hyphenToCamelCase:Zn,capitalise:ni,escapeString:pi,camelCaseToHumanText:Dr});function nr(o){var t=new Map;return o.forEach(function(e){return t.set(e[0],e[1])}),t}var Eo=Object.freeze({convertToMap:nr,mapById:function hr(o,t){var e=new Map;return o.forEach(function(n){return e.set(t(n),n)}),e},keys:function _o(o){var t=[];return o.forEach(function(e,n){return t.push(n)}),t}}),Xo=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vr=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Is=function(o,t){return function(e,n){t(e,n,o)}},Ls=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],n=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&n>=o.length&&(o=void 0),{value:o&&o[n++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Cs=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},zr=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Cs(arguments[t]));return o},ia=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.colDefVersion=0,e.flexColsCalculatedAtLestOnce=!1,e}return Xo(t,o),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var n=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(n)&&(this.pivotMode=n),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return e.onDefaultColDefChanged()})},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},t.prototype.getColDefVersion=function(){return this.colDefVersion},t.prototype.setColumnDefs=function(e,n){void 0===n&&(n="api");var i=!!this.columnDefs;this.colDefVersion++,this.columnDefs=e,this.createColumnsFromColumnDefs(i,n)},t.prototype.createColumnsFromColumnDefs=function(e,n){var i=this;void 0===n&&(n="api");var r=e?this.compareColumnStatesAndRaiseEvents(n):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var c=this.primaryColumns,S=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=S.columnTree,this.primaryHeaderRowCount=S.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(ve){return i.primaryColumnsMap[ve.getId()]=ve}),this.extractRowGroupColumns(n,c),this.extractPivotColumns(n,c),this.extractValueColumns(n,c),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),e&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(n),this.checkViewportColumns()),this.dispatchEverythingChanged(n),r&&r(),this.dispatchNewColumnsLoaded()},t.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:nt.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api"),this.eventService.dispatchEvent({type:nt.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e})},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,n=this.primaryColumns;!n||this.gridColumns.sort(function(i,r){var c=n.indexOf(i),f=n.indexOf(r),S=c>=0,M=f>=0;return S&&M?c-f:S?1:M?-1:e.gridColumns.indexOf(i)-e.gridColumns.indexOf(r)})},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var n=e,i=[];null!=n;)i.push(n),n=this.getDisplayedColAfter(n);return i},t.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var e=this.viewportColumns.map(function(r){return r.getId()}).join("#");this.extractViewport(),e!==this.viewportColumns.map(function(r){return r.getId()}).join("#")&&this.eventService.dispatchEvent({type:nt.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},t.prototype.setViewportPosition=function(e,n){(e!==this.scrollWidth||n!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=n,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,n){void 0===n&&(n="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(n),this.eventService.dispatchEvent({type:nt.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getSecondaryPivotColumn=function(e,n){if(V(this.secondaryColumns))return null;var i=this.getPrimaryColumn(n),r=null;return this.secondaryColumns.forEach(function(c){var f=c.getColDef().pivotKeys,S=c.getColDef().pivotValueColumn;_i(f,e)&&S===i&&(r=c)}),r},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var n,i;this.gridOptionsWrapper.isEnableRtl()?(n=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?mn(this.displayedColumnsRight):null):(n=this.displayedColumnsLeft?mn(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(r){r.setLastLeftPinned(r===n,e),r.setFirstRightPinned(r===i,e)})},t.prototype.autoSizeColumns=function(e){var n=this,i=e.columns,r=e.skipHeader,c=e.skipHeaderGroups,f=e.stopAtGroup,S=e.source,M=void 0===S?"api":S;this.animationFrameService.flushAllFrames();for(var K=[],ve=-1,Pe=null!=r?r:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),dt=null!=c?c:Pe;0!==ve;)ve=0,this.actionOnGridColumns(i,function(vt){if(K.indexOf(vt)>=0)return!1;var sn=n.autoWidthCalculator.getPreferredWidthForColumn(vt,Pe);if(sn>0){var wn=n.normaliseColumnWidth(vt,sn);vt.setActualWidth(wn,M),K.push(vt),ve++}return!0},M);dt||this.autoSizeColumnGroupsByColumns(i,f),this.fireColumnResizedEvent(K,!0,"autosizeColumns")},t.prototype.fireColumnResizedEvent=function(e,n,i,r){void 0===r&&(r=null),e&&e.length&&this.eventService.dispatchEvent({type:nt.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:r,finished:n,api:this.gridApi,columnApi:this.columnApi,source:i})},t.prototype.autoSizeColumn=function(e,n,i){void 0===i&&(i="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:n,skipHeaderGroups:!0,source:i})},t.prototype.autoSizeColumnGroupsByColumns=function(e,n){var i,r,c,f,K,S=new Set;this.getGridColumns(e).forEach(function(Un){for(var qn=Un.getParent();qn&&qn!=n;)qn.isPadding()||S.add(qn),qn=qn.getParent()});try{for(var Pe=Ls(S),dt=Pe.next();!dt.done;dt=Pe.next()){var vt=dt.value;try{for(var sn=(c=void 0,Ls(this.ctrlsService.getHeaderRowContainerCtrls())),wn=sn.next();!wn.done&&!(K=wn.value.getHeaderCtrlForColumn(vt));wn=sn.next());}catch(Un){c={error:Un}}finally{try{wn&&!wn.done&&(f=sn.return)&&f.call(sn)}finally{if(c)throw c.error}}K&&K.resizeLeafColumnsToFit()}}catch(Un){i={error:Un}}finally{try{dt&&!dt.done&&(r=Pe.return)&&r.call(Pe)}finally{if(i)throw i.error}}return[]},t.prototype.autoSizeAllColumns=function(e,n){void 0===n&&(n="api");var i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:e,source:n})},t.prototype.getColumnsFromTree=function(e){var n=[],i=function(r){for(var c=0;c<r.length;c++){var f=r[c];f instanceof ri?n.push(f):f instanceof dn&&i(f.getChildren())}};return i(e),n},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.getDisplayedColumnsForRow=function(e,n,i,r){for(var M,c=[],f=null,S=function(ve){var Un,Pe=n[ve],dt=n.length-ve,vt=Math.min(Pe.getColSpan(e),dt),sn=[Pe];if(vt>1){for(var wn=vt-1,zn=1;zn<=wn;zn++)sn.push(n[ve+zn]);ve+=wn}i?(Un=!1,sn.forEach(function(Di){i(Di)&&(Un=!0)})):Un=!0,Un&&(0===c.length&&f&&r&&r(Pe)&&c.push(f),c.push(Pe)),f=Pe,M=ve},K=0;K<n.length;K++)S(K),K=M;return c},t.prototype.getViewportCenterColumnsForRow=function(e){var n=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var r=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,r,function(c){var f=c.getLeft();return v(f)&&f>n.viewportLeft})},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInViewport=function(e){if(e.isAutoHeight())return!0;var n=e.getLeft()||0,i=n+e.getActualWidth(),r=this.viewportLeft-200,c=this.viewportRight+200;return!(n<r&&i<r||n>c&&i>c)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,n,i,r,c,f){var S=this;if(void 0===f&&(f="api"),e&&!I(e)){var M=!1;e.forEach(function(ve){var Pe=S.getPrimaryColumn(ve);if(Pe){if(i){if(n.indexOf(Pe)>=0)return;n.push(Pe)}else{if(n.indexOf(Pe)<0)return;x(n,Pe)}r(Pe),M=!0}}),M&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(f),this.eventService.dispatchEvent({type:c,columns:n,column:1===n.length?n[0]:null,api:this.gridApi,columnApi:this.columnApi,source:f}))}},t.prototype.setRowGroupColumns=function(e,n){void 0===n&&(n="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,nt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),n)},t.prototype.setRowGroupActive=function(e,n,i){e!==n.isRowGroupActive()&&(n.setRowGroupActive(e,i),!e&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&n.setVisible(!0,i))},t.prototype.addRowGroupColumn=function(e,n){void 0===n&&(n="api"),e&&this.addRowGroupColumns([e],n)},t.prototype.addRowGroupColumns=function(e,n){void 0===n&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),nt.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.removeRowGroupColumns=function(e,n){void 0===n&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),nt.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.removeRowGroupColumn=function(e,n){void 0===n&&(n="api"),e&&this.removeRowGroupColumns([e],n)},t.prototype.addPivotColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,n)},nt.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.setPivotColumns=function(e,n){void 0===n&&(n="api"),this.setPrimaryColumnList(e,this.pivotColumns,nt.EVENT_COLUMN_PIVOT_CHANGED,function(i,r){r.setPivotActive(i,n)},n)},t.prototype.addPivotColumn=function(e,n){void 0===n&&(n="api"),this.addPivotColumns([e],n)},t.prototype.removePivotColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,n)},nt.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.removePivotColumn=function(e,n){void 0===n&&(n="api"),this.removePivotColumns([e],n)},t.prototype.setPrimaryColumnList=function(e,n,i,r,c){var f=this;n.length=0,v(e)&&e.forEach(function(S){var M=f.getPrimaryColumn(S);M&&n.push(M)}),(this.primaryColumns||[]).forEach(function(S){var M=n.indexOf(S)>=0;r(M,S)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(c),this.fireColumnEvent(i,n,c)},t.prototype.setValueColumns=function(e,n){void 0===n&&(n="api"),this.setPrimaryColumnList(e,this.valueColumns,nt.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),n)},t.prototype.setValueActive=function(e,n,i){if(e!==n.isValueActive()&&(n.setValueActive(e,i),e&&!n.getAggFunc())){var r=this.aggFuncService.getDefaultAggFunc(n);n.setAggFunc(r)}},t.prototype.addValueColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),nt.EVENT_COLUMN_VALUE_CHANGED,n)},t.prototype.addValueColumn=function(e,n){void 0===n&&(n="api"),e&&this.addValueColumns([e],n)},t.prototype.removeValueColumn=function(e,n){void 0===n&&(n="api"),this.removeValueColumns([e],n)},t.prototype.removeValueColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),nt.EVENT_COLUMN_VALUE_CHANGED,n)},t.prototype.normaliseColumnWidth=function(e,n){var i=e.getMinWidth();v(i)&&n<i&&(n=i);var r=e.getMaxWidth();return v(r)&&e.isGreaterThanMax(n)&&(n=r),n},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,n,i,r){var c=this;void 0===r&&(r="api");var f=[];e.forEach(function(S){var M=c.getPrimaryOrGridColumn(S.key);if(M&&(f.push({width:S.newWidth,ratios:[1],columns:[M]}),"shift"===c.gridOptionsWrapper.getColResizeDefault()&&(n=!n),n)){var ve=c.getDisplayedColAfter(M);if(!ve)return;var Pe=M.getActualWidth()-S.newWidth,dt=ve.getActualWidth()+Pe;f.push({width:dt,ratios:[1],columns:[ve]})}}),0!==f.length&&this.resizeColumnSets({resizeSets:f,finished:i,source:r})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var i=e.width,r=0,c=0,f=!0;return e.columns.forEach(function(K){var ve=K.getMinWidth();r+=ve||0;var Pe=K.getMaxWidth();v(Pe)&&Pe>0?c+=Pe:f=!1}),i>=r&&(!f||i<=c)},t.prototype.resizeColumnSets=function(e){var n=this,i=e.resizeSets,r=e.finished,c=e.source;if(!i||i.every(function(vt){return n.checkMinAndMaxWidthsForSet(vt)})){var M=[],K=[];i.forEach(function(vt){var sn=vt.width,wn=vt.columns,zn=vt.ratios,Un={},qn={};wn.forEach(function(ur){return K.push(ur)});for(var Di=!0,lr=0,no=function(){if(++lr>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";Di=!1;var ur=[],Qr=0,uo=sn;wn.forEach(function(Us,Cl){qn[Us.getId()]?uo-=Un[Us.getId()]:(ur.push(Us),Qr+=zn[Cl])});var na=1/Qr;ur.forEach(function(Us,Cl){var uu;Cl===ur.length-1?uu=uo:(uu=Math.round(zn[Cl]*sn*na),uo-=uu);var Vf=Us.getMinWidth(),Ip=Us.getMaxWidth();v(Vf)&&uu<Vf?(uu=Vf,qn[Us.getId()]=!0,Di=!0):v(Ip)&&Ip>0&&uu>Ip&&(uu=Ip,qn[Us.getId()]=!0,Di=!0),Un[Us.getId()]=uu})};Di&&"break"!==no(););wn.forEach(function(ur){var Qr=Un[ur.getId()];ur.getActualWidth()!==Qr&&(ur.setActualWidth(Qr,c),M.push(ur))})});var ve=M.length>0,Pe=[];ve&&(Pe=this.refreshFlexedColumns({resizingCols:K,skipSetLeft:!0}),this.setLeftValues(c),this.updateBodyWidths(),this.checkViewportColumns());var dt=K.concat(Pe);(ve||r)&&this.fireColumnResizedEvent(dt,r,c,Pe)}else r&&this.fireColumnResizedEvent(i&&i.length>0?i[0].columns:null,r,c)},t.prototype.setColumnAggFunc=function(e,n,i){if(void 0===i&&(i="api"),e){var r=this.getPrimaryColumn(e);!r||(r.setAggFunc(n),this.fireColumnEvent(nt.EVENT_COLUMN_VALUE_CHANGED,[r],i))}},t.prototype.fireColumnEvent=function(e,n,i){this.eventService.dispatchEvent({type:e,columns:n,column:n&&1==n.length?n[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i})},t.prototype.moveRowGroupColumn=function(e,n,i){void 0===i&&(i="api");var r=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(n,0,r),this.eventService.dispatchEvent({type:nt.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i})},t.prototype.moveColumns=function(e,n,i){if(void 0===i&&(i="api"),this.columnAnimationService.start(),n>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+n),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var r=this.getGridColumns(e);!this.doesMovePassRules(r,n)||(Se(this.gridColumns,r,n),this.updateDisplayedColumns(i),this.eventService.dispatchEvent({type:nt.EVENT_COLUMN_MOVED,columns:r,column:1===r.length?r[0]:null,toIndex:n,api:this.gridApi,columnApi:this.columnApi,source:i}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,n){var i=this.gridColumns.slice();return Se(i,e,n),!(!this.doesMovePassMarryChildren(i)||!this.doesMovePassLockedPositions(i))},t.prototype.sortColumnsLikeGridColumns=function(e){var n=this;!e||e.length<=1||e.filter(function(r){return n.gridColumns.indexOf(r)<0}).length>0||e.sort(function(r,c){return n.gridColumns.indexOf(r)-n.gridColumns.indexOf(c)})},t.prototype.doesMovePassLockedPositions=function(e){var n=0,i=!0;return e.forEach(function(c){var f=function(c){return c?!0===c||"left"===c?0:2:1}(c.getColDef().lockPosition);f<n&&(i=!1),n=f}),i},t.prototype.doesMovePassMarryChildren=function(e){var n=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof dn){var r=i,c=r.getColGroupDef();if(c&&c.marryChildren){var S=[];r.getLeafColumns().forEach(function(dt){var vt=e.indexOf(dt);S.push(vt)}),Math.max.apply(Math,S)-Math.min.apply(Math,S)>r.getLeafColumns().length-1&&(n=!1)}}}),n},t.prototype.moveColumn=function(e,n,i){void 0===i&&(i="api"),this.moveColumns([e],n,i)},t.prototype.moveColumnByIndex=function(e,n,i){void 0===i&&(i="api"),this.moveColumn(this.gridColumns[e],n,i)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var n=this.primaryColumns.slice();return this.gridColsArePrimary?n.sort(function(i,r){return e.gridColumns.indexOf(i)-e.gridColumns.indexOf(r)}):this.lastPrimaryOrder&&n.sort(function(i,r){return e.lastPrimaryOrder.indexOf(i)-e.lastPrimaryOrder.indexOf(r)}),this.columnDefFactory.buildColumnDefs(n,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case Qe.PINNED_LEFT:return this.leftWidth;case Qe.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),n=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==n||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=n,this.rightWidth=i,this.eventService.dispatchEvent({type:nt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case Qe.PINNED_LEFT:return this.getDisplayedLeftColumns();case Qe.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return I(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return I(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,n,i){void 0===i&&(i="api"),this.setColumnsVisible([e],n,i)},t.prototype.setColumnsVisible=function(e,n,i){var r=this;void 0===n&&(n=!1),void 0===i&&(i="api"),this.columnAnimationService.start(),this.actionOnGridColumns(e,function(c){return c.isVisible()!==n&&(c.setVisible(n,i),!0)},i,function(){return{type:nt.EVENT_COLUMN_VISIBLE,visible:n,column:null,columns:null,api:r.gridApi,columnApi:r.columnApi,source:i}}),this.columnAnimationService.finish()},t.prototype.setColumnPinned=function(e,n,i){void 0===i&&(i="api"),e&&this.setColumnsPinned([e],n,i)},t.prototype.setColumnsPinned=function(e,n,i){var c,r=this;void 0===i&&(i="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),c=!0===n||n===Qe.PINNED_LEFT?Qe.PINNED_LEFT:n===Qe.PINNED_RIGHT?Qe.PINNED_RIGHT:null,this.actionOnGridColumns(e,function(f){return f.getPinned()!==c&&(f.setPinned(c),!0)},i,function(){return{type:nt.EVENT_COLUMN_PINNED,pinned:c,column:null,columns:null,api:r.gridApi,columnApi:r.columnApi,source:i}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},t.prototype.actionOnGridColumns=function(e,n,i,r){var c=this;if(!I(e)){var f=[];if(e.forEach(function(M){var K=c.getGridColumn(M);K&&!1!==n(K)&&f.push(K)}),f.length&&(this.updateDisplayedColumns(i),v(r)&&r)){var S=r();S.columns=f,S.column=1===f.length?f[0]:null,this.eventService.dispatchEvent(S)}}},t.prototype.getDisplayedColBefore=function(e){var n=this.getAllDisplayedColumns(),i=n.indexOf(e);return i>0?n[i-1]:null},t.prototype.getDisplayedColAfter=function(e){var n=this.getAllDisplayedColumns(),i=n.indexOf(e);return i<n.length-1?n[i+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,n){for(var i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),c="After"===n?mn(r):r[0],f="getDisplayedCol"+n;;){var S=this[f](c);if(!S)return null;var M=this.getColumnGroupAtLevel(S,i);if(M!==e)return M}},t.prototype.getColumnGroupAtLevel=function(e,n){for(var i=e.getParent();!(i.getProvidedColumnGroup().getLevel()+i.getPaddingLevel()<=n);)i=i.getParent();return i},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,zr([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},t.prototype.getPrimaryAndAutoGroupCols=function(){var e;return(e=[]).concat.apply(e,zr([this.primaryColumns||[],this.groupAutoColumns||[]]))},t.prototype.getPrimaryAndSecondaryColumns=function(){var e;return(e=[]).concat.apply(e,zr([this.primaryColumns||[],this.secondaryColumns||[]]))},t.prototype.createStateItemFromColumn=function(e){var n=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,r=e.isValueActive()?e.getAggFunc():null,c=null!=e.getSort()?e.getSort():null,f=null!=e.getSortIndex()?e.getSortIndex():null,S=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:c,sortIndex:f,aggFunc:r,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:i,flex:S}},t.prototype.getColumnState=function(){if(V(this.primaryColumns)||!this.isAlive())return[];var n=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(n),n},t.prototype.orderColumnStateList=function(e){var n=nr(this.gridColumns.map(function(i,r){return[i.getColId(),r]}));e.sort(function(i,r){return(n.has(i.colId)?n.get(i.colId):-1)-(n.has(r.colId)?n.get(r.colId):-1)})},t.prototype.resetColumnState=function(e){void 0===e&&(e="api");var n=this.getColumnsFromTree(this.primaryColumnTree),i=[],r=1e3,c=1e3,f=[];this.groupAutoColumns&&(f=f.concat(this.groupAutoColumns)),n&&(f=f.concat(n)),f.forEach(function(S){var M=function(io,ur){return null!=io?io:null!=ur?ur:null},K=S.getColDef(),ve=M(K.sort,K.initialSort),Pe=M(K.sortIndex,K.initialSortIndex),dt=M(K.hide,K.initialHide),vt=M(K.pinned,K.initialPinned),sn=M(K.width,K.initialWidth),wn=M(K.flex,K.initialFlex),zn=M(K.rowGroupIndex,K.initialRowGroupIndex),Un=M(K.rowGroup,K.initialRowGroup);null==zn&&(null==Un||0==Un)&&(zn=null,Un=null);var qn=M(K.pivotIndex,K.initialPivotIndex),Di=M(K.pivot,K.initialPivot);null==qn&&(null==Di||0==Di)&&(qn=null,Di=null);var lr=M(K.aggFunc,K.initialAggFunc),no={colId:S.getColId(),sort:ve,sortIndex:Pe,hide:dt,pinned:vt,width:sn,flex:wn,rowGroup:Un,rowGroupIndex:zn,pivot:Di,pivotIndex:qn,aggFunc:lr};V(zn)&&Un&&(no.rowGroupIndex=r++),V(qn)&&Di&&(no.pivotIndex=c++),i.push(no)}),this.applyColumnState({state:i,applyOrder:!0},e)},t.prototype.applyColumnState=function(e,n){var i=this;if(void 0===n&&(n="api"),I(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var r=function(M,K,ve){var Pe=i.compareColumnStatesAndRaiseEvents(n);i.autoGroupsNeedBuilding=!0;var dt=K.slice(),vt={},sn={},wn=[],zn=[],Un=0,qn=i.rowGroupColumns.slice(),Di=i.pivotColumns.slice();M.forEach(function(ur){var Qr=ur.colId||"";if(Qr.startsWith(Qe.GROUP_AUTO_COLUMN_ID))return wn.push(ur),void zn.push(ur);var na=ve(Qr);na?(i.syncColumnWithStateItem(na,ur,e.defaultState,vt,sn,!1,n),x(dt,na)):(zn.push(ur),Un+=1)});var lr=function(ur){return i.syncColumnWithStateItem(ur,null,e.defaultState,vt,sn,!1,n)};dt.forEach(lr);var no=function(ur,Qr,uo,na){var Us=ur[uo.getId()],Cl=ur[na.getId()],dc=null!=Us,uu=null!=Cl;if(dc&&uu)return Us-Cl;if(dc)return-1;if(uu)return 1;var Vf=Qr.indexOf(uo),Ip=Qr.indexOf(na),jy=Vf>=0;return jy&&Ip>=0?Vf-Ip:jy?-1:1};i.rowGroupColumns.sort(no.bind(i,vt,qn)),i.pivotColumns.sort(no.bind(i,sn,Di)),i.updateGridColumns();var io=i.groupAutoColumns?i.groupAutoColumns.slice():[];return wn.forEach(function(ur){var Qr=i.getAutoColumn(ur.colId);x(io,Qr),i.syncColumnWithStateItem(Qr,ur,e.defaultState,null,null,!0,n)}),io.forEach(lr),i.applyOrderAfterApplyState(e),i.updateDisplayedColumns(n),i.dispatchEverythingChanged(n),Pe(),{unmatchedAndAutoStates:zn,unmatchedCount:Un}};this.columnAnimationService.start();var c=r(e.state||[],this.primaryColumns||[],function(M){return i.getPrimaryColumn(M)}),f=c.unmatchedAndAutoStates,S=c.unmatchedCount;return(f.length>0||v(e.defaultState))&&(S=r(f,this.secondaryColumns||[],function(M){return i.getSecondaryColumn(M)}).unmatchedCount),this.columnAnimationService.finish(),0===S},t.prototype.applyOrderAfterApplyState=function(e){var n=this;if(e.applyOrder&&e.state){var i=[],r={};e.state.forEach(function(f){if(f.colId&&!r[f.colId]){var S=n.gridColumnsMap[f.colId];S&&(i.push(S),r[f.colId]=!0)}});var c=0;if(this.gridColumns.forEach(function(f){var S=f.getColId();null!=r[S]||(S.startsWith(Qe.GROUP_AUTO_COLUMN_ID)?re(i,f,c++):i.push(f))}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=i}},t.prototype.compareColumnStatesAndRaiseEvents=function(e){var n=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},r=this.getColumnState(),c={};return r.forEach(function(f){c[f.colId]=f}),function(){if(!n.gridOptionsWrapper.isSuppressColumnStateEvents()){var f=n.getPrimaryAndSecondaryAndAutoColumns(),S=function(zn,Un,qn,Di){_i(Un.map(Di),qn.map(Di))||n.eventService.dispatchEvent({type:zn,columns:qn,column:1===qn.length?qn[0]:null,api:n.gridApi,columnApi:n.columnApi,source:e})},M=function(zn){var Un=[];return f.forEach(function(qn){var Di=c[qn.getColId()];Di&&zn(Di,qn)&&Un.push(qn)}),Un},K=function(zn){return zn.getColId()};S(nt.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,n.rowGroupColumns,K),S(nt.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,n.pivotColumns,K),M(function(zn,Un){var qn=null!=zn.aggFunc,Di=qn!=Un.isValueActive(),lr=qn&&zn.aggFunc!=Un.getAggFunc();return Di||lr}).length>0&&n.fireColumnEvent(nt.EVENT_COLUMN_VALUE_CHANGED,n.valueColumns,e),n.fireColumnResizedEvent(M(function(zn,Un){return zn.width!=Un.getActualWidth()}),!0,e),n.raiseColumnPinnedEvent(M(function(zn,Un){return zn.pinned!=Un.getPinned()}),e),n.raiseColumnVisibleEvent(M(function(zn,Un){return zn.hide==Un.isVisible()}),e),M(function(zn,Un){return zn.sort!=Un.getSort()||zn.sortIndex!=Un.getSortIndex()}).length>0&&n.sortController.dispatchSortChangedEvents(e),n.raiseColumnMovedEvent(r,e)}}},t.prototype.raiseColumnPinnedEvent=function(e,n){if(e.length){var i=1===e.length?e[0]:null,r=this.getCommonValue(e,function(f){return f.getPinned()});this.eventService.dispatchEvent({type:nt.EVENT_COLUMN_PINNED,pinned:null!=r?r:null,columns:e,column:i,api:this.gridApi,columnApi:this.columnApi,source:n})}},t.prototype.getCommonValue=function(e,n){if(e&&0!=e.length){for(var i=n(e[0]),r=1;r<e.length;r++)if(i!==n(e[r]))return;return i}},t.prototype.raiseColumnVisibleEvent=function(e,n){if(e.length){var i=1===e.length?e[0]:null,r=this.getCommonValue(e,function(f){return f.isVisible()});this.eventService.dispatchEvent({type:nt.EVENT_COLUMN_VISIBLE,visible:r,columns:e,column:i,api:this.gridApi,columnApi:this.columnApi,source:n})}},t.prototype.raiseColumnMovedEvent=function(e,n){var i=this,r=this.getColumnState(),c={};r.forEach(function(Pe){return c[Pe.colId]=Pe});var f={};e.forEach(function(Pe){c[Pe.colId]&&(f[Pe.colId]=!0)});var S=e.filter(function(Pe){return f[Pe.colId]}),M=r.filter(function(Pe){return f[Pe.colId]}),K=[];M.forEach(function(Pe,dt){var vt=S&&S[dt];if(vt&&vt.colId!==Pe.colId){var sn=i.getGridColumn(vt.colId);sn&&K.push(sn)}}),K.length&&this.eventService.dispatchEvent({type:nt.EVENT_COLUMN_MOVED,columns:K,column:null,api:this.gridApi,columnApi:this.columnApi,source:n})},t.prototype.syncColumnWithStateItem=function(e,n,i,r,c,f,S){if(e){var M=function(Qr,uo){var na={value1:void 0,value2:void 0},Us=!1;return n&&(void 0!==n[Qr]&&(na.value1=n[Qr],Us=!0),v(uo)&&void 0!==n[uo]&&(na.value2=n[uo],Us=!0)),!Us&&i&&(void 0!==i[Qr]&&(na.value1=i[Qr]),v(uo)&&void 0!==i[uo]&&(na.value2=i[uo])),na},K=M("hide").value1;void 0!==K&&e.setVisible(!K,S);var ve=M("pinned").value1;void 0!==ve&&e.setPinned(ve);var Pe=this.columnUtils.calculateColMinWidth(e.getColDef()),dt=M("flex").value1;if(void 0!==dt&&e.setFlex(dt),e.getFlex()<=0){var sn=M("width").value1;null!=sn&&null!=Pe&&sn>=Pe&&e.setActualWidth(sn,S)}var wn=M("sort").value1;void 0!==wn&&e.setSort(wn===Qe.SORT_DESC||wn===Qe.SORT_ASC?wn:void 0,S);var zn=M("sortIndex").value1;if(void 0!==zn&&e.setSortIndex(zn),!f&&e.isPrimary()){var Un=M("aggFunc").value1;void 0!==Un&&("string"==typeof Un?(e.setAggFunc(Un),e.isValueActive()||(e.setValueActive(!0,S),this.valueColumns.push(e))):(v(Un)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,S),x(this.valueColumns,e))));var qn=M("rowGroup","rowGroupIndex"),Di=qn.value1,lr=qn.value2;(void 0!==Di||void 0!==lr)&&("number"==typeof lr||Di?(e.isRowGroupActive()||(e.setRowGroupActive(!0,S),this.rowGroupColumns.push(e)),r&&"number"==typeof lr&&(r[e.getId()]=lr)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,S),x(this.rowGroupColumns,e)));var no=M("pivot","pivotIndex"),io=no.value1,ur=no.value2;(void 0!==io||void 0!==ur)&&("number"==typeof ur||io?(e.isPivotActive()||(e.setPivotActive(!0,S),this.pivotColumns.push(e)),c&&"number"==typeof ur&&(c[e.getId()]=ur)):e.isPivotActive()&&(e.setPivotActive(!1,S),x(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,n){var i=[];return e&&e.forEach(function(r){var c=n(r);c&&i.push(c)}),i},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var n=this.getGridColumn(e);return n||console.warn("AG Grid: could not find column "+e),n},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,n,i){if(!e)return null;if("string"==typeof e&&i[e])return i[e];for(var r=0;r<n.length;r++)if(this.columnsMatch(n[r],e))return n[r];return this.getAutoColumn(e)},t.prototype.getAutoColumn=function(e){var n=this;return this.groupAutoColumns&&v(this.groupAutoColumns)&&!V(this.groupAutoColumns)&&this.groupAutoColumns.find(function(i){return n.columnsMatch(i,e)})||null},t.prototype.columnsMatch=function(e,n){var i=e===n,r=e.getColDef()===n,c=e.getColId()==n;return i||r||c},t.prototype.getDisplayNameForColumn=function(e,n,i){if(void 0===i&&(i=!1),!e)return null;var r=this.getHeaderName(e.getColDef(),e,null,null,n);return i?this.wrapHeaderNameWithAggFunc(e,r):r},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,n,i){var r=n?n.getColGroupDef():null;return r?this.getHeaderName(r,null,e,n,i):null},t.prototype.getDisplayNameForColumnGroup=function(e,n){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),n)},t.prototype.getHeaderName=function(e,n,i,r,c){var f=e.headerValueGetter;if(f){var S={colDef:e,column:n,columnGroup:i,providedColumnGroup:r,location:c,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof f?f(S):"string"==typeof f?this.expressionService.evaluate(f,S):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?Dr(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,n){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return n;var f,i=e.getColDef().pivotValueColumn,c=null;if(v(i)){var S=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&1===this.valueColumns.length,M=void 0!==e.getColDef().pivotTotalColumnIds;if(S&&!M)return n;c=i?i.getAggFunc():null,f=!0}else{var K=e.isValueActive(),ve=this.pivotMode||!this.isRowGroupEmpty();K&&ve?(c=e.getAggFunc(),f=!0):f=!1}if(f){var Pe="string"==typeof c?c:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(Pe,Pe)+"("+n+")"}return n},t.prototype.getColumnGroup=function(e,n){if(!e)return null;if(e instanceof wt)return e;var i=this.getAllDisplayedTrees(),r="number"==typeof n,c=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(f){if(f instanceof wt){var S=f;(r?e===S.getGroupId()&&n===S.getInstanceId():e===S.getGroupId())&&(c=S)}}),c},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,n){this.valueColumns=this.extractColumns(n,this.valueColumns,function(i,r){return i.setValueActive(r,e)},function(){},function(){},function(i){var r=i.aggFunc;return null===r||""===r?null:void 0!==r?!!r:void 0},function(i){return null!=i.initialAggFunc&&""!=i.initialAggFunc}),this.valueColumns.forEach(function(i){var r=i.getColDef();null!=r.aggFunc&&""!=r.aggFunc?i.setAggFunc(r.aggFunc):i.getAggFunc()||i.setAggFunc(r.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,n){this.rowGroupColumns=this.extractColumns(n,this.rowGroupColumns,function(i,r){return i.setRowGroupActive(r,e)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},t.prototype.extractColumns=function(e,n,i,r,c,f,S){void 0===e&&(e=[]),void 0===n&&(n=[]);var M=[],K=[];(this.primaryColumns||[]).forEach(function(dt){var vt=e.indexOf(dt)<0,sn=dt.getColDef(),wn=Ue(f(sn)),zn=Ue(S(sn)),Un=g(r(sn)),qn=g(c(sn));(void 0!==wn?wn:void 0!==Un?null!==Un&&Un>=0:vt?void 0!==zn?zn:void 0!==qn&&null!=qn&&qn>=0:n.indexOf(dt)>=0)&&((vt?null!=Un||null!=qn:null!=Un)?M.push(dt):K.push(dt))});var ve=function(dt){var vt=r(dt.getColDef()),sn=c(dt.getColDef());return null!=vt?vt:sn};M.sort(function(dt,vt){var sn=ve(dt),wn=ve(vt);return sn===wn?0:sn<wn?-1:1});var Pe=[].concat(M);return n.forEach(function(dt){K.indexOf(dt)>=0&&Pe.push(dt)}),K.forEach(function(dt){Pe.indexOf(dt)<0&&Pe.push(dt)}),n.forEach(function(dt){Pe.indexOf(dt)<0&&i(dt,!1)}),Pe.forEach(function(dt){n.indexOf(dt)<0&&i(dt,!0)}),Pe},t.prototype.extractPivotColumns=function(e,n){this.pivotColumns=this.extractColumns(n,this.pivotColumns,function(i,r){return i.setPivotActive(r,e)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var n=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof dn){var r=i.getColGroupDef(),c={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};n.push(c)}}),this.setColumnGroupState(n,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof dn&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,n){var i=this;void 0===n&&(n="api"),this.columnAnimationService.start();var r=[];e.forEach(function(c){var S=c.open,M=i.getProvidedColumnGroup(c.groupId);!M||M.isExpanded()!==S&&(i.logger.log("columnGroupOpened("+M.getGroupId()+","+S+")"),M.setExpanded(S),r.push(M))}),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n),r.forEach(function(c){i.eventService.dispatchEvent({type:nt.EVENT_COLUMN_GROUP_OPENED,columnGroup:c,api:i.gridApi,columnApi:i.columnApi})}),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,n,i){var r;void 0===i&&(i="api"),r=e instanceof dn?e.getId():e||"",this.setColumnGroupState([{groupId:r,open:n}],i)},t.prototype.getProvidedColumnGroup=function(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");var n=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof dn&&i.getId()===e&&(n=i)}),n},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&V(this.secondaryColumns)?this.gridColumns.filter(function(i){var r=e.groupAutoColumns&&We(e.groupAutoColumns,i),c=e.valueColumns&&We(e.valueColumns,i);return r||c}):this.gridColumns.filter(function(i){return e.groupAutoColumns&&We(e.groupAutoColumns,i)||i.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var n=!1;return e.forEach(function(i){v(i.getColDef().colSpan)&&(n=!0)}),n},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[];var n=function(i){var r=i.getColDef();r&&v(r.showRowGroup)&&e.groupDisplayColumns.push(i)};this.gridColumns.forEach(n),this.groupAutoColumns&&this.groupAutoColumns.forEach(n)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.updateDisplayedColumns=function(e){var n=this.calculateColumnsForDisplay();this.buildDisplayedTrees(n),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return v(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,n){var i=this;void 0===n&&(n="api");var r=e&&e.length>0;if(r||!V(this.secondaryColumns)){if(r){this.processSecondaryColumnDefinitions(e);var c=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=c.columnTree,this.secondaryHeaderRowCount=c.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(f){return i.secondaryColumnsMap[f.getId()]=f}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(n)}},t.prototype.processSecondaryColumnDefinitions=function(e){var n=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),i=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(n||i){var r=function(c){c.forEach(function(f){if(v(f.children)){var M=f;i&&i(M),r(M.children)}else n&&n(f)})};e&&r(e)}},t.prototype.updateGridColumns=function(){var e=this;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var n=this.secondaryColumns.every(function(r){return void 0!==e.gridColumnsMap[r.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,n&&this.orderGridColsLike(this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLike(this.lastPrimaryOrder));this.addAutoGroupToGridColumns(),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(r){return e.gridColumnsMap[r.getId()]=r}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:nt.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(r){return r.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.rowModel.getType();e!==Qe.ROW_MODEL_TYPE_CLIENT_SIDE&&e!==Qe.ROW_MODEL_TYPE_SERVER_SIDE&&Mt(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},t.prototype.orderGridColsLike=function(e){if(!V(e)){var n=nr(e.map(function(K,ve){return[K,ve]})),i=!0;if(this.gridColumns.forEach(function(K){n.has(K)&&(i=!1)}),!i){var r=nr(this.gridColumns.map(function(K){return[K,!0]})),c=e.filter(function(K){return r.has(K)}),f=nr(c.map(function(K){return[K,!0]})),S=this.gridColumns.filter(function(K){return!f.has(K)}),M=c.slice();S.forEach(function(K){var ve=K.getOriginalParent();if(ve){for(var Pe=[];!Pe.length&&ve;)ve.getLeafColumns().forEach(function(wn){var zn=M.indexOf(wn)>=0,Un=Pe.indexOf(wn)<0;zn&&Un&&Pe.push(wn)}),ve=ve.getOriginalParent();if(Pe.length){var vt=Pe.map(function(wn){return M.indexOf(wn)}),sn=Math.max.apply(Math,zr(vt));re(M,K,sn+1)}else M.push(K)}else M.push(K)}),this.gridColumns=M}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},t.prototype.placeLockedColumns=function(e){var n=[],i=[],r=[];return e.forEach(function(c){var f=c.getColDef().lockPosition;"right"===f?r.push(c):"left"===f||!0===f?n.push(c):i.push(c)}),zr(n,i,r)},t.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!V(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:nt.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(n){return n.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var n=this;if(this.primaryColumns){var i=this.primaryColumns.slice(0),r=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(c){if(r){var f=n.getWidthOfColsInList(c);c.forEach(function(M){f-=M.getActualWidth(),M.setLeft(f,e)})}else{var S=0;c.forEach(function(M){M.setLeft(S,e),S+=M.getActualWidth()})}oe(i,c)}),i.forEach(function(c){c.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(n){n instanceof wt&&n.checkLeft()})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,n){n.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(i){i instanceof ri&&n.push(i)})},t.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,n){var i;switch(e){case Qe.PINNED_LEFT:i=this.viewportRowLeft[n];break;case Qe.PINNED_RIGHT:i=this.viewportRowRight[n];break;default:i=this.viewportRowCenter[n]}return V(i)&&(i=[]),i},t.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.viewportColumns.forEach(function(i){return e[i.getId()]=!0});var n=function(i,r,c){for(var f=!1,S=0;S<i.length;S++){var M=i[S],K=!1;if(M instanceof ri)K=!0===e[M.getId()];else{var Pe=M.getDisplayedChildren();Pe&&(K=n(Pe,r,c+1))}K&&(f=!0,r[c]||(r[c]=[]),r[c].push(M))}return f};n(this.displayedTreeLeft,this.viewportRowLeft,0),n(this.displayedTreeRight,this.viewportRowRight,0),n(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},t.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},t.prototype.refreshFlexedColumns=function(e){var n=this;void 0===e&&(e={});var i=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var r=-1;e.resizingCols&&e.resizingCols.forEach(function(Di){var lr=n.displayedColumnsCenter.indexOf(Di);r<lr&&(r=lr)});var c=function(Di){var lr=n.displayedColumnsCenter.indexOf(Di)>r;return Di.getFlex()&&lr},f=this.displayedColumnsCenter.filter(function(Di){return!c(Di)}),S=this.displayedColumnsCenter.filter(function(Di){return c(Di)}),M=[];if(!S.length)return[];var ve,K=[];e:for(;;){var Pe=S.reduce(function(Di,lr){return Di+lr.getFlex()},0);ve=this.flexViewportWidth-this.getWidthOfColsInList(f);for(var dt=0;dt<S.length;dt++){var vt=S[dt],sn=ve*vt.getFlex()/Pe,wn=0,zn=vt.getMinWidth(),Un=vt.getMaxWidth();if(v(zn)&&sn<zn?wn=zn:v(Un)&&sn>Un&&(wn=Un),wn){vt.setActualWidth(wn,i),x(S,vt),M.push(vt),f.push(vt);continue e}K[dt]=Math.round(sn)}break}var qn=ve;return S.forEach(function(Di,lr){Di.setActualWidth(Math.min(K[lr],qn),i),M.push(Di),qn-=K[lr]}),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.fireColumnResizedEvent(M,!0,i,S),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),S},t.prototype.sizeColumnsToFit=function(e,n,i){void 0===n&&(n="sizeColumnsToFit");var r=this.getAllDisplayedColumns();if(!(e<=0)&&r.length){var c=[],f=[];r.forEach(function(qn){!0===qn.getColDef().suppressSizeToFit?f.push(qn):c.push(qn)});var S=c.slice(0),M=!1,K=function(qn){x(c,qn),f.push(qn)};for(c.forEach(function(qn){return qn.resetActualWidth(n)});!M;){M=!0;var ve=e-this.getWidthOfColsInList(f);if(ve<=0)c.forEach(function(qn){qn.setMinimum(n)});else for(var Pe=ve/this.getWidthOfColsInList(c),dt=ve,vt=c.length-1;vt>=0;vt--){var sn=c[vt],wn=sn.getMinWidth(),zn=sn.getMaxWidth(),Un=Math.round(sn.getActualWidth()*Pe);v(wn)&&Un<wn?(Un=wn,K(sn),M=!1):v(zn)&&sn.isGreaterThanMax(Un)?(Un=zn,K(sn),M=!1):0===vt&&(Un=dt),sn.setActualWidth(Un,n,!0),dt-=Un}}S.forEach(function(qn){qn.fireColumnWidthChangedEvent(n)}),this.setLeftValues(n),this.updateBodyWidths(),!i&&this.fireColumnResizedEvent(S,!0,n)}},t.prototype.buildDisplayedTrees=function(e){var n=[],i=[],r=[];e.forEach(function(f){switch(f.getPinned()){case"left":n.push(f);break;case"right":i.push(f);break;default:r.push(f)}});var c=new Xr;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,c,Qe.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,c,Qe.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(r,this.gridBalancedTree,c,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var n=function(i){e.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,n)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(n){n instanceof wt&&n.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),n=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||n||e)this.groupAutoColumns=null;else{var f=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);(!this.autoColsEqual(f,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=f)}}},t.prototype.autoColsEqual=function(e,n){return _i(e,n,function(i,r){return i.getColId()===r.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(n,i){return n+i.getActualWidth()},0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(n){return n.getColDef().floatingFilter})},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),n=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&n.reverse();for(var i=0;i<n.length;i++){var r=this[n[i]]();if(r.length)return e?mn(r):r[0]}return null},vr([D("expressionService")],t.prototype,"expressionService",void 0),vr([D("columnFactory")],t.prototype,"columnFactory",void 0),vr([D("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),vr([D("ctrlsService")],t.prototype,"ctrlsService",void 0),vr([D("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),vr([D("columnUtils")],t.prototype,"columnUtils",void 0),vr([D("columnAnimationService")],t.prototype,"columnAnimationService",void 0),vr([D("autoGroupColService")],t.prototype,"autoGroupColService",void 0),vr([te("aggFuncService")],t.prototype,"aggFuncService",void 0),vr([te("valueCache")],t.prototype,"valueCache",void 0),vr([te("animationFrameService")],t.prototype,"animationFrameService",void 0),vr([D("rowModel")],t.prototype,"rowModel",void 0),vr([D("columnApi")],t.prototype,"columnApi",void 0),vr([D("gridApi")],t.prototype,"gridApi",void 0),vr([D("sortController")],t.prototype,"sortController",void 0),vr([D("columnDefFactory")],t.prototype,"columnDefFactory",void 0),vr([ft],t.prototype,"init",null),vr([Is(0,me("loggerFactory"))],t.prototype,"setBeans",null),vr([Ae("columnModel")],t)}(he),Ws=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xt=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ws(t,o),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.gridOptionsWrapper.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var r,n=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e),c=g(e.width),f=g(e.initialWidth);return r=null!=c?c:null!=f?f:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(r,i),n)},t.prototype.getOriginalPathForColumn=function(e,n){var i=[],r=!1,c=function(f,S){for(var M=0;M<f.length;M++){if(r)return;var K=f[M];K instanceof dn?(c(K.getChildren(),S+1),i[S]=K):K===e&&(r=!0)}};return c(n,0),r?i:null},t.prototype.depthFirstOriginalTreeSearch=function(e,n,i){var r=this;!n||n.forEach(function(c){c instanceof dn&&r.depthFirstOriginalTreeSearch(c,c.getChildren(),i),i(c,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,n){var i=this;!e||e.forEach(function(r){r instanceof wt&&i.depthFirstAllColumnTreeSearch(r.getChildren(),n),n(r)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,n){var i=this;!e||e.forEach(function(r){r instanceof wt&&i.depthFirstDisplayedColumnTreeSearch(r.getDisplayedChildren(),n),n(r)})},t=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r}([Ae("columnUtils")],t),t}(he),yn=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oi=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return yn(t,o),t.prototype.createDisplayedGroups=function(e,n,i,r,c){var M,K,f=this,S=[],ve=this.mapOldGroupsById(c);return e.forEach(function(Pe){for(var dt=f.getOriginalPathForColumn(n,Pe),vt=[],sn=!K,wn=0;wn<dt.length;wn++)if(sn||dt[wn]!==K[wn]){var zn=f.createColumnGroup(dt[wn],i,ve,r);vt[wn]=zn,0==wn?S.push(zn):vt[wn-1].addChild(zn)}else vt[wn]=M[wn];0===vt.length?S.push(Pe):mn(vt).addChild(Pe),M=vt,K=dt}),this.setupParentsIntoColumns(S,null),S},t.prototype.createColumnGroup=function(e,n,i,r){var c=e.getGroupId(),f=n.getInstanceIdForKey(c),M=i[wt.createUniqueId(c,f)];return M&&M.getProvidedColumnGroup()!==e&&(M=null),v(M)?M.reset():(M=new wt(e,c,f,r),this.context.createBean(M)),M},t.prototype.mapOldGroupsById=function(e){var n={},i=function(r){r.forEach(function(c){if(c instanceof wt){var f=c;n[c.getUniqueId()]=f,i(f.getChildren())}})};return e&&i(e),n},t.prototype.setupParentsIntoColumns=function(e,n){var i=this;e.forEach(function(r){if(r.setParent(n),r instanceof wt){var c=r;i.setupParentsIntoColumns(c.getChildren(),c)}})},t.prototype.getOriginalPathForColumn=function(e,n){var i=[],r=!1,c=function(f,S){for(var M=0;M<f.length;M++){if(r)return;var K=f[M];K instanceof dn?(c(K.getChildren(),S+1),i[S]=K):K===n&&(r=!0)}};return c(e,0),r?i:(console.warn("AG Grid: could not get path"),null)},t=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r}([Ae("displayedGroupCreator")],t),t}(he),ki=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},$r=function(){function o(){}return o.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],o.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],o.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],o.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],o.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges"],o.ALL_PROPERTIES=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(ki(arguments[t]));return o}(o.ARRAY_PROPERTIES,o.OBJECT_PROPERTIES,o.STRING_PROPERTIES,o.NUMBER_PROPERTIES,o.FUNCTION_PROPERTIES=["localeTextFunc","getLocaleText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getGroupRowAgg","getRowNodeId","isFullWidthCell","isFullWidthRow","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],o.BOOLEAN_PROPERTIES),o.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],o}(),Sr=function(){return Sr=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},Sr.apply(this,arguments)},Jo=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},Mo=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Jo(arguments[t]));return o},ko=function(){function o(){}return o.getEventCallbacks=function(){return o.EVENT_CALLBACKS||(o.EVENT_CALLBACKS=o.EVENTS.map(function(t){return o.getCallbackForEvent(t)})),o.EVENT_CALLBACKS},o.copyAttributesToGridOptions=function(t,e,n){"object"!=typeof t&&(t={});var i=t,r=function(c){return void 0!==e[c]};return r("groupAggFiltering")&&"function"!=typeof e.groupAggFiltering&&(i.groupAggFiltering=o.toBoolean(e.groupAggFiltering),delete e.groupAggFiltering),Mo(o.ARRAY_PROPERTIES,o.STRING_PROPERTIES,o.OBJECT_PROPERTIES,o.FUNCTION_PROPERTIES,o.getEventCallbacks()).filter(r).forEach(function(c){return i[c]=e[c]}),o.BOOLEAN_PROPERTIES.filter(r).forEach(function(c){return i[c]=o.toBoolean(e[c])}),o.NUMBER_PROPERTIES.filter(r).forEach(function(c){return i[c]=o.toNumber(e[c])}),t},o.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},o.processOnChange=function(t,e,n,i){if(t){var r=Sr({},t),c=e,f=function(K){return r[K]};f("groupAggFiltering")&&(c.groupAggFiltering="function"==typeof r.groupAggFiltering?r.groupAggFiltering:o.toBoolean(r.groupAggFiltering),delete r.groupAggFiltering),r.rowClass&&(n.setRowClass(r.rowClass.currentValue),delete r.rowClass),Mo(o.ARRAY_PROPERTIES,o.OBJECT_PROPERTIES,o.STRING_PROPERTIES,o.getEventCallbacks()).filter(f).forEach(function(K){return c[K]=r[K].currentValue}),o.BOOLEAN_PROPERTIES.filter(f).forEach(function(K){return c[K]=o.toBoolean(r[K].currentValue)}),o.NUMBER_PROPERTIES.filter(f).forEach(function(K){return c[K]=o.toNumber(r[K].currentValue)}),r.enableCellTextSelection&&(n.setEnableCellTextSelection(o.toBoolean(r.enableCellTextSelection.currentValue)),delete r.enableCellTextSelection),r.quickFilterText&&(n.setQuickFilter(r.quickFilterText.currentValue),delete r.quickFilterText),r.autoGroupColumnDef&&(n.setAutoGroupColumnDef(r.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete r.autoGroupColumnDef),r.columnDefs&&(n.setColumnDefs(r.columnDefs.currentValue,"gridOptionsChanged"),delete r.columnDefs),r.defaultColDef&&(n.setDefaultColDef(r.defaultColDef.currentValue,"gridOptionsChanged"),delete r.defaultColDef),r.paginationPageSize&&(n.paginationSetPageSize(o.toNumber(r.paginationPageSize.currentValue)),delete r.paginationPageSize),r.pivotMode&&(i.setPivotMode(o.toBoolean(r.pivotMode.currentValue)),delete r.pivotMode),r.groupRemoveSingleChildren&&(n.setGroupRemoveSingleChildren(o.toBoolean(r.groupRemoveSingleChildren.currentValue)),delete r.groupRemoveSingleChildren),r.suppressRowDrag&&(n.setSuppressRowDrag(o.toBoolean(r.suppressRowDrag.currentValue)),delete r.suppressRowDrag),r.suppressMoveWhenRowDragging&&(n.setSuppressMoveWhenRowDragging(o.toBoolean(r.suppressMoveWhenRowDragging.currentValue)),delete r.suppressMoveWhenRowDragging),r.suppressRowClickSelection&&(n.setSuppressRowClickSelection(o.toBoolean(r.suppressRowClickSelection.currentValue)),delete r.suppressRowClickSelection),r.suppressClipboardPaste&&(n.setSuppressClipboardPaste(o.toBoolean(r.suppressClipboardPaste.currentValue)),delete r.suppressClipboardPaste),r.headerHeight&&(n.setHeaderHeight(o.toNumber(r.headerHeight.currentValue)),delete r.headerHeight);var S=n;Object.keys(r).forEach(function(K){var ve="set"+K.charAt(0).toUpperCase()+K.substring(1);S[ve]&&S[ve](t[K].currentValue)});var M={type:nt.EVENT_COMPONENT_STATE_CHANGED,api:e.api,columnApi:e.columnApi};Le(t,function(K,ve){M[K]=ve}),n.dispatchEvent(M)}},o.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},o.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},o.EVENTS=[],o.PUBLIC_EVENTS=[],o.EXCLUDED_INTERNAL_EVENTS=[],o.STRING_PROPERTIES=$r.STRING_PROPERTIES,o.OBJECT_PROPERTIES=$r.OBJECT_PROPERTIES,o.ARRAY_PROPERTIES=$r.ARRAY_PROPERTIES,o.NUMBER_PROPERTIES=$r.NUMBER_PROPERTIES,o.BOOLEAN_PROPERTIES=$r.BOOLEAN_PROPERTIES,o.FUNCTION_PROPERTIES=$r.FUNCTION_PROPERTIES,o.ALL_PROPERTIES=$r.ALL_PROPERTIES,o}();ko.EVENTS=Me(nt),ko.EXCLUDED_INTERNAL_EVENTS=[nt.EVENT_SCROLLBAR_WIDTH_CHANGED,nt.EVENT_CHECKBOX_CHANGED,nt.EVENT_HEIGHT_SCALE_CHANGED,nt.EVENT_BODY_HEIGHT_CHANGED,nt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,nt.EVENT_SCROLL_VISIBILITY_CHANGED,nt.EVENT_COLUMN_HOVER_CHANGED,nt.EVENT_FLASH_CELLS,nt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,nt.EVENT_DISPLAYED_ROWS_CHANGED,nt.EVENT_LEFT_PINNED_WIDTH_CHANGED,nt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,nt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,nt.EVENT_POPUP_TO_FRONT,nt.EVENT_KEYBOARD_FOCUS,nt.EVENT_MOUSE_FOCUS,nt.EVENT_STORE_UPDATED,nt.EVENT_COLUMN_PANEL_ITEM_DRAG_START,nt.EVENT_COLUMN_PANEL_ITEM_DRAG_END,nt.EVENT_FILL_START,nt.EVENT_FILL_END,nt.EVENT_FULL_WIDTH_ROW_FOCUSED],ko.PUBLIC_EVENTS=ko.EVENTS.filter(function(o){return!We(ko.EXCLUDED_INTERNAL_EVENTS,o)});var ks=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),js=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.componentsMappedByName={},e}return ks(t,o),t.prototype.setupComponents=function(e){var n=this;e&&e.forEach(function(i){return n.addComponent(i)})},t.prototype.addComponent=function(e){var i=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r}([Ae("agStackComponentsRegistry")],t),t}(he),as=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},xo=function(){function o(){}return o.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],o.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],o.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],o.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],o.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],o.ALL_PROPERTIES=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(as(arguments[t]));return o}(o.ARRAY_PROPERTIES,o.OBJECT_PROPERTIES,o.STRING_PROPERTIES,o.NUMBER_PROPERTIES,o.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],o.BOOLEAN_PROPERTIES),o.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],o}(),zs=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},Do=function(){function o(t,e,n,i){void 0===i&&(i=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,i||0))}return o.fromString=function(t){if(t.indexOf("#")>=0)return o.fromHexString(t);var e=o.nameToHex[t];if(e)return o.fromHexString(e);if(t.indexOf("rgb")>=0)return o.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},o.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map(function(i){return parseInt(i,16)}).map(function(i){return i+16*i})}if(e.length>=3&&e.every(function(i){return i>=0}))return 3===e.length&&e.push(255),e},o.fromHexString=function(t){var e=o.parseHex(t);if(e){var n=zs(e,4);return new o(n[0]/255,n[1]/255,n[2]/255,n[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},o.stringToRgba=function(t){for(var e=zs([NaN,NaN],2),n=e[0],i=e[1],r=0;r<t.length;r++){var c=t[r];if(n||"("!==c){if(")"===c){i=r;break}}else n=r}var f=n&&i&&t.substring(n+1,i);if(f){var S=f.split(","),M=[];for(r=0;r<S.length;r++){var K=S[r],ve=parseFloat(K);if(isNaN(ve))return;K.indexOf("%")>=0?(ve=Math.max(0,Math.min(100,ve)),ve/=100):3===r?ve=Math.max(0,Math.min(1,ve)):(ve=Math.max(0,Math.min(255,ve)),ve/=255),M.push(ve)}return M}},o.fromRgbaString=function(t){var e=o.stringToRgba(t);if(e){if(3===e.length)return new o(e[0],e[1],e[2]);if(4===e.length)return new o(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},o.fromArray=function(t){if(4===t.length)return new o(t[0],t[1],t[2],t[3]);if(3===t.length)return new o(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},o.fromHSB=function(t,e,n,i){void 0===i&&(i=1);var r=o.HSBtoRGB(t,e,n);return new o(r[0],r[1],r[2],i)},o.padHex=function(t){return 1===t.length?"0"+t:t},o.prototype.toHexString=function(){var t="#"+o.padHex(Math.round(255*this.r).toString(16))+o.padHex(Math.round(255*this.g).toString(16))+o.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=o.padHex(Math.round(255*this.a).toString(16))),t},o.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},o.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},o.prototype.toHSB=function(){return o.RGBtoHSB(this.r,this.g,this.b)},o.RGBtoHSB=function(t,e,n){var i=Math.min(t,e,n),r=Math.max(t,e,n),f=NaN;if(i!==r){var S=r-i,M=(r-t)/S,K=(r-e)/S,ve=(r-n)/S;f=t===r?ve-K:e===r?2+M-ve:4+K-M,(f/=6)<0&&(f+=1)}return[360*f,0!==r?(r-i)/r:0,r]},o.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var i=0,r=0,c=0;if(0===e)i=r=c=n;else{var f=6*(t-Math.floor(t)),S=f-Math.floor(f),M=n*(1-e),K=n*(1-e*S),ve=n*(1-e*(1-S));switch(f>>0){case 0:i=n,r=ve,c=M;break;case 1:i=K,r=n,c=M;break;case 2:i=M,r=n,c=ve;break;case 3:i=M,r=K,c=n;break;case 4:i=ve,r=M,c=n;break;case 5:i=n,r=M,c=K}}return[i,r,c]},o.prototype.derive=function(t,e,n,i){var r=o.RGBtoHSB(this.r,this.g,this.b),c=r[2];0==c&&n>1&&(c=.05);var f=((r[0]+t)%360+360)%360,S=Math.max(Math.min(r[1]*e,1),0);c=Math.max(Math.min(c*n,1),0);var M=Math.max(Math.min(this.a*i,1),0),K=o.HSBtoRGB(f,S,c);return K.push(M),o.fromArray(K)},o.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},o.prototype.darker=function(){return this.derive(0,1,.7,1)},o.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),o}();function Io(o,t){void 0===t&&(t=",");var e=[],n=function(Pe){return"\r"===Pe||"\n"===Pe},i=!1;if(""===o)return[[""]];for(var c,f,S,r=function(Pe,dt,vt){var sn=o[vt-1],wn=o[vt],zn=o[vt+1],Un=function(){e[Pe]||(e[Pe]=[]),e[Pe][dt]||(e[Pe][dt]="")};if(Un(),'"'===wn){if(i)return'"'===zn?(e[Pe][dt]+='"',vt++):i=!1,c=Pe,f=dt,S=vt,"continue";if(void 0===sn||sn===t||n(sn))return i=!0,c=Pe,f=dt,S=vt,"continue"}if(!i){if(wn===t)return dt++,Un(),c=Pe,f=dt,S=vt,"continue";if(n(wn))return dt=0,Pe++,Un(),"\r"===wn&&"\n"===zn&&vt++,c=Pe,f=dt,S=vt,"continue"}e[Pe][dt]+=wn,c=Pe,f=dt,S=vt},M=0,K=0,ve=0;ve<o.length;ve++)r(M,K,ve),M=c,K=f,ve=S;return e}var Po,Uo,Rr,bs,Bs,mo,vo,ds,ws=Object.freeze({stringToArray:Io});function Es(){return void 0===Rr&&(Rr=!function ro(){return void 0===Uo&&(Uo=!!document.documentMode),Uo}()&&!!window.StyleMedia),Rr}function es(){return void 0===Po&&(Po=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Po}function Ko(){if(void 0===bs){var o=window;bs=!!o.chrome&&(!!o.chrome.webstore||!!o.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return bs}function Bo(){if(void 0===Bs){var o=window;Bs=void 0!==o.InstallTrigger}return Bs}function ns(){return void 0===mo&&(mo=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),mo}function ls(o){if(!o)return null;var t=o.tabIndex,e=o.getAttribute("tabIndex");return-1!==t||null!==e&&(""!==e||Bo())?t.toString():null}function Mr(){if(!document.body)return-1;var o=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var n=2*o;if(e.style.height=n+"px",n>t||e.clientHeight!==n)break;o=n}return document.body.removeChild(e),o}function fe(){return null==ds&&Ge(),ds}function Ge(){var o=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",o.appendChild(t);var e=t.offsetWidth-t.clientWidth;0===e&&0===t.clientWidth&&(e=null),t.parentNode&&t.parentNode.removeChild(t),null!=e&&(ds=e,vo=0===e)}function pe(){return null==vo&&Ge(),vo}function $t(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function On(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var ui,Vn=Object.freeze({isBrowserEdge:Es,isBrowserSafari:es,isBrowserChrome:Ko,isBrowserFirefox:Bo,isIOSUserAgent:ns,getTabIndex:ls,getMaxDivHeight:Mr,getScrollbarWidth:fe,isInvisibleScrollbar:pe,hasOverflowScrolling:function qe(){var o,t,e=["webkit","moz","o","ms"],n=document.createElement("div"),r=!1;document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("style",e.map(function(K){return"-"+K+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var f=window.getComputedStyle(n);if("touch"===f.overflowScrolling&&(r=!0),!r)try{for(var S=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],n=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&n>=o.length&&(o=void 0),{value:o&&o[n++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),M=S.next();!M.done;M=S.next())if("touch"===f[M.value+"OverflowScrolling"]){r=!0;break}}catch(K){o={error:K}}finally{try{M&&!M.done&&(t=S.return)&&t.call(S)}finally{if(o)throw o.error}}return n.parentNode&&n.parentNode.removeChild(n),r},getBodyWidth:$t,getBodyHeight:On});function Pr(o){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,e=t.call(o,Qe.INPUT_SELECTOR),n=t.call(o,Qe.FOCUSABLE_EXCLUDE),i=Yn(o);return e&&!n&&i}function Mi(o,t){o.classList.toggle("ag-hidden",!t)}function br(o,t){o.classList.toggle("ag-invisible",!t)}function Jr(o,t){var e="disabled",n=t?function(i){return i.setAttribute(e,"")}:function(i){return i.removeAttribute(e)};n(o),Fn(o.querySelectorAll("input"),function(i){return n(i)})}function Fr(o,t,e){for(var n=0;o;){if(o.classList.contains(t))return!0;if(o=o.parentElement,e&&++n>e)break}return!1}function Lr(o){var t=window.getComputedStyle(o),n=t.width,i=t.paddingTop,r=t.paddingRight,c=t.paddingBottom,f=t.paddingLeft,S=t.marginTop,M=t.marginRight,K=t.marginBottom,ve=t.marginLeft,Pe=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(n),paddingTop:parseFloat(i),paddingRight:parseFloat(r),paddingBottom:parseFloat(c),paddingLeft:parseFloat(f),marginTop:parseFloat(S),marginRight:parseFloat(M),marginBottom:parseFloat(K),marginLeft:parseFloat(ve),boxSizing:Pe}}function _e(o){var t=Lr(o);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function ue(o){var t=Lr(o);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function Q(o){var t=Lr(o);return Math.ceil(o.offsetHeight+(t.marginBottom+t.marginTop))}function $e(o){var t=Lr(o);return Math.ceil(o.offsetWidth+(t.marginLeft+t.marginRight))}function Mn(){if("boolean"==typeof ui)return ui;var o=document.createElement("div");return o.style.direction="rtl",o.style.width="1px",o.style.height="1px",o.style.position="fixed",o.style.top="0px",o.style.overflow="hidden",o.dir="rtl",o.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(o),o.scrollLeft=1,ui=0===Math.floor(o.scrollLeft),document.body.removeChild(o),ui}function Ai(o,t){var e=o.scrollLeft;return t&&(e=Math.abs(e),Ko()&&!Mn()&&(e=o.scrollWidth-o.clientWidth-e)),e}function Br(o,t,e){e&&(Mn()?t*=-1:(es()||Ko())&&(t=o.scrollWidth-o.clientWidth-t)),o.scrollLeft=t}function co(o){for(;o&&o.firstChild;)o.removeChild(o.firstChild)}function ho(o){o&&o.parentNode&&o.parentNode.removeChild(o)}function Yn(o){return null!==o.offsetParent}function Ri(o){if(null!==DOMParser)return(new DOMParser).parseFromString(o,"text/html").body.firstChild;var n=document.createElement("div");return n.innerHTML=(o||"").trim(),n.firstChild}function xa(o){return o&&o.clientHeight?o.clientHeight:0}function $s(o){return o&&o.clientWidth?o.clientWidth:0}function Wo(o,t,e){e&&e.nextSibling===t||(e?e.nextSibling?o.insertBefore(t,e.nextSibling):o.appendChild(t):o.firstChild&&o.firstChild!==t&&o.insertAdjacentElement("afterbegin",t))}function Pa(o,t){for(var e=0;e<t.length;e++){var n=t[e],i=o.children[e];i!==n&&o.insertBefore(n,i)}}function Ks(o,t,e){e?e.insertAdjacentElement("afterend",t):o.firstChild?o.insertAdjacentElement("afterbegin",t):o.appendChild(t)}function Ms(o,t){!t||Object.keys(t).forEach(function(e){var n=Zn(e);n&&(o.style[n]=t[e])})}function ma(o){return o.clientWidth<o.scrollWidth}function Yo(o){return o.clientHeight<o.scrollHeight}function ao(o,t){"flex"===t?(o.style.removeProperty("width"),o.style.removeProperty("minWidth"),o.style.removeProperty("maxWidth"),o.style.flex="1 1 auto"):So(o,t)}function So(o,t){t=N(t),o.style.width=t.toString(),o.style.maxWidth=t.toString(),o.style.minWidth=t.toString()}function Ie(o,t){t=N(t),o.style.height=t.toString(),o.style.maxHeight=t.toString(),o.style.minHeight=t.toString()}function N(o){return"number"==typeof o?o+"px":o}function G(o){return"function"==typeof Node?o instanceof Node:o&&"object"==typeof o&&"number"==typeof o.nodeType&&"string"==typeof o.nodeName}function le(o){return"function"==typeof HTMLElement?o instanceof HTMLElement:o&&nn(o)&&1===o.nodeType&&"string"==typeof o.nodeName}function Fe(o){return G(o)||le(o)}function lt(o){if(null==o)return[];var t=[];return Fn(o,function(e){return t.push(e)}),t}function kt(o,t){if(o)for(var e=0;e<o.length;e++){var n=o[e];t(n.name,n.value)}}function pn(o,t,e){null==e?o.removeAttribute(t):o.setAttribute(t,e.toString())}function Fn(o,t){if(null!=o)for(var e=0;e<o.length;e++)t(o[e])}var Ti=Object.freeze({radioCssClass:function Kr(o,t,e){for(var n=o.parentElement,i=n&&n.firstChild;i;)t&&i.classList.toggle(t,i===o),e&&i.classList.toggle(e,i!==o),i=i.nextSibling},isFocusableFormField:Pr,setDisplayed:Mi,setVisible:br,setDisabled:Jr,isElementChildOfClass:Fr,getElementSize:Lr,getInnerHeight:_e,getInnerWidth:ue,getAbsoluteHeight:Q,getAbsoluteWidth:$e,isRtlNegativeScroll:Mn,getScrollLeft:Ai,setScrollLeft:Br,clearElement:co,removeElement:function Os(o,t){ho(o.querySelector(t))},removeFromParent:ho,isVisible:Yn,loadTemplate:Ri,appendHtml:function Ha(o,t){o.lastChild?o.insertAdjacentHTML("afterbegin",t):o.innerHTML=t},getElementAttribute:function Oo(o,t){return o.attributes&&o.attributes[t]?o.attributes[t].value:null},offsetHeight:xa,offsetWidth:$s,ensureDomOrder:Wo,setDomChildOrder:Pa,insertWithDomOrder:Ks,prependDC:function ra(o,t){v(o.firstChild)?o.insertBefore(t,o.firstChild):o.appendChild(t)},addStylesToElement:Ms,isHorizontalScrollShowing:ma,isVerticalScrollShowing:Yo,setElementWidth:ao,setFixedWidth:So,setElementHeight:function va(o,t){"flex"===t?(o.style.removeProperty("height"),o.style.removeProperty("minHeight"),o.style.removeProperty("maxHeight"),o.style.flex="1 1 auto"):Ie(o,t)},setFixedHeight:Ie,formatSize:N,isNode:G,isElement:le,isNodeOrElement:Fe,copyNodeList:lt,iterateNamedNodeMap:kt,setCheckboxState:function jt(o,t){"boolean"==typeof t?(o.checked=t,o.indeterminate=!1):o.indeterminate=!0},addOrRemoveAttribute:pn,nodeListForEach:Fn}),Gr=Object.freeze({getNameOfClass:function Bi(o){var e=o.toString(),n=/function (.{1,})\(/.exec(e);return n&&n.length>1?n[1]:""},findLineByLeastSquares:function Ki(o){var t=o.length,e=0;if(t<=1)return o;for(var n=0;n<o.length;n++){var i=o[n],r=i.toString().split("e-");r.length>1?e=Math.max(e,parseInt(r[1],10)):Math.floor(i)!==i&&(e=Math.max(e,i.toString().split(".")[1].length))}for(var c=0,f=0,S=0,M=0,K=0,ve=0;ve<t;ve++)c+=ve,f+=K=o[ve],M+=ve*ve,S+=ve*K;var Pe=(t*S-c*f)/(t*M-c*c),dt=f/t-Pe*c/t,vt=[];for(ve=0;ve<=t;ve++)vt.push(parseFloat((ve*Pe+dt).toFixed(e)));return vt},cssStyleObjectToMarkup:function _r(o){if(!o)return"";var t=[];return Le(o,function(e,n){var i=Sn(e);t.push(i+": "+n+";")}),t.join(" ")},message:function Ni(o){var t=document.createElement("div"),e=document.querySelector("#__ag__message");t.innerHTML=o,e||(e=Ri('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(e)),e.insertBefore(t,e.children[0])},bindCellRendererToHtmlElement:function ir(o,t){o.then(function(e){var n=e.getGui();null!=n&&("object"==typeof n?t.appendChild(n):t.innerHTML=n)})}});function yr(o,t,e){o.setAttribute(Go(t),e.toString())}function Ur(o,t){o.removeAttribute(Go(t))}function Go(o){return"aria-"+o}function cr(o,t){t?o.setAttribute("role",t):o.removeAttribute("role")}function Ds(o){return o.isSortAscending()?"ascending":o.isSortDescending()?"descending":"none"}function eo(o){return parseInt(o.getAttribute("aria-level"),10)}function Vo(o){return parseInt(o.getAttribute("aria-posinset"),10)}function hs(o,t){var e="label";t?yr(o,e,t):Ur(o,e)}function ps(o,t){var e="labelledby";t?yr(o,e,t):Ur(o,e)}function oa(o,t){var e="description";t?yr(o,e,t):Ur(o,e)}function Gs(o,t){var e="describedby";t?yr(o,e,t):Ur(o,e)}function Co(o,t){yr(o,"level",t)}function xs(o,t){yr(o,"disabled",t)}function Fo(o,t){yr(o,"expanded",t)}function fi(o){Ur(o,"expanded")}function Vi(o,t){yr(o,"setsize",t)}function Qi(o,t){yr(o,"posinset",t)}function pr(o,t){yr(o,"multiselectable",t)}function po(o,t){yr(o,"rowcount",t)}function ts(o,t){yr(o,"rowindex",t)}function Er(o,t){yr(o,"colcount",t)}function wo(o,t){yr(o,"colindex",t)}function Wr(o,t){yr(o,"colspan",t)}function Ua(o,t){yr(o,"sort",t)}function wl(o){Ur(o,"sort")}function Jn(o,t){var e="selected";t?yr(o,e,t):Ur(o,e)}function Tr(o,t){yr(o,"checked",void 0===t?"mixed":t)}var fs=Object.freeze({setAriaRole:cr,getAriaSortState:Ds,getAriaLevel:eo,getAriaPosInSet:Vo,getAriaDescribedBy:function Yr(o){return o.getAttribute("aria-describedby")||""},setAriaLabel:hs,setAriaLabelledBy:ps,setAriaDescription:oa,setAriaDescribedBy:Gs,setAriaLevel:Co,setAriaDisabled:xs,setAriaExpanded:Fo,removeAriaExpanded:fi,setAriaSetSize:Vi,setAriaPosInSet:Qi,setAriaMultiSelectable:pr,setAriaRowCount:po,setAriaRowIndex:ts,setAriaColCount:Er,setAriaColIndex:wo,setAriaColSpan:Wr,setAriaSort:Ua,removeAriaSort:wl,setAriaSelected:Jn,setAriaChecked:Tr});function Ho(o,t){return o.toString().padStart(t,"0")}function xi(o,t){for(var e=[],n=o;n<=t;n++)e.push(n);return e}function Xi(o){return""!==o&&!isNaN(parseFloat(o))&&isFinite(o)}function ti(o,t,e){return"number"!=typeof o?"":o.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t)}var Ja=Object.freeze({padStartWidthZeros:Ho,createArrayOfNumbers:xi,isNumeric:Xi,cleanNumber:function Wa(o){return"string"==typeof o&&(o=parseInt(o,10)),"number"==typeof o?Math.floor(o):null},decToHex:function bi(o,t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(255&o),o>>>=8;return e},formatNumberTwoDecimalPlacesAndCommas:function vn(o,t,e){return"number"!=typeof o?"":ti(Math.round(100*o)/100,t,e)},formatNumberCommas:ti,sum:function fo(o){return null==o?null:o.reduce(function(t,e){return t+e},0)}}),Da=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r};function Z(o,t,e){if(void 0===t&&(t=!0),void 0===e&&(e="-"),!o)return null;var n=[o.getFullYear(),o.getMonth()+1,o.getDate()].map(function(i){return Ho(i,2)}).join(e);return t&&(n+=" "+[o.getHours(),o.getMinutes(),o.getSeconds()].map(function(i){return Ho(i,2)}).join(":")),n}function W(o){if(!o)return null;var t=Da(o.split(" "),2),e=t[0],n=t[1];if(!e)return null;var i=e.split("-").map(function(vt){return parseInt(vt,10)});if(3!==i.filter(function(vt){return!isNaN(vt)}).length)return null;var r=Da(i,3),c=r[0],f=r[1],S=r[2],M=new Date(c,f-1,S);if(M.getFullYear()!==c||M.getMonth()!==f-1||M.getDate()!==S)return null;if(!n||"00:00:00"===n)return M;var K=Da(n.split(":").map(function(vt){return parseInt(vt,10)}),3),ve=K[0],Pe=K[1],dt=K[2];return ve>=0&&ve<24&&M.setHours(ve),Pe>=0&&Pe<60&&M.setMinutes(Pe),dt>=0&&dt<60&&M.setSeconds(dt),M}var H=Object.freeze({serialiseDate:Z,parseDateTimeFromString:W});function ge(o,t,e){var n={},i=o.filter(function(r){return!t.some(function(c){return c===r})});return i.length>0&&i.forEach(function(r){return n[r]=be(r,e)}),n}function be(o,t,e,n){var i=n?Wt:Ct,r=t.map(function(c){return{value:c,relevance:i(o.toLowerCase(),c.toLocaleLowerCase())}});return r.sort(function(c,f){return f.relevance-c.relevance}),e&&(r=r.filter(function(c){return 0!==c.relevance})),r.map(function(c){return c.value})}function Ye(o){var n,i,r,t=o.toLowerCase(),e=new Array(t.length-1);for(n=i=0,r=e.length;i<=r;n=i+=1)e[n]=t.slice(n,n+2);return e}function Ct(o,t){if(0===o.length&&0===t.length)return 0;var c,f,e=Ye(o),n=Ye(t),i=e.length+n.length,r=0;for(c=0,f=e.length;c<f;c++){var K,S=e[c],M=void 0;for(M=0,K=n.length;M<K;M++)S===n[M]&&r++}return r>0?2*r/i:0}function Wt(o,t){for(var e=o.replace(/\s/g,""),n=t.replace(/\s/g,""),i=0,r=0,c=0;c<e.length;c++){var f=n.indexOf(e[c],r);-1!==f&&(i+=100-100*(r=f)/1e4*100)}return i}var Pn=Object.freeze({fuzzyCheckStrings:ge,fuzzySuggestions:be,get_bigrams:Ye,string_distances:Ct,string_weighted_distances:Wt}),Ii={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function di(o,t,e){var n=mi(o,t,e);if(n&&n.className.indexOf("ag-icon")>-1)return n;var i=document.createElement("span");return i.appendChild(n),i}function mi(o,t,e,n){var i=null,r=e&&e.getColDef().icons;if(r&&(i=r[o]),t&&!i){var c=t.getIcons();c&&(i=c[o])}if(!i){var S=document.createElement("span"),M=Ii[o];return M||(n?M=o:(console.warn("AG Grid: Did not find icon "+o),M="")),S.setAttribute("class","ag-icon ag-icon-"+M),S.setAttribute("unselectable","on"),cr(S,"presentation"),S}var f=void 0;if("function"==typeof i)f=i();else{if("string"!=typeof i)throw new Error("icon from grid options needs to be a string or a function");f=i}return"string"==typeof f?Ri(f):Fe(f)?f:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Zr=Object.freeze({iconNameClassMap:Ii,createIcon:di,createIconNoSpan:mi});function ya(o){if(o.altKey||o.ctrlKey||o.metaKey)return!1;var t=1===o.key.length,e=function us(o){return Es()&&"Del"===o.key&&46===o.charCode}(o);return t||e}function _a(o,t,e,n,i){var r=o.getSuppressKeyboardEventFunc(),c=n?n.getColDef().suppressKeyboardEvent:void 0;if(!r&&!c)return!1;var f={event:t,editing:i,column:n,api:o.getApi(),node:e,data:e.data,colDef:n.getColDef(),context:o.getContext(),columnApi:o.getColumnApi()};return!(!c||!c(f))||!!r&&r(f)}function hl(o,t,e,n){var i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;return!!v(r)&&!!r({api:o.getApi(),columnApi:o.getColumnApi(),context:o.getContext(),colDef:i,column:n,headerRowIndex:e,event:t})}var jr=Object.freeze({isEventFromPrintableCharacter:ya,isUserSuppressingKeyboardEvent:_a,isUserSuppressingHeaderKeyboardEvent:hl});function kl(o,t,e){if(0===e)return!1;var n=Math.abs(o.clientX-t.clientX),i=Math.abs(o.clientY-t.clientY);return Math.max(n,i)<=e}var gs=Object.freeze({areEventsNear:kl}),jo=Object.freeze({sortRowNodesByOrder:function Ys(o,t){if(o){for(var e=function(f,S){var M=t[f.id],K=t[S.id],ve=void 0!==M,Pe=void 0!==K;return ve&&Pe?M-K:ve||Pe?ve?1:-1:f.__objectId-S.__objectId},r=!1,c=0;c<o.length-1;c++)if(e(o[c],o[c+1])>0){r=!0;break}r&&o.sort(e)}},traverseNodesWithKey:function od(o,t){var e=[];!function n(i){!i||i.forEach(function(r){if(r.group||r.hasChildren()){e.push(r.key);var c=e.join("|");t(r,c),n(r.childrenAfterGroup),e.pop()}})}(o)}});function Bl(o){var t=new Set;return o.forEach(function(e){return t.add(e)}),t}var Zs=Object.freeze({convertToSet:Bl}),Cr=function(){return Cr=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},Cr.apply(this,arguments)},rr=Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr(Cr({},Gr),fs),_t),Vn),ws),H),Ti),ln),bt),Pn),we),Zr),jr),Eo),gs),Ja),Qt),jo),Zs),Hr),ja=function(){function o(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return o.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},o.prototype.peek=function(){return this.nextValue},o.prototype.skip=function(t){this.nextValue+=t},o}();!function(o){o[o.IN_PROGRESS=0]="IN_PROGRESS",o[o.RESOLVED=1]="RESOLVED"}(B.AgPromiseStatus||(B.AgPromiseStatus={}));var Zo=function(){function o(t){var e=this;this.status=B.AgPromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(n){return e.onDone(n)},function(n){return e.onReject(n)})}return o.all=function(t){return new o(function(e){var n=t.length,i=new Array(n);t.forEach(function(r,c){r.then(function(f){i[c]=f,0==--n&&e(i)})})})},o.resolve=function(t){return void 0===t&&(t=null),new o(function(e){return e(t)})},o.prototype.then=function(t){var e=this;return new o(function(n){e.status===B.AgPromiseStatus.RESOLVED?n(t(e.resolution)):e.waiters.push(function(i){return n(t(i))})})},o.prototype.resolveNow=function(t,e){return this.status===B.AgPromiseStatus.RESOLVED?e(this.resolution):t},o.prototype.onDone=function(t){this.status=B.AgPromiseStatus.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},o.prototype.onReject=function(t){console.warn("TBI")},o}(),bl=function(){function o(){this.timestamp=(new Date).getTime()}return o.prototype.print=function(t){var e=(new Date).getTime()-this.timestamp;console.info(t+" = "+e),this.timestamp=(new Date).getTime()},o}(),pl=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bo=function(){return bo=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},bo.apply(this,arguments)},fl=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Sa=(()=>(function(o){o[o.NOTHING=0]="NOTHING",o[o.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",o[o.SHOWING=2]="SHOWING"}(Sa||(Sa={})),Sa))(),Ci=function(o){function t(e){var n=o.call(this)||this;return n.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,n.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,n.SHOW_QUICK_TOOLTIP_DIFF=1e3,n.FADE_OUT_TOOLTIP_TIMEOUT=1e3,n.state=Sa.NOTHING,n.tooltipInstanceCount=0,n.tooltipMouseTrack=!1,n.parentComp=e,n}return pl(t,o),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),o.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){if(!ns()&&this.state==Sa.NOTHING){var n=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.lastMouseEvent=e,this.state=Sa.WAITING_TO_SHOW}},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===Sa.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Sa.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===Sa.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=Sa.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var n=this.tooltipPopupDestroyFunc,i=this.tooltipComp;window.setTimeout(function(){n(),e.getContext().destroyBean(i)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=bo({},this.parentComp.getTooltipParams());if(v(e.value)){this.state=Sa.SHOWING,this.tooltipInstanceCount++;var n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(n)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,n){if(this.state!==Sa.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(n);else{var r=n.getGui();this.tooltipComp=n,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom");var c=this.gridOptionsWrapper.getLocaleTextFunc(),f=this.popupService.addPopup({eChild:r,ariaLabel:c("ariaLabelTooltip","Tooltip")});f&&(this.tooltipPopupDestroyFunc=f.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},fl([D("popupService")],t.prototype,"popupService",void 0),fl([D("userComponentFactory")],t.prototype,"userComponentFactory",void 0),fl([D("columnApi")],t.prototype,"columnApi",void 0),fl([D("gridApi")],t.prototype,"gridApi",void 0),fl([ft],t.prototype,"postConstruct",null),t}(he),xu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pu=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Gl=new ja,Ra=function(){function o(t){this.cssClassStates={},this.getGui=t}return o.prototype.addCssClass=function(t){var e=this,n=(t||"").split(" ");n.length>1?n.forEach(function(r){return e.addCssClass(r)}):!0!==this.cssClassStates[t]&&t.length&&(this.getGui().classList.add(t),this.cssClassStates[t]=!0)},o.prototype.removeCssClass=function(t){var e=this,n=(t||"").split(" ");n.length>1?n.forEach(function(r){return e.removeCssClass(r)}):!1!==this.cssClassStates[t]&&t.length&&(this.getGui().classList.remove(t),this.cssClassStates[t]=!1)},o.prototype.containsCssClass=function(t){return this.getGui().classList.contains(t)},o.prototype.addOrRemoveCssClass=function(t,e){var n=this,i=(t||"").split(" ");i.length>1?i.forEach(function(c){return n.addOrRemoveCssClass(c,e)}):this.cssClassStates[t]!==e&&t.length&&(this.getGui().classList.toggle(t,e),this.cssClassStates[t]=e)},o}(),or=function(o){function t(e){var n=o.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=Gl.next(),n.cssClassManager=new Ra(function(){return n.eGui}),e&&n.setTemplate(e),n}return xu(t,o),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e){var n=this;this.tooltipText!=e&&(this.tooltipText&&(n.usingBrowserTooltips?n.getGui().removeAttribute("title"):n.tooltipFeature=n.destroyBean(n.tooltipFeature)),null!=e&&(this.tooltipText=e,this.tooltipText&&(n.usingBrowserTooltips?n.getGui().setAttribute("title",n.tooltipText):n.tooltipFeature=n.createBean(new Ci(n)))))},t.prototype.createChildComponentsFromTags=function(e,n){var i=this;lt(e.childNodes).forEach(function(c){if(c instanceof HTMLElement){var f=i.createComponentFromElement(c,function(M){M.getGui()&&i.copyAttributesFromNode(c,M.getGui())},n);if(f){if(f.addItems&&c.children.length){i.createChildComponentsFromTags(c,n);var S=Array.prototype.slice.call(c.children);f.addItems(S)}i.swapComponentForNode(f,e,c)}else c.childNodes&&i.createChildComponentsFromTags(c,n)}})},t.prototype.createComponentFromElement=function(e,n,i){var r=e.nodeName,c=i?i[e.getAttribute("ref")]:void 0,f=this.agStackComponentsRegistry.getComponentClass(r);if(f){t.elementGettingCreated=e;var S=new f(c);return S.setParentComponent(this),this.createBean(S,null,n),S}return null},t.prototype.copyAttributesFromNode=function(e,n){kt(e.attributes,function(i,r){return n.setAttribute(i,r)})},t.prototype.swapComponentForNode=function(e,n,i){var r=e.getGui();n.replaceChild(r,i),n.insertBefore(document.createComment(i.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)},t.prototype.swapInComponentForQuerySelectors=function(e,n){var i=this;this.iterateOverQuerySelectors(function(r){i[r.attributeName]===n&&(i[r.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var n=Object.getPrototypeOf(this);null!=n;){var i=n.__agComponentMetaData,r=ut(n.constructor);i&&i[r]&&i[r].querySelectors&&i[r].querySelectors.forEach(function(c){return e(c)}),n=Object.getPrototypeOf(n)}},t.prototype.setTemplate=function(e,n){var i=Ri(e);this.setTemplateFromElement(i,n)},t.prototype.setTemplateFromElement=function(e,n){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var n=this;this.iterateOverQuerySelectors(function(i){var r=function(S){return n[i.attributeName]=S};if(i.refSelector&&e.eGui.getAttribute("ref")===i.refSelector)r(e.eGui);else{var f=e.eGui.querySelector(i.querySelector);f&&r(f.__agComponent||f)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,n){if(n||(n=this.eGui),null!=e)if(Fe(e))n.appendChild(e);else{var i=e;n.appendChild(i.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,i))}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,br(this.eGui,e))},t.prototype.setDisplayed=function(e){e!==this.displayed&&(this.displayed=e,Mi(this.eGui,e),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),o.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,n){var i=this;this.eGui.addEventListener(e,n),this.addDestroyFunc(function(){return i.eGui.removeEventListener(e,n)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,n){this.cssClassManager.addOrRemoveCssClass(e,n)},t.prototype.getAttribute=function(e){var n=this.eGui;return n?n.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",Pu([D("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),Pu([Dn],t.prototype,"preConstructOnComponent",null),Pu([Dn],t.prototype,"createChildComponentsPreConstruct",null),t}(he);function Gn(o){return za.bind(this,"[ref="+o+"]",o)}function za(o,t,e,n,i){null!==o?"number"!=typeof i?function Y(o,t,e){var n=function ce(o,t){return o.__agComponentMetaData||(o.__agComponentMetaData={}),o.__agComponentMetaData[t]||(o.__agComponentMetaData[t]={}),o.__agComponentMetaData[t]}(o,ut(o.constructor));n[t]||(n[t]=[]),n[t].push(e)}(e,"querySelectors",{attributeName:n,querySelector:o,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var T=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),X=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ze=function(o){function t(){return o.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return T(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(n+" "+i("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var n=this;e?this.params.parentFilterInstance(function(i){if(i.getModelAsString){var r=i.getModelAsString(e);n.eFloatingFilterText.setValue(r)}}):this.eFloatingFilterText.setValue("")},X([Gn("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),X([D("columnModel")],t.prototype,"columnModel",void 0),t}(or),Ht=function(){function o(t,e,n,i){var r=this;this.alive=!0,this.context=t,this.eParent=i,e.getDateCompDetails(n).newAgStackInstance().then(function(S){r.alive?(r.dateComp=S,S&&(i.appendChild(S.getGui()),S.afterGuiAttached&&S.afterGuiAttached(),r.tempValue&&S.setDate(r.tempValue),null!=r.disabled&&r.setDateCompDisabled(r.disabled))):t.destroyBean(S)})}return o.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},o.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},o.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},o.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},o.prototype.setDisplayed=function(t){Mi(this.eParent,t)},o.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},o.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},o.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},o.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},o}(),jn=function(){return jn=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},jn.apply(this,arguments)},Pi=function(){function o(){this.customFilterOptions={}}return o.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t),this.checkForDeprecatedParams()},o.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(t){return"string"!=typeof t&&null!=t.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(t){return"string"!=typeof t&&null!=t.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},o.prototype.getFilterOptions=function(){return this.filterOptions},o.prototype.mapCustomOptions=function(){var t=this;!this.filterOptions||this.filterOptions.forEach(function(e){if("string"!=typeof e){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(f){return!!f.some(function(S){return null!=e[S]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+f+"'"),!1)}))return void(t.filterOptions=t.filterOptions.filter(function(f){return f===e})||[]);var r=e.test,c=jn({},e);null!=r&&null==e.predicate&&(c.predicate=function(f,S){return r(f[0],S)},delete c.test),c.hideFilterInput&&null==c.numberOfInputs&&(c.numberOfInputs=0,delete c.hideFilterInput),t.customFilterOptions[e.displayKey]=c}})},o.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},o.prototype.getDefaultOption=function(){return this.defaultOption},o.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},o}(),Yi={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Nn=function(){function o(){}return o.BACKSPACE="Backspace",o.TAB="Tab",o.ENTER="Enter",o.ESCAPE="Escape",o.SPACE=" ",o.LEFT="ArrowLeft",o.UP="ArrowUp",o.RIGHT="ArrowRight",o.DOWN="ArrowDown",o.DELETE="Delete",o.F2="F2",o.PAGE_UP="PageUp",o.PAGE_DOWN="PageDown",o.PAGE_HOME="Home",o.PAGE_END="End",o.A="KeyA",o.C="KeyC",o.V="KeyV",o.D="KeyD",o.Z="KeyZ",o.Y="KeyY",o}(),oo=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qo=function(){return qo=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},qo.apply(this,arguments)},Ro=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},kr=function(o){function t(e,n){void 0===n&&(n={});var i=o.call(this)||this;return i.eFocusableElement=e,i.callbacks=n,i.callbacks=qo({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(r){if(!r.defaultPrevented){var c=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,r.shiftKey);!c||(c.focus(),r.preventDefault())}}},n),i}return oo(t,o),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var n=this;this.addManagedListener(e,"keydown",function(i){if(!i.defaultPrevented&&!qt(i)){if(n.callbacks.shouldStopEventPropagation(i))return void Ir(i);i.key===Nn.TAB?n.callbacks.onTabKeyDown(i):n.callbacks.handleKeyDown&&n.callbacks.handleKeyDown(i)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",Ro([D("focusService")],t.prototype,"focusService",void 0),Ro([ft],t.prototype,"postConstruct",null),t}(he),vs=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qr=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},No=function(o){function t(e){var n=o.call(this)||this;return n.filterNameKey=e,n.applyActive=!1,n.hidePopup=null,n.appliedModel=null,n}return vs(t,o),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new kr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var n='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(n,e)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var n=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,n=this.providedFilterParams.buttons;if(!(!n||n.length<1||this.isReadOnly())){var i=document.createElement("div");i.classList.add("ag-filter-apply-panel"),Bl(n).forEach(function(c){return function(c){var f,S;switch(c){case"apply":f=e.translate("applyFilter"),S=function(K){return e.onBtApply(!1,!1,K)};break;case"clear":f=e.translate("clearFilter"),S=function(){return e.onBtClear()};break;case"reset":f=e.translate("resetFilter"),S=function(){return e.onBtReset()};break;case"cancel":f=e.translate("cancelFilter"),S=function(K){e.onBtCancel(K)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var M=Ri('<button\n                    type="button"\n                    ref="'+c+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+f+"\n                </button>");i.appendChild(M),e.addManagedListener(M,"click",S)}(c)}),this.getGui().appendChild(i)}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=Vt(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var n=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){n.updateUiVisibility(),n.applyModel()})},t.prototype.onBtCancel=function(e){var n=this,i=this.getModel(),r=function(){n.onUiChanged(!1,"prevent"),n.providedFilterParams.closeOnApply&&n.close(e)};null!=i?this.setModelIntoUi(i).then(r):this.resetUiToDefaults().then(r)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var n=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(n,e)},t.prototype.isModelValid=function(e){return!0},t.prototype.onBtApply=function(e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:n}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!n&&this.close(i)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var r,i=e&&e.key;("Enter"===i||"Space"===i)&&(r={keyboardEvent:e}),this.hidePopup(r),this.hidePopup=null}},t.prototype.onUiChanged=function(e,n){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var i=this.isModelValid(this.getModelFromUi());Jr(this.getRefElement("applyFilterButton"),!i)}e&&!n||"immediately"===n?this.onBtApply(e):(!this.applyActive&&!n||"debounce"===n)&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){null!=e&&(this.hidePopup=e.hidePopup)},t.getDebounceMs=function(e,n){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:n},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){this.hidePopup=null,o.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,Yi[e])},t.prototype.getCellValue=function(e){var n=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:n.api,colDef:n.colDef,column:n.column,columnApi:n.columnApi,context:n.context,data:e.data,getValue:function(M){return e.data[M]},node:e})},qr([D("rowModel")],t.prototype,"rowModel",void 0),qr([D("valueService")],t.prototype,"valueService",void 0),qr([ft],t.prototype,"postConstruct",null),t}(or),Ta=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ca=function(o){function t(e,n){var i=o.call(this,n)||this;return i.labelSeparator="",i.labelAlignment="left",i.label="",i.config=e||{},i}return Ta(t,o),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,n=e.labelSeparator,i=e.label,r=e.labelWidth,c=e.labelAlignment;null!=n&&this.setLabelSeparator(n),null!=i&&this.setLabel(i),null!=r&&this.setLabelWidth(r),this.setLabelAlignment(c||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){co(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),cr(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),cr(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var i=this.getGui().classList;return i.toggle("ag-label-align-left","left"===e),i.toggle("ag-label-align-right","right"===e),i.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelWidth=function(e){return null==this.label||ao(this.eLabel,e),this},function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([ft],t.prototype,"postConstruct",null),t}(or),pc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fa=function(o){function t(e,n,i){var r=o.call(this,e,n)||this;return r.className=i,r.disabled=!1,r}return pc(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},t.prototype.onValueChange=function(e){var n=this;return this.addManagedListener(this,t.EVENT_CHANGED,function(){return e(n.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return So(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,n){return this.value===e||(this.previousValue=this.value,this.value=e,n||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.prototype.setDisabled=function(e){e=!!e;var n=this.getGui();return Jr(n,e),n.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},t.EVENT_CHANGED="valueChange",t}(Ca),fc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Na=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},du=function(o){function t(e,n,i,r){var c=o.call(this,e,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(r?'role="'+r+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',n)||this;return c.pickerIcon=i,c.isPickerDisplayed=!1,c.isDestroyingPicker=!1,c.skipClick=!1,c}return fc(t,o),t.prototype.postConstruct=function(){var e=this;o.prototype.postConstruct.call(this);var n=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",n),Gs(this.eWrapper,n);var i=function(){e.skipClick?e.skipClick=!1:e.isDisabled()||(e.pickerComponent=e.showPicker())},r=this.getGui();if(this.addManagedListener(r,"mousedown",function(f){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&Yn(e.pickerComponent.getGui())&&r.contains(f.target)&&(e.skipClick=!0)}),this.addManagedListener(r,"keydown",function(f){switch(f.key){case Nn.UP:case Nn.DOWN:case Nn.ENTER:case Nn.SPACE:i();case Nn.ESCAPE:e.isPickerDisplayed&&f.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",i),this.addManagedListener(this.eLabel,"click",i),this.pickerIcon){var c=mi(this.pickerIcon,this.gridOptionsWrapper);c&&this.eIcon.appendChild(c)}},t.prototype.refreshLabel=function(){v(this.getLabel())?ps(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),o.prototype.refreshLabel.call(this)},t.prototype.setAriaLabel=function(e){return hs(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return ao(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},Na([Gn("eLabel")],t.prototype,"eLabel",void 0),Na([Gn("eWrapper")],t.prototype,"eWrapper",void 0),Na([Gn("eDisplayField")],t.prototype,"eDisplayField",void 0),Na([Gn("eIcon")],t.prototype,"eIcon",void 0),t}(Fa),Bd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ye=function(o){function t(e){void 0===e&&(e="default");var n=o.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return n.cssIdentifier=e,n.options=[],n.itemEls=[],n}return Bd(t,o),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var n=e.key;switch(n){case Nn.ENTER:if(this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}else this.setValue(this.getValue());break;case Nn.DOWN:case Nn.UP:var r=n===Nn.DOWN,c=void 0;if(e.preventDefault(),this.highlightedEl){var S=this.itemEls.indexOf(this.highlightedEl)+(r?1:-1);S=Math.min(Math.max(S,0),this.itemEls.length-1),c=this.itemEls[S]}else c=this.itemEls[r?0:this.itemEls.length-1];this.highlightItem(c)}},t.prototype.addOptions=function(e){var n=this;return e.forEach(function(i){return n.addOption(i)}),this},t.prototype.addOption=function(e){var n=e.value,r=pi(e.text||n);return this.options.push({value:n,text:r}),this.renderOption(n,r),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(n,i){Qi(n,i+1),Vi(n,e.length)})},t.prototype.renderOption=function(e,n){var i=this,r=document.createElement("div");cr(r,"option"),r.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),r.innerHTML="<span>"+n+"</span>",r.tabIndex=-1,this.itemEls.push(r),this.addManagedListener(r,"mouseover",function(){return i.highlightItem(r)}),this.addManagedListener(r,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(r,"click",function(){return i.setValue(e)}),this.getGui().appendChild(r)},t.prototype.setValue=function(e,n){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var i=this.options.findIndex(function(c){return c.value===e});if(-1!==i){var r=this.options[i];this.value=r.value,this.displayValue=null!=r.text?r.text:r.value,this.highlightItem(this.itemEls[i]),n||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var n=this.options.findIndex(function(i){return i.value===e.value});-1!==n&&this.highlightItem(this.itemEls[n])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){!e.offsetParent||(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Jn(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Jn(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Fa.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([ft],t.prototype,"init",null),t}(or),Ze=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rt=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},fn=function(o){function t(e){return o.call(this,e,"ag-select","smallDown","listbox")||this}return Ze(t,o),t.prototype.init=function(){var e=this;this.listComponent=this.createBean(new ye("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,ye.EVENT_ITEM_SELECTED,function(){e.hideList&&e.hideList()}),this.listComponent.addManagedListener(this.listComponent,Fa.EVENT_CHANGED,function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()})},t.prototype.showPicker=function(){var e=this,n=this.listComponent.getGui(),i=this.gridOptionsWrapper.getDocument(),r=this.addManagedListener(i.body,"wheel",function(M){!n.contains(M.target)&&e.hideList&&e.hideList()}),c=this.addManagedListener(n,"focusout",function(M){!n.contains(M.relatedTarget)&&e.hideList&&e.hideList()}),f=this.gridOptionsWrapper.getLocaleTextFunc(),S=this.popupService.addPopup({modal:!0,eChild:n,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,c(),r(),e.isAlive()&&(Fo(e.eWrapper,!1),e.getFocusableElement().focus())},ariaLabel:f("ariaLabelSelectField","Select Field")});return S&&(this.hideList=S.hideFunc),this.isPickerDisplayed=!0,ao(n,$e(this.eWrapper)),Fo(this.eWrapper,!0),n.style.maxHeight=_e(this.popupService.getPopupParent())+"px",n.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:n,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var n=this;return e.forEach(function(i){return n.addOption(i)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,n,i){return this.value===e?this:(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),o.prototype.setValue.call(this,e,n)))},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),o.prototype.destroy.call(this)},Rt([D("popupService")],t.prototype,"popupService",void 0),Rt([ft],t.prototype,"init",null),t}(du),In=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),li=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Fi=function(o){function t(e,n,i,r){void 0===i&&(i="text"),void 0===r&&(r="input");var c=o.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+r+' ref="eInput" class="ag-input-field-input"></'+r+">\n                </div>\n            </div>",n)||this;return c.inputType=i,c.displayFieldTag=r,c}return In(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,n=e.width,i=e.value;null!=n&&this.setWidth(n),null!=i&&this.setValue(i),this.addInputListeners()},t.prototype.refreshLabel=function(){v(this.getLabel())?ps(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),o.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(n){return e.setValue(n.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return ao(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return pn(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return hs(this.eInput,e),this},t.prototype.setDisabled=function(e){return Jr(this.eInput,e),o.prototype.setDisabled.call(this,e)},li([Gn("eLabel")],t.prototype,"eLabel",void 0),li([Gn("eWrapper")],t.prototype,"eWrapper",void 0),li([Gn("eInput")],t.prototype,"eInput",void 0),t}(Fa),qi=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dr=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},fr=(()=>(function(o){o[o.One=0]="One",o[o.Two=1]="Two"}(fr||(fr={})),fr))(),Wi=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return qi(t,o),t.prototype.getNumberOfInputs=function(e){var n=this.optionsFactory.getCustomOption(e);if(n){var i=n.numberOfInputs;return null!=i?i:1}return e&&[t.EMPTY,t.NOT_BLANK,t.BLANK].indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,n){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(fr.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(fr.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(fr.One),condition2:this.createCondition(fr.Two)}:this.createCondition(fr.One):null},t.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},t.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,n){if(!e&&!n)return!0;if(!e&&n||e&&!n)return!1;var f,i=!e.operator,r=!n.operator;if(!i&&r||i&&!r)return!1;if(i)f=this.areSimpleModelsEqual(e,n);else{var K=e,ve=n;f=K.operator===ve.operator&&this.areSimpleModelsEqual(K.condition1,ve.condition1)&&this.areSimpleModelsEqual(K.condition2,ve.condition2)}return f},t.prototype.setModelIntoUi=function(e){if(e.operator){var i=e,r="OR"===i.operator;this.eJoinOperatorAnd.setValue(!r),this.eJoinOperatorOr.setValue(r),this.eType1.setValue(i.condition1.type),this.eType2.setValue(i.condition2.type),this.setConditionIntoUi(i.condition1,fr.One),this.setConditionIntoUi(i.condition2,fr.Two)}else{var c=e;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(c.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(c,fr.One),this.setConditionIntoUi(null,fr.Two)}return Zo.resolve()},t.prototype.doesFilterPass=function(e){var n=this,i=this.getModel();if(null==i)return!0;var r=i.operator,c=[];return r?c.push(i.condition1,i.condition2):c.push(i),c[r&&"OR"===r?"some":"every"](function(M){return n.individualConditionPasses(e,M)})},t.prototype.setParams=function(e){o.prototype.setParams.call(this,e),this.optionsFactory=new Pi,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.allowTwoConditions=!e.suppressAndOrCondition,this.alwaysShowBothConditions=!!e.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.getDefaultJoinOperator=function(e){return We(["AND","OR"],e)?e:"AND"},t.prototype.putOptionsIntoDropdown=function(){var e=this,n=this.optionsFactory.getFilterOptions(),i=[this.eType1,this.eType2];n.forEach(function(r){var c="string"==typeof r?e.createBoilerplateListOption(r):e.createCustomListOption(r);i.forEach(function(f){return f.addOption(c)})}),i.forEach(function(r){return r.setDisabled(n.length<=1)})},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var n=e.displayKey,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:n,text:i?this.gridOptionsWrapper.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(n)}},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(fr.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(fr.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this,i=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(r,c){var f=e.isConditionVisible(c),S=e.isConditionDisabled(c);r.forEach(function(M){M instanceof Fi||M instanceof fn?(M.setDisabled(S),M.setDisplayed(f)):(Jr(M,S),Mi(M,f))})}),i.forEach(function(r,c){Mi(r,e.isConditionBodyVisible(c))}),this.forEachInput(function(r,c,f,S){e.setElementDisplayed(r,c<S),e.setElementDisabled(r,e.isConditionDisabled(f))}),this.resetPlaceholder()},t.prototype.afterGuiAttached=function(e){if(o.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){var n=this.getInputs()[0][0];if(!n)return;n instanceof Fi&&n.getInputElement().focus()}},t.prototype.resetPlaceholder=function(){var e=this,n=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(i,r,c,f){if(i instanceof Fi){var S=0===r&&f>1?"inRangeStart":0===r?"filterOoo":"inRangeEnd",M=0===r&&f>1?n("ariaFilterFromValue","Filter from value"):0===r?n("ariaFilterValue","Filter Value"):n("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(e.translate(S)),i.setInputAriaLabel(M)}})},t.prototype.setElementValue=function(e,n,i){e instanceof Fi&&e.setValue(null!=n?String(n):null,i)},t.prototype.setElementDisplayed=function(e,n){e instanceof or&&Mi(e.getGui(),n)},t.prototype.setElementDisabled=function(e,n){e instanceof or&&Jr(e.getGui(),n)},t.prototype.attachElementOnChange=function(e,n){e instanceof Fi&&e.onValueChange(n)},t.prototype.forEachInput=function(e){var n=this,i=this.getInputs();this.getConditionTypes().forEach(function(r,c){for(var f=n.getNumberOfInputs(r),S=0;S<i[c].length;S++){var M=i[c][S];null!=M&&e(M,S,c,f)}})},t.prototype.isConditionVisible=function(e){return 0===e||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(e):!!this.alwaysShowBothConditions||this.isConditionUiComplete(e-1))},t.prototype.isConditionDisabled=function(e){return!(!this.isReadOnly()&&this.isConditionVisible(e))||0!==e&&!this.isConditionUiComplete(e-1)},t.prototype.isConditionBodyVisible=function(e){if(!this.isConditionVisible(e))return!1;var n=this.getConditionTypes()[e];return this.getNumberOfInputs(n)>0},t.prototype.isConditionUiComplete=function(e){return!(this.getConditionTypes()[e]===t.EMPTY||this.getValues(e).some(function(i){return null==i}))},t.prototype.resetUiToDefaults=function(e){var n=this,r=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),c="ag-simple-filter-and-or-"+this.getCompId(),f=this.optionsFactory.getDefaultOption();return this.eType1.setValue(f,e).setAriaLabel(r).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),e).setAriaLabel(r).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),e).setName(c).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),e).setName(c).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(S){n.setElementValue(S,null,e),n.setElementDisabled(S,n.isReadOnly())}),this.resetPlaceholder(),Zo.resolve()},t.prototype.setConditionIntoUi=function(e,n){var i=this,r=this.mapValuesFromModel(e);this.forEachInput(function(c,f,S,M){S===n&&i.setElementValue(c,null!=r[f]?r[f]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var n=this;this.forEachInput(function(i,r,c,f){n.setElementValue(i,0===r&&0===c?e:null)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(){var e=this;if(!this.isReadOnly()){var n=function(){return e.onUiChanged()};this.eType1.onValueChange(n),this.eType2.onValueChange(n),this.eJoinOperatorOr.onValueChange(n),this.eJoinOperatorAnd.onValueChange(n),this.forEachInput(function(i){e.attachElementOnChange(i,n)})}},t.prototype.individualConditionPasses=function(e,n){var i=this.getCellValue(e.node),r=this.mapValuesFromModel(n),c=this.optionsFactory.getCustomOption(n.type),f=this.evaluateCustomFilter(c,r,i);return null!=f?f:null==i?this.evaluateNullValue(n.type):this.evaluateNonNullValue(r,i,n,e)},t.prototype.evaluateCustomFilter=function(e,n,i){if(null!=e){var r=e.predicate;if(null!=r&&!n.some(function(c){return null==c}))return r(n,i)}},t.prototype.isBlank=function(e){return null==e||"string"==typeof e&&0===e.trim().length},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",dr([Gn("eOptions1")],t.prototype,"eType1",void 0),dr([Gn("eOptions2")],t.prototype,"eType2",void 0),dr([Gn("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),dr([Gn("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),dr([Gn("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),dr([Gn("eCondition1Body")],t.prototype,"eCondition1Body",void 0),dr([Gn("eCondition2Body")],t.prototype,"eCondition2Body",void 0),t}(No),sa=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mr=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return sa(t,o),t.prototype.setParams=function(e){o.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,n,i){var r=this.comparator(),c=null!=e[0]?r(e[0],n):0;switch(i.type){case t.EQUALS:return 0===c;case t.NOT_EQUAL:return 0!==c;case t.GREATER_THAN:return c>0;case t.GREATER_THAN_OR_EQUAL:return c>=0;case t.LESS_THAN:return c<0;case t.LESS_THAN_OR_EQUAL:return c<=0;case t.IN_RANGE:var f=r(e[1],n);return this.scalarFilterParams.inRangeInclusive?c>=0&&f<=0:c>0&&f<0;case t.BLANK:return this.isBlank(n);case t.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(Wi),Fu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dl=function(){return Dl=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},Dl.apply(this,arguments)},$a=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},hu=function(o){function t(){var e=o.call(this,"dateFilter")||this;return e.minValidYear=1e3,e.maxValidYear=1/0,e}return Fu(t,o),t.prototype.afterGuiAttached=function(e){o.prototype.afterGuiAttached.call(this,e),this.dateCondition1FromComp.afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var n=e||{},i=n.dateFrom,r=n.dateTo,c=n.type;return[i&&W(i)||null,r&&W(r)||null].slice(0,this.getNumberOfInputs(c))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,n){return null==n||n<e?-1:n>e?1:0},t.prototype.setParams=function(e){o.prototype.setParams.call(this,e),this.dateFilterParams=e;var n=function(i,r){if(null!=e[i]){if(!isNaN(e[i]))return null==e[i]?r:Number(e[i]);console.warn("AG Grid: DateFilter "+i+" is not a number")}return r};this.minValidYear=n("minValidYear",1e3),this.maxValidYear=n("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,n=function(i){return new Ht(e.getContext(),e.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:e.dateFilterParams},i)};this.dateCondition1FromComp=n(this.eCondition1PanelFrom),this.dateCondition1ToComp=n(this.eCondition1PanelTo),this.dateCondition2FromComp=n(this.eCondition2PanelFrom),this.dateCondition2ToComp=n(this.eCondition2PanelTo),this.addDestroyFunc(function(){e.forEachInput(function(i){return i.destroy()})})},t.prototype.setElementValue=function(e,n,i){e.setDate(n)},t.prototype.setElementDisplayed=function(e,n){e.setDisplayed(n)},t.prototype.setElementDisabled=function(e,n){e.setDisabled(n)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var n=e===fr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+n+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+n+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+n+'PanelTo"></div>\n            </div>'},t.prototype.isConditionUiComplete=function(e){var n=this;if(!o.prototype.isConditionUiComplete.call(this,e))return!1;var r=!0;return this.forEachInput(function(c,f,S,M){S!==e||!r||f>=M||(r=r&&function(c){return null!=c&&c.getUTCFullYear()>=n.minValidYear&&c.getUTCFullYear()<=n.maxValidYear}(c.getDate()))}),r},t.prototype.areSimpleModelsEqual=function(e,n){return e.dateFrom===n.dateFrom&&e.dateTo===n.dateTo&&e.type===n.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var n=this.getConditionTypes()[e],i={},r=this.getValues(e);return r.length>0&&(i.dateFrom=Z(r[0])),r.length>1&&(i.dateTo=Z(r[1])),Dl({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},i)},t.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(function(r){r.setInputPlaceholder(n),r.setInputAriaLabel(i)})},t.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},t.prototype.getValues=function(e){var n=[];return this.forEachInput(function(i,r,c,f){e===c&&r<f&&n.push(i.getDate())}),n},t.DEFAULT_FILTER_OPTIONS=[mr.EQUALS,mr.GREATER_THAN,mr.LESS_THAN,mr.NOT_EQUAL,mr.IN_RANGE,mr.BLANK,mr.NOT_BLANK],$a([Gn("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),$a([Gn("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),$a([Gn("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),$a([Gn("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),$a([D("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(mr),Ih=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pu=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ih(t,o),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.getTextFromModel=function(e){if(!e)return null;if(null!=e.operator){var i=e,r=i||{},c=r.condition1,f=r.condition2,S=this.optionsFactory.getCustomOption(c.type),M=this.optionsFactory.getCustomOption(f.type);return[this.conditionToString(c,S),i.operator,this.conditionToString(f,M)].join(" ")}var K=e,ve=this.optionsFactory.getCustomOption(K.type),Pe=ve||{},dt=Pe.displayKey,vt=Pe.displayName;return dt&&vt&&0===Pe.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(dt,vt),vt):this.conditionToString(K,ve)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){e?this.lastType=(e.operator?e.condition1:e).type:this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.optionsFactory=new Pi,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var n=this.isTypeEditable(this.lastType);this.setEditable(n)},t.prototype.doesFilterHaveSingleInput=function(e){var i=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==i||1==i},t.prototype.isTypeEditable=function(e){var n=[Wi.IN_RANGE,Wi.EMPTY,Wi.BLANK,Wi.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&n.indexOf(e)<0},t}(or),Ka=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nu=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},gl=function(o){function t(){return o.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Ka(t,o),t.prototype.getDefaultFilterOptions=function(){return hu.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e,n){var i=e.type,c=i==Wi.IN_RANGE||2===(n||{}).numberOfInputs,f=W(e.dateFrom),S=W(e.dateTo);return c?Z(f,!1)+"-"+Z(S,!1):null!=f?""+Z(f,!1):""+i},t.prototype.init=function(e){o.prototype.init.call(this,e),this.params=e,this.createDateComponent();var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},t.prototype.setEditable=function(e){Mi(this.eDateWrapper,e),Mi(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,n){if(!this.isEventFromFloatingFilter(n)){o.prototype.setLastTypeFromModel.call(this,e);var i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(i),i?(this.dateComp.setDate(e?W(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(e)),this.dateComp.setDate(null))}},t.prototype.onDateChanged=function(){var e=this,i=Z(this.dateComp.getDate());this.params.parentFilterInstance(function(r){if(r){var c=W(i);r.onFloatingFilterChanged(e.getLastType()||null,c)}})},t.prototype.createDateComponent=function(){var e=this,n=No.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),i={onDateChanged:Vt(this.onDateChanged.bind(this),n),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Ht(this.getContext(),this.userComponentFactory,i,this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},Nu([D("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Nu([Gn("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),Nu([Gn("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(pu),sd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gc=function(o){function t(){return o.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return sd(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this,i=this.gridOptionsWrapper.getDocument(),r=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(e)&&(r.type="date"),this.addManagedListener(r,"mousedown",function(){n.eDateInput.isDisabled()||r.focus()}),this.addManagedListener(r,"input",function(M){M.target===i.activeElement&&(n.eDateInput.isDisabled()||e.onDateChanged())});var c=e.filterParams||{},f=c.minValidYear,S=c.maxValidYear;f&&(r.min=f+"-01-01"),S&&(r.max=S+"-12-31")},t.prototype.getDate=function(){return W(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(Z(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:Ko()||Bo()},function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([Gn("eDateInput")],t.prototype,"eDateInput",void 0),t}(or),fu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lu=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},gu=function(o){function t(){return o.call(this,"numberFilter")||this}return fu(t,o),t.prototype.mapValuesFromModel=function(e){var n=e||{},i=n.filter,r=n.filterTo;return[null==i?null:i,null==r?null:r].slice(0,this.getNumberOfInputs(n.type))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,n){return e===n?0:e<n?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e;var n=this.getAllowedCharPattern();if(n){var i={allowedCharPattern:n};this.resetTemplate({"eValue-index0-1":i,"eValue-index1-1":i,"eValue-index0-2":i,"eValue-index1-2":i})}o.prototype.setParams.call(this,e)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var n=e===fr.One?"1":"2",r=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+n+'Body" role="presentation">\n                <'+r+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+n+'"></'+r+">\n                <"+r+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+n+'"></'+r+">\n            </div>"},t.prototype.getValues=function(e){var n=this,i=[];return this.forEachInput(function(r,c,f,S){e===f&&c<S&&i.push(n.stringToFloat(r.getValue()))}),i},t.prototype.areSimpleModelsEqual=function(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type},t.prototype.getFilterType=function(){return"number"},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var n=R(e);return null!=n&&""===n.trim()&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):null==n||"-"===n.trim()?null:parseFloat(n)},t.prototype.createCondition=function(e){var n=this.getConditionTypes()[e],i={filterType:this.getFilterType(),type:n},r=this.getValues(e);return r.length>0&&(i.filter=r[0]),r.length>1&&(i.filterTo=r[1]),i},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Ko()||Es()?null:"\\d\\-\\.")},t.DEFAULT_FILTER_OPTIONS=[mr.EQUALS,mr.NOT_EQUAL,mr.LESS_THAN,mr.LESS_THAN_OR_EQUAL,mr.GREATER_THAN,mr.GREATER_THAN_OR_EQUAL,mr.IN_RANGE,mr.BLANK,mr.NOT_BLANK],Lu([Gn("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),Lu([Gn("eValue-index1-1")],t.prototype,"eValueTo1",void 0),Lu([Gn("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),Lu([Gn("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(mr),tl=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nl=function(){return nl=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},nl.apply(this,arguments)},il=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ld=function(o){function t(){return o.call(this,"textFilter")||this}return tl(t,o),t.trimInput=function(e){var n=e&&e.trim();return""===n?e:n},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){o.prototype.setParams.call(this,e),this.textFilterParams=e,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(rr.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(n){return e(n.filterOption,n.value,n.filterText)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var n=this.getConditionTypes()[e],i={filterType:this.getFilterType(),type:n},r=this.getValues(e);return r.length>0&&(i.filter=r[0]),r.length>1&&(i.filterTo=r[1]),i},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getValues=function(e){var n=this,i=[];return this.forEachInput(function(r,c,f,S){if(e===f&&c<S){var M=R(r.getValue()),K=(n.textFilterParams.trimInput?t.trimInput(M):M)||null;i.push(K),r.setValue(K,!0)}}),i},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var n=e===fr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+n+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+n+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+n+'"></ag-input-text-field>\n            </div>'},t.prototype.mapValuesFromModel=function(e){var n=e||{};return[n.filter||null,n.filterTo||null].slice(0,this.getNumberOfInputs(n.type))},t.prototype.evaluateNullValue=function(e){return!!e&&[Wi.NOT_EQUAL,Wi.NOT_CONTAINS,Wi.BLANK].indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,n,i,r){var c=this,f=e.map(function(zn){return c.formatter(zn)})||[],S=this.formatter(n),M=this.textFilterParams,K=M.api,ve=M.colDef,Pe=M.column,dt=M.columnApi,vt=M.context,sn=M.textFormatter;if(i.type===Wi.BLANK)return this.isBlank(n);if(i.type===Wi.NOT_BLANK)return!this.isBlank(n);var wn={api:K,colDef:ve,column:Pe,columnApi:dt,context:vt,node:r.node,data:r.data,filterOption:i.type,value:S,textFormatter:sn};return f.some(function(zn){return c.matcher(nl(nl({},wn),{filterText:zn}))})},t.DEFAULT_FILTER_OPTIONS=[Wi.CONTAINS,Wi.NOT_CONTAINS,Wi.EQUALS,Wi.NOT_EQUAL,Wi.STARTS_WITH,Wi.ENDS_WITH,Wi.BLANK,Wi.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var i=e.value,r=e.filterText;if(null==r)return!1;switch(e.filterOption){case t.CONTAINS:return i.indexOf(r)>=0;case t.NOT_CONTAINS:return i.indexOf(r)<0;case t.EQUALS:return i===r;case t.NOT_EQUAL:return i!=r;case t.STARTS_WITH:return 0===i.indexOf(r);case t.ENDS_WITH:var c=i.lastIndexOf(r);return c>=0&&c===i.length-r.length;default:return!1}},il([Gn("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),il([Gn("eValue-index1-1")],t.prototype,"eValueTo1",void 0),il([Gn("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),il([Gn("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(Wi),Oh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},vc=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Oh(t,o),t.prototype.postConstruct=function(){this.resetTemplate()},t.prototype.resetTemplate=function(e){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',e)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,n){this.isEventFromFloatingFilter(n)||(this.setLastTypeFromModel(e),this.eFloatingFilterInput.setValue(this.getTextFromModel(e)),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)))},t.prototype.init=function(e){o.prototype.init.call(this,e),this.params=e,this.applyActive=No.isUseApplyButton(this.params.filterParams);var n=this.params.filterParams.allowedCharPattern;if(null!=n&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:n}}),!this.isReadOnly()){var i=No.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=Vt(this.syncUpWithParentFilter.bind(this),i),c=this.eFloatingFilterInput.getGui();this.addManagedListener(c,"input",r),this.addManagedListener(c,"keypress",r),this.addManagedListener(c,"keydown",r)}var f=e.column.getDefinition();(this.isReadOnly()||f.filterParams&&f.filterParams.filterOptions&&1===f.filterParams.filterOptions.length&&"inRange"===f.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var S=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),M=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(S+" "+M("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var n=this;if(!this.applyActive||e.key===Nn.ENTER){var r=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(r=ld.trimInput(r),this.eFloatingFilterInput.setValue(r,!0)),this.params.parentFilterInstance(function(c){c&&c.onFloatingFilterChanged(n.getLastType()||null,r||null)})}},t.prototype.conditionToString=function(e,n){return e.type==Wi.IN_RANGE||2===(n||{}).numberOfInputs?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},mc([D("columnModel")],t.prototype,"columnModel",void 0),mc([Gn("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),mc([ft],t.prototype,"postConstruct",null),t}(pu),Hf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uf=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Hf(t,o),t.prototype.getDefaultFilterOptions=function(){return gu.DEFAULT_FILTER_OPTIONS},t}(vc),Op=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mh=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Op(t,o),t.prototype.getDefaultFilterOptions=function(){return ld.DEFAULT_FILTER_OPTIONS},t}(vc),wa=function(){function o(t,e){var n=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new rn,this.eElement=t,this.preventMouseClick=e;var i=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),c=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",c,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",i,{passive:!0}),n.eElement.removeEventListener("touchmove",r,{passive:!0}),n.eElement.removeEventListener("touchend",c,{passive:!1})})}return o.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},o.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},o.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){e.touching&&e.touchStart===n&&!e.moved&&(e.moved=!0,e.eventService.dispatchEvent({type:o.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t}))},500)}},o.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);e&&!kl(e,this.touchStart,4)&&(this.moved=!0)}},o.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:o.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.preventDefault(),this.touching=!1)},o.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>o.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:o.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},o.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},o.EVENT_TAP="tap",o.EVENT_DOUBLE_TAP="doubleTap",o.EVENT_LONG_TAP="longTap",o.DOUBLE_TAP_MILLIS=500,o}(),yc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Aa=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Wf=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return yc(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=Oi(this.params.template,t.TEMPLATE);return e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var n=pi(this.currentDisplayName);this.eText&&(this.eText.innerHTML=n)}},t.prototype.setupIcons=function(e){this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,n,i){if(null!=n){var r=mi(e,this.gridOptionsWrapper,i);r&&n.appendChild(r)}},t.prototype.setupTap=function(){var e=this,n=this.gridOptionsWrapper;if(!n.isSuppressTouch()){var i=new wa(this.getGui(),!0),r=n.isSuppressMenuHide(),c=r&&v(this.eMenu),f=c?new wa(this.eMenu,!0):i;this.params.enableMenu&&this.addManagedListener(f,wa[c?"EVENT_TAP":"EVENT_LONG_TAP"],function(ve){n.getApi().showColumnMenuAfterMouseClick(e.params.column,ve.touchStart)}),this.params.enableSorting&&this.addManagedListener(i,wa.EVENT_TAP,function(ve){r&&e.eMenu.contains(ve.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return i.destroy()}),c&&this.addDestroyFunc(function(){return f.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsWrapper.isSuppressMenuHide(),n=ns()&&e;return this.params.enableMenu&&!n},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void ho(this.eMenu);var n=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",n)}},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.removeSortIcons=function(){ho(this.eSortAsc),ho(this.eSortDesc),ho(this.eSortNone),ho(this.eSortOrder)},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var n=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,ri.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(i){var r=e.params.column.isMoving(),c=(new Date).getTime();r||c-e.lastMovingChanged<50||e.params.progressSort(n?i.ctrlKey||i.metaKey:i.shiftKey)}),this.addManagedListener(this.params.column,ri.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,nt.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},t.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var e=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",e||!this.params.column.isSortNone())}},t.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var e=this.params.column,n=this.sortController.getColumnsWithSortingOrdered(),i=n.indexOf(e),r=n.length>1,c=e.isSorting()&&r;Mi(this.eSortOrder,c),i>=0?this.eSortOrder.innerHTML=(i+1).toString():co(this.eSortOrder)}},t.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,ri.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!e)},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',Aa([D("sortController")],t.prototype,"sortController",void 0),Aa([D("menuFactory")],t.prototype,"menuFactory",void 0),Aa([Gn("eFilter")],t.prototype,"eFilter",void 0),Aa([Gn("eSortAsc")],t.prototype,"eSortAsc",void 0),Aa([Gn("eSortDesc")],t.prototype,"eSortDesc",void 0),Aa([Gn("eSortNone")],t.prototype,"eSortNone",void 0),Aa([Gn("eSortOrder")],t.prototype,"eSortOrder",void 0),Aa([Gn("eMenu")],t.prototype,"eMenu",void 0),Aa([Gn("eLabel")],t.prototype,"eLabel",void 0),Aa([Gn("eText")],t.prototype,"eText",void 0),t}(or),Gd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ku=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Sl=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return Gd(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){this.params.template&&Mt(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var n=function(c){if(!qt(c)){var f=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),f,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,n),this.addTouchAndClickListeners(this.eOpenIcon,n);var i=function(c){Ir(c)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",n),this.updateIconVisibility();var r=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(r,dn.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(r,dn.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,n){var i=new wa(e,!0);this.addManagedListener(i,wa.EVENT_TAP,n),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(e,"click",n)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var n=this.params.columnGroup.isExpanded();Mi(this.eOpenIcon,n),Mi(this.eCloseIcon,!n)}else Mi(this.eOpenIcon,!1),Mi(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,n){var i=mi(e,this.gridOptionsWrapper,null);i&&this.getRefElement(n).appendChild(i)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Mi(this.eOpenIcon,!1),void Mi(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(v(e)){var n=pi(e);this.getRefElement("agLabel").innerHTML=n}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',ku([D("columnModel")],t.prototype,"columnModel",void 0),ku([Gn("agOpened")],t.prototype,"eOpenIcon",void 0),ku([Gn("agClosed")],t.prototype,"eCloseIcon",void 0),t}(or),Vd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ya=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Vd(t,o),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),o.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),o.prototype.destroy.call(this)},t}(or),xh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vl=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return xh(t,o),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),v(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var n=e.key;(n===Nn.LEFT||n===Nn.UP||n===Nn.RIGHT||n===Nn.DOWN||e.shiftKey&&n===Nn.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([Gn("eTextArea")],t.prototype,"eTextArea",void 0),t}(Ya),Mp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_c=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Ph=function(o){function t(){var e=o.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return Mp(t,o),t.prototype.init=function(e){var n=this;if(this.focusAfterAttached=e.cellStartedEdit,V(e.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=e.eventKey&&e.eventKey===Nn.ENTER;var i=!1;e.values.forEach(function(r){var c={value:r},f=n.valueFormatterService.formatValue(e.column,null,null,r);c.text=null!=f?f:r,n.eSelect.addOption(c),i=i||e.value===r}),i?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},_c([D("valueFormatterService")],t.prototype,"valueFormatterService",void 0),_c([Gn("eSelect")],t.prototype,"eSelect",void 0),t}(Ya),Fh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ss=function(o){function t(){var e=o.call(this)||this;return Mt(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),e}return Fh(t,o),t.prototype.isPopup=function(){return!0},t}(Ph),La=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cc=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return La(t,o),t.prototype.init=function(e){this.params=e;var i,n=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.eventKey===Nn.BACKSPACE||e.eventKey===Nn.DELETE?i="":e.charPress?i=e.charPress:(i=this.getStartValue(e),e.eventKey!==Nn.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,i=this.getStartValue(e)),null!=i&&n.setValue(i,!0),this.addManagedListener(n.getGui(),"keydown",function(r){var c=r.key;(c===Nn.PAGE_UP||c===Nn.PAGE_DOWN)&&r.preventDefault()})},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=this.eInput;if(n.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached){es()||n.getFocusableElement().focus();var i=n.getInputElement();if(this.highlightAllOnFocus)i.select();else{var r=n.getValue(),c=v(r)&&r.length||0;c&&i.setSelectionRange(c,c)}}},t.prototype.focusIn=function(){var e=this.eInput,n=e.getFocusableElement(),i=e.getInputElement();n.focus(),i.select()},t.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([Gn("eInput")],t.prototype,"eInput",void 0),t}(Ya),Nh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hd=function(o){function t(){var e=o.call(this)||this;return Mt(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),e}return Nh(t,o),t.prototype.isPopup=function(){return!0},t}(Cc),xp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kh=function(o){function t(){var e=o.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e}return xp(t,o),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,n){var i=Math.abs(n),r=e.formatValue(i),c=v(r)?r:i,f=n>=0;this.eDelta.innerHTML=f?"\u2191"+c:"\u2193"+c,this.eDelta.classList.toggle("ag-value-change-delta-up",f),this.eDelta.classList.toggle("ag-value-change-delta-down",!f)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var n=this.refreshCount;window.setTimeout(function(){n===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),co(this.eDelta)},t.prototype.refresh=function(e){var n=e.value;return n!==this.lastValue&&(v(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:v(e.value)?this.eValue.innerHTML=n:co(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof n&&"number"==typeof this.lastValue&&this.showDelta(e,n-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=n,!0)},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([D("filterManager")],t.prototype,"filterManager",void 0),t}(or),Pp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rl=function(o){function t(){var e=o.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return Pp(t,o),t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var n=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Ri('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){n===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){n===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var n=e.value;return V(n)&&(n=""),n!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=n,v(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:v(e.value)?this.eCurrent.innerHTML=n:co(this.eCurrent),!0)},t.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([D("filterManager")],t.prototype,"filterManager",void 0),t}(or);!function(o){o[o.Above=0]="Above",o[o.Below=1]="Below"}(B.RowHighlightPosition||(B.RowHighlightPosition={}));var Nr=function(){function o(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=o.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.onRowHeightChangedDebounced=Vt(this.onRowHeightChanged.bind(this),100),this.beans=t}return o.prototype.setData=function(t){this.setDataCommon(t,!1)},o.prototype.updateData=function(t){this.setDataCommon(t,!0)},o.prototype.setDataCommon=function(t,e){var n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var i=this.createDataChangedEvent(t,n,e);this.dispatchLocalEvent(i)},o.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},o.prototype.createDataChangedEvent=function(t,e,n){return{type:o.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:n}},o.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},o.prototype.getRowIndexString=function(){return this.rowPinned===Qe.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===Qe.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},o.prototype.createDaemonNode=function(){var t=new o(this.beans);return t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},o.prototype.setDataAndId=function(t,e){var n=v(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.beans.selectionService.syncInRowNode(this,n),this.checkRowSelectable();var r=this.createDataChangedEvent(t,i,!1);this.dispatchLocalEvent(r)},o.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!t||t(this))},o.prototype.setRowSelectable=function(t){this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_SELECTABLE_CHANGED)))},o.prototype.setId=function(t){var e=this.beans.gridOptionsWrapper.getRowIdFunc();if(e)if(this.data){var n=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(o.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+o.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},o.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],n=this;for(t&&(n=n.parent);n&&n.level>=0;)e.push(n.key),n=n.parent;return e.reverse(),e},o.prototype.isPixelInRange=function(t){return!(!v(this.rowTop)||!v(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight},o.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_FIRST_CHILD_CHANGED)))},o.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_LAST_CHILD_CHANGED)))},o.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_CHILD_INDEX_CHANGED)))},o.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},o.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},o.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_DISPLAYED_CHANGED)))},o.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_DRAGGING_CHANGED)))},o.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HIGHLIGHT_CHANGED)))},o.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},o.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_MASTER_CHANGED)))},o.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_GROUP_CHANGED)))},o.prototype.setRowHeight=function(t,e){void 0===e&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HEIGHT_CHANGED))},o.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Vt(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},o.prototype.checkAutoHeights=function(){var t=!1,e=!0,n=0,i=this.__autoHeights;null!=i&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(c){var f=i[c.getId()];null!=f?(e=!1,f>n&&(n=f)):t=!0}),!t&&((e||n<10)&&(n=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),n!=this.rowHeight&&(this.setRowHeight(n),this.onRowHeightChangedDebounced())))},o.prototype.onRowHeightChanged=function(){var t=this.beans.rowModel;t.onRowHeightChanged&&t.onRowHeightChanged()},o.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_ROW_INDEX_CHANGED)))},o.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_UI_LEVEL_CHANGED)))},o.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(nt.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},o.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},o.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},o.prototype.setDataValue=function(t,e,n){var i=this.beans.columnModel.getPrimaryColumn(t),r=this.beans.valueService.getValue(i,this),c=this.beans.valueService.setValue(this,i,e,n);return this.dispatchCellChangedEvent(i,e,r),c},o.prototype.setGroupValue=function(t,e){var n=this.beans.columnModel.getGridColumn(t);V(this.groupData)&&(this.groupData={});var i=n.getColId(),r=this.groupData[i];r!==e&&(this.groupData[i]=e,this.dispatchCellChangedEvent(n,e,r))},o.prototype.setAggData=function(t){var e=this,n=ke([this.aggData,t]),i=this.aggData;this.aggData=t,this.eventService&&n.forEach(function(r){var c=e.beans.columnModel.getGridColumn(r);e.dispatchCellChangedEvent(c,e.aggData?e.aggData[r]:void 0,i?i[r]:void 0)})},o.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HAS_CHILDREN_CHANGED)))},o.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},o.prototype.isEmptyRowGroupNode=function(){return this.group&&I(this.childrenAfterGroup)},o.prototype.dispatchCellChangedEvent=function(t,e,n){this.dispatchLocalEvent({type:o.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:n})},o.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},o.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},o.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},o.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},o.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,i=!1;if(null===(t=this.childrenAfterGroup)||void 0===t?void 0:t.length){for(var c=0;c<this.childrenAfterGroup.length;c++){var f=this.childrenAfterGroup[c];if(f.selectable)switch(f.isSelected()){case!0:e=!0;break;case!1:n=!0;break;default:i=!0}}this.selectThisNode(i?void 0:!(!e||n)||!(!e&&n)&&void 0)}},o.prototype.setSelectedInitialValue=function(t){this.selected=t},o.prototype.setSelected=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:n,rangeSelect:!1})},o.prototype.isRowPinned=function(){return this.rowPinned===Qe.PINNED_TOP||this.rowPinned===Qe.PINNED_BOTTOM},o.prototype.setSelectedParams=function(t){var e,n=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),i=!0===t.newValue,r=!0===t.clearSelection,c=!0===t.suppressFinishActions,f=!0===t.rangeSelect,S=n&&!0===t.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(t);if(f&&this.beans.selectionService.getLastSelectedNode()){var M=this.beans.selectionService.getLastSelectedNode()!==this,K=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(M&&K){var ve=this.doRowRangeSelection(t.newValue);return this.beans.selectionService.setLastSelectedNode(this),ve}}var Pe=0;return S&&this.group||this.selectThisNode(i)&&Pe++,n&&(null===(e=this.childrenAfterGroup)||void 0===e?void 0:e.length)&&(Pe+=this.selectChildNodes(i,S)),c||(i&&(r||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(Pe+=this.beans.selectionService.clearOtherNodes(this)),Pe>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:nt.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),i&&this.beans.selectionService.setLastSelectedNode(this)),Pe},o.prototype.doRowRangeSelection=function(t){var e=this;void 0===t&&(t=!0);var n=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),i=this.beans.selectionService.getLastSelectedNode(),r=this.beans.rowModel.getNodesInRangeForSelection(this,i),c=0;return r.forEach(function(S){S.group&&n||!1===t&&e===S||S.selectThisNode(t)&&c++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:nt.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),c},o.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},o.prototype.selectThisNode=function(t){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_ROW_SELECTED));var i=this.createGlobalRowEvent(nt.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(i),!0},o.prototype.selectChildNodes=function(t,e){var n=e?this.childrenAfterAggFilter:this.childrenAfterGroup;if(V(n))return 0;for(var i=0,r=0;r<n.length;r++)i+=n[r].setSelectedParams({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:e});return i},o.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new rn),this.eventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){!this.eventService||(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},o.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_MOUSE_ENTER))},o.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_MOUSE_LEAVE))},o.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,n=!0,i=!1,r=null;n&&!i;){var c=e.parent;v(c)&&e.firstChild?c.rowGroupColumn===t&&(i=!0,r=c):n=!1,e=c}return i?r:null},o.prototype.isFullWidthCell=function(){var t=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!t&&t({rowNode:this})},o.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},o.ID_PREFIX_ROW_GROUP="row-group-",o.ID_PREFIX_TOP_PINNED="t-",o.ID_PREFIX_BOTTOM_PINNED="b-",o.OBJECT_ID_SEQUENCE=0,o.EVENT_ROW_SELECTED="rowSelected",o.EVENT_DATA_CHANGED="dataChanged",o.EVENT_CELL_CHANGED="cellChanged",o.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",o.EVENT_MASTER_CHANGED="masterChanged",o.EVENT_GROUP_CHANGED="groupChanged",o.EVENT_MOUSE_ENTER="mouseEnter",o.EVENT_MOUSE_LEAVE="mouseLeave",o.EVENT_HEIGHT_CHANGED="heightChanged",o.EVENT_TOP_CHANGED="topChanged",o.EVENT_DISPLAYED_CHANGED="displayedChanged",o.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",o.EVENT_LAST_CHILD_CHANGED="lastChildChanged",o.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",o.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",o.EVENT_EXPANDED_CHANGED="expandedChanged",o.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",o.EVENT_SELECTABLE_CHANGED="selectableChanged",o.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",o.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",o.EVENT_DRAGGING_CHANGED="draggingChanged",o}(),zf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zo=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},so=function(o){function t(){return o.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return zf(t,o),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=this.rowNode.isSelected(),i=void 0===n?e("ariaIndeterminate","indeterminate"):!0===n?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),r=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(n,!0),this.eCheckbox.setInputAriaLabel(r+" ("+i+")")},t.prototype.onCheckedClicked=function(e){var n=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:n})},t.prototype.onUncheckedClicked=function(e){var n=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:n})},t.prototype.init=function(e){var n=this;if(this.rowNode=e.rowNode,this.column=e.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(f){return Ir(f)}),this.addGuiEventListener("dblclick",function(f){return Ir(f)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(f){var S=n.eCheckbox.getValue();void 0===n.eCheckbox.getPreviousValue()||void 0===S?0===n.onUncheckedClicked(f||{})&&n.onCheckedClicked(f):S?n.onCheckedClicked(f):n.onUncheckedClicked(f||{})}),this.addManagedListener(this.rowNode,Nr.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var c=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,c),this.addManagedListener(this.rowNode,Nr.EVENT_DATA_CHANGED,c),this.addManagedListener(this.rowNode,Nr.EVENT_CELL_CHANGED,c),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.showOrHideSelect=function(){var e=this.rowNode.selectable;e&&this.checkboxCallbackExists()&&(e=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(e)},t.prototype.checkboxCallbackExists=function(){var e=this.column?this.column.getColDef():null;return!!e&&"function"==typeof e.checkboxSelection},zo([Gn("eCheckbox")],t.prototype,"eCheckbox",void 0),zo([ft],t.prototype,"postConstruct",null),t}(or),Za=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ol=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Rl=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],n=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&n>=o.length&&(o=void 0),{value:o&&o[n++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(o){o[o.ToolPanel=0]="ToolPanel",o[o.HeaderCell=1]="HeaderCell",o[o.RowDrag=2]="RowDrag",o[o.ChartPanel=3]="ChartPanel"})(B.DragSourceType||(B.DragSourceType={})),function(o){o[o.Up=0]="Up",o[o.Down=1]="Down"}(B.VerticalDirection||(B.VerticalDirection={})),function(o){o[o.Left=0]="Left",o[o.Right=1]="Right"}(B.HorizontalDirection||(B.HorizontalDirection={}));var to=function(o){function t(){var n=null!==o&&o.apply(this,arguments)||this;return n.dragSourceAndParamsList=[],n.dropTargets=[],n}var e;return Za(t,o),e=t,t.prototype.init=function(){this.ePinnedIcon=di("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=di("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=di("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=di("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=di("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=di("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=di("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=di("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=di("dropNotAllowed",this.gridOptionsWrapper,null)},t.prototype.addDragSource=function(n,i){void 0===i&&(i=!1);var r={eElement:n.eElement,dragStartPixels:n.dragStartPixels,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:r,dragSource:n}),this.dragService.addDragSource(r,i)},t.prototype.removeDragSource=function(n){var i=this.dragSourceAndParamsList.find(function(r){return r.dragSource===n});i&&(this.dragService.removeDragSource(i.params),x(this.dragSourceAndParamsList,i))},t.prototype.clearDragSourceParamsList=function(){var n=this;this.dragSourceAndParamsList.forEach(function(i){return n.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(n,i){this.dragging=!0,this.dragSource=n,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(n){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,n,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(n,i){var r=this,c=this.getHorizontalDirection(n),f=this.getVerticalDirection(n);this.eventLastTime=n,this.positionGhost(n);var S=this.dropTargets.filter(function(Pe){return r.isMouseOnDropTarget(n,Pe)}),M=S.length,K=null;if(M>0&&(K=1===M?S[0]:S.reduce(function(Pe,dt){if(!Pe)return dt;var vt=Pe.getContainer(),sn=dt.getContainer();return vt.contains(sn)?dt:Pe})),K!==this.lastDropTarget)this.leaveLastTargetIfExists(n,c,f,i),this.enterDragTargetIfExists(K,n,c,f,i),this.lastDropTarget=K;else if(K&&K.onDragging){var ve=this.createDropTargetEvent(K,n,c,f,i);K.onDragging(ve)}},t.prototype.enterDragTargetIfExists=function(n,i,r,c,f){if(n){if(n.onDragEnter){var S=this.createDropTargetEvent(n,i,r,c,f);n.onDragEnter(S)}this.setGhostIcon(n.getIconName?n.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(n,i,r,c){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var f=this.createDropTargetEvent(this.lastDropTarget,n,i,r,c);this.lastDropTarget.onDragLeave(f)}this.setGhostIcon(null)}},t.prototype.getAllContainersFromDropTarget=function(n){var i=n.getSecondaryContainers?n.getSecondaryContainers():null,r=[[n.getContainer()]];return i?r.concat(i):r},t.prototype.allContainersIntersect=function(n,i){var r,c;try{for(var f=Rl(i),S=f.next();!S.done;S=f.next()){var K=S.value.getBoundingClientRect();if(0===K.width||0===K.height)return!1;if(!(n.clientX>=K.left&&n.clientX<K.right&&n.clientY>=K.top&&n.clientY<K.bottom))return!1}}catch(dt){r={error:dt}}finally{try{S&&!S.done&&(c=f.return)&&c.call(f)}finally{if(r)throw r.error}}return!0},t.prototype.isMouseOnDropTarget=function(n,i){var r,c,f=this.getAllContainersFromDropTarget(i),S=!1;try{for(var M=Rl(f),K=M.next();!K.done;K=M.next())if(this.allContainersIntersect(n,K.value)){S=!0;break}}catch(Pe){r={error:Pe}}finally{try{K&&!K.done&&(c=M.return)&&c.call(M)}finally{if(r)throw r.error}}return!(i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement))&&S&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.addDropTarget=function(n){this.dropTargets.push(n)},t.prototype.removeDropTarget=function(n){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==n.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(n){return n.external})},t.prototype.findExternalZone=function(n){return this.dropTargets.filter(function(r){return r.external}).find(function(r){return r.getContainer()===n.getContainer()})||null},t.prototype.getHorizontalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientX,r=n.clientX;return i===r?null:i>r?B.HorizontalDirection.Left:B.HorizontalDirection.Right},t.prototype.getVerticalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientY,r=n.clientY;return i===r?null:i>r?B.VerticalDirection.Up:B.VerticalDirection.Down},t.prototype.createDropTargetEvent=function(n,i,r,c,f){var S=n.getContainer(),M=S.getBoundingClientRect(),K=this;return{event:i,x:i.clientX-M.left,y:i.clientY-M.top,vDirection:c,hDirection:r,dragSource:K.dragSource,fromNudge:f,dragItem:K.dragItem,api:K.gridApi,columnApi:K.columnApi,dropZoneTarget:S}},t.prototype.positionGhost=function(n){var i=this.eGhost;if(i){var c=i.getBoundingClientRect().height,f=$t()-2,S=On()-2,M=n.pageY-c/2,K=n.pageX-10,ve=this.gridOptionsWrapper.getDocument(),Pe=ve.defaultView||window,dt=Pe.pageYOffset||ve.documentElement.scrollTop,vt=Pe.pageXOffset||ve.documentElement.scrollLeft;f>0&&K+i.clientWidth>f+vt&&(K=f+vt-i.clientWidth),K<0&&(K=0),S>0&&M+i.clientHeight>S+dt&&(M=S+dt-i.clientHeight),M<0&&(M=0),i.style.left=K+"px",i.style.top=M+"px"}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=Ri(e.GHOST_TEMPLATE);var n=this.environment.getTheme().theme;n&&this.eGhost.classList.add(n),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),r=this.dragSource.dragItemName;hn(r)&&(r=r()),i.innerHTML=pi(r)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var c=this.gridOptionsWrapper.getDocument(),f=null;try{f=c.fullscreenElement}catch(S){}finally{f||(f=c.querySelector("body"))}this.eGhostParent=f,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(n,i){void 0===i&&(i=!1),co(this.eGhostIcon);var r=null;switch(n||(n=this.dragSource.defaultIconName||e.ICON_NOT_ALLOWED),n){case e.ICON_PINNED:r=this.ePinnedIcon;break;case e.ICON_MOVE:r=this.eMoveIcon;break;case e.ICON_LEFT:r=this.eLeftIcon;break;case e.ICON_RIGHT:r=this.eRightIcon;break;case e.ICON_GROUP:r=this.eGroupIcon;break;case e.ICON_AGGREGATE:r=this.eAggregateIcon;break;case e.ICON_PIVOT:r=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:r=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:r=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),(r!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&r&&this.eGhostIcon.appendChild(r)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',ol([D("dragService")],t.prototype,"dragService",void 0),ol([D("environment")],t.prototype,"environment",void 0),ol([D("columnApi")],t.prototype,"columnApi",void 0),ol([D("gridApi")],t.prototype,"gridApi",void 0),ol([ft],t.prototype,"init",null),ol([Rn],t.prototype,"clearDragSourceParamsList",null),e=ol([Ae("dragAndDropService")],t)}(he),yu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ps=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Lo=function(o){function t(e,n,i,r,c,f){var S=o.call(this)||this;return S.cellValueFn=e,S.rowNode=n,S.column=i,S.customGui=r,S.dragStartPixels=c,S.suppressVisibilityChange=f,S.dragSource=null,S}return yu(t,o),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(mi("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new Bh(this,this.beans,this.rowNode,this.column):new _u(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,n){this.setTemplateFromElement(e),this.addDragSource(n)},t.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var n=this.beans.selectionService.getSelectedNodes();return-1!==n.indexOf(this.rowNode)?n.length:1},t.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&e&&Mt(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},t.prototype.addDragSource=function(e){var n=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var i={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},r=this.column&&this.column.getColDef().rowDragText,c=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:B.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var f=n.getSelectedCount();return r?r(i,f):1===f?n.cellValueFn():f+" "+c("rowDragRows","rows")},getDragItem:function(){return i},dragStartPixels:e,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Ps([D("beans")],t.prototype,"beans",void 0),Ps([ft],t.prototype,"postConstruct",null),Ps([Rn],t.prototype,"removeDragSource",null),t}(or),Fp=function(o){function t(e,n,i){var r=o.call(this)||this;return r.parent=e,r.rowNode=n,r.column=i,r}return yu(t,o),t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var n=!0,i=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=hn(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0),this.parent.setVisible(n)):(this.parent.setDisplayed(n),this.parent.setVisible(!0))}},t}(he),_u=function(o){function t(e,n,i,r){var c=o.call(this,e,i,r)||this;return c.beans=n,c}return yu(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,nt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},Ps([ft],t.prototype,"postConstruct",null),t}(Fp),Bh=function(o){function t(e,n,i,r){var c=o.call(this,e,i,r)||this;return c.beans=n,c}return yu(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,nt.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,nt.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,nt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,nt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var n=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=n&&n.shouldPreventRowMove(),r=this.beans.gridOptionsWrapper.isSuppressRowDrag(),c=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(i&&!c||r)},Ps([ft],t.prototype,"postConstruct",null),t}(Fp),ka=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gh=function(){return Gh=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},Gh.apply(this,arguments)},Bu=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Ul=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ka(t,o),t.prototype.init=function(e,n,i,r,c,f,S){this.params=S,this.eGui=n,this.eCheckbox=i,this.eExpanded=r,this.eContracted=c,this.comp=e,this.compClass=f;var M=this.isTopLevelFooter(),K=this.isEmbeddedRowMismatch(),ve=null==S.value,Pe=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var dt=S.node;dt.footer&&(Pe=(S.colDef&&S.colDef.showRowGroup)!==(dt.rowGroupColumn&&dt.rowGroupColumn.getColId()))}this.cellIsBlank=!M&&(K||ve||Pe),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,n=e.node,i=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var r=function(){Fo(i,!!n.expanded)};this.expandListener=this.addManagedListener(n,Nr.EVENT_EXPANDED_CHANGED,r)||null,r()}else fi(i)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;var i=this.columnModel.getRowGroupColumns();return!i||0===i.length||i[0].getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===Qe.PINNED_LEFT,n=this.params.pinned===Qe.PINNED_RIGHT,i=!e&&!n;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!n:!i:this.columnModel.isPinningLeft()?!e:!i},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,n=this.params.node;if(this.showingValueForOpenedParent)for(var i=n.parent;null!=i;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}V(this.displayedGroupNode)&&(this.displayedGroupNode=n)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,n=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(e.groupData){if(null!=e.rowGroupColumn){var r=e.rowGroupColumn.getId();if(n.isRowGroupDisplayed(r))return void(this.showingValueForOpenedParent=!1)}var f=null!=e.groupData[n.getId()];this.showingValueForOpenedParent=f}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),n=this.getInnerCompDetails(e),i=e.valueFormatted;this.comp.setInnerRenderer(n,null!=i?i:e.value)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,n=this.params.column;if(!e)return this.params;if(null!=n&&!n.isRowGroupDisplayed(e.getId()))return this.params;var c=this.params,f=this.params,K=this.valueFormatterService.formatValue(e,f.node,f.value);return Gh(Gh({},c),{valueFormatted:K})},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,n="";if(e){var i=st(this.params);i.value=this.params.value,"function"==typeof e?n=e(i):"string"==typeof e?n=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else n="Total "+(null!=this.params.value?this.params.value:"");var r=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(r,n)},t.prototype.getInnerCompDetails=function(e){var n=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,e);var i=this.userComponentFactory.getInnerRendererDetails(e,e),r=function(K){return K&&K.componentClass==n.compClass};if(i&&!r(i))return i;var c=this.displayedGroupNode.rowGroupColumn,f=c?c.getColDef():void 0;if(f){var S=this.userComponentFactory.getCellRendererDetails(f,e);if(S&&!r(S))return S;if(r(S)&&f.cellRendererParams&&f.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(f.cellRendererParams,e)}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Nr.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow();this.comp.setChildCount(n&&null!=e&&e>=0?"("+e+")":"")},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var n=this.params.column;return null==n||n.isRowGroupDisplayed(e.getId())},t.prototype.addExpandAndContract=function(){var e=this.params,n=mi("groupExpanded",this.gridOptionsWrapper,null),i=mi("groupContracted",this.gridOptionsWrapper,null);n&&this.eExpanded.appendChild(n),i&&this.eContracted.appendChild(i);var r=e.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListener(r,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Nr.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var c=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Nr.EVENT_ALL_CHILDREN_COUNT_CHANGED,c),this.addManagedListener(this.displayedGroupNode,Nr.EVENT_MASTER_CHANGED,c),this.addManagedListener(this.displayedGroupNode,Nr.EVENT_GROUP_CHANGED,c),this.addManagedListener(this.displayedGroupNode,Nr.EVENT_HAS_CHILDREN_CHANGED,c)},t.prototype.onExpandClicked=function(e){qt(e)||(Ir(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var n=this.displayedGroupNode;n.setExpanded(!n.expanded,e)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,n=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||n)return!1;var r=this.params.column;return null==r||"string"!=typeof r.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,i=e.displayedGroupNode,r=e.columnModel,c=e.params.node,f=this.isExpandable();if(f){var S=!!this.showingValueForOpenedParent||c.expanded;this.comp.setExpandedDisplayed(S),this.comp.setContractedDisplayed(!S)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var M=r.isPivotMode(),K=M&&i.leafGroup,ve=f&&!K,Pe=c.footer&&-1===c.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",ve),this.comp.addOrRemoveCssClass("ag-row-group",ve),M?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",K):Pe||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!ve)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Nr.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,n=e.node,i=!!e.colDef,r=this.gridOptionsWrapper.isTreeData(),f=!i||r||!0===e.colDef.showRowGroup?n.uiLevel:0;e.padding>=0&&Mt(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+f,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var n=new Lo(function(){return e.params.value},this.params.node);this.createManagedBean(n,this.context),this.eGui.insertAdjacentElement("afterbegin",n.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e?e(this.params):!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,n=this.displayedGroupNode,i=this.isUserWantsSelected()&&!n.footer&&!n.rowPinned&&!n.detail;if(i){var r=new so;this.getContext().createBean(r),r.init({rowNode:n,column:this.params.column}),this.eCheckbox.appendChild(r.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(r)})}this.comp.setCheckboxVisible(i)},t.prototype.onKeyDown=function(e){e.key!==Nn.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)},t.prototype.onCellDblClicked=function(e){qt(e)||Zi(this.eExpanded,e)||Zi(this.eContracted,e)||this.onExpandOrContract(e)},Bu([D("expressionService")],t.prototype,"expressionService",void 0),Bu([D("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Bu([D("columnModel")],t.prototype,"columnModel",void 0),Bu([D("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Bu([D("gridOptions")],t.prototype,"gridOptions",void 0),t}(he),$f=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ud=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},go=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return $f(t,o),t.prototype.init=function(e){var n=this,i={setInnerRenderer:function(S,M){return n.setRenderDetails(S,M)},setChildCount:function(S){return n.eChildCount.innerHTML=S},addOrRemoveCssClass:function(S,M){return n.addOrRemoveCssClass(S,M)},setContractedDisplayed:function(S){return Mi(n.eContracted,S)},setExpandedDisplayed:function(S){return Mi(n.eExpanded,S)},setCheckboxVisible:function(S){return n.eCheckbox.classList.toggle("ag-invisible",!S)}},r=this.createManagedBean(new Ul),c=!e.colDef,f=this.getGui();r.init(i,f,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),c&&cr(f,"gridcell")},t.prototype.setRenderDetails=function(e,n){var i=this;if(e){var r=e.newAgStackInstance();if(!r)return;r.then(function(c){if(c){var f=function(){return i.context.destroyBean(c)};i.isAlive()?(i.eValue.appendChild(c.getGui()),i.addDestroyFunc(f)):f()}})}else this.eValue.innerText=n},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),o.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',ud([Gn("eExpanded")],t.prototype,"eExpanded",void 0),ud([Gn("eContracted")],t.prototype,"eContracted",void 0),ud([Gn("eCheckbox")],t.prototype,"eCheckbox",void 0),ud([Gn("eValue")],t.prototype,"eValue",void 0),ud([Gn("eChildCount")],t.prototype,"eChildCount",void 0),t}(or),Vh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Cu=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return Vh(t,o),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},t.prototype.setupLoading=function(){var e=mi("groupLoading",this.gridOptionsWrapper,null);e&&this.eLoadingIcon.appendChild(e);var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',bc([Gn("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),bc([Gn("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(or),Wl=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ec=function(o){function t(){return o.call(this)||this}return Wl(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,i=this.gridOptionsWrapper.getLocaleTextFunc(),r=n.replace("[LOADING...]",i("loadingOoo","Loading..."));this.setTemplate(r)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(or),Np=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ys=function(o){function t(){return o.call(this)||this}return Np(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,i=this.gridOptionsWrapper.getLocaleTextFunc(),r=n.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"));this.setTemplate(r)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(or),Ud=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kf=function(o){function t(){return o.call(this,'<div class="ag-tooltip"></div>')||this}return Ud(t,o),t.prototype.init=function(e){var n=e.value;this.getGui().innerHTML=pi(n)},t}(Ya),Wd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Lp=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:gc,agColumnHeader:Wf,agColumnGroupHeader:Sl,agTextColumnFloatingFilter:Mh,agNumberColumnFloatingFilter:Uf,agDateColumnFloatingFilter:gl,agReadOnlyFloatingFilter:ze,agAnimateShowChangeCellRenderer:kh,agAnimateSlideCellRenderer:rl,agGroupCellRenderer:go,agGroupRowRenderer:go,agLoadingCellRenderer:Cu,agCellEditor:Cc,agTextCellEditor:Cc,agSelectCellEditor:Ph,agPopupTextCellEditor:Hd,agPopupSelectCellEditor:Ss,agLargeTextCellEditor:Vl,agTextColumnFilter:ld,agNumberColumnFilter:gu,agDateColumnFilter:hu,agLoadingOverlay:Ec,agNoRowsOverlay:ys,agTooltipComponent:Kf},e.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},e.jsComps={},e.fwComps={},e}return Wd(t,o),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&Le(this.gridOptions.components,function(n,i){return e.registerJsComponent(n,i)}),null!=this.gridOptions.frameworkComponents&&Le(this.gridOptions.frameworkComponents,function(n,i){return e.registerFwComponent(n,i)})},t.prototype.registerDefaultComponent=function(e,n){var i=this.translateIfDeprecated(e);this.agGridDefaults[i]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[i]=n},t.prototype.registerJsComponent=function(e,n){var i=this.translateIfDeprecated(e);this.fwComps[i]?console.error("Trying to register a component that you have already registered for frameworks: "+i):this.jsComps[i]=n},t.prototype.registerFwComponent=function(e,n){Mt(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var r=this.translateIfDeprecated(e);this.fwComps[r]=n},t.prototype.retrieve=function(e){var n=this.translateIfDeprecated(e),i=function(K,ve){return{componentFromFramework:ve,component:K}},r=this.getFrameworkOverrides().frameworkComponent(n);if(null!=r)return i(r,!0);var c=this.fwComps[n];if(c)return i(c,!0);var f=this.jsComps[n];if(f)return i(f,this.getFrameworkOverrides().isFrameworkComponent(f));var M=this.agGridDefaults[n];return M?i(M,!1):(Object.keys(this.agGridDefaults).indexOf(n)<0&&console.warn("AG Grid: Looking for component ["+n+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(e){var n=this.agDeprecatedNames[e];return null!=n?(Mt(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+n.propertyHolder+":"+e+" to "+n.propertyHolder+":"+n.newComponentName)},"DEPRECATE_COMPONENT_"+e),n.newComponentName):e},Dc([D("gridOptions")],t.prototype,"gridOptions",void 0),Dc([D("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Dc([ft],t.prototype,"init",null),Dc([Ae("userComponentRegistry")],t)}(he),jd={propertyName:"dateComponent",cellRenderer:!1},Yf={propertyName:"headerComponent",cellRenderer:!1},Sc={propertyName:"headerGroupComponent",cellRenderer:!1},Hh={propertyName:"cellRenderer",cellRenderer:!0},rm={propertyName:"cellEditor",cellRenderer:!1},qs={propertyName:"innerRenderer",cellRenderer:!0},Gu={propertyName:"loadingOverlayComponent",cellRenderer:!1},la={propertyName:"noRowsOverlayComponent",cellRenderer:!1},jl={propertyName:"tooltipComponent",cellRenderer:!1},Ia={propertyName:"filter",cellRenderer:!1},cd={propertyName:"floatingFilterComponent",cellRenderer:!1},ua={propertyName:"toolPanel",cellRenderer:!1},ml={propertyName:"statusPanel",cellRenderer:!1},zd={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Ba={propertyName:"loadingCellRenderer",cellRenderer:!0},Rc={propertyName:"groupRowRenderer",cellRenderer:!0},Uh={propertyName:"detailCellRenderer",cellRenderer:!0},kp=function(){function o(){}return o.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},o.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},o}(),wu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tl=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Wh=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return wu(t,o),t.prototype.getHeaderCompDetails=function(e,n){return this.getCompDetails(e,Yf,"agColumnHeader",n)},t.prototype.getHeaderGroupCompDetails=function(e){var n=e.columnGroup.getColGroupDef();return this.getCompDetails(n,Sc,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,zd,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Ba,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Rc,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Uh,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,n){return this.getCompDetails(e,qs,null,n)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,n){return this.getCompDetails(e,qs,null,n)},t.prototype.getCellRendererDetails=function(e,n){return this.getCompDetails(e,Hh,null,n)},t.prototype.getCellEditorDetails=function(e,n){return this.getCompDetails(e,rm,"agCellEditor",n,!0)},t.prototype.getFilterDetails=function(e,n,i){return this.getCompDetails(e,Ia,i,n,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,jd,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,Gu,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,la,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,jl,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,n){return this.getCompDetails(e,Hh,null,n)},t.prototype.getFloatingFilterCompDetails=function(e,n,i){return this.getCompDetails(e,cd,i,n)},t.prototype.getToolPanelCompDetails=function(e,n){return this.getCompDetails(e,ua,null,n,!0)},t.prototype.getStatusPanelCompDetails=function(e,n){return this.getCompDetails(e,ml,null,n,!0)},t.prototype.getCompDetails=function(e,n,i,r,c){var f=this;void 0===c&&(c=!1);var S=n.propertyName,M=n.cellRenderer,K=this.getCompKeys(e,n,r),ve=K.compName,Pe=K.jsComp,dt=K.fwComp,vt=K.paramsFromSelector,sn=K.popupFromSelector,wn=K.popupPositionFromSelector,zn=function(lr){var no=f.userComponentRegistry.retrieve(lr);no&&(Pe=no.componentFromFramework?void 0:no.component,dt=no.componentFromFramework?no.component:void 0)};if(null!=ve&&zn(ve),null==Pe&&null==dt&&null!=i&&zn(i),Pe&&M&&!this.agComponentUtils.doesImplementIComponent(Pe)&&(Pe=this.agComponentUtils.adaptFunction(S,Pe)),Pe||dt){var Un=this.mergeParamsWithApplicationProvidedParams(e,n,r,vt),qn=null==Pe,Di=Pe||dt;return{componentFromFramework:qn,componentClass:Di,params:Un,type:n,popupFromSelector:sn,popupPositionFromSelector:wn,newAgStackInstance:function(){return f.newAgStackInstance(Di,qn,Un,n)}}}c&&console.error("Could not find component "+ve+", did you forget to configure this component?")},t.prototype.getCompKeys=function(e,n,i){var f,S,M,K,ve,Pe,r=this,c=n.propertyName;if(e){var dt=e,vt=dt[c+"Selector"],sn=vt?vt(i):null,wn=function(Un,qn){var Di=function(){var no="AG Grid: As of v27, the property "+c+"Framework is deprecated. The property "+c+" can now be used for JavaScript AND Framework Components.";Mt(function(){return console.warn(no)},"UserComponentFactory."+c+"FrameworkDeprecated")};"string"==typeof Un?f=Un:"string"==typeof qn?(Di(),f=qn):null!=Un&&!0!==Un?r.getFrameworkOverrides().isFrameworkComponent(Un)?M=Un:S=Un:null!=qn&&(Di(),M=qn)};if(sn){if(null!=sn.frameworkComponent){var zn="AG Grid: As of v27, the return for "+c+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";Mt(function(){return console.warn(zn)},"UserComponentFactory."+c+"FrameworkSelectorDeprecated"),wn(sn.frameworkComponent,void 0)}else wn(sn.component,void 0);K=sn.params,ve=sn.popup,Pe=sn.popupPosition}else wn(dt[c],dt[c+"Framework"])}return{compName:f,jsComp:S,fwComp:M,paramsFromSelector:K,popupFromSelector:ve,popupPositionFromSelector:Pe}},t.prototype.newAgStackInstance=function(e,n,i,r){var S;if(n){var M=this.componentMetadataProvider.retrieve(r.propertyName);S=this.frameworkComponentWrapper.wrap(e,M.mandatoryMethodList,M.optionalMethodList,r)}else S=new e;var K=this.initComponent(S,i);return null==K?Zo.resolve(S):K.then(function(){return S})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,n,i,r){void 0===r&&(r=null);var c={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};it(c,i);var S=e&&e[n.propertyName+"Params"];return"function"==typeof S?it(c,S(i)):"object"==typeof S&&it(c,S),it(c,r),c},t.prototype.initComponent=function(e,n){if(this.context.createBean(e),null!=e.init)return e.init(n)},t.prototype.getDefaultFloatingFilterType=function(e){if(null==e)return null;var n=null,i=this.getCompKeys(e,Ia),r=i.compName,c=i.jsComp,f=i.fwComp;return r?n=kp.getFloatingFilterType(r):null==c&&null==f&&!0===e.filter&&(n=Cn.isRegistered(B.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),n},Tl([D("gridOptions")],t.prototype,"gridOptions",void 0),Tl([D("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Tl([D("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Tl([D("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Tl([te("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),Tl([Ae("userComponentFactory")],t)}(he);!function(o){o[o.SINGLE_SHEET=0]="SINGLE_SHEET",o[o.MULTI_SHEET=1]="MULTI_SHEET"}(B.ExcelFactoryMode||(B.ExcelFactoryMode={}));var jh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bu=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},sl=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return jh(t,o),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var n=e.dragSource.eElement;n.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&n.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var n=this.dragSources.find(function(i){return i.dragSource===e});!n||(this.removeListener(n),x(this.dragSources,n))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e,n){var i=this;void 0===n&&(n=!1);var r=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",r);var c=null,f=this.gridOptionsWrapper.isSuppressTouch();n&&!f&&e.eElement.addEventListener("touchstart",c=function(S){S.cancelable&&S.preventDefault(),i.onTouchStart(e,S)},{passive:!0}),this.dragSources.push({dragSource:e,mouseDownListener:r,touchStartListener:c,touchEnabled:n})},t.prototype.onTouchStart=function(e,n){var i=this;this.currentDragParams=e,this.dragging=!1;var r=n.touches[0];this.touchLastTime=r,this.touchStart=r;var f=function(ve){return i.onTouchUp(ve,e.eElement)},M=e.eElement,K=[{target:document,type:"touchmove",listener:function(ve){ve.cancelable&&ve.preventDefault()},options:{passive:!1}},{target:M,type:"touchmove",listener:function(ve){return i.onTouchMove(ve,e.eElement)},options:{passive:!0}},{target:M,type:"touchend",listener:f,options:{passive:!0}},{target:M,type:"touchcancel",listener:f,options:{passive:!0}}];this.addTemporaryEvents(K),0===e.dragStartPixels&&this.onCommonMove(r,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,n){var i=this,r=n;if(!(e.skipMouseEvent&&e.skipMouseEvent(n)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,0!==n.button))){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=n;var c=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:c,type:"mousemove",listener:function(Pe){return i.onMouseMove(Pe,e.eElement)}},{target:c,type:"mouseup",listener:function(Pe){return i.onMouseUp(Pe,e.eElement)}},{target:c,type:"contextmenu",listener:function(Pe){return Pe.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(n,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(n){n.target.addEventListener(n.type,n.listener,n.options)}),this.dragEndFunctions.push(function(){e.forEach(function(n){n.target.removeEventListener(n.type,n.listener,n.options)})})},t.prototype.isEventNearStartEvent=function(e,n){var i=this.currentDragParams.dragStartPixels;return kl(e,n,v(i)?i:4)},t.prototype.getFirstActiveTouch=function(e){for(var n=0;n<e.length;n++)if(e[n].identifier===this.touchStart.identifier)return e[n];return null},t.prototype.onCommonMove=function(e,n,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,n))return;this.dragging=!0,this.eventService.dispatchEvent({type:nt.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:i}),this.currentDragParams.onDragStart(n),this.currentDragParams.onDragging(n)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,n){var i=this.getFirstActiveTouch(e.touches);!i||this.onCommonMove(i,this.touchStart,n)},t.prototype.onMouseMove=function(e,n){es()&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,n)},t.prototype.isOverFormFieldElement=function(e){var n,i;return!!(null===(i=null===(n=e.target)||void 0===n?void 0:n.tagName.toLocaleLowerCase())||void 0===i?void 0:i.match("^a$|textarea|input|select|button"))},t.prototype.onTouchUp=function(e,n){var i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,n)},t.prototype.onMouseUp=function(e,n){this.onUpCommon(e,n)},t.prototype.onUpCommon=function(e,n){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:nt.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:n})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(r){return r()}),this.dragEndFunctions.length=0},bu([D("loggerFactory")],t.prototype,"loggerFactory",void 0),bu([D("columnApi")],t.prototype,"columnApi",void 0),bu([D("gridApi")],t.prototype,"gridApi",void 0),bu([D("mouseEventService")],t.prototype,"mouseEventService",void 0),bu([ft],t.prototype,"init",null),bu([Rn],t.prototype,"removeAllListeners",null),bu([Ae("dragService")],t)}(he),Bp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dd=function(){return dd=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},dd.apply(this,arguments)},al=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Gp=function(o){function t(){var n=null!==o&&o.apply(this,arguments)||this;return n.allColumnFilters=new Map,n.activeAggregateFilters=[],n.activeColumnFilters=[],n.quickFilter=null,n.quickFilterParts=null,n.processingFilterChange=!1,n}var e;return Bp(t,o),e=t,t.prototype.init=function(){var n=this;this.addManagedListener(this.eventService,nt.EVENT_GRID_COLUMNS_CHANGED,function(){return n.onColumnsChanged()}),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_VALUE_CHANGED,function(){return n.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_PIVOT_CHANGED,function(){return n.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return n.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},t.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},t.prototype.setFilterModel=function(n){var i=this,r=[],c=this.getFilterModel();if(n){var f=Bl(Object.keys(n));this.allColumnFilters.forEach(function(S,M){r.push(i.setModelOnFilterWrapper(S.filterPromise,n[M])),f.delete(M)}),f.forEach(function(S){var M=i.columnModel.getPrimaryColumn(S)||i.columnModel.getGridColumn(S);if(M)if(M.isFilterAllowed()){var K=i.getOrCreateFilterWrapper(M,"NO_UI");K?r.push(i.setModelOnFilterWrapper(K.filterPromise,n[S])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+S)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+S);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+S)})}else this.allColumnFilters.forEach(function(S){r.push(i.setModelOnFilterWrapper(S.filterPromise,null))});Zo.all(r).then(function(){var S=i.getFilterModel(),M=[];i.allColumnFilters.forEach(function(K,ve){rr.jsonEquals(c?c[ve]:null,S?S[ve]:null)||M.push(K.column)}),M.length>0&&i.onFilterChanged({columns:M})})},t.prototype.setModelOnFilterWrapper=function(n,i){return new Zo(function(r){n.then(function(c){"function"!=typeof c.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),r()),(c.setModel(i)||Zo.resolve()).then(function(){return r()})})})},t.prototype.getFilterModel=function(){var n={};return this.allColumnFilters.forEach(function(i,r){var f=i.filterPromise.resolveNow(null,function(M){return M});if(null==f)return null;if("function"==typeof f.getModel){var S=f.getModel();v(S)&&(n[r]=S)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),n},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.doAggregateFiltersPass=function(n,i){return this.doColumnFiltersPass(n,i,!0)},t.prototype.updateActiveFilters=function(){var n=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var i=function(f){return!!f&&(f.isFilterActive?f.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},r=!!this.gridOptionsWrapper.getGroupAggFiltering();this.allColumnFilters.forEach(function(f){if(f.filterPromise.resolveNow(!1,i)){var S=f.filterPromise.resolveNow(null,function(M){return M});!function(f){if(!f.isPrimary())return!0;var M=!n.columnModel.isPivotActive();return!(!f.isValueActive()||!M)&&(!!n.columnModel.isPivotMode()||r)}(f.column)?n.activeColumnFilters.push(S):n.activeAggregateFilters.push(S)}})},t.prototype.updateFilterFlagInColumns=function(n,i){this.allColumnFilters.forEach(function(r){var c=r.filterPromise.resolveNow(!1,function(f){return f.isFilterActive()});r.column.setFilterActive(c,n,i)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(n,i,r){for(var S=r?this.activeAggregateFilters:this.activeColumnFilters,M=r?n.aggData:n.data,K=0;K<S.length;K++){var ve=S[K];if(null!=ve&&ve!==i){if("function"!=typeof ve.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!ve.doesFilterPass({node:n,data:M}))return!1}}return!0},t.prototype.parseQuickFilter=function(n){return v(n)?this.gridOptionsWrapper.isRowModelDefault()?n.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(n){if(null==n||"string"==typeof n){var i=this.parseQuickFilter(n);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof n)},t.prototype.refreshFiltersForAggregations=function(){this.gridOptionsWrapper.getGroupAggFiltering()&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(n){var i=this;void 0===n&&(n={});var r=function(){return i.onFilterChanged(n)};this.rowRenderer.isRefreshInProgress()?setTimeout(r,0):r()},t.prototype.onFilterChanged=function(n){void 0===n&&(n={});var i=n.filterInstance,r=n.additionalEventAttributes,c=n.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",r),this.allColumnFilters.forEach(function(S){!S.filterPromise||S.filterPromise.then(function(M){M&&M!==i&&M.onAnyFilterChanged&&M.onAnyFilterChanged()})});var f={type:nt.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:c||[]};r&&it(f,r),this.processingFilterChange=!0,this.eventService.dispatchEvent(f),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassOtherFilters=function(n,i){return this.doesRowPassFilter({rowNode:i,filterInstanceToSkip:n})},t.prototype.doesRowPassQuickFilterNoCache=function(n,i){var r=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(f){var S=r.getQuickFilterTextForColumn(f,n);return v(S)&&S.indexOf(i)>=0})},t.prototype.doesRowPassQuickFilterCache=function(n,i){return n.quickFilterAggregateText||this.aggregateRowForQuickFilter(n),n.quickFilterAggregateText.indexOf(i)>=0},t.prototype.doesRowPassQuickFilter=function(n){var i=this,r=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(c){return r?i.doesRowPassQuickFilterCache(n,c):i.doesRowPassQuickFilterNoCache(n,c)})},t.prototype.doesRowPassAggregateFilters=function(n){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(n.rowNode,n.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(n){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(n.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(n.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(n.rowNode,n.filterInstanceToSkip))},t.prototype.getQuickFilterTextForColumn=function(n,i){var r=this.valueService.getValue(n,i,!0),c=n.getColDef();if(c.getQuickFilterText){var f={value:r,node:i,data:i.data,column:n,colDef:c,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};r=c.getQuickFilterText(f)}return v(r)?r.toString().toUpperCase():null},t.prototype.aggregateRowForQuickFilter=function(n){var i=this,r=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(f){var S=i.getQuickFilterTextForColumn(f,n);v(S)&&r.push(S)}),n.quickFilterAggregateText=r.join(e.QUICK_FILTER_SEPARATOR)},t.prototype.onNewRowsLoaded=function(n){this.allColumnFilters.forEach(function(i){i.filterPromise.then(function(r){r.onNewRowsLoaded&&r.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(n),this.updateActiveFilters()},t.prototype.createValueGetter=function(n){var i=this;return function(r){return i.valueService.getValue(n,r.node,!0)}},t.prototype.getFilterComponent=function(n,i,r){var c;if(void 0===r&&(r=!0),r)return(null===(c=this.getOrCreateFilterWrapper(n,i))||void 0===c?void 0:c.filterPromise)||null;var f=this.cachedFilter(n);return f?f.filterPromise:null},t.prototype.isFilterActive=function(n){var i=this.cachedFilter(n);return!!i&&i.filterPromise.resolveNow(!1,function(r){return r.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(n,i){if(!n.isFilterAllowed())return null;var r=this.cachedFilter(n);return r?"NO_UI"!==i&&this.putIntoGui(r,i):(r=this.createFilterWrapper(n,i),this.allColumnFilters.set(n.getColId(),r)),r},t.prototype.cachedFilter=function(n){return this.allColumnFilters.get(n.getColId())},t.prototype.createFilterInstance=function(n){var f,i=this,r=Cn.isRegistered(B.ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",c=n.getColDef(),S=dd(dd({},this.createFilterParams(n,c)),{filterModifiedCallback:function(){i.eventService.dispatchEvent({type:nt.EVENT_FILTER_MODIFIED,api:i.gridApi,columnApi:i.columnApi,column:n,filterInstance:f})},filterChangedCallback:function(ve){i.callOnFilterChangedOutsideRenderCycle({filterInstance:f,additionalEventAttributes:ve,columns:[n]})},doesRowPassOtherFilter:function(ve){return i.doesRowPassOtherFilters(f,ve)}}),M=this.userComponentFactory.getFilterDetails(c,S,r);if(!M)return null;var K=M.newAgStackInstance();return K&&K.then(function(ve){return f=ve}),K},t.prototype.createFilterParams=function(n,i){return{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:n,colDef:st(i),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(n),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}}},t.prototype.createFilterWrapper=function(n,i){var r={column:n,filterPromise:null,compiledElement:null,guiPromise:Zo.resolve(null)};return r.filterPromise=this.createFilterInstance(n),r.filterPromise&&this.putIntoGui(r,i),r},t.prototype.putIntoGui=function(n,i){var r=this,c=document.createElement("div");c.className="ag-filter",n.guiPromise=new Zo(function(f){n.filterPromise.then(function(S){var M=S.getGui();v(M)||console.warn("AG Grid: getGui method from filter returned "+M+", it should be a DOM element or an HTML template string."),"string"==typeof M&&(M=Ri(M)),c.appendChild(M),f(c),r.eventService.dispatchEvent({type:nt.EVENT_FILTER_OPENED,column:n.column,source:i,eGui:c,api:r.gridApi,columnApi:r.columnApi})})})},t.prototype.onColumnsChanged=function(){var n=this,i=[];this.allColumnFilters.forEach(function(r,c){!(r.column.isPrimary()?n.columnModel.getPrimaryColumn(c):n.columnModel.getGridColumn(c))&&(i.push(r.column),n.disposeFilterWrapper(r,"filterDestroyed"))}),i.length>0&&this.onFilterChanged({columns:i})},t.prototype.destroyFilter=function(n,i){void 0===i&&(i="api");var r=this.allColumnFilters.get(n.getColId());r&&(this.disposeFilterWrapper(r,i),this.onFilterChanged({columns:[n]}))},t.prototype.disposeFilterWrapper=function(n,i){var r=this;n.filterPromise.then(function(c){(c.setModel(null)||Zo.resolve()).then(function(){r.getContext().destroyBean(c),n.column.setFilterActive(!1,i),r.allColumnFilters.delete(n.column.getColId())})})},t.prototype.destroy=function(){var n=this;o.prototype.destroy.call(this),this.allColumnFilters.forEach(function(i){return n.disposeFilterWrapper(i,"filterDestroyed")})},t.QUICK_FILTER_SEPARATOR="\n",al([D("valueService")],t.prototype,"valueService",void 0),al([D("columnModel")],t.prototype,"columnModel",void 0),al([D("rowModel")],t.prototype,"rowModel",void 0),al([D("columnApi")],t.prototype,"columnApi",void 0),al([D("gridApi")],t.prototype,"gridApi",void 0),al([D("userComponentFactory")],t.prototype,"userComponentFactory",void 0),al([D("rowRenderer")],t.prototype,"rowRenderer",void 0),al([ft],t.prototype,"init",null),al([Rn],t.prototype,"destroy",null),e=al([Ae("filterManager")],t)}(he),Vu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),is=function(o){function t(e,n){var i=o.call(this,e)||this;return i.ctrl=n,i}return Vu(t,o),t.prototype.getCtrl=function(){return this.ctrl},t}(or),zh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Vp=function(o){function t(e){return o.call(this,t.TEMPLATE,e)||this}return zh(t,o),t.prototype.postConstruct=function(){var e=this,n=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(r,c){return e.addOrRemoveCssClass(r,c)},addOrRemoveBodyCssClass:function(r,c){return e.eFloatingFilterBody.classList.toggle(r,c)},addOrRemoveButtonWrapperCssClass:function(r,c){return e.eButtonWrapper.classList.toggle(r,c)},setCompDetails:function(r){return e.setCompDetails(r)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(r){return n.style.width=r},setMenuIcon:function(r){return e.eButtonShowMainFilter.appendChild(r)}},n,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var n=this;this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(i){return n.afterCompCreated(i)})},t.prototype.afterCompCreated=function(e){var n=this;!e||(this.addDestroyFunc(function(){return n.context.destroyBean(e)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()))},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Tc([Gn("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),Tc([Gn("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),Tc([Gn("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),Tc([ft],t.prototype,"postConstruct",null),t}(is),vl=function(){function o(){}return o.parse=function(t){if(!t)return null;if(!0===t)return{toolPanels:[o.DEFAULT_COLUMN_COMP,o.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return o.parse([t]);if(Array.isArray(t)){var e=[];return t.forEach(function(i){var r=o.DEFAULT_BY_KEY[i];r?e.push(r):console.warn("AG Grid: the key "+i+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(o.DEFAULT_BY_KEY).join(","))}),0===e.length?null:{toolPanels:e,defaultToolPanel:e[0].id}}return{toolPanels:o.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}},o.parseComponents=function(t){var e=[];return t&&t.forEach(function(n){var i=null;if("string"==typeof n){var r=o.DEFAULT_BY_KEY[n];if(!r)return void console.warn("AG Grid: the key "+n+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(o.DEFAULT_BY_KEY).join(","));i=r}else i=n;e.push(i)}),e},o.DEFAULT_BY_KEY={columns:o.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:o.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},o}(),_s=function(){return _s=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},_s.apply(this,arguments)},Al=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},$d=function(o,t){return function(e,n){t(e,n,o)}},Il=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},Ac=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Il(arguments[t]));return o};function C(o){return!0===o||"true"===o}function w(o){return"number"==typeof o?o:"string"==typeof o?parseInt(o,10):void 0}function De(o,t){var e=parseInt(o,10);return Xi(e)&&e>0?e:t}var Ne=function(){function o(){this.propertyEventService=new rn,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var t;return t=o,o.prototype.agWire=function(e,n){this.gridOptions.api=e,this.gridOptions.columnApi=n,this.checkForDeprecated(),this.checkForViolations()},o.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},o.prototype.init=function(){var e=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=vl.parse(this.gridOptions.sideBar));var n=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),n),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var i=function(c){return"AG Grid: '"+c+"' is not supported on the Server-Side Row Model"};v(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupDefaultExpanded")),v(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeFooter")),v(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&Cn.assertRegistered(B.ModuleNames.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var r=function(c){e.gridOptions.icons&&e.gridOptions.icons[c]&&console.warn("gridOptions.icons."+c+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};r("radioButtonOff"),r("radioButtonOn"),r("checkboxChecked"),r("checkboxUnchecked"),r("checkboxIndeterminate"),this.getScrollbarWidth()},o.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(n){var i=Object.getOwnPropertyNames(n),r=Ac(xo.ALL_PROPERTIES,xo.FRAMEWORK_PROPERTIES);e.checkProperties(i,r,r,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},o.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),n=Ac($r.ALL_PROPERTIES,$r.FRAMEWORK_PROPERTIES,Me(nt).map(function(r){return ko.getCallbackForEvent(r)})),i=Ac(n,["api","columnApi"]);this.checkProperties(e,i,n,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},o.prototype.checkProperties=function(e,n,i,r,c){var f=ge(e,n,i);Le(f,function(S,M){console.warn("ag-grid: invalid "+r+" property '"+S+"' did you mean any of these: "+M.slice(0,8).join(", "))}),Object.keys(f).length>0&&console.warn("ag-grid: to see all the valid "+r+" properties please check: "+c)},o.prototype.mergeGridCommonParams=function(e){var n=this;return e?function(r){var c=_s(_s({},r),{api:n.getApi(),columnApi:n.getColumnApi(),context:n.getContext()});return e(c)}:e},o.prototype.getDomDataKey=function(){return this.domDataKey},o.prototype.getDomData=function(e,n){var i=e[this.getDomDataKey()];return i?i[n]:void 0},o.prototype.setDomData=function(e,n,i){var r=this.getDomDataKey(),c=e[r];V(c)&&(e[r]=c={}),c[n]=i},o.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},o.prototype.isSuppressRowDeselection=function(){return C(this.gridOptions.suppressRowDeselection)},o.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},o.prototype.isRowMultiSelectWithClick=function(){return C(this.gridOptions.rowMultiSelectWithClick)},o.prototype.getContext=function(){return this.gridOptions.context},o.prototype.isPivotMode=function(){return C(this.gridOptions.pivotMode)},o.prototype.isSuppressExpandablePivotGroups=function(){return C(this.gridOptions.suppressExpandablePivotGroups)},o.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},o.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},o.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===Qe.ROW_MODEL_TYPE_INFINITE},o.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===Qe.ROW_MODEL_TYPE_VIEWPORT},o.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===Qe.ROW_MODEL_TYPE_SERVER_SIDE},o.prototype.isRowModelDefault=function(){return V(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===Qe.ROW_MODEL_TYPE_CLIENT_SIDE},o.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},o.prototype.isSuppressFocusAfterRefresh=function(){return C(this.gridOptions.suppressFocusAfterRefresh)},o.prototype.isSuppressBrowserResizeObserver=function(){return C(this.gridOptions.suppressBrowserResizeObserver)},o.prototype.isSuppressMaintainUnsortedOrder=function(){return C(this.gridOptions.suppressMaintainUnsortedOrder)},o.prototype.isSuppressClearOnFillReduction=function(){return C(this.gridOptions.suppressClearOnFillReduction)},o.prototype.isShowToolPanel=function(){return C(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},o.prototype.getSideBar=function(){return this.gridOptions.sideBar},o.prototype.isSuppressTouch=function(){return C(this.gridOptions.suppressTouch)},o.prototype.isMaintainColumnOrder=function(){return C(this.gridOptions.maintainColumnOrder)},o.prototype.isSuppressRowTransform=function(){return C(this.gridOptions.suppressRowTransform)},o.prototype.isSuppressColumnStateEvents=function(){return C(this.gridOptions.suppressColumnStateEvents)},o.prototype.isAllowDragFromColumnsToolPanel=function(){return C(this.gridOptions.allowDragFromColumnsToolPanel)},o.prototype.useAsyncEvents=function(){return!C(this.gridOptions.suppressAsyncEvents)},o.prototype.isEnableCellChangeFlash=function(){return C(this.gridOptions.enableCellChangeFlash)},o.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},o.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},o.prototype.isGroupSelectsChildren=function(){return C(this.gridOptions.groupSelectsChildren)},o.prototype.isSuppressRowHoverHighlight=function(){return C(this.gridOptions.suppressRowHoverHighlight)},o.prototype.isColumnHoverHighlight=function(){return C(this.gridOptions.columnHoverHighlight)},o.prototype.isGroupSelectsFiltered=function(){return C(this.gridOptions.groupSelectsFiltered)},o.prototype.isGroupHideOpenParents=function(){return C(this.gridOptions.groupHideOpenParents)},o.prototype.isGroupMaintainOrder=function(){return C(this.gridOptions.groupMaintainOrder)},o.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},o.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):C(this.gridOptions.groupHideOpenParents)},o.prototype.isGroupUseEntireRow=function(e){return!e&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},o.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},o.prototype.isGroupRemoveSingleChildren=function(){return C(this.gridOptions.groupRemoveSingleChildren)},o.prototype.isGroupRemoveLowestSingleChildren=function(){return C(this.gridOptions.groupRemoveLowestSingleChildren)},o.prototype.isGroupIncludeFooter=function(){return C(this.gridOptions.groupIncludeFooter)},o.prototype.isGroupIncludeTotalFooter=function(){return C(this.gridOptions.groupIncludeTotalFooter)},o.prototype.isGroupSuppressBlankHeader=function(){return C(this.gridOptions.groupSuppressBlankHeader)},o.prototype.isSuppressRowClickSelection=function(){return C(this.gridOptions.suppressRowClickSelection)},o.prototype.isSuppressCellFocus=function(){return C(this.gridOptions.suppressCellFocus)},o.prototype.isSuppressMultiSort=function(){return C(this.gridOptions.suppressMultiSort)},o.prototype.isAlwaysMultiSort=function(){return C(this.gridOptions.alwaysMultiSort)},o.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},o.prototype.isPivotSuppressAutoColumn=function(){return C(this.gridOptions.pivotSuppressAutoColumn)},o.prototype.isSuppressDragLeaveHidesColumns=function(){return C(this.gridOptions.suppressDragLeaveHidesColumns)},o.prototype.isSuppressScrollOnNewData=function(){return C(this.gridOptions.suppressScrollOnNewData)},o.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return C(this.gridOptions.suppressScrollWhenPopupsAreOpen)},o.prototype.isRowDragEntireRow=function(){return C(this.gridOptions.rowDragEntireRow)},o.prototype.isSuppressRowDrag=function(){return C(this.gridOptions.suppressRowDrag)},o.prototype.isRowDragManaged=function(){return C(this.gridOptions.rowDragManaged)},o.prototype.isSuppressMoveWhenRowDragging=function(){return C(this.gridOptions.suppressMoveWhenRowDragging)},o.prototype.isRowDragMultiRow=function(){return C(this.gridOptions.rowDragMultiRow)},o.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||Qe.DOM_LAYOUT_NORMAL;return-1===[Qe.DOM_LAYOUT_PRINT,Qe.DOM_LAYOUT_AUTO_HEIGHT,Qe.DOM_LAYOUT_NORMAL].indexOf(e)?(Mt(function(){return console.warn("AG Grid: "+e+" is not valid for DOM Layout, valid values are "+Qe.DOM_LAYOUT_NORMAL+", "+Qe.DOM_LAYOUT_AUTO_HEIGHT+" and "+Qe.DOM_LAYOUT_PRINT)},"warn about dom layout values"),Qe.DOM_LAYOUT_NORMAL):e},o.prototype.isSuppressHorizontalScroll=function(){return C(this.gridOptions.suppressHorizontalScroll)},o.prototype.isSuppressMaxRenderedRowRestriction=function(){return C(this.gridOptions.suppressMaxRenderedRowRestriction)},o.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return C(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},o.prototype.isAlwaysShowHorizontalScroll=function(){return C(this.gridOptions.alwaysShowHorizontalScroll)},o.prototype.isAlwaysShowVerticalScroll=function(){return C(this.gridOptions.alwaysShowVerticalScroll)},o.prototype.isDebounceVerticalScrollbar=function(){return C(this.gridOptions.debounceVerticalScrollbar)},o.prototype.isSuppressLoadingOverlay=function(){return C(this.gridOptions.suppressLoadingOverlay)},o.prototype.isSuppressNoRowsOverlay=function(){return C(this.gridOptions.suppressNoRowsOverlay)},o.prototype.isSuppressFieldDotNotation=function(){return C(this.gridOptions.suppressFieldDotNotation)},o.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},o.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},o.prototype.isFunctionsPassive=function(){return C(this.gridOptions.functionsPassive)},o.prototype.isSuppressChangeDetection=function(){return C(this.gridOptions.suppressChangeDetection)},o.prototype.isSuppressAnimationFrame=function(){return C(this.gridOptions.suppressAnimationFrame)},o.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},o.prototype.isCacheQuickFilter=function(){return C(this.gridOptions.cacheQuickFilter)},o.prototype.isUnSortIcon=function(){return C(this.gridOptions.unSortIcon)},o.prototype.isSuppressMenuHide=function(){return C(this.gridOptions.suppressMenuHide)},o.prototype.isEnterMovesDownAfterEdit=function(){return C(this.gridOptions.enterMovesDownAfterEdit)},o.prototype.isEnterMovesDown=function(){return C(this.gridOptions.enterMovesDown)},o.prototype.isUndoRedoCellEditing=function(){return C(this.gridOptions.undoRedoCellEditing)},o.prototype.getUndoRedoCellEditingLimit=function(){return w(this.gridOptions.undoRedoCellEditingLimit)},o.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},o.prototype.getRowClass=function(){return this.gridOptions.rowClass},o.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},o.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},o.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},o.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},o.prototype.getServerSideStoreParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideStoreParams)},o.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},o.prototype.getPopupParent=function(){return this.gridOptions.popupParent},o.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},o.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},o.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},o.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},o.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},o.prototype.getInitialGroupOrderComparator=function(){var e=this.gridOptions,n=e.initialGroupOrderComparator,i=e.defaultGroupOrderComparator;return n?this.mergeGridCommonParams(n):i?function(r){return i(r.nodeA,r.nodeB)}:void 0},o.prototype.getIsFullWidthCellFunc=function(){var e=this.gridOptions,n=e.isFullWidthRow,i=e.isFullWidthCell;return n?this.mergeGridCommonParams(n):i?function(r){return i(r.rowNode)}:void 0},o.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},o.prototype.isEmbedFullWidthRows=function(){return C(this.gridOptions.embedFullWidthRows)||C(this.gridOptions.deprecatedEmbedFullWidthRows)},o.prototype.isDetailRowAutoHeight=function(){return C(this.gridOptions.detailRowAutoHeight)},o.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},o.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},o.prototype.getApi=function(){return this.gridOptions.api},o.prototype.getColumnApi=function(){return this.gridOptions.columnApi},o.prototype.isReadOnlyEdit=function(){return C(this.gridOptions.readOnlyEdit)},o.prototype.isImmutableData=function(){var e=null!=this.gridOptions.getRowId,n=C(this.gridOptions.immutableData);return!C(this.gridOptions.resetRowDataOnUpdate)&&(e||n)},o.prototype.isEnsureDomOrder=function(){return C(this.gridOptions.ensureDomOrder)},o.prototype.isEnableCharts=function(){return!!C(this.gridOptions.enableCharts)&&Cn.assertRegistered(B.ModuleNames.GridChartsModule,"enableCharts")},o.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},o.prototype.isSingleClickEdit=function(){return C(this.gridOptions.singleClickEdit)},o.prototype.isSuppressClickEdit=function(){return C(this.gridOptions.suppressClickEdit)},o.prototype.isStopEditingWhenCellsLoseFocus=function(){return C(this.gridOptions.stopEditingWhenCellsLoseFocus)},o.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},o.prototype.getMaxConcurrentDatasourceRequests=function(){var e=w(this.gridOptions.maxConcurrentDatasourceRequests);return null==e?2:e<=0?void 0:e},o.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},o.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},o.prototype.getPaginationPageSize=function(){return w(this.gridOptions.paginationPageSize)},o.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||C(this.gridOptions.paginateChildRows)},o.prototype.getCacheBlockSize=function(){return De(this.gridOptions.cacheBlockSize)},o.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},o.prototype.isPurgeClosedRowNodes=function(){return C(this.gridOptions.purgeClosedRowNodes)},o.prototype.isSuppressPaginationPanel=function(){return C(this.gridOptions.suppressPaginationPanel)},o.prototype.getRowData=function(){return this.gridOptions.rowData},o.prototype.isEnableRtl=function(){return C(this.gridOptions.enableRtl)},o.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},o.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},o.prototype.isAngularCompileRows=function(){return C(this.gridOptions.angularCompileRows)},o.prototype.isAngularCompileFilters=function(){return C(this.gridOptions.angularCompileFilters)},o.prototype.isDebug=function(){return C(this.gridOptions.debug)},o.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},o.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},o.prototype.getDatasource=function(){return this.gridOptions.datasource},o.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},o.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},o.prototype.isAccentedSort=function(){return C(this.gridOptions.accentedSort)},o.prototype.isEnableBrowserTooltips=function(){return C(this.gridOptions.enableBrowserTooltips)},o.prototype.isEnableCellExpressions=function(){return C(this.gridOptions.enableCellExpressions)},o.prototype.isEnableGroupEdit=function(){return C(this.gridOptions.enableGroupEdit)},o.prototype.isSuppressMiddleClickScrolls=function(){return C(this.gridOptions.suppressMiddleClickScrolls)},o.prototype.isPreventDefaultOnContextMenu=function(){return C(this.gridOptions.preventDefaultOnContextMenu)},o.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return C(this.gridOptions.suppressPreventDefaultOnMouseWheel)},o.prototype.isSuppressColumnVirtualisation=function(){return C(this.gridOptions.suppressColumnVirtualisation)},o.prototype.isSuppressRowVirtualisation=function(){return C(this.gridOptions.suppressRowVirtualisation)},o.prototype.isSuppressContextMenu=function(){return C(this.gridOptions.suppressContextMenu)},o.prototype.isAllowContextMenuWithControlKey=function(){return C(this.gridOptions.allowContextMenuWithControlKey)},o.prototype.isSuppressCopyRowsToClipboard=function(){return C(this.gridOptions.suppressCopyRowsToClipboard)},o.prototype.isSuppressCopySingleCellRanges=function(){return C(this.gridOptions.suppressCopySingleCellRanges)},o.prototype.isCopyHeadersToClipboard=function(){return C(this.gridOptions.copyHeadersToClipboard)},o.prototype.isCopyGroupHeadersToClipboard=function(){return C(this.gridOptions.copyGroupHeadersToClipboard)},o.prototype.isSuppressClipboardPaste=function(){return C(this.gridOptions.suppressClipboardPaste)},o.prototype.isSuppressLastEmptyLineOnPaste=function(){return C(this.gridOptions.suppressLastEmptyLineOnPaste)},o.prototype.isPagination=function(){return C(this.gridOptions.pagination)},o.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return C(this.gridOptions.suppressEnterpriseResetOnNewColumns)},o.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},o.prototype.getAsyncTransactionWaitMillis=function(){return v(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:Qe.BATCH_WAIT_MILLIS},o.prototype.isSuppressMovableColumns=function(){return C(this.gridOptions.suppressMovableColumns)},o.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&C(this.gridOptions.animateRows)},o.prototype.isSuppressColumnMoveAnimation=function(){return C(this.gridOptions.suppressColumnMoveAnimation)},o.prototype.isSuppressAggFuncInHeader=function(){return C(this.gridOptions.suppressAggFuncInHeader)},o.prototype.isSuppressAggAtRootLevel=function(){return C(this.gridOptions.suppressAggAtRootLevel)},o.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.getGroupAggFiltering()||C(this.gridOptions.suppressAggFilteredOnly)},o.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return C(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},o.prototype.isShowOpenedGroup=function(){return C(this.gridOptions.showOpenedGroup)},o.prototype.isReactUi=function(){return C(this.gridOptions.reactUi)},o.prototype.isSuppressReactUi=function(){return C(this.gridOptions.suppressReactUi)},o.prototype.isEnableRangeSelection=function(){return Cn.isRegistered(B.ModuleNames.RangeSelectionModule)&&C(this.gridOptions.enableRangeSelection)},o.prototype.isEnableRangeHandle=function(){return C(this.gridOptions.enableRangeHandle)},o.prototype.isEnableFillHandle=function(){return C(this.gridOptions.enableFillHandle)},o.prototype.getFillHandleDirection=function(){var e=this.gridOptions.fillHandleDirection;return e?"x"!==e&&"y"!==e&&"xy"!==e?(Mt(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):e:"xy"},o.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},o.prototype.isSuppressMultiRangeSelection=function(){return C(this.gridOptions.suppressMultiRangeSelection)},o.prototype.isPaginationAutoPageSize=function(){return C(this.gridOptions.paginationAutoPageSize)},o.prototype.isRememberGroupStateWhenNewData=function(){return C(this.gridOptions.rememberGroupStateWhenNewData)},o.prototype.getIcons=function(){return this.gridOptions.icons},o.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.mergeGridCommonParams(e):C(e)?function(){return!0}:void 0},o.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},o.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},o.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},o.prototype.isMasterDetail=function(){return!!C(this.gridOptions.masterDetail)&&Cn.assertRegistered(B.ModuleNames.MasterDetailModule,"masterDetail")},o.prototype.isKeepDetailRows=function(){return C(this.gridOptions.keepDetailRows)},o.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptions.keepDetailRowsCount;return v(e)&&e>0?this.gridOptions.keepDetailRowsCount:10},o.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},o.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},o.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},o.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},o.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},o.prototype.isSuppressAutoSize=function(){return C(this.gridOptions.suppressAutoSize)},o.prototype.isEnableCellTextSelection=function(){return C(this.gridOptions.enableCellTextSelection)},o.prototype.isSuppressParentsInRowNodes=function(){return C(this.gridOptions.suppressParentsInRowNodes)},o.prototype.isSuppressClipboardApi=function(){return C(this.gridOptions.suppressClipboardApi)},o.prototype.isFunctionsReadOnly=function(){return C(this.gridOptions.functionsReadOnly)},o.prototype.isEnableCellTextSelect=function(){return C(this.gridOptions.enableCellTextSelection)},o.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},o.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},o.prototype.getDefaultExportParams=function(e){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+ni(e)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===e&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===e&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},o.prototype.isSuppressCsvExport=function(){return C(this.gridOptions.suppressCsvExport)},o.prototype.isAllowShowChangeAfterFilter=function(){return C(this.gridOptions.allowShowChangeAfterFilter)},o.prototype.isSuppressExcelExport=function(){return C(this.gridOptions.suppressExcelExport)},o.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return C(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},o.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},o.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},o.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},o.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},o.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},o.prototype.getGroupRowAggFunc=function(){var e=this.gridOptions,n=e.getGroupRowAgg,i=e.groupRowAggNodes;return n?this.mergeGridCommonParams(n):i?function(r){return i(r.nodes)}:void 0},o.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},o.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},o.prototype.getRowIdFunc=function(){var e=this.gridOptions,n=e.getRowId,i=e.getRowNodeId;return n?this.mergeGridCommonParams(n):i?function(r){return i(r.data)}:void 0},o.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},o.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},o.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},o.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},o.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},o.prototype.isTreeData=function(){return!!C(this.gridOptions.treeData)&&Cn.assertRegistered(B.ModuleNames.RowGroupingModule,"Tree Data")},o.prototype.isValueCache=function(){return C(this.gridOptions.valueCache)},o.prototype.isValueCacheNeverExpires=function(){return C(this.gridOptions.valueCacheNeverExpires)},o.prototype.isDeltaSort=function(){return C(this.gridOptions.deltaSort)},o.prototype.isAggregateOnlyChangedColumns=function(){return C(this.gridOptions.aggregateOnlyChangedColumns)},o.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},o.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},o.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},o.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},o.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},o.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},o.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},o.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},o.prototype.getViewportRowModelPageSize=function(){return De(this.gridOptions.viewportRowModelPageSize,5)},o.prototype.getViewportRowModelBufferSize=function(){return function U(o,t){return o>=0?o:t}(this.gridOptions.viewportRowModelBufferSize,5)},o.prototype.isServerSideSortingAlwaysResets=function(){return C(this.gridOptions.serverSideSortingAlwaysResets)},o.prototype.isServerSideFilteringAlwaysResets=function(){return C(this.gridOptions.serverSideFilteringAlwaysResets)},o.prototype.getPostSortFunc=function(){var e=this.gridOptions,n=e.postSortRows,i=e.postSort;return n?this.mergeGridCommonParams(n):i?function(r){return i(r.nodes)}:void 0},o.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},o.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},o.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},o.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},o.prototype.getClipboardDelimiter=function(){return v(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},o.prototype.setProperty=function(e,n,i){void 0===i&&(i=!1);var r=this.gridOptions,c=r[e];(i||c!==n)&&(r[e]=n,this.propertyEventService.dispatchEvent({type:e,currentValue:n,previousValue:c}))},o.prototype.addEventListener=function(e,n){this.propertyEventService.addEventListener(e,n)},o.prototype.removeEventListener=function(e,n){this.propertyEventService.removeEventListener(e,n)},o.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},o.prototype.getAutoSizePadding=function(){var e=this.gridOptions.autoSizePadding;return null!=e&&e>=0?e:20},o.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},o.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},o.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},o.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},o.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},o.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()})},o.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},o.prototype.getTooltipDelay=function(e){var n=this.gridOptions,c="show"===e?n.tooltipShowDelay:n.tooltipHideDelay,f=ni(e);return v(c)?(c<0&&Mt(function(){return console.warn("ag-grid: tooltip"+f+"Delay should not be lower than 0")},"tooltip"+f+"DelayWarn"),Math.max(200,c)):null},o.prototype.isTooltipMouseTrack=function(){return C(this.gridOptions.tooltipMouseTrack)},o.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return C(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},o.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&v(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&v(e)?e:document},o.prototype.getMinColWidth=function(){var e=this.gridOptions.minColWidth;if(v(e)&&e>t.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var n=this.getFromTheme(null,"headerCellMinWidth");return v(n)?Math.max(n,t.MIN_COL_WIDTH):t.MIN_COL_WIDTH},o.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>t.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},o.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<t.MIN_COL_WIDTH?200:this.gridOptions.colWidth},o.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return"number"==typeof e?e<0&&(Mt(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=Qe.ROW_BUFFER_SIZE,e},o.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},o.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var n="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:fe();null!=n&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:nt.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},o.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),e.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),e.enableMultiRowDragging&&(e.rowDragMultiRow=!0,delete e.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var n=function(c,f,S){null!=e[c]&&(console.warn("AG Grid: since version "+S+", '"+c+"' is deprecated / renamed, please use the new property name '"+f+"' instead."),null==e[f]&&(e[f]=e[c]))};if(n("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),n("deltaRowDataMode","immutableData","23.1.x"),(e.immutableColumns||e.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),n("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),e.groupRowInnerRenderer||e.groupRowInnerRendererParams||e.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),e.groupRowRendererParams||(e.groupRowRendererParams={});var i=e.groupRowRendererParams;e.groupRowInnerRenderer&&(i.innerRenderer=e.groupRowInnerRenderer),e.groupRowInnerRendererParams&&(i.innerRendererParams=e.groupRowInnerRendererParams),e.groupRowInnerRendererFramework&&(i.innerRendererFramework=e.groupRowInnerRendererFramework)}e.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),e.detailCellRendererParams&&e.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),e.detailRowAutoHeight=!0),e.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),e.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),e.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),e.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),e.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),e.stopEditingWhenCellsLoseFocus=!0),e.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),e.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),e.groupDisplayType="multipleColumns"),e.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),e.groupDisplayType="groupRows"),e.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(e.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),e.groupDisplayType="custom"),e.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),e.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),e.defaultGroupOrderComparator=e.defaultGroupSortComparator),e.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),e.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),e.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),e.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),e.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),e.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),e.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),e.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),e.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),e.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),e.suppressCellFocus=e.suppressCellSelection),e.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),e.immutableData&&(e.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),e.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),e.clipboardDelimiter=e.clipboardDeliminator)},o.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},o.prototype.treeDataViolations=function(){this.isRowModelDefault()&&V(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(V(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),V(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},o.prototype.getLocaleTextFunc=function(){var e=this,n=this.gridOptions,i=n.localeText,r=n.getLocaleText;return r?function(f,S,M){var K={key:f,defaultValue:S,variableValues:M,api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()};return r(K)}:n.localeTextFunc||function(f,S,M){var K=i&&i[f];if(K&&M&&M.length)for(var ve=0;!(ve>=M.length)&&-1!==K.indexOf("${variable}");)K=K.replace("${variable}",M[ve++]);return null!=K?K:S}},o.prototype.globalEventHandler=function(e,n){if(!this.destroyed){var i=ko.getCallbackForEvent(e);"function"==typeof this.gridOptions[i]&&this.gridOptions[i](n)}},o.prototype.setRowHeightVariable=function(e){var i=e+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=i&&this.eGridDiv.style.setProperty("--ag-line-height",i)},o.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||V(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},o.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},o.prototype.getRowHeightForNode=function(e,n,i){if(void 0===n&&(n=!1),null==i&&(i=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:i,estimated:!0};var r={node:e,data:e.data},c=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(r);if(this.isNumeric(c))return 0===c&&Mt(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,c),estimated:!1}}return e.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}},o.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},o.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},o.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},o.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)},o.prototype.getFromTheme=function(e,n){var i=this.environment.getTheme().theme;return i&&0===i.indexOf("ag-theme")?this.environment.getSassVariable(i,n):e},o.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},o.prototype.matchesGroupDisplayType=function(e,n){var i=["groupRows","multipleColumns","custom","singleColumn"];return i.indexOf(n)<0?(console.warn("AG Grid: '"+n+"' is not a valid groupDisplayType value - possible values are: '"+i.join("', '")+"'"),!1):n===e},o.prototype.matchesTreeDataDisplayType=function(e,n){var i=["auto","custom"];return i.indexOf(n)<0?(console.warn("AG Grid: '"+n+"' is not a valid treeDataDisplayType value - possible values are: '"+i.join("', '")+"'"),!1):n===e},o.MIN_COL_WIDTH=10,o.PROP_HEADER_HEIGHT="headerHeight",o.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",o.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",o.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",o.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",o.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",o.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",o.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",o.PROP_TAB_TO_NEXT_CELL="tabToNextCell",o.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",o.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",o.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",o.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",o.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",o.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",o.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",o.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",o.PROP_GET_ROW_CLASS="getRowClass",o.PROP_GET_ROW_STYLE="getRowStyle",o.PROP_GET_ROW_HEIGHT="getRowHeight",o.PROP_POPUP_PARENT="popupParent",o.PROP_DOM_LAYOUT="domLayout",o.PROP_ROW_CLASS="rowClass",o.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",o.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",o.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",o.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",o.PROP_GET_CHILD_COUNT="getChildCount",o.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",o.PROP_GET_ROW_NODE_ID="getRowNodeId",o.PROP_GET_ROW_ID="getRowId",o.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",o.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",o.PROP_IS_ROW_SELECTABLE="isRowSelectable",o.PROP_IS_ROW_MASTER="isRowMaster",o.PROP_POST_SORT="postSort",o.PROP_POST_SORT_ROWS="postSortRows",o.PROP_GET_DOCUMENT="getDocument",o.PROP_POST_PROCESS_POPUP="postProcessPopup",o.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",o.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",o.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",o.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",o.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",o.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",o.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",o.PROP_SEND_TO_CLIPBOARD="sendToClipboard",o.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",o.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",o.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",o.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",o.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",o.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",o.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",o.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",Al([D("gridOptions")],o.prototype,"gridOptions",void 0),Al([D("eventService")],o.prototype,"eventService",void 0),Al([D("environment")],o.prototype,"environment",void 0),Al([D("eGridDiv")],o.prototype,"eGridDiv",void 0),Al([$d(0,me("gridApi")),$d(1,me("columnApi"))],o.prototype,"agWire",null),Al([Rn],o.prototype,"destroy",null),Al([ft],o.prototype,"init",null),t=Al([Ae("gridOptionsWrapper")],o)}(),cn=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ln=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r};!function(o){o.AUTO_HEIGHT="ag-layout-auto-height",o.NORMAL="ag-layout-normal",o.PRINT="ag-layout-print"}(B.LayoutCssClasses||(B.LayoutCssClasses={}));var Ei=function(o){function t(e){var n=o.call(this)||this;return n.view=e,n}return cn(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.gridOptionsWrapper.getDomLayout(),n={autoHeight:e===Qe.DOM_LAYOUT_AUTO_HEIGHT,normal:e===Qe.DOM_LAYOUT_NORMAL,print:e===Qe.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(n.autoHeight?B.LayoutCssClasses.AUTO_HEIGHT:n.print?B.LayoutCssClasses.PRINT:B.LayoutCssClasses.NORMAL,n)},Ln([D("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ln([ft],t.prototype,"postConstruct",null),t}(he),zi=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),er=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ar=function(o){function t(e){var n=o.call(this)||this;return n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.eBodyViewport=e,n.resetLastHorizontalScrollElementDebounced=Vt(n.resetLastHorizontalScrollElement.bind(n),500),n}return zi(t,o),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(n){e.centerRowContainerCtrl=n.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(e.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var n=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?Vt(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",n)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){if(null!=this.centerRowContainerCtrl){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?e:-e,r=this.ctrlsService.getTopCenterRowContainerCtrl(),c=this.ctrlsService.getBottomCenterRowContainerCtrl(),f=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(i),c.setContainerTranslateX(i),r.setContainerTranslateX(i),Br(this.lastHorizontalScrollElement===this.centerRowContainerCtrl.getViewportElement()?f.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl)}},t.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},t.prototype.onFakeHorizontalScroll=function(){var e=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(e)||this.onBodyHorizontalScroll(e)},t.prototype.onCenterViewportScroll=function(){var e=this.centerRowContainerCtrl.getViewportElement();!this.isControllingScroll(e)||this.onBodyHorizontalScroll(e)},t.prototype.onBodyHorizontalScroll=function(e){var n=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",n.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Ai(e,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},t.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",e,!0)||(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},t.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},t.prototype.doHorizontalScroll=function(e){var i=Ai(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===e&&e===i||(this.scrollLeft=e,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())},t.prototype.fireScrollEvent=function(e){var n=this,i={type:nt.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:e,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var r=Object.assign({},i,{type:nt.EVENT_BODY_SCROLL_END});n.eventService.dispatchEvent(r)},100)},t.prototype.shouldBlockScrollUpdate=function(e,n,i){if(void 0===i&&(i=!1),i&&!ns())return!1;if("vertical"===e){var r=_e(this.eBodyViewport);if(n<0||n+r>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===e){var f=this.centerRowContainerCtrl.getCenterWidth(),S=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Mn()){if(n>0)return!0}else if(n<0)return!0;if(Math.abs(n)+f>S)return!0}return!1},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},t.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},t.prototype.executeAnimationFrameScroll=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e){var i=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",e)&&(e=this.enableRtl&&Mn()?e>0?0:i:Math.min(Math.max(e,0),i)),Br(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var n=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(n+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-n},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,n){void 0===n&&(n=null);for(var i=this.rowModel.getRowCount(),r="function"==typeof e,c=-1,f=0;f<i;f++){var S=this.rowModel.getRow(f);if(r){if(e(S)){c=f;break}}else if(e===S||e===S.data){c=f;break}}c>=0&&this.ensureIndexVisible(c,n)},t.prototype.ensureIndexVisible=function(e,n){if(this.gridOptionsWrapper.getDomLayout()!==Qe.DOM_LAYOUT_PRINT){var i=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=i)return void console.warn("invalid row index for ensureIndexVisible: "+e);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(e);var S,f=this.paginationProxy.getRow(e);do{var M=f.rowTop,K=f.rowHeight,ve=this.paginationProxy.getPixelOffset(),Pe=f.rowTop-ve,dt=Pe+f.rowHeight,vt=this.getVScrollPosition(),sn=this.heightScaler.getDivStretchOffset(),wn=vt.top+sn,zn=vt.bottom+sn,Un=zn-wn,qn=this.heightScaler.getScrollPositionForPixel(Pe),Di=this.heightScaler.getScrollPositionForPixel(dt-Un),lr=Math.min((qn+Di)/2,Pe),ur=null;"top"===n?ur=qn:"bottom"===n?ur=Di:"middle"===n?ur=lr:wn>Pe?ur=qn:zn<dt&&(ur=Di),null!==ur&&(this.eBodyViewport.scrollTop=ur,this.rowRenderer.redrawAfterScroll()),S=M!==f.rowTop||K!==f.rowHeight}while(S);this.animationFrameService.flushAllFrames()}},t.prototype.ensureColumnVisible=function(e,n){void 0===n&&(n="auto");var i=this.columnModel.getGridColumn(e);if(i&&!i.isPinned()&&this.columnModel.isColumnDisplayed(i)){var r=this.getPositionedHorizontalScroll(i,n);null!==r&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(r),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.getPositionedHorizontalScroll=function(e,n){var i=this.isColumnOutsideViewport(e),r=i.columnBeforeStart,c=i.columnAfterEnd,f=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),S=this.centerRowContainerCtrl.getCenterWidth(),M=this.enableRtl,K=(M?r:c)||f,ve=M?c:r;"auto"!==n&&(K="start"===n,ve="end"===n);var Pe="middle"===n;if(K||ve||Pe){var dt=this.getColumnBounds(e),vt=dt.colLeft,wn=dt.colRight;return Pe?dt.colMiddle-S/2:K?M?wn:vt:M?vt-S:wn-S}return null},t.prototype.isColumnOutsideViewport=function(e){var n=this.getViewportBounds(),i=n.start,r=n.end,c=this.getColumnBounds(e),f=c.colLeft,S=c.colRight,M=this.enableRtl;return{columnBeforeStart:M?i>S:r<S,columnAfterEnd:M?r<f:i>f}},t.prototype.getColumnBounds=function(e){var n=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),r=e.getActualWidth(),c=e.getLeft(),f=n?-1:1,S=n?i-c:c;return{colLeft:S,colMiddle:S+r/2*f,colRight:S+r*f}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:n,end:e+n,width:e}},er([D("ctrlsService")],t.prototype,"ctrlsService",void 0),er([D("animationFrameService")],t.prototype,"animationFrameService",void 0),er([D("columnApi")],t.prototype,"columnApi",void 0),er([D("gridApi")],t.prototype,"gridApi",void 0),er([D("paginationProxy")],t.prototype,"paginationProxy",void 0),er([D("rowModel")],t.prototype,"rowModel",void 0),er([D("rowContainerHeightService")],t.prototype,"heightScaler",void 0),er([D("rowRenderer")],t.prototype,"rowRenderer",void 0),er([D("columnModel")],t.prototype,"columnModel",void 0),er([ft],t.prototype,"postConstruct",null),t}(he),rs=function(){function o(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return o.prototype.check=function(t,e){void 0===e&&(e=!1);var n=e||this.shouldSkipVerticalScroll();if(!n||!this.shouldSkipHorizontalScroll()){var i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=t.clientX<i.left+r,this.tickRight=t.clientX>i.right-r,this.tickUp=t.clientY<i.top+r&&!n,this.tickDown=t.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},o.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},o.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-t),this.tickRight&&this.setHorizontalPosition(n+t)}this.onScrollCallback&&this.onScrollCallback()},o.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},o}(),qa=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hu=function(){return Hu=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},Hu.apply(this,arguments)},Qs=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},hd=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},Up=function(o){function t(e){var n=o.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=e,n}return qa(t,o),t.prototype.postConstruct=function(){var e=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var n=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,nt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_MODEL_UPDATED,function(){n()}),n(),this.ctrlsService.whenReady(function(){var i=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new rs({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(r){return i.getScrollFeature().setVerticalScrollPosition(r)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!I(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===B.DragSourceType.RowDrag},t.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?to.ICON_NOT_ALLOWED:to.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var n=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var i=this.gridOptionsWrapper.isRowDragMultiRow(),r=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(hd(arguments[t]));return o}(this.selectionService.getSelectedNodes()).sort(function(f,S){return n.getRowIndexNumber(f)-n.getRowIndexNumber(S)}),c=e.dragItem.rowNode;return i&&-1!==r.indexOf(c)?(this.isMultiRowDrag=!0,r):(this.isMultiRowDrag=!1,[c])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(nt.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(n){n.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(e.dropZoneTarget)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(nt.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var n=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(e,n),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,n){var i=this.isFromThisGrid(e),r=this.gridOptionsWrapper.isRowDragManaged(),c=e.dragItem.rowNodes;r&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(c[0],n):this.moveRows(c,n))},t.prototype.getRowIndexNumber=function(e){return parseInt(mn(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var n=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),r=i&&i.highlighted===B.RowHighlightPosition.Below,c=this.mouseEventService.getNormalisedPosition(e).y,f=e.dragItem.rowNodes,S=r?1:0;if(this.isFromThisGrid(e))f.forEach(function(ve){ve.rowTop<c&&(S-=1)}),this.moveRows(f,c,S);else{var M=this.gridOptionsWrapper.getRowIdFunc(),K=this.clientSideRowModel.getRowIndexAtPixel(c)+1;this.clientSideRowModel.getHighlightPosition(c)===B.RowHighlightPosition.Above&&K--,this.clientSideRowModel.updateRowData({add:f.map(function(ve){return ve.data}).filter(function(ve){return!n.clientSideRowModel.getRowNode(M?M({data:ve,level:0}):ve.id)}),addIndex:K})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,n,i){void 0===i&&(i=0),this.clientSideRowModel.ensureRowsAtPixel(e,n,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var n=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var i={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,i=e):(e.onDragEnter&&(i.onDragEnter=function(r){e.onDragEnter(n.draggingToRowDragEvent(nt.EVENT_ROW_DRAG_ENTER,r))}),e.onDragLeave&&(i.onDragLeave=function(r){e.onDragLeave(n.draggingToRowDragEvent(nt.EVENT_ROW_DRAG_LEAVE,r))}),e.onDragging&&(i.onDragging=function(r){e.onDragging(n.draggingToRowDragEvent(nt.EVENT_ROW_DRAG_MOVE,r))}),e.onDragStop&&(i.onDragStop=function(r){e.onDragStop(n.draggingToRowDragEvent(nt.EVENT_ROW_DRAG_END,r))})),this.dragAndDropService.addDropTarget(Hu({isInterestedIn:function(r){return r===B.DragSourceType.RowDrag},getIconName:function(){return to.ICON_MOVE},external:!0},i))}else Mt(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},t.prototype.getRowDropZone=function(e){var n=this,i=this.getContainer.bind(this),r=this.onDragEnter.bind(this),c=this.onDragLeave.bind(this),f=this.onDragging.bind(this),S=this.onDragStop.bind(this);return e?{getContainer:i,onDragEnter:e.onDragEnter?function(M){r(M),e.onDragEnter(n.draggingToRowDragEvent(nt.EVENT_ROW_DRAG_ENTER,M))}:r,onDragLeave:e.onDragLeave?function(M){c(M),e.onDragLeave(n.draggingToRowDragEvent(nt.EVENT_ROW_DRAG_LEAVE,M))}:c,onDragging:e.onDragging?function(M){f(M),e.onDragging(n.draggingToRowDragEvent(nt.EVENT_ROW_DRAG_MOVE,M))}:f,onDragStop:e.onDragStop?function(M){S(M),e.onDragStop(n.draggingToRowDragEvent(nt.EVENT_ROW_DRAG_END,M))}:S,fromGrid:!0}:{getContainer:i,onDragEnter:r,onDragLeave:c,onDragging:f,onDragStop:S,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,n){var f,S,i=this.mouseEventService.getNormalisedPosition(n).y,c=-1;switch(i>this.paginationProxy.getCurrentPageHeight()||(c=this.rowModel.getRowIndexAtPixel(i),f=this.rowModel.getRow(c)),n.vDirection){case B.VerticalDirection.Down:S="down";break;case B.VerticalDirection.Up:S="up";break;default:S=null}return{type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:c,overNode:f,y:i,vDirection:S}},t.prototype.dispatchGridEvent=function(e,n){var i=this.draggingToRowDragEvent(e,n);this.eventService.dispatchEvent(i)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(nt.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(nt.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(n){n.setDragging(!1)})},Qs([D("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Qs([D("rowModel")],t.prototype,"rowModel",void 0),Qs([D("paginationProxy")],t.prototype,"paginationProxy",void 0),Qs([D("columnModel")],t.prototype,"columnModel",void 0),Qs([D("focusService")],t.prototype,"focusService",void 0),Qs([D("sortController")],t.prototype,"sortController",void 0),Qs([D("filterManager")],t.prototype,"filterManager",void 0),Qs([D("selectionService")],t.prototype,"selectionService",void 0),Qs([D("mouseEventService")],t.prototype,"mouseEventService",void 0),Qs([D("ctrlsService")],t.prototype,"ctrlsService",void 0),Qs([te("rangeService")],t.prototype,"rangeService",void 0),Qs([D("columnApi")],t.prototype,"columnApi",void 0),Qs([D("gridApi")],t.prototype,"gridApi",void 0),Qs([ft],t.prototype,"postConstruct",null),t}(he),kn=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xs=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r};!function(o){o.ANIMATION_ON="ag-row-animation",o.ANIMATION_OFF="ag-row-no-animation"}(B.RowAnimationCssClasses||(B.RowAnimationCssClasses={}));var Ga="ag-selectable",Zd="ag-force-vertical-scroll",zl="ag-column-moving",Eu=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return kn(t,o),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,n,i,r,c){this.comp=e,this.eGridBody=n,this.eBodyViewport=i,this.eTop=r,this.eBottom=c,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new Ei(this.comp)),this.bodyScrollFeature=this.createManagedBean(new ar(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,i,c]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,nt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},t.prototype.addFocusListeners=function(e){var n=this;e.forEach(function(i){n.addManagedListener(i,"focusin",function(){i.classList.add("ag-has-focus")}),n.addManagedListener(i,"focusout",function(r){i.contains(r.relatedTarget)||i.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(e?zl:null,e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),this.comp.setCellSelectableCss(e?Ga:null,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e)},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var n=function(r){var c=r.relatedTarget;if(null!==ls(c)){var f=i.some(function(M){return M.contains(c)})&&e.mouseEventService.isElementInThisGrid(c);if(!f){var S=e.popupService;f=S.getActivePopups().some(function(M){return M.contains(c)})||S.isElementWithinCustomPopup(c)}f||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop];i.forEach(function(r){return e.addManagedListener(r,"focusout",n)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),n=this.paginationProxy.getType(),i=-1;n===Qe.ROW_MODEL_TYPE_CLIENT_SIDE&&(i=0,this.paginationProxy.forEachNode(function(c){c.group||i++})),this.comp.setRowCount(-1===i?-1:e+i)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(e?Zd:null,e),e||Yo(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,n=function(){var i=e.gridOptionsWrapper.isAnimateRows()&&!e.rowContainerHeightService.isStretching();e.comp.setRowAnimationCssOnBodyViewport(i?B.RowAnimationCssClasses.ANIMATION_ON:B.RowAnimationCssClasses.ANIMATION_OFF,i)};n(),this.addManagedListener(this.eventService,nt.EVENT_HEIGHT_SCALE_CHANGED,n)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(i){e.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&i.preventDefault();var r=i.target;(r===e.eBodyViewport||r===e.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&e.contextMenuFactory&&e.contextMenuFactory.onContextMenu(i,null,null,null,null,e.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},t.prototype.onWheel=function(e){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var n=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(n+e),this.eBodyViewport.scrollTop-n},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Up(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,n=e.getPinnedTopTotalHeight();n&&(n+=1);var i=e.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(n),this.comp.setBottomHeight(i),this.comp.setTopDisplay(n?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none")},t.prototype.sizeColumnsToFit=function(e){var n=this,r=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,f=ue(this.eBodyViewport)-r;f>0?this.columnModel.sizeColumnsToFit(f,"sizeColumnsToFit"):void 0===e?window.setTimeout(function(){n.sizeColumnsToFit(100)},0):100===e?window.setTimeout(function(){n.sizeColumnsToFit(500)},100):500===e?window.setTimeout(function(){n.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},Xs([D("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Xs([D("ctrlsService")],t.prototype,"ctrlsService",void 0),Xs([D("columnModel")],t.prototype,"columnModel",void 0),Xs([D("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Xs([te("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Xs([D("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Xs([D("paginationProxy")],t.prototype,"paginationProxy",void 0),Xs([D("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Xs([D("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Xs([D("rowRenderer")],t.prototype,"rowRenderer",void 0),Xs([D("popupService")],t.prototype,"popupService",void 0),Xs([D("mouseEventService")],t.prototype,"mouseEventService",void 0),t}(he);(function(o){o[o.FILL=0]="FILL",o[o.RANGE=1]="RANGE"})(B.SelectionHandleType||(B.SelectionHandleType={})),function(o){o[o.VALUE=0]="VALUE",o[o.DIMENSION=1]="DIMENSION"}(B.CellRangeType||(B.CellRangeType={}));var Uu="ag-cell-range-selected",Ic=function(){function o(t,e){this.beans=t,this.cellCtrl=e}return o.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},o.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Uu,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(Uu+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(Uu+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(Uu+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(Uu+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Jn(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},o.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.right,r=!e&&t.bottom,c=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",c)},o.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},o.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(n){return We([B.CellRangeType.DIMENSION,B.CellRangeType.VALUE],n.type)})},o.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},o.prototype.getRangeBorders=function(){var ve,Pe,t=this,e=this.beans.gridOptionsWrapper.isEnableRtl(),n=!1,i=!1,r=!1,c=!1,f=this.cellCtrl.getCellPosition().column,S=this.beans,M=S.rangeService,K=S.columnModel;e?(ve=K.getDisplayedColAfter(f),Pe=K.getDisplayedColBefore(f)):(ve=K.getDisplayedColBefore(f),Pe=K.getDisplayedColAfter(f));var dt=M.getCellRanges().filter(function(Un){return M.isCellInSpecificRange(t.cellCtrl.getCellPosition(),Un)});ve||(c=!0),Pe||(i=!0);for(var vt=0;vt<dt.length&&!(n&&i&&r&&c);vt++){var sn=dt[vt],wn=M.getRangeStartRow(sn),zn=M.getRangeEndRow(sn);!n&&this.beans.rowPositionUtils.sameRow(wn,this.cellCtrl.getCellPosition())&&(n=!0),!r&&this.beans.rowPositionUtils.sameRow(zn,this.cellCtrl.getCellPosition())&&(r=!0),!c&&ve&&sn.columns.indexOf(ve)<0&&(c=!0),!i&&Pe&&sn.columns.indexOf(Pe)<0&&(i=!0)}return{top:n,right:i,bottom:r,left:c}},o.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},o.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,n=t.rangeService,i=n.getCellRanges(),r=i.length;if(this.rangeCount<1||r<1)return!1;var c=mn(i),f=this.cellCtrl.getCellPosition(),S=e.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),M=e.isEnableRangeHandle(),K=1===r&&!this.cellCtrl.isEditing()&&(S||M);if(this.hasChartRange){var Pe=i[0].type===B.CellRangeType.DIMENSION&&n.isCellInSpecificRange(f,i[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",Pe),K=c.type===B.CellRangeType.VALUE}return K&&null!=c.endRow&&n.isContiguousRange(c)&&n.isBottomRightCell(c,f)},o.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,i=mn(t.rangeService.getCellRanges()).type,c=e.isEnableFillHandle()&&V(i)?B.SelectionHandleType.FILL:B.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==c&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(c)),this.selectionHandle.refresh(this.cellCtrl)},o.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},o}(),am=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lm=function(o){function t(e,n){var i=o.call(this)||this;return i.cellCtrl=e,i.beans=n,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return am(t,o),t.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();_i(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,nt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,n){return e+n.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),n=[];if(1===e)n.push(this.column);else for(var i=this.column,r=this.column.getPinned(),c=0;i&&c<e&&(n.push(i),(i=this.beans.columnModel.getDisplayedColAfter(i))&&!V(i)&&r===i.getPinned());c++);return n},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?mn(this.colsSpanning):this.column).getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===Qe.PINNED_LEFT)return e;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===Qe.PINNED_RIGHT?n+this.beans.columnModel.getBodyContainerWidth()+(e||0):n+(e||0)},t.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var e=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=e*this.rowSpan+"px",this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t}(he),Xf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Du=function(o){function t(e,n){var i=o.call(this)||this;return i.staticClasses=[],i.cellCtrl=e,i.beans=n,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i}return Xf(t,o),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,n=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:n,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(n.cellClassRules,i,function(r){return e.cellComp.addOrRemoveCssClass(r,!0)},function(r){return e.cellComp.addOrRemoveCssClass(r,!1)})},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var n;if("function"==typeof e.cellStyle){var i={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};n=(0,e.cellStyle)(i)}else n=e.cellStyle;this.cellComp.setUserStyles(n)}},t.prototype.applyClassesFromColDef=function(){var e=this,n=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:n,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(r){return e.cellComp.addOrRemoveCssClass(r,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(n,i),this.staticClasses.length&&this.staticClasses.forEach(function(r){return e.cellComp.addOrRemoveCssClass(r,!0)})},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t}(he),Oc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Su=function(o){function t(e,n){var i=o.call(this)||this;return i.ctrl=e,i.beans=n,i}return Oc(t,o),t.prototype.setComp=function(e){this.comp=e,this.setupTooltip()},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new Ci({getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}}),this.beans.context))},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},t.prototype.getTooltipParams=function(){var e=this.ctrl,n=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,r=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:n,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:r,data:r?r.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t}(he),xr=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Ru=function(){function o(){}return o.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},xr([D("resizeObserverService")],o.prototype,"resizeObserverService",void 0),xr([D("paginationProxy")],o.prototype,"paginationProxy",void 0),xr([D("context")],o.prototype,"context",void 0),xr([D("columnApi")],o.prototype,"columnApi",void 0),xr([D("gridApi")],o.prototype,"gridApi",void 0),xr([D("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),xr([D("expressionService")],o.prototype,"expressionService",void 0),xr([D("rowRenderer")],o.prototype,"rowRenderer",void 0),xr([D("templateService")],o.prototype,"templateService",void 0),xr([D("valueService")],o.prototype,"valueService",void 0),xr([D("eventService")],o.prototype,"eventService",void 0),xr([D("columnModel")],o.prototype,"columnModel",void 0),xr([D("headerNavigationService")],o.prototype,"headerNavigationService",void 0),xr([D("navigationService")],o.prototype,"navigationService",void 0),xr([D("columnAnimationService")],o.prototype,"columnAnimationService",void 0),xr([te("rangeService")],o.prototype,"rangeService",void 0),xr([D("focusService")],o.prototype,"focusService",void 0),xr([te("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),xr([D("popupService")],o.prototype,"popupService",void 0),xr([D("valueFormatterService")],o.prototype,"valueFormatterService",void 0),xr([D("stylingService")],o.prototype,"stylingService",void 0),xr([D("columnHoverService")],o.prototype,"columnHoverService",void 0),xr([D("userComponentFactory")],o.prototype,"userComponentFactory",void 0),xr([D("userComponentRegistry")],o.prototype,"userComponentRegistry",void 0),xr([D("animationFrameService")],o.prototype,"animationFrameService",void 0),xr([D("dragAndDropService")],o.prototype,"dragAndDropService",void 0),xr([D("sortController")],o.prototype,"sortController",void 0),xr([D("filterManager")],o.prototype,"filterManager",void 0),xr([D("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),xr([D("frameworkOverrides")],o.prototype,"frameworkOverrides",void 0),xr([D("cellPositionUtils")],o.prototype,"cellPositionUtils",void 0),xr([D("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),xr([D("selectionService")],o.prototype,"selectionService",void 0),xr([te("selectionHandleFactory")],o.prototype,"selectionHandleFactory",void 0),xr([D("rowCssClassCalculator")],o.prototype,"rowCssClassCalculator",void 0),xr([D("rowModel")],o.prototype,"rowModel",void 0),xr([D("ctrlsService")],o.prototype,"ctrlsService",void 0),xr([D("ctrlsFactory")],o.prototype,"ctrlsFactory",void 0),xr([D("agStackComponentsRegistry")],o.prototype,"agStackComponentsRegistry",void 0),xr([D("valueCache")],o.prototype,"valueCache",void 0),xr([D("rowNodeEventThrottle")],o.prototype,"rowNodeEventThrottle",void 0),xr([ft],o.prototype,"postConstruct",null),xr([Ae("beans")],o)}(),um=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jp=function(o){function t(e,n,i){var r=o.call(this)||this;return r.cellCtrl=e,r.beans=n,r.column=i,r}return um(t,o),t.prototype.onMouseEvent=function(e,n){if(!qt(n))switch(e){case"click":this.onCellClicked(n);break;case"mousedown":case"touchstart":this.onMouseDown(n);break;case"dblclick":this.onCellDoubleClicked(n);break;case"mouseout":this.onMouseOut(n);break;case"mouseover":this.onMouseOver(n)}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var n=this.beans,i=n.eventService,r=n.gridOptionsWrapper,c=this.cellCtrl.createEvent(e,nt.EVENT_CELL_CLICKED);i.dispatchEvent(c);var f=this.column.getColDef();f.onCellClicked&&window.setTimeout(function(){return f.onCellClicked(c)},0),(r.isSingleClickEdit()||f.singleClickEdit)&&!r.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!ns()||Hn("dblclick"))return!1;var e=(new Date).getTime(),n=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,n},t.prototype.onCellDoubleClicked=function(e){var n=this.column.getColDef(),i=this.cellCtrl.createEvent(e,nt.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"==typeof n.onCellDoubleClicked&&window.setTimeout(function(){return n.onCellDoubleClicked(i)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,e)},t.prototype.onMouseDown=function(e){var n=e.ctrlKey,i=e.metaKey,r=e.shiftKey,c=e.target,f=this.beans,S=f.eventService,M=f.rangeService;if(!this.isRightClickInExistingRange(e)){var K=M&&0!=M.getCellRanges().length;if(!r||!K){var ve=Es()&&!this.cellCtrl.isEditing()&&!Pr(c);this.cellCtrl.focusCell(ve)}if(r&&K&&e.preventDefault(),!this.containsWidget(c)){if(M){var Pe=this.cellCtrl.getCellPosition();r?M.extendLatestRangeToCell(Pe):M.setRangeToCell(Pe,n||i)}S.dispatchEvent(this.cellCtrl.createEvent(e,nt.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var n=this.beans.rangeService;return!(!n||!n.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==e.button)},t.prototype.containsWidget=function(e){return Fr(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var n=this.cellCtrl.createEvent(e,nt.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var n=this.cellCtrl.createEvent(e,nt.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var n=this.cellCtrl.getGui(),i=n.contains(e.target),r=n.contains(e.relatedTarget);return i&&r},t.prototype.destroy=function(){},t}(Ru),zp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jf=function(o){function t(e,n,i,r,c){var f=o.call(this)||this;return f.cellCtrl=e,f.beans=n,f.rowNode=r,f.rowCtrl=c,f}return zp(t,o),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var n=e.key;switch(n){case Nn.ENTER:this.onEnterKeyDown(e);break;case Nn.F2:this.onF2KeyDown(e);break;case Nn.ESCAPE:this.onEscapeKeyDown(e);break;case Nn.TAB:this.onTabKeyDown(e);break;case Nn.BACKSPACE:case Nn.DELETE:this.onBackspaceOrDeleteKeyPressed(n,e);break;case Nn.DOWN:case Nn.UP:case Nn.RIGHT:case Nn.LEFT:this.onNavigationKeyPressed(e,n)}},t.prototype.onNavigationKeyPressed=function(e,n){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,n,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var n=this.beans.rangeService.extendLatestRangeInDirection(e);n&&this.beans.navigationService.ensureCellVisible(n)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyPressed=function(e,n){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(e,void 0,n)},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,Nn.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Nn.ENTER,void 0,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Nn.F2,void 0,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.onKeyPress=function(e){if(e.target===this.eGui&&!this.cellCtrl.isEditing()){var r=String.fromCharCode(e.charCode);" "===r?this.onSpaceKeyPressed(e):ya(e)&&(this.cellCtrl.startRowOrCellEdit(null,r,e),e.preventDefault())}},t.prototype.onSpaceKeyPressed=function(e){var n=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&n.isRowSelection()){var i=this.rowNode.isSelected(),r=!i;if(r||!n.isSuppressRowDeselection()){var c=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),f=this.rowNode.setSelectedParams({newValue:r,rangeSelect:e.shiftKey,groupSelectsFiltered:c});void 0===i&&0===f&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:c})}}e.preventDefault()},t.prototype.destroy=function(){},t}(he),eg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yh=function(o){function t(e,n,i,r){var c=o.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return c.rowNode=e,c.column=n,c.beans=i,c.eCell=r,c}return eg(t,o),t.prototype.postConstruct=function(){this.getGui().appendChild(mi("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(n){n.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var n=this,i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),i?i({rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):function(){try{var f=JSON.stringify(n.rowNode.data);e.dataTransfer.setData("application/json",f),e.dataTransfer.setData("text/plain",f)}catch(S){}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([ft],t.prototype,"postConstruct",null),t}(or),qd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ju=function(){return ju=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},ju.apply(this,arguments)},Qd="ag-cell-not-inline-editing",Ry=0,$l=function(o){function t(e,n,i,r){var c=o.call(this)||this;return c.suppressRefreshCell=!1,c.column=e,c.rowNode=n,c.beans=i,c.rowCtrl=r,c.instanceId=e.getId()+"-"+Ry++,c.createCellPosition(),c.addFeatures(),c}return qd(t,o),t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new lm(this,this.beans),this.addDestroyFunc(function(){return e.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new Du(this,this.beans),this.addDestroyFunc(function(){return e.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new jp(this,this.beans,this.column),this.addDestroyFunc(function(){return e.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new Jf(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return e.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new Ic(this.beans,this),this.addDestroyFunc(function(){return e.cellRangeFeature.destroy()})),this.addTooltipFeature()},t.prototype.addTooltipFeature=function(){var e=this;this.tooltipFeature=new Su({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var r=e.column.getColDef(),c=e.rowNode.data;if(r.tooltipField&&v(c))return At(c,r.tooltipField,e.column.isTooltipFieldContainsDots());var f=r.tooltipValueGetter;return f?f({location:"cell",api:e.beans.gridOptionsWrapper.getApi(),columnApi:e.beans.gridOptionsWrapper.getColumnApi(),context:e.beans.gridOptionsWrapper.getContext(),colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},getValueFormatted:function(){return e.valueFormatted}},this.beans),this.addDestroyFunc(function(){return e.tooltipFeature.destroy()})},t.prototype.setComp=function(e,n,i,r,c){this.cellComp=e,this.gow=this.beans.gridOptionsWrapper,this.eGui=n,this.eCellWrapper=i,this.printLayout=r,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var f=pi(this.column.getId());this.cellComp.setColId(f),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(n),this.cellCustomStyleFeature.setComp(e),this.tooltipFeature.setComp(e),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,n),c&&this.isCellEditable()?this.startEditing():this.showValue()},t.prototype.setupAutoHeight=function(){var e=this;if(this.column.isAutoHeight()){var n=this.eCellWrapper,i=n.parentElement,r=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,c=function(M){if(!e.editing&&e.isAlive()){var K=Lr(i),vt=n.offsetHeight+K.paddingTop+K.paddingBottom;if(M<5){var sn=e.beans.gridOptionsWrapper.getDocument();if(!sn||!sn.contains(n)||0==vt)return void e.beans.frameworkOverrides.setTimeout(function(){return c(M+1)},0)}var Un=Math.max(vt,r);e.rowNode.setRowAutoHeight(Un,e.column)}},f=function(){return c(0)};f();var S=this.beans.resizeObserverService.observeResize(n,f);this.addDestroyFunc(function(){S(),e.rowNode.setRowAutoHeight(void 0,e.column)})}},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.showValue=function(e){void 0===e&&(e=!1);var n=null!=this.valueFormatted?this.valueFormatted:this.value,i=this.createCellRendererParams(),r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),i);this.cellComp.setRenderDetails(r,n,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},t.prototype.isIncludeControl=function(e){return!(null!=this.rowNode.rowPinned||"function"!=typeof e&&!0!==e)},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource);return n||i||r},t.prototype.startEditing=function(e,n,i,r){var c,f;if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=null),this.isCellEditable()&&!this.editing){var S=this.createCellEditorParams(e,n,i),M=this.column.getColDef(),K=this.beans.userComponentFactory.getCellEditorDetails(M,S),ve=null!=(null===(c=K)||void 0===c?void 0:c.popupFromSelector)?K.popupFromSelector:!!M.cellEditorPopup,Pe=null!=(null===(f=K)||void 0===f?void 0:f.popupPositionFromSelector)?K.popupPositionFromSelector:M.cellEditorPopupPosition;this.setEditing(!0,ve),this.cellComp.setEditDetails(K,ve,Pe);var dt=this.createEvent(r,nt.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(dt)}},t.prototype.setEditing=function(e,n){void 0===n&&(n=!1),this.editing!==e&&(this.editing=e,this.editingInPopup=n,this.setInlineEditingClass())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var n={newValueExists:!1};if(e)return n;var i=this.cellComp.getCellEditor();return i?i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0}:n},t.prototype.saveNewValue=function(e,n){if(n===e)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(e,n),!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,n);return this.suppressRefreshCell=!1,i},t.prototype.dispatchEventForSaveValueReadOnly=function(e,n){var i=this.rowNode,r={type:nt.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:i.data,node:i,oldValue:e,newValue:n,value:n,source:void 0};this.beans.eventService.dispatchEvent(r)},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var n=this.takeValueFromCellEditor(e),i=n.newValue,r=n.newValueExists,c=this.getValueFromValueService(),f=!1;return r&&(f=this.saveNewValue(c,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(c,i),f},t.prototype.dispatchEditingStoppedEvent=function(e,n){var i=ju(ju({},this.createEvent(null,nt.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:n});this.beans.eventService.dispatchEvent(i)},t.prototype.setInlineEditingClass=function(){if(this.isAlive()){var e=this.editing&&!this.editingInPopup,n=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",e),this.cellComp.addOrRemoveCssClass(Qd,!e),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",n),this.rowCtrl.setInlineEditingCss(this.editing)}},t.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},t.prototype.createCellEditorParams=function(e,n,i){return{value:this.getValueFromValueService(),key:e,eventKey:e,charPress:n,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:i,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(r){return e.beans.valueService.setValue(e.rowNode,e.column,r)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(r,c,f,S){return e.registerRowDragger(r,c,S)},addRowCompListener:function(r,c){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),e.rowCtrl.addEventListener(r,c)}}},t.prototype.parseValue=function(e){var n=this.column.getColDef(),i={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:e,colDef:n,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},r=n.valueParser;return v(r)?this.beans.expressionService.evaluate(r,i):e},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){this.cellComp&&e.column===this.column&&this.refreshCell({})},t.prototype.refreshCell=function(e){if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var n=this.column.getColDef(),i=null!=e&&!!e.newData,r=null!=e&&!!e.suppressFlash||!!n.suppressCellFlash,f=e&&e.forceRefresh||null==n.field&&null==n.valueGetter&&null==n.showRowGroup||i,S=this.updateAndFormatValue();if(f||S){this.showValue(i);var K=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!r&&!K&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||n.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},t.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},t.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,Nn.DOWN,this.getCellPosition(),!1)},t.prototype.flashCell=function(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)},t.prototype.animateCell=function(e,n,i){var r=this,c="ag-cell-"+e,f="ag-cell-"+e+"-animation",S=this.beans.gridOptionsWrapper;n||(n=S.getCellFlashDelay()),v(i)||(i=S.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(c,!0),this.cellComp.addOrRemoveCssClass(f,!1),window.setTimeout(function(){r.cellComp.addOrRemoveCssClass(c,!1),r.cellComp.addOrRemoveCssClass(f,!0),r.eGui.style.transition="background-color "+i+"ms",window.setTimeout(function(){r.cellComp.addOrRemoveCssClass(f,!1),r.eGui.style.transition=""},i)},n)},t.prototype.onFlashCells=function(e){if(this.cellComp){var n=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[n]&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var n=this.callValueFormatter(e);return null!=n?n:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){void 0===e&&(e=!1);var n=this.value,i=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!e||!this.valuesAreEqual(n,this.value)||this.valueFormatted!=i},t.prototype.valuesAreEqual=function(e,n){var i=this.column.getColDef();return i.equals?i.equals(e,n):e===n},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValueFromValueService=function(){var e=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,i=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),r=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,n&&i&&!r)},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,n=this.getGui();this.beans.gridOptionsWrapper.setDomData(n,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsWrapper.setDomData(n,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,n){return{type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyPress=function(e){this.cellKeyboardListenerFeature.onKeyPress(e)},t.prototype.onKeyDown=function(e){this.cellKeyboardListenerFeature.onKeyDown(e)},t.prototype.onMouseEvent=function(e,n){this.cellMouseListenerFeature.onMouseEvent(e,n)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},t.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},t.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);wo(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,n,i){void 0===i&&(i=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(e,n,this):this.startEditing(e,n,!0,i)},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,e)},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}},t.prototype.onCellFocused=function(e){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var n=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",n),n&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus();var r=this.beans.gridOptionsWrapper.isFullRowEdit();!n&&!r&&this.editing&&this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:R(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(Qd,!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}},t.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)},t.prototype.dispatchCellContextMenuEvent=function(e){var n=this.column.getColDef(),i=this.createEvent(e,nt.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),n.onCellContextMenu&&window.setTimeout(function(){return n.onCellContextMenu(i)},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new so;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new Yh(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,n,i){var r=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,n);else{var c=this.createRowDragComp(e,n,i);c&&(this.customRowDragComp=c,this.addDestroyFunc(function(){return r.beans.context.destroyBean(c)}))}},t.prototype.createRowDragComp=function(e,n,i){var r=this,c=this.beans.gridOptionsWrapper.isPagination(),f=this.beans.gridOptionsWrapper.isRowDragManaged(),S=this.beans.gridOptionsWrapper.isRowModelDefault();if(f){if(!S)return void Mt(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(c)return void Mt(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var M=new Lo(function(){return r.value},this.rowNode,this.column,e,n,i);return this.beans.context.createBean(M),M},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(he),Xd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pm=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},da=(()=>(function(o){o.Normal="Normal",o.FullWidth="FullWidth",o.FullWidthLoading="FullWidthLoading",o.FullWidthGroup="FullWidthGroup",o.FullWidthDetail="FullWidthDetail"}(da||(da={})),da))(),ll=0,Kl=function(o){function t(e,n,i,r,c){var f=o.call(this)||this;return f.allRowGuis=[],f.active=!0,f.centerCellCtrls={list:[],map:{}},f.leftCellCtrls={list:[],map:{}},f.rightCellCtrls={list:[],map:{}},f.lastMouseDownOnDragger=!1,f.updateColumnListsPending=!1,f.beans=n,f.rowNode=e,f.paginationPage=f.beans.paginationProxy.getCurrentPage(),f.useAnimationFrameForCreate=r,f.printLayout=c,f.instanceId=e.id+"-"+ll++,f.setAnimateFlags(i),f.rowFocused=f.beans.focusService.isRowFocused(f.rowNode.rowIndex,f.rowNode.rowPinned),f.rowLevel=f.beans.rowCssClassCalculator.calculateRowLevel(f.rowNode),f.setRowType(),f.addListeners(),f.setInitialRowTop(),f}return Xd(t,o),t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,n,i){var r={rowComp:e,element:n,containerType:i};this.allRowGuis.push(r),i===B.RowContainerType.LEFT?this.leftGui=r:i===B.RowContainerType.RIGHT?this.rightGui=r:i===B.RowContainerType.FULL_WIDTH?this.fullWidthGui=r:this.centerGui=r,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},t.prototype.isCacheable=function(){return this.rowType===da.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},t.prototype.setCached=function(e){var n=e?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=n})},t.prototype.initialiseRowComps=function(){var e=this,n=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),n.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&Bt(this.onTopChanged.bind(this)),this.fadeRowIn&&Bt(function(){e.allRowGuis.forEach(function(f){return f.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var i=this.getRowBusinessKey(),r=pi(this.rowNode.id),c=pi(i);this.allRowGuis.forEach(function(f){var S=f.rowComp;S.setRole("row"),e.getInitialRowClasses(f.containerType).forEach(function(K){return S.addOrRemoveCssClass(K,!0)}),e.rowNode.group&&Fo(f.element,1==e.rowNode.expanded),null!=r&&S.setRowId(r),null!=c&&S.setRowBusinessKey(c),e.isFullWidth()&&!e.beans.gridOptionsWrapper.isSuppressCellFocus()&&S.setTabIndex(-1),n.setDomData(f.element,t.DOM_DATA_KEY_ROW_CTRL,e),e.addDestroyFunc(function(){return n.setDomData(f.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),e.useAnimationFrameForCreate?e.beans.animationFrameService.createTask(e.addHoverFunctionality.bind(e,f.element),e.rowNode.rowIndex,"createTasksP2"):e.addHoverFunctionality(f.element),e.isFullWidth()&&e.setupFullWidth(f),n.isRowDragEntireRow()&&e.addRowDraggerToRow(f),e.useAnimationFrameForCreate&&e.beans.animationFrameService.addDestroyTask(function(){!e.isAlive()||f.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},t.prototype.addRowDraggerToRow=function(e){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())Mt(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var i=new Lo(function(){return"1 row"},this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(i,this.beans.context)}},t.prototype.setupFullWidth=function(e){var n=this.getPinnedForContainer(e.containerType),i=this.createFullWidthParams(e.element,n),r=Cn.isRegistered(B.ModuleNames.MasterDetailModule);if(this.rowType!=da.FullWidthDetail||r){var c;switch(this.rowType){case da.FullWidthDetail:c=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case da.FullWidthGroup:c=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case da.FullWidthLoading:c=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:c=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i)}e.rowComp.showFullWidth(c)}else Cn.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+B.ModuleNames.MasterDetailModule)},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getCellElement=function(e){var n=this.getCellCtrl(e);return n?n.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();e&&e({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},t.prototype.setRowType=function(){var e=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),i=this.beans.doingMasterDetail&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),f=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(r);this.rowType=e?da.FullWidthLoading:i?da.FullWidthDetail:n?da.FullWidth:f?da.FullWidthGroup:da.Normal},t.prototype.updateColumnLists=function(e){var n=this;if(void 0===e&&(e=!1),!this.isFullWidth()){if(e||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!n.active||n.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,n,i){var r=this;void 0===i&&(i=null);var c={list:[],map:{}},f=function(S,M){c.list.push(M),c.map[S]=M};return n.forEach(function(S){var M=S.getInstanceId(),K=e.map[M];K||(K=new $l(S,r.rowNode,r.beans,r)),f(M,K)}),e.list.forEach(function(S){if(null==c.map[S.getColumn().getInstanceId()]){if(!r.isCellEligibleToBeRemoved(S,i))return void f(S.getColumn().getInstanceId(),S);S.destroy()}}),c},t.prototype.updateColumnListsImpl=function(){var e=this;this.updateColumnListsPending=!1;var n=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var i=n.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);var r=n.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,Qe.PINNED_LEFT);var c=n.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,c,Qe.PINNED_RIGHT)}this.allRowGuis.forEach(function(f){f.rowComp.setCellCtrls((f.containerType===B.RowContainerType.LEFT?e.leftCellCtrls:f.containerType===B.RowContainerType.RIGHT?e.rightCellCtrls:e.centerCellCtrls).list)})},t.prototype.isCellEligibleToBeRemoved=function(e,n){var i=!0;if(e.getColumn().getPinned()!=n)return i;var f=e.isEditing(),S=this.beans.focusService.isCellFocused(e.getCellPosition());if(f||S){var K=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(K)>=0)&&i}return i},t.prototype.setAnimateFlags=function(e){if(e){var n=v(this.rowNode.oldRowTop);this.slideRowIn=n,this.fadeRowIn=!n}else this.slideRowIn=!1,this.fadeRowIn=!1},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==da.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,n=function(M,K){if(!M)return!0;var ve=M.rowComp.getFullWidthCellRenderer();if(!ve||!ve.refresh)return!1;var Pe=e.createFullWidthParams(M.element,K);return ve.refresh(Pe)},i=n(this.fullWidthGui,null),r=n(this.centerGui,null),c=n(this.leftGui,Qe.PINNED_LEFT),f=n(this.rightGui,Qe.PINNED_RIGHT);return i&&r&&c&&f},t.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Nr.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Nr.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,nt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,nt.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,nt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,nt.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,nt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,nt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,nt.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Nr.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Nr.EVENT_CELL_CHANGED,function(n){e.getAllCellCtrls().forEach(function(i){return i.onCellChanged(n)})})},t.prototype.onRowNodeDataChanged=function(e){this.getAllCellCtrls().forEach(function(n){return n.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.onRowSelected(),this.postProcessCss()},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(n){var r=e===B.RowHighlightPosition.Below;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",e===B.RowHighlightPosition.Above),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),n=1==this.rowNode.expanded;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&n),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!n),Fo(i.element,e&&n)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},t.prototype.getRowPosition=function(){return{rowPinned:R(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var n=this.allRowGuis.find(function(M){return M.element.contains(e.target)});if((n?n.element:null)===e.target){var c=this.rowNode,f=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:f&&f.column},!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!qt(e)){var n=this.allRowGuis.find(function(f){return f.element.contains(e.target)}),i=n?n.element:null,r=i===e.target,c=null;r||(c=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&r||!c)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var n,i=this.rowNode,r=this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned,c=this.fullWidthGui?this.fullWidthGui.element:null===(n=this.centerGui)||void 0===n?void 0:n.element;!c||(c.classList.toggle("ag-full-width-focus",r),r&&c.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,n){var i={list:[],map:{}};return e.list.forEach(function(r){r!==n&&(i.list.push(r),i.map[r.getInstanceId()]=r)}),i},t.prototype.onMouseEvent=function(e,n){switch(e){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n)}},t.prototype.createRowEvent=function(e,n){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:n}},t.prototype.createRowEventWithSource=function(e,n){var i=this.createRowEvent(e,n);return i.source=this,i},t.prototype.onRowDblClick=function(e){if(!qt(e)){var n=this.createRowEventWithSource(nt.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(n)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=Fr(e.target,"ag-row-drag",3),this.isFullWidth()){var n=this.rowNode;this.beans.focusService.setFocusedCell(n.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],n.rowPinned,!0)}},t.prototype.onRowClick=function(e){if(!qt(e)&&!this.lastMouseDownOnDragger){var i=this.createRowEventWithSource(nt.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);var r=e.ctrlKey||e.metaKey,c=e.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var S=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),M=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?S?this.rowNode.setSelectedParams({newValue:!1}):r?M&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!c,rangeSelect:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!S&&!r,rangeSelect:c})}}},t.prototype.setupDetailRowAutoHeight=function(e){var n=this;if(this.rowType===da.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var i=function(){var c=e.clientHeight;null!=c&&c>0&&n.beans.frameworkOverrides.setTimeout(function(){n.rowNode.setRowHeight(c),n.beans.clientSideRowModel?n.beans.clientSideRowModel.onRowHeightChanged():n.beans.serverSideRowModel&&n.beans.serverSideRowModel.onRowHeightChanged()},0)},r=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(r),i()}},t.prototype.createFullWidthParams=function(e,n){var i=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(c,f,S,M){return i.addFullWidthRowDragging(c,f,S,M)}}},t.prototype.addFullWidthRowDragging=function(e,n,i,r){if(void 0===i&&(i=""),this.isFullWidth()){var c=new Lo(function(){return i},this.rowNode,void 0,e,n,r);this.createManagedBean(c,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var n="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass(n,!0),r.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",n)}))},t.prototype.stopEditing=function(e){void 0===e&&(e=!1);var n=this.getAllCellCtrls().map(function(r){return r.stopEditing(e)});if(this.editingRow){if(!e&&n.some(function(r){return r})){var i=this.createRowEvent(nt.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(i)}this.setEditingRow(!1)}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var n=this.createRowEvent(e?nt.EVENT_ROW_EDITING_STARTED:nt.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)},t.prototype.startRowEditing=function(e,n,i,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(c){var f=c===i;f?c.startEditing(e,n,f,r):c.startEditing(null,null,f,r)}),this.setEditingRow(!0))},t.prototype.getAllCellCtrls=function(){var e=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(pm(arguments[t]));return o}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(function(i){e.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(i,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(n){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!0)})},function(n){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!1)})})},t.prototype.setStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(n){return n.rowComp.setUserStyles(e)})},t.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof e)return e(this.rowNode)},t.prototype.getPinnedForContainer=function(e){return e===B.RowContainerType.LEFT?Qe.PINNED_LEFT:e===B.RowContainerType.RIGHT?Qe.PINNED_RIGHT:null},t.prototype.getInitialRowClasses=function(e){var n=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},t.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(!e||"function"!=typeof e){var i,n=this.beans.gridOptionsWrapper.getRowStyleFunc();return n&&(i=n({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},e,i)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(){var e=this,n=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-selected",n),Jn(i.element,!!n||void 0);var r=e.createAriaLabel();hs(i.element,null==r?"":r)})},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!e||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.")},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var n=this;!this.active||(this.addManagedListener(e,"mouseenter",function(){return n.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return n.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Nr.EVENT_MOUSE_ENTER,function(){n.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||e.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,Nr.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover")}))},t.prototype.roundRowTopToBounds=function(e){var i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.applyPaginationOffset(i.top,!0)-100,c=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(r,e),c)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var e=this.rowNode.rowHeight,n=this.beans.gridOptionsWrapper.getDefaultRowHeight(),r=this.beans.gridOptionsWrapper.isGetRowHeightFunction()?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,c=r?Math.min(n,r)-2+"px":void 0;this.allRowGuis.forEach(function(f){f.element.style.height=e+"px",c&&f.element.style.setProperty("--ag-line-height",c)})}},t.prototype.addEventListener=function(e,n){("renderedRowRemoved"===e||"rowRemoved"===e)&&(e=nt.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+nt.EVENT_VIRTUAL_ROW_REMOVED)),o.prototype.addEventListener.call(this,e,n)},t.prototype.removeEventListener=function(e,n){("renderedRowRemoved"===e||"rowRemoved"===e)&&(e=nt.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+nt.EVENT_VIRTUAL_ROW_REMOVED)),o.prototype.removeEventListener.call(this,e,n)},t.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var e=this.createRowEvent(nt.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),o.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(n){return n.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(){var e=this;this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-focus",e.rowFocused),n.rowComp.addOrRemoveCssClass("ag-row-no-focus",!e.rowFocused)})},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,n){return void 0===n&&(n=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(n?1:-1)},t.prototype.setRowTop=function(e){if(!this.printLayout&&v(e)){var n=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n);this.setRowTopStyle(i+"px")}},t.prototype.getInitialRowTop=function(){return this.initialTop},t.prototype.getInitialTransform=function(){return this.initialTransform},t.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var e=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,n=this.applyPaginationOffset(e),r=(this.rowNode.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=r:this.initialTransform="translateY("+r+")"},t.prototype.setRowTopStyle=function(e){var n=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(i){return n?i.rowComp.setTop(e):i.rowComp.setTransform("translateY("+e+")")})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var n=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==e&&(n=i)}),null!=n||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(e)>=0&&(n=i)}),n},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.updateRowIndexes=function(){var e=this.rowNode.getRowIndexString(),n=this.beans.headerNavigationService.getHeaderRowCount(),i=this.rowNode.rowIndex%2==0,r=n+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(c){c.rowComp.setRowIndex(e),c.rowComp.addOrRemoveCssClass("ag-row-even",i),c.rowComp.addOrRemoveCssClass("ag-row-odd",!i),ts(c.element,r)})},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(he),ng=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),os=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Yp=function(o){function t(e){var n=o.call(this)||this;return n.element=e,n}return ng(t,o),t.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},t.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach(function(i){var r=e.processKeyboardEvent.bind(e,i);e.addManagedListener(e.element,i,r)})},t.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",Hn("touchstart")?"touchstart":"mousedown"].forEach(function(r){var c=e.processMouseEvent.bind(e,r);e.addManagedListener(e.element,r,c)})},t.prototype.processMouseEvent=function(e,n){if(this.mouseEventService.isEventFromThisGrid(n)&&!qt(n)){var i=this.getRowForEvent(n),r=this.mouseEventService.getRenderedCellForEvent(n);"contextmenu"===e?this.handleContextMenuMouseEvent(n,null,i,r):(r&&r.onMouseEvent(e,n),i&&i.onMouseEvent(e,n))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(ns()){var n=new wa(this.element);this.addManagedListener(n,wa.EVENT_LONG_TAP,function(r){var c=e.getRowForEvent(r.touchEvent),f=e.mouseEventService.getRenderedCellForEvent(r.touchEvent);e.handleContextMenuMouseEvent(null,r.touchEvent,c,f)}),this.addDestroyFunc(function(){return n.destroy()})}},t.prototype.getRowForEvent=function(e){for(var n=e.target;n;){var i=this.gridOptionsWrapper.getDomData(n,Kl.DOM_DATA_KEY_ROW_CTRL);if(i)return i;n=n.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,n,i,r){var c=i?i.getRowNode():null,f=r?r.getColumn():null,S=null;f&&(r.dispatchCellContextMenuEvent(e||n),S=this.valueService.getValue(f,c));var K=this.ctrlsService.getGridBodyCtrl(),ve=r?r.getGui():K.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,n,c,f,S,ve)},t.prototype.processKeyboardEvent=function(e,n){var i=bn(this.gridOptionsWrapper,n,$l.DOM_DATA_KEY_CELL_CTRL),r=bn(this.gridOptionsWrapper,n,Kl.DOM_DATA_KEY_ROW_CTRL);n.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,n):r&&r.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,n))},t.prototype.processCellKeyboardEvent=function(e,n,i){var r=e.getRowNode(),c=e.getColumn(),f=e.isEditing();if(!_a(this.gridOptionsWrapper,i,r,c,f))switch(n){case"keydown":!f&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing());break;case"keypress":e.onKeyPress(i)}if("keydown"===n){var K=e.createEvent(i,nt.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(K)}if("keypress"===n){var ve=e.createEvent(i,nt.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(ve)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,n,i){var r=e.getRowNode(),c=this.focusService.getFocusedCell();if(!_a(this.gridOptionsWrapper,i,r,c&&c.column,!1)&&"keydown"===n)switch(i.key){case Nn.UP:case Nn.DOWN:e.onKeyboardNavigate(i);break;case Nn.TAB:e.onTabKeyDown(i)}if("keydown"===n){var K=e.createRowEvent(nt.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(K)}if("keypress"===n){var ve=e.createRowEvent(nt.EVENT_CELL_KEY_PRESS,i);this.eventService.dispatchEvent(ve)}},t.prototype.doGridOperations=function(e,n){if((e.ctrlKey||e.metaKey)&&!n&&this.mouseEventService.isEventFromThisGrid(e))switch(e.code){case Nn.A:return this.onCtrlAndA(e);case Nn.C:return this.onCtrlAndC(e);case Nn.V:return this.onCtrlAndV();case Nn.D:return this.onCtrlAndD(e);case Nn.Z:return e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case Nn.Y:return this.undoRedoService.redo()}},t.prototype.onCtrlAndA=function(e){var n=this,i=n.pinnedRowModel,c=n.rangeService,f=Qe.PINNED_BOTTOM,S=Qe.PINNED_TOP;if(c&&n.paginationProxy.isRowsToRender()){var M=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r}([i.isEmpty(S),i.isEmpty(f)],2),Pe=M[0]?null:S,dt=void 0,vt=void 0;M[1]?(dt=null,vt=this.paginationProxy.getRowCount()-1):(dt=f,vt=i.getPinnedBottomRowData().length-1);var sn=this.columnModel.getAllDisplayedColumns();if(I(sn))return;c.setCellRange({rowStartIndex:0,rowStartPinned:Pe,rowEndIndex:vt,rowEndPinned:dt,columnStart:sn[0],columnEnd:mn(sn)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),e.preventDefault())},t.prototype.onCtrlAndV=function(){Cn.isRegistered(B.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){Cn.isRegistered(B.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},os([D("mouseEventService")],t.prototype,"mouseEventService",void 0),os([D("valueService")],t.prototype,"valueService",void 0),os([te("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),os([D("ctrlsService")],t.prototype,"ctrlsService",void 0),os([D("navigationService")],t.prototype,"navigationService",void 0),os([D("focusService")],t.prototype,"focusService",void 0),os([D("undoRedoService")],t.prototype,"undoRedoService",void 0),os([D("columnModel")],t.prototype,"columnModel",void 0),os([D("paginationProxy")],t.prototype,"paginationProxy",void 0),os([D("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),os([te("rangeService")],t.prototype,"rangeService",void 0),os([te("clipboardService")],t.prototype,"clipboardService",void 0),os([ft],t.prototype,"postConstruct",null),t}(he),ig=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Fc=function(o){function t(e){var n=o.call(this)||this;return n.centerContainerCtrl=e,n}return ig(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,nt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.listenForResize=function(){var e=this,n=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(n),this.gridBodyCtrl.registerBodyViewportResizeListener(n)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var n=_e(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==n&&(this.bodyHeight=n,this.eventService.dispatchEvent({type:nt.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e),this.gridBodyCtrl.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCtrl.isViewportHScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),n=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,n)},Pc([D("ctrlsService")],t.prototype,"ctrlsService",void 0),Pc([D("columnModel")],t.prototype,"columnModel",void 0),Pc([D("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Pc([D("columnApi")],t.prototype,"columnApi",void 0),Pc([D("gridApi")],t.prototype,"gridApi",void 0),Pc([ft],t.prototype,"postConstruct",null),t}(he),Jd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rg=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Or=function(o){function t(e){var n=o.call(this)||this;return n.element=e,n}return Jd(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,nt.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),n=e>0;Mi(this.element,n),n&&So(this.element,e)},rg([D("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),rg([ft],t.prototype,"postConstruct",null),t}(he),mm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},og=function(o){function t(e){var n=o.call(this)||this;return n.element=e,n}return mm(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,nt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),n=e>0;Mi(this.element,n),n&&So(this.element,e)},Nc([D("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Nc([ft],t.prototype,"postConstruct",null),t}(he),Yl=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ba=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Zp=function(o){function t(e,n){var i=o.call(this)||this;return i.eContainer=e,i.eWrapper=n,i}return Yl(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,nt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),n=null!=e?e+"px":"";this.eContainer.style.height=n,this.eWrapper&&(this.eWrapper.style.height=n)},ba([D("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),ba([ft],t.prototype,"postConstruct",null),t}(he),vm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qh=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},$u=function(o){function t(e){var n=o.call(this)||this;return n.eContainer=e,n}return vm(t,o),t.prototype.postConstruct=function(){var e=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!V(this.rangeService)){var n={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(n),this.addDestroyFunc(function(){return e.dragService.removeDragSource(n)})}},qh([te("rangeService")],t.prototype,"rangeService",void 0),qh([D("dragService")],t.prototype,"dragService",void 0),qh([ft],t.prototype,"postConstruct",null),t}(he),sg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ag=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Lc=function(o){function t(e){var n=o.call(this)||this;return n.callback=e,n}return sg(t,o),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_DOM_LAYOUT,e),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,n=this.gridOptionsWrapper.getDomLayout()===Qe.DOM_LAYOUT_PRINT,i=e.getBodyContainerWidth(),r=e.getDisplayedColumnsLeftWidth(),c=e.getDisplayedColumnsRightWidth();this.callback(n?i+r+c:i)},ag([D("columnModel")],t.prototype,"columnModel",void 0),ag([ft],t.prototype,"postConstruct",null),t}(he),Nv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Ty=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r};function Zl(o){switch(o){case B.RowContainerName.CENTER:case B.RowContainerName.TOP_CENTER:case B.RowContainerName.BOTTOM_CENTER:return B.RowContainerType.CENTER;case B.RowContainerName.LEFT:case B.RowContainerName.TOP_LEFT:case B.RowContainerName.BOTTOM_LEFT:return B.RowContainerType.LEFT;case B.RowContainerName.RIGHT:case B.RowContainerName.TOP_RIGHT:case B.RowContainerName.BOTTOM_RIGHT:return B.RowContainerType.RIGHT;case B.RowContainerName.FULL_WIDTH:case B.RowContainerName.TOP_FULL_WIDTH:case B.RowContainerName.BOTTOM_FULL_WIDTH:return B.RowContainerType.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(function(o){o.LEFT="left",o.RIGHT="right",o.CENTER="center",o.FULL_WIDTH="fullWidth",o.TOP_LEFT="topLeft",o.TOP_RIGHT="topRight",o.TOP_CENTER="topCenter",o.TOP_FULL_WIDTH="topFullWidth",o.BOTTOM_LEFT="bottomLeft",o.BOTTOM_RIGHT="bottomRight",o.BOTTOM_CENTER="bottomCenter",o.BOTTOM_FULL_WIDTH="bottomFullWidth"})(B.RowContainerName||(B.RowContainerName={})),function(o){o.LEFT="left",o.RIGHT="right",o.CENTER="center",o.FULL_WIDTH="fullWidth"}(B.RowContainerType||(B.RowContainerType={}));var pd=nr([[B.RowContainerName.CENTER,"ag-center-cols-container"],[B.RowContainerName.LEFT,"ag-pinned-left-cols-container"],[B.RowContainerName.RIGHT,"ag-pinned-right-cols-container"],[B.RowContainerName.FULL_WIDTH,"ag-full-width-container"],[B.RowContainerName.TOP_CENTER,"ag-floating-top-container"],[B.RowContainerName.TOP_LEFT,"ag-pinned-left-floating-top"],[B.RowContainerName.TOP_RIGHT,"ag-pinned-right-floating-top"],[B.RowContainerName.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[B.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-container"],[B.RowContainerName.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[B.RowContainerName.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[B.RowContainerName.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),qp=nr([[B.RowContainerName.CENTER,"ag-center-cols-viewport"],[B.RowContainerName.TOP_CENTER,"ag-floating-top-viewport"],[B.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),Qp=nr([[B.RowContainerName.CENTER,"ag-center-cols-clipper"]]),lg=function(o){function t(e){var n=o.call(this)||this;return n.name=e,n}return Nv(t,o),t.getRowContainerCssClasses=function(e){return{container:pd.get(e),viewport:qp.get(e),wrapper:Qp.get(e)}},t.getPinned=function(e){switch(e){case B.RowContainerName.BOTTOM_LEFT:case B.RowContainerName.TOP_LEFT:case B.RowContainerName.LEFT:return Qe.PINNED_LEFT;case B.RowContainerName.BOTTOM_RIGHT:case B.RowContainerName.TOP_RIGHT:case B.RowContainerName.RIGHT:return Qe.PINNED_RIGHT;default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([B.RowContainerName.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new Fc(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case B.RowContainerName.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case B.RowContainerName.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case B.RowContainerName.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case B.RowContainerName.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case B.RowContainerName.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case B.RowContainerName.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case B.RowContainerName.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case B.RowContainerName.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case B.RowContainerName.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},t.prototype.forContainers=function(e,n){e.indexOf(this.name)>=0&&n()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,n,i,r){var c=this;this.comp=e,this.eContainer=n,this.eViewport=i,this.eWrapper=r,this.createManagedBean(new Yp(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var K=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Ty(arguments[t]));return o}([B.RowContainerName.TOP_CENTER,B.RowContainerName.TOP_LEFT,B.RowContainerName.TOP_RIGHT],[B.RowContainerName.BOTTOM_CENTER,B.RowContainerName.BOTTOM_LEFT,B.RowContainerName.BOTTOM_RIGHT],[B.RowContainerName.CENTER,B.RowContainerName.LEFT,B.RowContainerName.RIGHT]),ve=[B.RowContainerName.CENTER,B.RowContainerName.LEFT,B.RowContainerName.RIGHT,B.RowContainerName.FULL_WIDTH],Pe=[B.RowContainerName.CENTER,B.RowContainerName.TOP_CENTER,B.RowContainerName.BOTTOM_CENTER],vt=[B.RowContainerName.RIGHT,B.RowContainerName.BOTTOM_RIGHT,B.RowContainerName.TOP_RIGHT];this.forContainers([B.RowContainerName.LEFT,B.RowContainerName.BOTTOM_LEFT,B.RowContainerName.TOP_LEFT],function(){return c.createManagedBean(new Or(c.eContainer))}),this.forContainers(vt,function(){return c.createManagedBean(new og(c.eContainer))}),this.forContainers(ve,function(){return c.createManagedBean(new Zp(c.eContainer,c.eWrapper))}),this.forContainers(K,function(){return c.createManagedBean(new $u(c.eContainer))}),this.forContainers(Pe,function(){return c.createManagedBean(new Lc(function(sn){return c.comp.setContainerWidth(sn+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,nt.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return e.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_ROWS_CHANGED,function(){return e.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this,n=function(){return e.comp.setDomOrder(e.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_DOM_LAYOUT,n),n()},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([B.RowContainerName.TOP_CENTER,B.RowContainerName.BOTTOM_CENTER],function(){e.addManagedListener(e.eViewport,"scroll",function(){return e.eViewport.scrollLeft=0})})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([B.RowContainerName.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([B.RowContainerName.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onScrollVisibilityChanged=function(){if(this.name===B.RowContainerName.CENTER){var n=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==n?"100%":"calc(100% + "+n+"px)")}},t.prototype.addPreventScrollWhileDragging=function(){var e=this,n=function(i){e.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",n,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",n)})},t.prototype.onHorizontalViewportChanged=function(){var e=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,n)},t.prototype.getCenterWidth=function(){return ue(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return Ai(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var n=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return n()})},t.prototype.isViewportVisible=function(){return Yn(this.eViewport)},t.prototype.isViewportHScrollShowing=function(){return ma(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return Ai(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||ma(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},t.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},t.prototype.setCenterViewportScrollLeft=function(e){Br(this.eViewport,e,this.enableRtl)},t.prototype.onDisplayedRowsChanged=function(){var e=this,n=this.name===B.RowContainerName.TOP_FULL_WIDTH||this.name===B.RowContainerName.BOTTOM_FULL_WIDTH||this.name===B.RowContainerName.FULL_WIDTH,c=this.getRowCtrls().filter(function(f){var S=f.isFullWidth(),M=e.gridOptionsWrapper.getDomLayout()===Qe.DOM_LAYOUT_PRINT,K=e.embedFullWidthRows||M;return n?!K&&S:K||!S});this.comp.setRowCtrls(c)},t.prototype.getRowCtrls=function(){switch(this.name){case B.RowContainerName.TOP_CENTER:case B.RowContainerName.TOP_LEFT:case B.RowContainerName.TOP_RIGHT:case B.RowContainerName.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case B.RowContainerName.BOTTOM_CENTER:case B.RowContainerName.BOTTOM_LEFT:case B.RowContainerName.BOTTOM_RIGHT:case B.RowContainerName.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},kc([D("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),kc([D("dragService")],t.prototype,"dragService",void 0),kc([D("ctrlsService")],t.prototype,"ctrlsService",void 0),kc([D("columnModel")],t.prototype,"columnModel",void 0),kc([D("resizeObserverService")],t.prototype,"resizeObserverService",void 0),kc([D("rowRenderer")],t.prototype,"rowRenderer",void 0),kc([ft],t.prototype,"postConstruct",null),t}(he),ym=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ku=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ug='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+B.RowContainerName.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+B.RowContainerName.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+B.RowContainerName.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+B.RowContainerName.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+B.RowContainerName.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+B.RowContainerName.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+B.RowContainerName.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+B.RowContainerName.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+B.RowContainerName.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+B.RowContainerName.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+B.RowContainerName.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+B.RowContainerName.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',eh=function(o){function t(){return o.call(this,ug)||this}return ym(t,o),t.prototype.init=function(){var e=this,n=function(r,c){var f=r+"px";c.style.minHeight=f,c.style.height=f},i={setRowAnimationCssOnBodyViewport:function(r,c){return e.setRowAnimationCssOnBodyViewport(r,c)},setColumnCount:function(r){return Er(e.getGui(),r)},setRowCount:function(r){return po(e.getGui(),r)},setTopHeight:function(r){return n(r,e.eTop)},setBottomHeight:function(r){return n(r,e.eBottom)},setTopDisplay:function(r){return e.eTop.style.display=r},setBottomDisplay:function(r){return e.eBottom.style.display=r},setColumnMovingCss:function(r,c){return e.addOrRemoveCssClass(zl,c)},updateLayoutClasses:function(r,c){var f=e.eBodyViewport.classList;f.toggle(B.LayoutCssClasses.AUTO_HEIGHT,c.autoHeight),f.toggle(B.LayoutCssClasses.NORMAL,c.normal),f.toggle(B.LayoutCssClasses.PRINT,c.print),e.addOrRemoveCssClass(B.LayoutCssClasses.AUTO_HEIGHT,c.autoHeight),e.addOrRemoveCssClass(B.LayoutCssClasses.NORMAL,c.normal),e.addOrRemoveCssClass(B.LayoutCssClasses.PRINT,c.print)},setAlwaysVerticalScrollClass:function(r,c){return e.eBodyViewport.classList.toggle(Zd,c)},registerBodyViewportResizeListener:function(r){var c=e.resizeObserverService.observeResize(e.eBodyViewport,r);e.addDestroyFunc(function(){return c()})},setPinnedTopBottomOverflowY:function(r){return e.eTop.style.overflowY=e.eBottom.style.overflowY=r},setCellSelectableCss:function(r,c){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(f){return f.classList.toggle(Ga,c)})}};this.ctrl=this.createManagedBean(new Eu),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&pr(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,n){var i=this.eBodyViewport.classList;i.toggle(B.RowAnimationCssClasses.ANIMATION_ON,n),i.toggle(B.RowAnimationCssClasses.ANIMATION_OFF,!n)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Ku([D("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Ku([te("rangeService")],t.prototype,"rangeService",void 0),Ku([Gn("eBodyViewport")],t.prototype,"eBodyViewport",void 0),Ku([Gn("eTop")],t.prototype,"eTop",void 0),Ku([Gn("eBottom")],t.prototype,"eBottom",void 0),Ku([Gn("gridHeader")],t.prototype,"headerRootComp",void 0),Ku([ft],t.prototype,"init",null),t}(or),Xh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),th=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},_m=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Xh(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var n={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(n)}},t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:nt.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},th([D("columnApi")],t.prototype,"columnApi",void 0),th([D("gridApi")],t.prototype,"gridApi",void 0),th([D("ctrlsService")],t.prototype,"ctrlsService",void 0),th([ft],t.prototype,"postConstruct",null),th([Ae("scrollVisibleService")],t)}(he),Cm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xp=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},cg=function(o){function t(){var n=null!==o&&o.apply(this,arguments)||this;return n.gridInstanceId=e.gridInstanceSequence.next(),n}var e;return Cm(t,o),e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(n){n[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(n){return bn(this.gridOptionsWrapper,n,$l.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(n){return this.isElementInThisGrid(n.target)},t.prototype.isElementInThisGrid=function(n){for(var i=n;i;){var r=i[e.GRID_DOM_KEY];if(v(r))return r===this.gridInstanceId;i=i.parentElement}return!1},t.prototype.getCellPositionForEvent=function(n){var i=this.getRenderedCellForEvent(n);return i?i.getCellPosition():null},t.prototype.getNormalisedPosition=function(n){var c,f,i=this.gridOptionsWrapper.getDomLayout()===Qe.DOM_LAYOUT_NORMAL;if(null!=n.clientX||null!=n.clientY?(c=n.clientX,f=n.clientY):(c=n.x,f=n.y),i){var S=this.ctrlsService.getGridBodyCtrl(),M=S.getScrollFeature().getVScrollPosition();c+=S.getScrollFeature().getHScrollPosition().left,f+=M.top}return{x:c,y:f}},t.gridInstanceSequence=new ja,t.GRID_DOM_KEY="__ag_grid_instance",Xp([D("ctrlsService")],t.prototype,"ctrlsService",void 0),e=Xp([Ae("mouseEventService")],t)}(he),wm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),fd=function(){return fd=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},fd.apply(this,arguments)},Oa=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Lv=function(o){function t(){var e=o.call(this)||this;return e.onPageDown=ot(e.onPageDown,100),e.onPageUp=ot(e.onPageUp,100),e}return wm(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridBodyCon=n.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e){var n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,c=!!this.rangeService&&e.shiftKey,f=this.mouseEventService.getCellPositionForEvent(e);if(!f)return!1;var S=!1;switch(n){case Nn.PAGE_HOME:case Nn.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),S=!0);break;case Nn.LEFT:case Nn.RIGHT:case Nn.UP:case Nn.DOWN:r&&!i&&!c&&(this.onCtrlUpDownLeftRight(n,f),S=!0);break;case Nn.PAGE_DOWN:!r&&!i&&(this.onPageDown(f),S=!0);break;case Nn.PAGE_UP:!r&&!i&&(this.onPageUp(f),S=!0)}return S&&e.preventDefault(),S},t.prototype.navigateTo=function(e){var n=e.scrollIndex,i=e.scrollType,r=e.scrollColumn,c=e.focusIndex,f=e.focusColumn;v(r)&&!r.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(r),v(n)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n,i),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(c,f,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:c,rowPinned:null,column:f})},t.prototype.onPageDown=function(e){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.getViewportHeight(),c=this.paginationProxy.getPixelOffset(),S=this.paginationProxy.getRowIndexAtPixel(i.top+r+c);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,S):this.navigateToNextPage(e,S)},t.prototype.onPageUp=function(e){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.paginationProxy.getPixelOffset(),f=this.paginationProxy.getRowIndexAtPixel(i.top+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,f,!0):this.navigateToNextPage(e,f,!0)},t.prototype.navigateToNextPage=function(e,n,i){void 0===i&&(i=!1);var r,c,wn,f=this.getViewportHeight(),S=this.paginationProxy.getPageFirstRow(),M=this.paginationProxy.getPageLastRow(),K=this.paginationProxy.getPixelOffset(),ve=this.paginationProxy.getRow(e.rowIndex),Pe=i?(null===(r=ve)||void 0===r?void 0:r.rowHeight)-f-K:f-K,dt=(null===(c=ve)||void 0===c?void 0:c.rowTop)+Pe,vt=this.paginationProxy.getRowIndexAtPixel(dt+K);vt===e.rowIndex&&(n=vt=e.rowIndex+(i?-1:1)),i?(wn="bottom",vt<S&&(vt=S),n<S&&(n=S)):(wn="top",vt>M&&(vt=M),n>M&&(n=M)),this.isRowTallerThanView(vt)&&(n=vt,wn="top"),this.navigateTo({scrollIndex:n,scrollType:wn,scrollColumn:null,focusIndex:vt,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,n,i){var r=this;void 0===i&&(i=!1),this.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column}),setTimeout(function(){var c=r.getNextFocusIndexForAutoHeight(e,i);r.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:c,focusColumn:e.column})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,n){void 0===n&&(n=!1);for(var i,r=n?-1:1,c=this.getViewportHeight(),f=this.paginationProxy.getPageLastRow(),S=0,M=e.rowIndex;M>=0&&M<=f;){var K=this.paginationProxy.getRow(M);if(K){var ve=null!=(i=K.rowHeight)?i:0;if(S+ve>c)break;S+=ve}M+=r}return Math.max(0,Math.min(M,f))},t.prototype.getViewportHeight=function(){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.gridOptionsWrapper.getScrollbarWidth(),r=n.bottom-n.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(r-=i),r},t.prototype.isRowTallerThanView=function(e){var n=this.paginationProxy.getRow(e);if(!n)return!1;var i=n.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,n){var i=this.cellNavigationService.getNextCellToFocus(e,n,!0),r=i.rowIndex,c=i.column;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:c,focusIndex:r,focusColumn:c})},t.prototype.onHomeOrEndKey=function(e){var n=e===Nn.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),r=n?i[0]:mn(i),c=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:r,focusIndex:c,focusColumn:r})},t.prototype.onTabKeyDown=function(e,n){var i=n.shiftKey;if(this.tabToNextCellCommon(e,i,n))n.preventDefault();else if(i){var c=e.getRowPosition(),f=c.rowIndex;(c.rowPinned?0===f:f===this.paginationProxy.getPageFirstRow())&&(n.preventDefault(),this.focusService.focusLastHeader(n))}else e instanceof $l&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&n.preventDefault()},t.prototype.tabToNextCell=function(e,n){var i=this.focusService.getFocusedCell();if(!i)return!1;var r=this.getCellByPosition(i);return!!(r||(r=this.rowRenderer.getRowByPosition(i),r&&r.isFullWidth()))&&this.tabToNextCellCommon(r,e,n)},t.prototype.tabToNextCellCommon=function(e,n,i){var r=e.isEditing();if(!r&&e instanceof $l){var f=e.getRowCtrl();f&&(r=f.isEditing())}return(r?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(e,n,i):this.moveToNextEditingCell(e,n,i):this.moveToNextCellNotEditing(e,n))||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,n,i){void 0===i&&(i=null);var r=e.getCellPosition();e.stopEditing();var c=this.findNextCellToFocusOn(r,n,!0);return null!=c&&(c.startEditing(null,null,!0,i),c.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,n,i){void 0===i&&(i=null);var r=e.getCellPosition(),c=this.findNextCellToFocusOn(r,n,!0);if(null==c)return!1;var f=c.getCellPosition(),S=this.isCellEditable(r),M=this.isCellEditable(f),K=f&&r.rowIndex===f.rowIndex&&r.rowPinned===f.rowPinned;return S&&e.setFocusOutOnEditor(),K||(e.getRowCtrl().stopEditing(),c.getRowCtrl().startRowEditing(void 0,void 0,void 0,i)),M?(c.setFocusInOnEditor(),c.focusCell()):c.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,n){var r,i=this.columnModel.getAllDisplayedColumns();r=e instanceof Kl?fd(fd({},e.getRowPosition()),{column:n?i[0]:mn(i)}):e.getCellPosition();var c=this.findNextCellToFocusOn(r,n,!1);if(c instanceof $l)c.focusCell(!0);else if(c)return this.tryToFocusFullWidthRow(c.getRowPosition(),n);return v(c)},t.prototype.findNextCellToFocusOn=function(e,n,i){for(var r=e;;){e!==r&&(e=r),n||(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextTabbedCell(r,n);var c=this.gridOptionsWrapper.getTabToNextCellFunc();if(v(c)){var S=c({backwards:n,editing:i,previousCellPosition:e,nextCellPosition:r||null});v(S)?(S.floating&&(Mt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),S.rowPinned=S.floating),r={rowIndex:S.rowIndex,column:S.column,rowPinned:S.rowPinned}):r=null}if(!r)return null;if(r.rowIndex<0){var M=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:M+r.rowIndex,column:r.column}}),null}var K=this.gridOptionsWrapper.isFullRowEdit();if(!i||K||this.isCellEditable(r)){this.ensureCellVisible(r);var Pe=this.getCellByPosition(r);if(!Pe){var dt=this.rowRenderer.getRowByPosition(r);if(!dt||!dt.isFullWidth())continue;return dt}if(!Pe.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(r),Pe}}},t.prototype.isCellEditable=function(e){var n=this.lookupRowNodeForCell(e);return!!n&&e.column.isCellEditable(n)},t.prototype.getCellByPosition=function(e){var n=this.rowRenderer.getRowByPosition(e);return n?n.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===Qe.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===Qe.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,n,i,r){for(var c=i,f=!1;c&&(c===i||!this.isValidNavigateCell(c));)this.gridOptionsWrapper.isEnableRtl()?n===Nn.LEFT&&(c=this.getLastCellOfColSpan(c)):n===Nn.RIGHT&&(c=this.getLastCellOfColSpan(c)),f=V(c=this.cellNavigationService.getNextCellToFocus(n,c));if(f&&e&&e.key===Nn.UP&&(c={rowIndex:-1,rowPinned:null,column:i.column}),r){var S=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(v(S)){var K=S({key:n,previousCellPosition:i,nextCellPosition:c||null,event:e});v(K)?(K.floating&&(Mt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),K.rowPinned=K.floating),c={rowPinned:K.rowPinned,rowIndex:K.rowIndex,column:K.column}):c=null}}if(c){if(c.rowIndex<0){var ve=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:ve+c.rowIndex,column:i.column},event:e||void 0})}var Pe=this.getNormalisedPosition(c);Pe?this.focusPosition(Pe):this.tryToFocusFullWidthRow(c)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var n=this.getCellByPosition(e);return n?(e=n.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,n){void 0===n&&(n=!1);var i=this.columnModel.getAllDisplayedColumns(),r=this.rowRenderer.getRowByPosition(e);if(!r||!r.isFullWidth())return!1;var c=this.focusService.getFocusedCell(),f={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(n?mn(i):i[0])};this.focusPosition(f);var S=null!=c&&this.rowPositionUtils.before(f,c);return this.eventService.dispatchEvent({type:nt.EVENT_FULL_WIDTH_ROW_FOCUSED,api:this.gridApi,columnApi:this.columnApi,rowIndex:f.rowIndex,rowPinned:f.rowPinned,column:f.column,isFullWidthCell:!0,floating:f.rowPinned,fromBelow:S}),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var n=this.getCellByPosition(e);if(!n)return e;var i=n.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:mn(i),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){V(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},Oa([D("columnApi")],t.prototype,"columnApi",void 0),Oa([D("gridApi")],t.prototype,"gridApi",void 0),Oa([D("mouseEventService")],t.prototype,"mouseEventService",void 0),Oa([D("paginationProxy")],t.prototype,"paginationProxy",void 0),Oa([D("focusService")],t.prototype,"focusService",void 0),Oa([D("animationFrameService")],t.prototype,"animationFrameService",void 0),Oa([te("rangeService")],t.prototype,"rangeService",void 0),Oa([D("columnModel")],t.prototype,"columnModel",void 0),Oa([D("ctrlsService")],t.prototype,"ctrlsService",void 0),Oa([D("rowRenderer")],t.prototype,"rowRenderer",void 0),Oa([D("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Oa([D("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Oa([D("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Oa([D("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Oa([ft],t.prototype,"postConstruct",null),Oa([Ae("navigationService")],t)}(he),kv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bm=function(o){function t(e){var n=o.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=e,n}return kv(t,o),t.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,n=this.getGui(),i=this.params;this.addManagedListener(n,"keydown",function(c){_a(e.gridOptionsWrapper,c,i.node,i.column,!0)||i.onKeyDown(c)})},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([ft],t.prototype,"postConstruct",null),t}(Ya),Iy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nh=function(o){function t(e,n,i,r,c){var f=o.call(this)||this;f.rendererVersion=0,f.editorVersion=0,f.beans=e,f.column=n.getColumn(),f.rowNode=n.getRowNode(),f.rowCtrl=n.getRowCtrl(),f.eRow=r,f.setTemplate('<div comp-id="'+f.getCompId()+'"/>');var S=f.getGui();f.forceWrapper=n.isForceWrapper(),f.refreshWrapper(!1);var M=function(ve,Pe,dt){var vt=dt||S;null!=Pe&&""!=Pe?vt.setAttribute(ve,Pe):vt.removeAttribute(ve)},K={addOrRemoveCssClass:function(ve,Pe){return f.addOrRemoveCssClass(ve,Pe)},setUserStyles:function(ve){return Ms(S,ve)},getFocusableElement:function(){return f.getFocusableElement()},setTabIndex:function(ve){return M("tabindex",ve.toString())},setRole:function(ve){return cr(S,ve)},setColId:function(ve){return M("col-id",ve)},setTitle:function(ve){return M("title",ve)},setIncludeSelection:function(ve){return f.includeSelection=ve},setIncludeRowDrag:function(ve){return f.includeRowDrag=ve},setIncludeDndSource:function(ve){return f.includeDndSource=ve},setRenderDetails:function(ve,Pe,dt){return f.setRenderDetails(ve,Pe,dt)},setEditDetails:function(ve,Pe,dt){return f.setEditDetails(ve,Pe,dt)},getCellEditor:function(){return f.cellEditor||null},getCellRenderer:function(){return f.cellRenderer||null},getParentOfValue:function(){return f.getParentOfValue()}};return f.cellCtrl=n,n.setComp(K,f.getGui(),f.eCellWrapper,i,c),f}return Iy(t,o),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,n,i){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var c=this.refreshWrapper(!1);e?!i&&!c&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(n))}},t.prototype.setEditDetails=function(e,n,i){e?this.createCellEditorInstance(e,n,i):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var n=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=n||this.forceWrapper,r=i&&null==this.eCellWrapper;r&&(this.eCellWrapper=Ri('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var c=!i&&null!=this.eCellWrapper;c&&(ho(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var f=!e&&i,S=f&&null==this.eCellValue;S&&(this.eCellValue=Ri('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var M=!f&&null!=this.eCellValue;M&&(ho(this.eCellValue),this.eCellValue=void 0);var K=r||c||S||M;return K&&this.removeControls(),!e&&n&&this.addControls(),K},t.prototype.addControls=function(){var e=this.eCellValue.id="cell-"+this.getCompId(),n=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),n.push(this.checkboxSelectionComp.getCheckboxId())),n.push(e),Gs(this.getGui(),n.join(" "))},t.prototype.createCellEditorInstance=function(e,n,i){var r=this,c=this.editorVersion,f=e.newAgStackInstance();if(f){var S=e.params;f.then(function(K){return r.afterCellEditorCreated(c,K,S,n,i)}),V(this.cellEditor)&&S.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var n=this.getParentOfValue();co(n);var i=null!=e?pi(e):null;null!=i&&(n.innerHTML=i)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),ho(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),ho(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;var n=this.cellRenderer.refresh(e.params);return!0===n||void 0===n},t.prototype.createCellRendererInstance=function(e){var n=this,i=this.beans.gridOptionsWrapper.isAngularCompileRows(),r=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),f=this.rendererVersion,S=e.componentClass,M=function(){if(n.rendererVersion===f&&n.isAlive()){var ve=e.newAgStackInstance(),Pe=n.afterCellRendererCreated.bind(n,f,S);ve&&ve.then(Pe)}};i||r||!this.firstRender?M():this.beans.animationFrameService.createTask(M,this.rowNode.rowIndex,"createTasksP2")},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,n,i){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=i,this.cellRendererClass=n,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var c=this.getParentOfValue();co(c),c.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(i)},t.prototype.afterCellEditorCreated=function(e,n,i,r,c){if(e!==this.editorVersion)this.beans.context.destroyBean(n);else{if(n.isCancelBeforeStart&&n.isCancelBeforeStart())return this.beans.context.destroyBean(n),void this.cellCtrl.stopEditing();if(!n.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(n);this.cellEditor=n,this.cellEditorGui=n.getGui(),r||void 0!==n.isPopup&&n.isPopup()?(r||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(i,c)):this.addInCellEditor(),n.afterGuiAttached&&n.afterGuiAttached()}},t.prototype.addInCellEditor=function(){var e=this.getGui(),n=this.beans.gridOptionsWrapper.getDocument();e.contains(n.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},t.prototype.addPopupCellEditor=function(e,n){var i=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var r=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new bm(e));var c=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&c.appendChild(this.cellEditorGui);var f=this.beans.popupService,S=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),M=null!=n?n:r.getPopupPosition?r.getPopupPosition():"over",K={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:c,keepWithinBounds:!0},ve="under"===M?f.positionPopupUnderComponent.bind(f,K):f.positionPopupOverComponent.bind(f,K),Pe=this.beans.gridOptionsWrapper.getLocaleTextFunc(),dt=f.addPopup({modal:S,eChild:c,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:ve,ariaLabel:Pe("ariaLabelCellEditor","Cell Editor")});dt&&(this.hideEditorPopup=dt.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),o.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),n=this.beans.gridOptionsWrapper.getDocument();e.contains(n.activeElement)&&e.focus({preventScroll:!0}),co(this.getParentOfValue())},t}(or),Jh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Em=function(o){function t(e,n,i){var r=o.call(this)||this;r.cellComps={},r.beans=n,r.rowCtrl=e,r.setTemplate('<div comp-id="'+r.getCompId()+'" style="'+r.getInitialStyle()+'"/>');var c=r.getGui(),f=c.style;return e.setComp({setDomOrder:function(M){return r.domOrder=M},setCellCtrls:function(M){return r.setCellCtrls(M)},showFullWidth:function(M){return r.showFullWidth(M)},getFullWidthCellRenderer:function(){return r.getFullWidthCellRenderer()},addOrRemoveCssClass:function(M,K){return r.addOrRemoveCssClass(M,K)},setUserStyles:function(M){return Ms(c,M)},setTop:function(M){return f.top=M},setTransform:function(M){return f.transform=M},setRowIndex:function(M){return c.setAttribute("row-index",M)},setRole:function(M){return cr(c,M)},setRowId:function(M){return c.setAttribute("row-id",M)},setRowBusinessKey:function(M){return c.setAttribute("row-business-key",M)},setTabIndex:function(M){return c.setAttribute("tabindex",M.toString())}},r.getGui(),i),r}return Jh(t,o),t.prototype.getInitialStyle=function(){var e=this.rowCtrl.getInitialTransform(),n=this.rowCtrl.getInitialRowTop();return e?"transform: "+e:"top: "+n},t.prototype.showFullWidth=function(e){var n=this,r=e.newAgStackInstance();!r||r.then(function(c){if(n.isAlive()){var f=c.getGui();n.getGui().appendChild(f),n.rowCtrl.setupDetailRowAutoHeight(f),n.setFullWidthRowComp(c)}else n.beans.context.destroyBean(c)})},t.prototype.setCellCtrls=function(e){var n=this,i=Object.assign({},this.cellComps);e.forEach(function(c){var f=c.getInstanceId();null==n.cellComps[f]?n.newCellComp(c):i[f]=null});var r=Ke(i).filter(function(c){return null!=c});this.destroyCells(r),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var n=this;if(this.domOrder){var i=[];e.forEach(function(r){var c=n.cellComps[r.getInstanceId()];c&&i.push(c.getGui())}),Pa(this.getGui(),i)}},t.prototype.newCellComp=function(e){var n=new nh(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=n,this.getGui().appendChild(n.getGui())},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=Ke(this.cellComps).filter(function(n){return null!=n});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var n=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){n.fullWidthCellRenderer=n.beans.context.destroyBean(n.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var n=this;e.forEach(function(i){if(i){var r=i.getCtrl().getInstanceId();n.cellComps[r]===i&&(i.detach(),i.destroy(),n.cellComps[r]=null)}})},t}(or),dg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ql=function(){return ql=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},ql.apply(this,arguments)},Yu=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},hg=function(o){function t(){var e=o.call(this,function Dm(){var o=or.elementGettingCreated.getAttribute("name"),t=lg.getRowContainerCssClasses(o);return o===B.RowContainerName.CENTER?'<div class="'+t.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+t.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+t.container+'" ref="eContainer"></div>\n                </div>\n            </div>':o===B.RowContainerName.TOP_CENTER||o===B.RowContainerName.BOTTOM_CENTER?'<div class="'+t.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+t.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+t.container+'" ref="eContainer"></div>'}())||this;return e.rowComps={},e.name=or.elementGettingCreated.getAttribute("name"),e.type=Zl(e.name),e}return dg(t,o),t.prototype.postConstruct=function(){var e=this,n={setViewportHeight:function(r){return e.eViewport.style.height=r},setRowCtrls:function(r){return e.setRowCtrls(r)},setDomOrder:function(r){e.domOrder=r},setContainerWidth:function(r){return e.eContainer.style.width=r}};this.createManagedBean(new lg(this.name)).setComp(n,this.eContainer,this.eViewport,this.eWrapper)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var n=this,i=ql({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(function(c){var f=c.getInstanceId(),S=i[f];if(S)n.rowComps[f]=S,delete i[f],n.ensureDomOrder(S.getGui());else{var M=n.newRowComp(c);n.rowComps[f]=M,n.appendRow(M.getGui())}}),Ke(i).forEach(function(c){n.eContainer.removeChild(c.getGui()),c.destroy()}),cr(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?Ks(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(Wo(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},t.prototype.newRowComp=function(e){return lg.getPinned(this.name),new Em(e,this.beans,this.type)},Yu([D("beans")],t.prototype,"beans",void 0),Yu([Gn("eViewport")],t.prototype,"eViewport",void 0),Yu([Gn("eContainer")],t.prototype,"eContainer",void 0),Yu([Gn("eWrapper")],t.prototype,"eWrapper",void 0),Yu([ft],t.prototype,"postConstruct",null),Yu([Rn],t.prototype,"preDestroy",null),t}(or),ih=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},pg=function(){function o(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return o.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var n=t.dragItem.columns;!n||n.forEach(function(i){!i.isPrimary()||i.isAnyFunctionActive()||(i.isAllowValue()?e.columnsToAggregate.push(i):i.isAllowRowGroup()?e.columnsToGroup.push(i):i.isAllowPivot()&&e.columnsToPivot.push(i))})}},o.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?to.ICON_PINNED:to.ICON_MOVE:null},o.prototype.onDragLeave=function(t){this.clearColumnsList()},o.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},o.prototype.onDragging=function(t){},o.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},ih([D("columnModel")],o.prototype,"columnModel",void 0),ih([D("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),o}(),Zu=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Sm=function(){function o(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=t,this.eContainer=e,this.centerContainer=!v(t)}return o.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},o.prototype.getIconName=function(){return this.pinned?to.ICON_PINNED:to.ICON_MOVE},o.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===B.DragSourceType.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var i=t.dragItem.visibleState,r=(e||[]).filter(function(c){return i[c.getId()]});this.setColumnsVisible(r,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0)},o.prototype.onDragLeave=function(t){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!t.fromNudge){var n=t.dragSource.getDragItem();this.setColumnsVisible(n.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},o.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var i=t.filter(function(r){return!r.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,e,n)}},o.prototype.setColumnsPinned=function(t,e,n){if(void 0===n&&(n="api"),t){var i=t.filter(function(r){return!r.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,e,n)}},o.prototype.onDragStop=function(){this.ensureIntervalCleared()},o.prototype.normaliseX=function(t){return this.gridOptionsWrapper.isEnableRtl()&&(t=this.eContainer.clientWidth-t),this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},o.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},o.prototype.onDragging=function(t,e){var n=this;if(void 0===e&&(e=!1),this.lastDraggingEvent=t,!V(t.hDirection)){var i=this.normaliseX(t.x);e||this.checkCenterForScrolling(i);var r=this.normaliseDirection(t.hDirection),c=t.dragSource.type,f=t.dragSource.getDragItem().columns;f=f.filter(function(S){return!S.getColDef().lockPinned||S.getPinned()==n.pinned}),this.attemptMoveColumns(c,f,r,i,e)}},o.prototype.normaliseDirection=function(t){if(!this.gridOptionsWrapper.isEnableRtl())return t;switch(t){case B.HorizontalDirection.Left:return B.HorizontalDirection.Right;case B.HorizontalDirection.Right:return B.HorizontalDirection.Left;default:console.error("AG Grid: Unknown direction "+t)}},o.prototype.calculateOldIndex=function(t){var e=this.columnModel.getAllGridColumns(),n=$(t.map(function(S){return e.indexOf(S)})),i=n[0];return mn(n)-i!=n.length-1?null:i},o.prototype.attemptMoveColumns=function(t,e,n,i,r){var c=n===B.HorizontalDirection.Left,f=n===B.HorizontalDirection.Right,S=e.slice();this.columnModel.sortColumnsLikeGridColumns(S);var M=this.calculateValidMoves(S,f,i),K=this.calculateOldIndex(S);if(0!==M.length){var ve=M[0],Pe=null!==K&&!r;if(t==B.DragSourceType.HeaderCell&&(Pe=null!==K),!Pe||!(c&&ve>=K||f&&ve<=K))for(var dt=0;dt<M.length;dt++){var vt=M[dt];if(this.columnModel.doesMovePassRules(S,vt))return void this.columnModel.moveColumns(S,vt,"uiColumnDragged")}}},o.prototype.calculateValidMoves=function(t,e,n){if(this.gridOptionsWrapper.isSuppressMovableColumns()||t.some(function(io){return io.getColDef().suppressMovable}))return[];var sn,r=this.columnModel.getDisplayedColumns(this.pinned),c=this.columnModel.getAllGridColumns(),f=r.filter(function(io){return We(t,io)}),S=r.filter(function(io){return!We(t,io)}),M=c.filter(function(io){return!We(t,io)}),K=0,ve=n;if(e){var Pe=0;f.forEach(function(io){return Pe+=io.getActualWidth()}),ve-=Pe}if(ve>0){for(var dt=0;dt<S.length&&!((ve-=S[dt].getActualWidth())<0);dt++)K++;e&&K++}K>0?sn=M.indexOf(S[K-1])+1:-1===(sn=M.indexOf(S[0]))&&(sn=0);var zn=[sn],Un=function(io,ur){return io-ur};if(e){for(var qn=sn+1,Di=c.length-1;qn<=Di;)zn.push(qn),qn++;zn.sort(Un)}else{Di=c.length-1;for(var lr=c[qn=sn];qn<=Di&&this.isColumnHidden(r,lr);)qn++,zn.push(qn),lr=c[qn];for(qn=sn-1;qn>=0;)zn.push(qn),qn--;zn.sort(Un).reverse()}return zn},o.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},o.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?to.ICON_LEFT:to.ICON_RIGHT,!0))},o.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(to.ICON_MOVE))},o.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var r=this.lastDraggingEvent.dragItem.columns.filter(function(f){return!f.getColDef().lockPinned});r.length>0&&(this.dragAndDropService.setGhostIcon(to.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(r,this.needToMoveLeft?Qe.PINNED_LEFT:Qe.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},Zu([D("columnModel")],o.prototype,"columnModel",void 0),Zu([D("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Zu([D("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Zu([D("ctrlsService")],o.prototype,"ctrlsService",void 0),Zu([ft],o.prototype,"init",null),o}(),Bc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ha=function(o){function t(e,n){var i=o.call(this)||this;return i.pinned=e,i.eContainer=n,i}return Bc(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){switch(e.pinned){case Qe.PINNED_LEFT:e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.leftRowContainerCtrl.getContainerElement()],[n.bottomLeftRowContainerCtrl.getContainerElement()],[n.topLeftRowContainerCtrl.getContainerElement()]];break;case Qe.PINNED_RIGHT:e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.rightRowContainerCtrl.getContainerElement()],[n.bottomRightRowContainerCtrl.getContainerElement()],[n.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.centerRowContainerCtrl.getViewportElement()],[n.bottomCenterRowContainerCtrl.getViewportElement()],[n.topCenterRowContainerCtrl.getViewportElement()]]}})},t.prototype.isInterestedIn=function(e){return e===B.DragSourceType.HeaderCell||e===B.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Sm(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new pg(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===B.DragSourceType.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Gc([D("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Gc([D("columnModel")],t.prototype,"columnModel",void 0),Gc([D("ctrlsService")],t.prototype,"ctrlsService",void 0),Gc([ft],t.prototype,"postConstruct",null),Gc([ft],t.prototype,"init",null),t}(he),fg=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},Jp=function(){function o(){}return o.getHeaderClassesFromColDef=function(t,e,n,i){return V(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,n,i)},o.getToolPanelClassesFromColDef=function(t,e,n,i){return V(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,n,i)},o.getClassParams=function(t,e,n,i){return{colDef:t,column:n,columnGroup:i,api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()}},o.getColumnClassesFromCollDef=function(t,e,n,i,r){return V(t)?[]:"string"==typeof(c="function"==typeof t?t(this.getClassParams(e,n,i,r)):t)?[c]:Array.isArray(c)?function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(fg(arguments[t]));return o}(c):[];var c},o}(),Gv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gg=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ep=function(o){function t(e){var n=o.call(this,t.TEMPLATE,e)||this;return n.headerCompVersion=0,n.column=e.getColumnGroupChild(),n.pinned=e.getPinned(),n}return Gv(t,o),t.prototype.postConstruct=function(){var e=this,n=this.getGui(),i=function(f,S,M){var K=M||n;null!=S&&""!=S?K.setAttribute(f,S):K.removeAttribute(f)};this.ctrl.setComp({setWidth:function(f){return n.style.width=f},addOrRemoveCssClass:function(f,S){return e.addOrRemoveCssClass(f,S)},setColId:function(f){return i("col-id",f)},setTitle:function(f){return i("title",f)},setAriaDescription:function(f){return oa(n,f)},setAriaSort:function(f){return f?Ua(n,f):wl(n)},setUserCompDetails:function(f){return e.setUserCompDetails(f)},getUserCompInstance:function(){return e.headerComp}},this.getGui(),this.eResize);var c=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",c)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var n=this;this.headerCompVersion++;var i=this.headerCompVersion;e.newAgStackInstance().then(function(r){return n.afterCompCreated(i,r)})},t.prototype.afterCompCreated=function(e,n){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(n)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',gg([Gn("eResize")],t.prototype,"eResize",void 0),gg([ft],t.prototype,"postConstruct",null),gg([Rn],t.prototype,"destroyHeaderComp",null),t}(is),Vc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rh=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},gd=function(o){function t(e){return o.call(this,t.TEMPLATE,e)||this}return Vc(t,o),t.prototype.postConstruct=function(){var e=this,n=this.getGui(),i=function(c,f){return null!=f?n.setAttribute(c,f):n.removeAttribute(c)};this.ctrl.setComp({addOrRemoveCssClass:function(c,f){return e.addOrRemoveCssClass(c,f)},addOrRemoveResizableCssClass:function(c,f){return e.eResize.classList.toggle(c,f)},setWidth:function(c){return n.style.width=c},setColId:function(c){return n.setAttribute("col-id",c)},setAriaExpanded:function(c){return i("aria-expanded",c)},setTitle:function(c){return i("title",c)},setUserCompDetails:function(c){return e.setUserCompDetails(c)}},n,this.eResize)},t.prototype.setUserCompDetails=function(e){var n=this;e.newAgStackInstance().then(function(i){return n.afterHeaderCompCreated(i)})},t.prototype.afterHeaderCompCreated=function(e){var n=this,i=function(){return n.destroyBean(e)};this.isAlive()?(this.getGui().appendChild(e.getGui()),this.addDestroyFunc(i),this.ctrl.setDragSource(e.getGui())):i()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',rh([D("userComponentFactory")],t.prototype,"userComponentFactory",void 0),rh([Gn("eResize")],t.prototype,"eResize",void 0),rh([ft],t.prototype,"postConstruct",null),t}(is),md=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tu=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r};!function(o){o.COLUMN_GROUP="group",o.COLUMN="column",o.FLOATING_FILTER="filter"}(B.HeaderRowType||(B.HeaderRowType={}));var oh=function(o){function t(e){var n=o.call(this)||this;n.headerComps={};var i=e.getType()==B.HeaderRowType.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==B.HeaderRowType.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return n.setTemplate('<div class="ag-header-row '+i+'" role="row"></div>'),n.ctrl=e,n}return md(t,o),t.prototype.init=function(){var e=this;this.ctrl.setComp({setTransform:function(i){return e.getGui().style.transform=i},setHeight:function(i){return e.getGui().style.height=i},setTop:function(i){return e.getGui().style.top=i},setHeaderCtrls:function(i){return e.setHeaderCtrls(i)},setWidth:function(i){return e.getGui().style.width=i},setAriaRowIndex:function(i){return ts(e.getGui(),i)}})},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},t.prototype.setHeaderCtrls=function(e){var n=this;if(this.isAlive()){var i=this.headerComps;if(this.headerComps={},e.forEach(function(S){var M=S.getInstanceId(),K=i[M];delete i[M],null==K&&(K=n.createHeaderComp(S),n.getGui().appendChild(K.getGui())),n.headerComps[M]=K}),Le(i,function(S,M){n.getGui().removeChild(M.getGui()),n.destroyBean(M)}),this.gridOptionsWrapper.isEnsureDomOrder()){var c=Ke(this.headerComps);c.sort(function(S,M){return S.getCtrl().getColumnGroupChild().getLeft()-M.getCtrl().getColumnGroupChild().getLeft()});var f=c.map(function(S){return S.getGui()});Pa(this.getGui(),f)}}},t.prototype.createHeaderComp=function(e){var n;switch(this.ctrl.getType()){case B.HeaderRowType.COLUMN_GROUP:n=new gd(e);break;case B.HeaderRowType.FLOATING_FILTER:n=new Vp(e);break;default:n=new ep(e)}return this.createBean(n),n.setParentComponent(this),n},Tu([ft],t.prototype,"init",null),Tu([Rn],t.prototype,"destroyHeaderCtrls",null),t}(or),tp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),np=0,qu=function(o){function t(e,n){var i=o.call(this)||this;return i.lastFocusEvent=null,i.columnGroupChild=e,i.parentRowCtrl=n,i.instanceId=e.getUniqueId()+"-"+np++,i}return tp(t,o),t.prototype.shouldStopEventPropagation=function(e){var n=this.focusService.getFocusedHeader();return hl(this.gridOptionsWrapper,e,n.headerRowIndex,n.column)},t.prototype.setGui=function(e){this.eGui=e,this.addDomData()},t.prototype.addDomData=function(){var e=this,n=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,n,this),this.addDestroyFunc(function(){return e.gridOptionsWrapper.setDomData(e.eGui,n,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([D("focusService")],t.prototype,"focusService",void 0),t}(he);!function(o){o.EVERYTHING="group",o.FILTER="filter",o.SORT="sort",o.MAP="map",o.AGGREGATE="aggregate",o.FILTER_AGGREGATES="filter_aggregates",o.PIVOT="pivot",o.NOTHING="nothing"}(B.ClientSideRowModelSteps||(B.ClientSideRowModelSteps={}));var lo=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r};function Au(o){return null!=o&&null!=o.getFrameworkComponentInstance?o.getFrameworkComponentInstance():o}var mg=function(){function o(){this.detailGridInfoMap={},this.destroyCalled=!1}return o.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t},o.prototype.registerSideBarComp=function(t){this.sideBarComp=t},o.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case Qe.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case Qe.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case Qe.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},o.prototype.__getAlignedGridService=function(){return this.alignedGridsService},o.prototype.__getContext=function(){return this.context},o.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},o.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},o.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},o.prototype.forEachDetailGridInfo=function(t){var e=0;Le(this.detailGridInfoMap,function(n,i){v(i)&&(t(i,e),e++)})},o.prototype.getDataAsCsv=function(t){if(Cn.assertRegistered(B.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},o.prototype.exportDataAsCsv=function(t){Cn.assertRegistered(B.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},o.prototype.getExcelExportMode=function(t){var e=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},e,t).exportMode},o.prototype.getDataAsExcel=function(t){if(Cn.assertRegistered(B.ModuleNames.ExcelExportModule,"api.getDataAsExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(e)===B.ExcelFactoryMode.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(t)}},o.prototype.exportDataAsExcel=function(t){if(Cn.assertRegistered(B.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")){var e=this.getExcelExportMode(t);if(this.excelCreator.getFactoryMode(e)===B.ExcelFactoryMode.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(t)}},o.prototype.getSheetDataForExcel=function(t){if(Cn.assertRegistered(B.ModuleNames.ExcelExportModule,"api.getSheetDataForExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(B.ExcelFactoryMode.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}},o.prototype.getMultipleSheetsAsExcel=function(t){if(Cn.assertRegistered(B.ModuleNames.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(t)},o.prototype.exportMultipleSheetsAsExcel=function(t){if(Cn.assertRegistered(B.ModuleNames.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(t)},o.prototype.setEnterpriseDatasource=function(t){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(t)},o.prototype.setGridAriaProperty=function(t,e){if(t){var n=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-"+t;null===e?n.removeAttribute(i):n.setAttribute(i,e)}},o.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+Qe.ROW_MODEL_TYPE_SERVER_SIDE+"'")},o.prototype.setDatasource=function(t){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(t):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+Qe.ROW_MODEL_TYPE_INFINITE+"'")},o.prototype.setViewportDatasource=function(t){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(t):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+Qe.ROW_MODEL_TYPE_VIEWPORT+"'")},o.prototype.setRowData=function(t){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t))},o.prototype.setFloatingTopRowData=function(t){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(t)},o.prototype.setFloatingBottomRowData=function(t){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(t)},o.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},o.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},o.prototype.getFloatingTopRow=function(t){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(t)},o.prototype.getFloatingBottomRow=function(t){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(t)},o.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},o.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},o.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},o.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},o.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},o.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},o.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnModel.setColumnDefs(t,e)},o.prototype.setAutoGroupColumnDef=function(t,e){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",t,!0)},o.prototype.setDefaultColDef=function(t,e){this.gridOptionsWrapper.setProperty("defaultColDef",t,!0)},o.prototype.expireValueCache=function(){this.valueCache.expire()},o.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},o.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},o.prototype.setAlwaysShowHorizontalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",t)},o.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",t)},o.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},o.prototype.refreshCells=function(t){void 0===t&&(t={}),Array.isArray(t)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(t)},o.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},o.prototype.redrawRows=function(t){void 0===t&&(t={}),this.rowRenderer.redrawRows(t?t.rowNodes:void 0)},o.prototype.setFunctionsReadOnly=function(t){this.gridOptionsWrapper.setProperty("functionsReadOnly",t)},o.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})},o.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},o.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},o.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},o.prototype.getModel=function(){return this.rowModel},o.prototype.setRowNodeExpanded=function(t,e){t&&t.setExpanded(e)},o.prototype.onGroupExpandedOrCollapsed=function(t){V(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),v(t)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:B.ClientSideRowModelSteps.MAP})},o.prototype.refreshInMemoryRowModel=function(t){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(t)},o.prototype.refreshClientSideRowModel=function(t){V(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var e=B.ClientSideRowModelSteps.EVERYTHING,n={group:B.ClientSideRowModelSteps.EVERYTHING,filter:B.ClientSideRowModelSteps.FILTER,map:B.ClientSideRowModelSteps.MAP,aggregate:B.ClientSideRowModelSteps.AGGREGATE,sort:B.ClientSideRowModelSteps.SORT,pivot:B.ClientSideRowModelSteps.PIVOT};if(v(t)&&(e=n[t]),V(e))console.error("AG Grid: invalid step "+t+", available steps are "+Object.keys(n).join(", "));else{var i=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}},o.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},o.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},o.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},o.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},o.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},o.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},o.prototype.getToolPanelInstance=function(t){if(this.sideBarComp)return Au(this.sideBarComp.getToolPanelInstance(t));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},o.prototype.addVirtualRowListener=function(t,e,n){"string"!=typeof t&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(t,e,n)},o.prototype.addRenderedRowListener=function(t,e,n){"virtualRowSelected"===t&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(t,e,n)},o.prototype.setQuickFilter=function(t){this.filterManager.setQuickFilter(t)},o.prototype.selectIndex=function(t,e,n){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),n&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(t,e)},o.prototype.deselectIndex=function(t,e){void 0===e&&(e=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(t)},o.prototype.selectNode=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),n&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!0,clearSelection:!e})},o.prototype.deselectNode=function(t,e){void 0===e&&(e=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!1})},o.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},o.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},o.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},o.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},o.prototype.recomputeAggregates=function(){V(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:B.ClientSideRowModelSteps.AGGREGATE})},o.prototype.sizeColumnsToFit=function(){this.gridBodyCtrl.sizeColumnsToFit()},o.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},o.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},o.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},o.prototype.isNodeSelected=function(t){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),t.isSelected()},o.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},o.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},o.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},o.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},o.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},o.prototype.ensureColIndexVisible=function(t){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},o.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},o.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},o.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},o.prototype.forEachLeafNode=function(t){V(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(t)},o.prototype.forEachNode=function(t){this.rowModel.forEachNode(t)},o.prototype.forEachNodeAfterFilter=function(t){V(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(t)},o.prototype.forEachNodeAfterFilterAndSort=function(t){V(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},o.prototype.getFilterInstance=function(t,e){var n=this.getFilterInstanceImpl(t,function(r){if(e){var c=Au(r);e(c)}});return Au(n)},o.prototype.getFilterInstanceImpl=function(t,e){var n=this.columnModel.getPrimaryColumn(t);if(n){var i=this.filterManager.getFilterComponent(n,"NO_UI"),r=i&&i.resolveNow(null,function(c){return c});return r?setTimeout(e,0,r):i&&i.then(function(c){e(c)}),r}},o.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"filterDestroyed")},o.prototype.getStatusPanel=function(t){if(this.statusBarService)return Au(this.statusBarService.getStatusPanel(t))},o.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},o.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},o.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},o.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},o.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},o.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},o.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},o.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},o.prototype.setFocusedCell=function(t,e,n){this.focusService.setFocusedCell(t,e,n,!0)},o.prototype.setSuppressRowDrag=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_SUPPRESS_ROW_DRAG,t)},o.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,t)},o.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_SUPPRESS_ROW_CLICK_SELECTION,t)},o.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},o.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},o.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},o.prototype.setHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_HEADER_HEIGHT,t)},o.prototype.setDomLayout=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_DOM_LAYOUT,t)},o.prototype.setEnableCellTextSelection=function(t){this.gridBodyCtrl.setCellTextSelection(t)},o.prototype.setFillHandleDirection=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_FILL_HANDLE_DIRECTION,t)},o.prototype.setGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GROUP_HEADER_HEIGHT,t)},o.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_FLOATING_FILTERS_HEIGHT,t)},o.prototype.setPivotHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_PIVOT_HEADER_HEIGHT,t)},o.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_PIVOT_GROUP_HEADER_HEIGHT,t)},o.prototype.setIsExternalFilterPresent=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_IS_EXTERNAL_FILTER_PRESENT,t)},o.prototype.setDoesExternalFilterPass=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_DOES_EXTERNAL_FILTER_PASS,t)},o.prototype.setNavigateToNextCell=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_NAVIGATE_TO_NEXT_CELL,t)},o.prototype.setTabToNextCell=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_TAB_TO_NEXT_CELL,t)},o.prototype.setTabToNextHeader=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_TAB_TO_NEXT_HEADER,t)},o.prototype.setNavigateToNextHeader=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_NAVIGATE_TO_NEXT_HEADER,t)},o.prototype.setGroupRowAggNodes=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GROUP_ROW_AGG_NODES,t)},o.prototype.setGetGroupRowAgg=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_GROUP_ROW_AGG,t)},o.prototype.setGetBusinessKeyForNode=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_BUSINESS_KEY_FOR_NODE,t)},o.prototype.setGetChildCount=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_CHILD_COUNT,t)},o.prototype.setProcessRowPostCreate=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_PROCESS_ROW_POST_CREATE,t)},o.prototype.setGetRowNodeId=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_ROW_NODE_ID,t)},o.prototype.setGetRowId=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_ROW_ID,t)},o.prototype.setGetRowClass=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_ROW_CLASS,t)},o.prototype.setIsFullWidthCell=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_IS_FULL_WIDTH_CELL,t)},o.prototype.setIsFullWidthRow=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_IS_FULL_WIDTH_ROW,t)},o.prototype.setIsRowSelectable=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_IS_ROW_SELECTABLE,t)},o.prototype.setIsRowMaster=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_IS_ROW_MASTER,t)},o.prototype.setPostSort=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_POST_SORT,t)},o.prototype.setPostSortRows=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_POST_SORT_ROWS,t)},o.prototype.setGetDocument=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_DOCUMENT,t)},o.prototype.setGetContextMenuItems=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_CONTEXT_MENU_ITEMS,t)},o.prototype.setGetMainMenuItems=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_MAIN_MENU_ITEMS,t)},o.prototype.setProcessCellForClipboard=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_PROCESS_CELL_FOR_CLIPBOARD,t)},o.prototype.setSendToClipboard=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_SEND_TO_CLIPBOARD,t)},o.prototype.setProcessCellFromClipboard=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_PROCESS_CELL_FROM_CLIPBOARD,t)},o.prototype.setProcessSecondaryColDef=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_PROCESS_TO_SECONDARY_COLDEF,t)},o.prototype.setProcessSecondaryColGroupDef=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,t)},o.prototype.setPostProcessPopup=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_POST_PROCESS_POPUP,t)},o.prototype.setDefaultGroupOrderComparator=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,t)},o.prototype.setInitialGroupOrderComparator=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_INITIAL_GROUP_ORDER_COMPARATOR,t)},o.prototype.setGetChartToolbarItems=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_CHART_TOOLBAR_ITEMS,t)},o.prototype.setPaginationNumberFormatter=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_PAGINATION_NUMBER_FORMATTER,t)},o.prototype.setGetServerSideStoreParams=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_SERVER_SIDE_STORE_PARAMS,t)},o.prototype.setIsServerSideGroupOpenByDefault=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,t)},o.prototype.setIsApplyServerSideTransaction=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,t)},o.prototype.setIsServerSideGroup=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_IS_SERVER_SIDE_GROUP,t)},o.prototype.setGetServerSideGroupKey=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_SERVER_SIDE_GROUP_KEY,t)},o.prototype.setGetRowStyle=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_ROW_STYLE,t)},o.prototype.setGetRowHeight=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GET_ROW_HEIGHT,t)},o.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},o.prototype.setSideBarVisible=function(t){this.sideBarComp?this.sideBarComp.setDisplayed(t):t&&console.warn("AG Grid: sideBar is not loaded")},o.prototype.setSideBarPosition=function(t){this.sideBarComp?this.sideBarComp.setSideBarPosition(t):console.warn("AG Grid: sideBar is not loaded")},o.prototype.openToolPanel=function(t){this.sideBarComp?this.sideBarComp.openToolPanel(t):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},o.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},o.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},o.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},o.prototype.setSideBar=function(t){this.gridOptionsWrapper.setProperty("sideBar",vl.parse(t))},o.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_SUPPRESS_CLIPBOARD_PASTE,t)},o.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},o.prototype.doLayout=function(){Mt(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},o.prototype.resetRowHeights=function(){if(v(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},o.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GROUP_REMOVE_SINGLE_CHILDREN,t)},o.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,t)},o.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},o.prototype.getValue=function(t,e){var n=this.columnModel.getPrimaryColumn(t);return V(n)&&(n=this.columnModel.getGridColumn(t)),V(n)?null:this.valueService.getValue(n,e)},o.prototype.addEventListener=function(t,e){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(t,e,n)},o.prototype.addGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(t,e)},o.prototype.removeEventListener=function(t,e){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(t,e,n)},o.prototype.removeGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},o.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},o.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}},o.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Ut.bind(window,this,"Grid API"),100)},o.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},o.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(t){return t.quickFilterAggregateText=null})},o.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},o.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},o.prototype.camelCaseToHumanReadable=function(t){return Dr(t)},o.prototype.addRangeSelection=function(t){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},o.prototype.addCellRange=function(t){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(t)},o.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},o.prototype.undoCellEditing=function(){this.undoRedoService.undo()},o.prototype.redoCellEditing=function(){this.undoRedoService.redo()},o.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},o.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},o.prototype.getChartModels=function(){if(Cn.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.getChartModels")&&Cn.assertRegistered(B.ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},o.prototype.getChartRef=function(t){if(Cn.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.getChartRef")&&Cn.assertRegistered(B.ModuleNames.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(t)},o.prototype.getChartImageDataURL=function(t){if(Cn.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.getChartImageDataURL")&&Cn.assertRegistered(B.ModuleNames.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(t)},o.prototype.createRangeChart=function(t){if(Cn.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&Cn.assertRegistered(B.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},o.prototype.createCrossFilterChart=function(t){if(Cn.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.createCrossFilterChart")&&Cn.assertRegistered(B.ModuleNames.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(t)},o.prototype.restoreChart=function(t,e){if(Cn.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.restoreChart")&&Cn.assertRegistered(B.ModuleNames.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(t,e)},o.prototype.createPivotChart=function(t){if(Cn.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&Cn.assertRegistered(B.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},o.prototype.copySelectedRowsToClipboard=function(t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(t)},o.prototype.copySelectedRangeToClipboard=function(t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(t)},o.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},o.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e,"columnMenu")},o.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnModel.getGridColumn(t);n||(n=this.columnModel.getPrimaryColumn(t)),n?this.menuFactory.showMenuAfterMouseEvent(n,e):console.error("AG Grid: column '"+t+"' not found")},o.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},o.prototype.setPopupParent=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_POPUP_PARENT,t)},o.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},o.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},o.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(Au)},o.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(Au)},o.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},o.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},o.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var r=this.navigationService.getCellByPosition(n);!r||r.startRowOrCellEdit(t.key,t.charPress)}else console.warn("AG Grid: no column found for "+t.colKey)},o.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},o.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},o.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},o.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},o.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},o.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},o.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},o.prototype.applyTransaction=function(t){if(this.clientSideRowModel){var e=this.clientSideRowModel.updateRowData(t);return this.rowRenderer.refreshFullWidthRows(e.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),e}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},o.prototype.setDeltaSort=function(t){this.gridOptionsWrapper.setProperty("deltaSort",t)},o.prototype.updateRowData=function(t){return Mt(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(t)},o.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},o.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},o.prototype.batchUpdateRowData=function(t,e){Mt(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(t,e)},o.prototype.insertItemsAtIndex=function(t,e,n){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:t,update:null,remove:null})},o.prototype.removeItems=function(t,e){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var n=t.map(function(i){return i.data});this.updateRowData({add:null,addIndex:null,update:null,remove:n})},o.prototype.addItems=function(t,e){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:null,update:null,remove:null})},o.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},o.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},o.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},o.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},o.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},o.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},o.prototype.purgeEnterpriseCache=function(t){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(t)},o.prototype.purgeServerSideCache=function(t){void 0===t&&(t=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:t,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},o.prototype.refreshServerSideStore=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},o.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},o.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},o.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},o.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},o.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},o.prototype.setVirtualRowCount=function(t,e){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(t,e)},o.prototype.setInfiniteRowCount=function(t,e){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(t,e)},o.prototype.setRowCount=function(t,e){this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},o.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},o.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},o.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},o.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},o.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},o.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},o.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},o.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},o.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},o.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},o.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},o.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},o.prototype.paginationSetPageSize=function(t){this.gridOptionsWrapper.setProperty("paginationPageSize",t)},o.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},o.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},o.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},o.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},o.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},o.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},o.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},o.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},o.prototype.setRowClass=function(t){this.gridOptionsWrapper.setProperty(Ne.PROP_ROW_CLASS,t)},lo([te("immutableService")],o.prototype,"immutableService",void 0),lo([te("csvCreator")],o.prototype,"csvCreator",void 0),lo([te("excelCreator")],o.prototype,"excelCreator",void 0),lo([D("rowRenderer")],o.prototype,"rowRenderer",void 0),lo([D("navigationService")],o.prototype,"navigationService",void 0),lo([D("filterManager")],o.prototype,"filterManager",void 0),lo([D("columnModel")],o.prototype,"columnModel",void 0),lo([D("selectionService")],o.prototype,"selectionService",void 0),lo([D("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),lo([D("valueService")],o.prototype,"valueService",void 0),lo([D("alignedGridsService")],o.prototype,"alignedGridsService",void 0),lo([D("eventService")],o.prototype,"eventService",void 0),lo([D("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),lo([D("context")],o.prototype,"context",void 0),lo([D("rowModel")],o.prototype,"rowModel",void 0),lo([D("sortController")],o.prototype,"sortController",void 0),lo([D("paginationProxy")],o.prototype,"paginationProxy",void 0),lo([D("focusService")],o.prototype,"focusService",void 0),lo([D("dragAndDropService")],o.prototype,"dragAndDropService",void 0),lo([te("rangeService")],o.prototype,"rangeService",void 0),lo([te("clipboardService")],o.prototype,"clipboardService",void 0),lo([te("aggFuncService")],o.prototype,"aggFuncService",void 0),lo([D("menuFactory")],o.prototype,"menuFactory",void 0),lo([te("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),lo([D("valueCache")],o.prototype,"valueCache",void 0),lo([D("animationFrameService")],o.prototype,"animationFrameService",void 0),lo([te("statusBarService")],o.prototype,"statusBarService",void 0),lo([te("chartService")],o.prototype,"chartService",void 0),lo([te("undoRedoService")],o.prototype,"undoRedoService",void 0),lo([te("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),lo([te("ssrmTransactionManager")],o.prototype,"serverSideTransactionManager",void 0),lo([D("ctrlsService")],o.prototype,"ctrlsService",void 0),lo([te("frameworkComponentWrapper")],o.prototype,"frameworkComponentWrapper",void 0),lo([ft],o.prototype,"init",null),lo([Rn],o.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),lo([Ae("gridApi")],o)}(),Rm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ip=function(o){function t(e,n,i,r){var c=o.call(this)||this;return c.columnOrGroup=e,c.eCell=n,c.ariaEl=c.eCell.querySelector("[role=columnheader]")||c.eCell,c.colsSpanning=r,c.beans=i,c}return Rm(t,o),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?mn(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,ri.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,Ne.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),n=v(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&n&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,n=this.getColumnOrGroup(),i=n.getLeft(),r=n.getOldLeft(),c=this.modifyLeftForPrintLayout(n,r),f=this.modifyLeftForPrintLayout(n,i);this.setLeft(c),this.actualLeft=f,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===f&&e.setLeft(f)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),n=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,n),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,n){if(this.beans.gridOptionsWrapper.getDomLayout()!==Qe.DOM_LAYOUT_PRINT||e.getPinned()===Qe.PINNED_LEFT)return n;var r=this.beans.columnModel.getDisplayedColumnsLeftWidth();return e.getPinned()===Qe.PINNED_RIGHT?r+this.beans.columnModel.getBodyContainerWidth()+n:r+n},t.prototype.setLeft=function(e){var n;if(v(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof ri)n=this.columnOrGroup;else{var r=this.columnOrGroup.getLeafColumns();if(!r.length)return;r.length>1&&Wr(this.ariaEl,r.length),n=r[0]}var c=this.beans.columnModel.getAriaColumnIndex(n);wo(this.ariaEl,c)},function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([ft],t.prototype,"postConstruct",null),t}(he),vg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rp=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Hc=function(o){function t(e,n){var i=o.call(this)||this;return i.columns=e,i.element=n,i}return vg(t,o),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},rp([D("columnHoverService")],t.prototype,"columnHoverService",void 0),rp([ft],t.prototype,"postConstruct",null),t}(he),yg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vd=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ul=function(o){function t(e,n){var i=o.call(this,e,n)||this;return i.column=e,i}return yg(t,o),t.prototype.setComp=function(e,n,i,r){o.prototype.setGui.call(this,n),this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=r;var c=this.column.getColDef();this.active=!(!c.filter&&!c.filterFramework||!c.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},t.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var e=mi("filter",this.gridOptionsWrapper,this.column);e&&this.eButtonShowMainFilter.appendChild(e)}},t.prototype.setupFocus=function(){this.createManagedBean(new kr(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var c=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(c)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void c.focus();var f=this.findNextColumnWithFloatingFilter(e.shiftKey);!f||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:f},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var n=this.beans.columnModel,i=this.column;do{if(!(i=e?n.getDisplayedColBefore(i):n.getDisplayedColAfter(i)))break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;switch(e.key){case Nn.UP:case Nn.DOWN:r||e.preventDefault();case Nn.LEFT:case Nn.RIGHT:if(r)return;e.stopPropagation();case Nn.ENTER:r&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Nn.ESCAPE:r||this.eGui.focus()}},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&Fr(e.relatedTarget,"ag-floating-filter");if(i&&r&&e.target===this.eGui){var c=this.lastFocusEvent;c&&c&&c.key===Nn.TAB&&this.focusService.focusInto(this.eGui,c.shiftKey)}var M=this.getRowIndex();this.beans.focusService.setFocusedHeader(M,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new Hc([this.column],this.eGui));var n=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,nt.EVENT_COLUMN_HOVER_CHANGED,n),n()},t.prototype.setupLeft=function(){var e=new ip(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupUserComp=function(){var e=this;if(this.active){var n=this.column.getColDef(),i=this.filterManager.createFilterParams(this.column,n),r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,Ia,i),c=this.userComponentFactory.getDefaultFloatingFilterType(n);null==c&&(c="agReadOnlyFloatingFilter");var f={column:this.column,filterParams:r,currentParentModel:function(){return e.currentParentModel()},parentFilterInstance:function(M){return e.parentFilterInstance(M)},showParentFilter:function(){return e.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!n.floatingFilterComponentParams&&!!n.floatingFilterComponentParams.suppressFilterButton;var S=this.userComponentFactory.getFloatingFilterCompDetails(n,f,c);S&&this.comp.setCompDetails(S)}},t.prototype.currentParentModel=function(){var e=this.getFilterComponent(!1);return e?e.resolveNow(null,function(n){return n&&n.getModel()}):null},t.prototype.getFilterComponent=function(e){return void 0===e&&(e=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",e)},t.prototype.parentFilterInstance=function(e){var n=this.getFilterComponent();null!=n&&n.then(function(i){e(Au(i))})},t.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var n=function(i){var r=e.comp.getFloatingFilterComp();if(r){var c=e.currentParentModel();r.then(function(f){f&&f.onParentModelChanged(c,i)})}};this.addManagedListener(this.column,ri.EVENT_FILTER_CHANGED,n),this.filterManager.isFilterActive(this.column)&&n(null)}},t.prototype.setupWidth=function(){var e=this,n=function(){var i=e.column.getActualWidth()+"px";e.comp.setWidth(i)};this.addManagedListener(this.column,ri.EVENT_WIDTH_CHANGED,n),n()},vd([D("userComponentFactory")],t.prototype,"userComponentFactory",void 0),vd([D("filterManager")],t.prototype,"filterManager",void 0),vd([D("columnHoverService")],t.prototype,"columnHoverService",void 0),vd([D("gridApi")],t.prototype,"gridApi",void 0),vd([D("menuFactory")],t.prototype,"menuFactory",void 0),vd([D("beans")],t.prototype,"beans",void 0),t}(qu),Vv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_g=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},My=function(o){function t(e,n,i,r,c){var f=o.call(this)||this;return f.pinned=e,f.column=n,f.eResize=i,f.comp=r,f.ctrl=c,f}return Vv(t,o),t.prototype.postConstruct=function(){var r,c,e=this,n=this.column.getColDef(),i=[],S=function(){i.forEach(function(K){return K()}),i.length=0},M=function(){var K=e.column.isResizable(),ve=!e.gridOptionsWrapper.isSuppressAutoSize()&&!n.suppressAutoSize;(K!==r||ve!==c)&&(r=K,c=ve,S(),function(){if(Mi(e.eResize,r),r){var K=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(i.push(K),c){var ve=e.gridOptionsWrapper.isSkipHeaderOnAutoSize(),Pe=function(){e.columnModel.autoSizeColumn(e.column,ve,"uiColumnResized")};e.eResize.addEventListener("dblclick",Pe);var dt=new wa(e.eResize);dt.addEventListener(wa.EVENT_DOUBLE_TAP,Pe),e.addDestroyFunc(function(){e.eResize.removeEventListener("dblclick",Pe),dt.removeEventListener(wa.EVENT_DOUBLE_TAP,Pe),dt.destroy()})}}}())};M(),this.addDestroyFunc(S),this.ctrl.addRefreshFunction(M)},t.prototype.onResizing=function(e,n){var i=this.normaliseResizeAmount(n);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+i}],this.resizeWithShiftKey,e,"uiColumnDragged"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.normaliseResizeAmount=function(e){var n=e,i=this.pinned!==Qe.PINNED_LEFT,r=this.pinned===Qe.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?i&&(n*=-1):r&&(n*=-1),n},_g([D("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),_g([D("columnModel")],t.prototype,"columnModel",void 0),_g([ft],t.prototype,"postConstruct",null),t}(he),xy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ql=function(o){function t(e,n,i){void 0===n&&(n="ag-checkbox"),void 0===i&&(i="checkbox");var r=o.call(this,e,n,i)||this;return r.labelAlignment="right",r.selected=!1,r.readOnly=!1,r.passive=!1,r}return xy(t,o),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),o.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),n=this.getNextValue();this.passive?this.dispatchChange(n,e):this.setValue(n)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,n){return this.refreshSelectedClass(e),this.setSelected(e,n),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,n){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,n||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,n,i){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,previousValue:n,event:i});var r=this.getInputElement();this.eventService.dispatchEvent({type:nt.EVENT_CHECKBOX_CHANGED,id:r.id,name:r.name,selected:e,previousValue:n})},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var n=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,n,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(Fi),Tm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qu=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},op=function(o){function t(e){var n=o.call(this)||this;n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=e;var i=e.getColDef();return n.filteredOnly=!!i&&!!i.headerCheckboxSelectionFilteredOnly,n}return Tm(t,o),t.prototype.onSpaceKeyPressed=function(e){var n=this.cbSelectAll,i=this.gridOptionsWrapper.getDocument();n.isDisplayed()&&!n.getGui().contains(i.activeElement)&&(e.preventDefault(),n.setValue(!n.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Ql),this.cbSelectAll.addCssClass("ag-header-select-all"),cr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,nt.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Ql.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),n=this.getNextCheckboxState(e);this.cbSelectAll.setValue(n),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),r=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",r+" ("+i+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null);this.headerCellCtrl.refreshAriaDescription()},t.prototype.getSelectionCount=function(){var e=this,n=0,i=0,r=function(c){e.gridOptionsWrapper.isGroupSelectsChildren()&&c.group||(c.isSelected()?n++:c.selectable&&i++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(r):this.gridApi.forEachNode(r),{notSelected:i,selected:n}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType();e===Qe.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()})),!(!e||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},Qu([D("gridApi")],t.prototype,"gridApi",void 0),Qu([D("columnApi")],t.prototype,"columnApi",void 0),Qu([D("rowModel")],t.prototype,"rowModel",void 0),Qu([D("selectionService")],t.prototype,"selectionService",void 0),t}(he),sp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cl=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},tf=function(o){function t(e,n){var i=o.call(this,e,n)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=e,i}return sp(t,o),t.prototype.setComp=function(e,n,i){var r=this;o.prototype.setGui.call(this,n),this.comp=e,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new My(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new Hc([this.column],n)),this.createManagedBean(new ip(this.column,n,this.beans)),this.createManagedBean(new kr(n,{shouldStopEventPropagation:function(c){return r.shouldStopEventPropagation(c)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,nt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,e)},t.prototype.createParams=function(){var e=this,n=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:n.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(r){e.gridApi.showColumnMenuAfterButtonClick(e.column,r)},progressSort:function(r){e.sortController.progressSort(e.column,!!r,"uiColumnSorted")},setSort:function(r,c){e.sortController.setSortForColumn(e.column,r,!!c,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new op(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){e.key===Nn.SPACE&&this.selectAllFeature.onSpaceKeyPressed(e),e.key===Nn.ENTER&&this.onEnterKeyPressed(e)},t.prototype.onEnterKeyPressed=function(e){var n=this.comp.getUserCompInstance();n&&(e.ctrlKey||e.metaKey?this.menuEnabled&&n.showMenu&&(e.preventDefault(),n.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var n=this.getRowIndex();this.focusService.setFocusedHeader(n,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,i=this.createManagedBean(new Su({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return e.column.getColDef().headerTooltip}},this.beans));i.setComp(this.comp),this.refreshFunctions.push(function(){return i.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,n=function(){var i=e.column.getColDef(),c=Jp.getHeaderClassesFromColDef(i,e.gridOptionsWrapper,e.column,null),f=e.userHeaderClasses;e.userHeaderClasses=new Set(c),c.forEach(function(S){f.has(S)?f.delete(S):e.comp.addOrRemoveCssClass(S,!0)}),f.forEach(function(S){return e.comp.addOrRemoveCssClass(S,!1)})};this.refreshFunctions.push(n),n()},t.prototype.setDragSource=function(e){var n=this;this.dragSourceElement=e,this.removeDragSource(),e&&(!this.draggable||(this.moveDragSource={type:B.DragSourceType.HeaderCell,eElement:e,defaultIconName:to.ICON_HIDE,getDragItem:function(){return n.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return n.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return n.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},t.prototype.onNewColumnsLoaded=function(){var e=this.columnModel.getColDefVersion();e!=this.colDefVersion&&(this.colDefVersion=e,this.refresh())},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var n=this.comp.getUserCompInstance();return!(!n||!n.refresh)&&n.refresh(e)},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,n=function(){e.comp.setWidth(e.column.getActualWidth()+"px")};this.addManagedListener(this.column,ri.EVENT_WIDTH_CHANGED,n),n()},t.prototype.setupMovingCss=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,ri.EVENT_MOVING_CHANGED,n),n()},t.prototype.setupMenuClass=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,ri.EVENT_MENU_VISIBLE_CHANGED,n),n()},t.prototype.setupSortableClass=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};n(),this.addRefreshFunction(n),this.addManagedListener(this.column,ri.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(Ds(this.column)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.setAriaDescriptionProperty=function(e,n){null!=n?this.ariaDescriptionProperties.set(e,n):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,n=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,nt.EVENT_COLUMN_HOVER_CHANGED,n),n()},t.prototype.setupFilterCss=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,ri.EVENT_FILTER_ACTIVE_CHANGED,n),n()},t.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,n=function(i){return e.setActiveHeader("mouseenter"===i.type)};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},cl([D("columnModel")],t.prototype,"columnModel",void 0),cl([D("columnHoverService")],t.prototype,"columnHoverService",void 0),cl([D("beans")],t.prototype,"beans",void 0),cl([D("sortController")],t.prototype,"sortController",void 0),cl([D("menuFactory")],t.prototype,"menuFactory",void 0),cl([D("dragAndDropService")],t.prototype,"dragAndDropService",void 0),cl([D("gridApi")],t.prototype,"gridApi",void 0),cl([D("columnApi")],t.prototype,"columnApi",void 0),cl([D("userComponentFactory")],t.prototype,"userComponentFactory",void 0),cl([Rn],t.prototype,"removeDragSource",null),t}(qu),Am=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yd=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Cg=function(o){function t(e,n,i,r){var c=o.call(this)||this;return c.eResize=n,c.comp=e,c.pinned=i,c.columnGroup=r,c}return Am(t,o),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(n),!this.gridOptionsWrapper.isSuppressAutoSize()){var i=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var r=[];e.columnGroup.getDisplayedLeafColumns().forEach(function(f){f.getColDef().suppressAutoSize||r.push(f.getColId())}),r.length>0&&e.columnModel.autoSizeColumns({columns:r,skipHeader:i,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},t.prototype.onResizeStart=function(e){var n=this;this.calculateInitialValues();var i=null;if(e&&(i=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),i){var r=i.getDisplayedLeafColumns();this.resizeTakeFromCols=r.filter(function(c){return c.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(c){return n.resizeTakeFromStartWidth+=c.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(c){return n.resizeTakeFromRatios.push(c.getActualWidth()/n.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.onResizing=function(e,n){var i=this.normaliseDragChange(n);this.resizeColumns(this.resizeStartWidth+i,e)},t.prototype.resizeLeafColumnsToFit=function(){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,!0)},t.prototype.resizeColumns=function(e,n){void 0===n&&(n=!0);var i=[];i.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols&&i.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(e-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:i,finished:n,source:"uiColumnDragged"}),n&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.calculateInitialValues=function(){var e=this,n=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=n.filter(function(i){return i.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(i){return e.resizeStartWidth+=i.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(i){return e.resizeRatios.push(i.getActualWidth()/e.resizeStartWidth)})},t.prototype.normaliseDragChange=function(e){var n=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==Qe.PINNED_LEFT&&(n*=-1):this.pinned===Qe.PINNED_RIGHT&&(n*=-1),n},yd([D("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),yd([D("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),yd([D("columnModel")],t.prototype,"columnModel",void 0),yd([ft],t.prototype,"postConstruct",null),t}(he),Xu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hv=function(o){function t(e,n){var i=o.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=n,i.comp=e,i}return Xu(t,o),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,wt.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var n=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener(ri.EVENT_WIDTH_CHANGED,n),i.addEventListener(ri.EVENT_VISIBLE_CHANGED,n),e.removeChildListenersFuncs.push(function(){i.removeEventListener(ri.EVENT_WIDTH_CHANGED,n),i.removeEventListener(ri.EVENT_VISIBLE_CHANGED,n)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([ft],t.prototype,"postConstruct",null),t}(he),nf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_d=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},rf=function(o){function t(e,n){var i=o.call(this,e,n)||this;return i.columnGroup=e,i}return nf(t,o),t.prototype.setComp=function(e,n,i){o.prototype.setGui.call(this,n),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var r=this.getParentRowCtrl().getPinned(),c=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Hc(c,n)),this.createManagedBean(new ip(this.columnGroup,n,this.beans)),this.createManagedBean(new Hv(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Cg(e,i,r,this.columnGroup)),this.createManagedBean(new kr(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},t.prototype.setupUserComp=function(){var e=this,n=this.displayName,i={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(M){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),M,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!n){for(var r=this.columnGroup,c=r.getLeafColumns();r.getParent()&&r.getParent().getLeafColumns().length===c.length;)r=r.getParent();var f=r.getColGroupDef();f&&(n=f.headerName),n||(n=c?this.columnModel.getDisplayNameForColumn(c[0],"header",!0):"")}var S=this.userComponentFactory.getHeaderGroupCompDetails(i);this.comp.setUserCompDetails(S)},t.prototype.setupTooltip=function(){var e=this,n=this.columnGroup.getColGroupDef(),i={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return n&&n.headerTooltip}};n&&(i.getColDef=function(){return n}),this.createManagedBean(new Su(i,this.beans)).setComp(this.comp)},t.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,dn.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,dn.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var n=e.isExpanded();this.comp.setAriaExpanded(this.expandable?n?"true":"false":void 0)},t.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},t.prototype.addClasses=function(){var e=this,n=this.columnGroup.getColGroupDef(),i=Jp.getHeaderClassesFromColDef(n,this.gridOptionsWrapper,null,this.columnGroup);i.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),i.forEach(function(r){return e.comp.addOrRemoveCssClass(r,!0)})},t.prototype.setupMovingCss=function(){var e=this,i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),r=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};i.forEach(function(c){e.addManagedListener(c,ri.EVENT_MOVING_CHANGED,r)}),r()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.columnGroup)}},t.prototype.handleKeyDown=function(e){var n=this.gridOptionsWrapper.getDocument();if(this.expandable&&n.activeElement===this.eGui&&e.key===Nn.ENTER){var c=this.columnGroup,f=!c.isExpanded();this.columnModel.setColumnGroupOpened(c.getProvidedColumnGroup(),f,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var n=this;if(!this.isSuppressMoving()){var i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),r={type:B.DragSourceType.HeaderCell,eElement:e,defaultIconName:to.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return i.forEach(function(c){return c.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return i.forEach(function(c){return c.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return n.dragAndDropService.removeDragSource(r)})}},t.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),n={};e.forEach(function(r){return n[r.getId()]=r.isVisible()});var i=[];return this.columnModel.getAllDisplayedColumns().forEach(function(r){e.indexOf(r)>=0&&(i.push(r),x(e,r))}),e.forEach(function(r){return i.push(r)}),{columns:i,visibleState:n}},t.prototype.isSuppressMoving=function(){var e=!1;return this.columnGroup.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsWrapper.isSuppressMovableColumns()},_d([D("beans")],t.prototype,"beans",void 0),_d([D("columnModel")],t.prototype,"columnModel",void 0),_d([D("dragAndDropService")],t.prototype,"dragAndDropService",void 0),_d([D("userComponentFactory")],t.prototype,"userComponentFactory",void 0),_d([D("gridApi")],t.prototype,"gridApi",void 0),_d([D("columnApi")],t.prototype,"columnApi",void 0),t}(qu),Iu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cd=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},sf=0,sh=function(o){function t(e,n,i){var r=o.call(this)||this;return r.instanceId=sf++,r.headerCellCtrls={},r.rowIndex=e,r.pinned=n,r.type=i,r}return Iu(t,o),t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),es()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,nt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){return Me(this.headerCellCtrls).find(function(n){return n.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},t.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===Qe.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(Qe.PINNED_RIGHT)+this.columnModel.getContainerWidth(Qe.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var r,c,e=this.columnModel.getHeaderRowCount(),n=[],i=0;this.columnModel.hasFloatingFilters()&&(e++,i=1),this.columnModel.isPivotMode()?(r=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),c=this.gridOptionsWrapper.getPivotHeaderHeight()):(r=this.gridOptionsWrapper.getGroupHeaderHeight(),c=this.gridOptionsWrapper.getHeaderHeight());for(var S=e-(1+i),M=0;M<S;M++)n.push(r);for(n.push(c),M=0;M<i;M++)n.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var K=0;for(M=0;M<this.rowIndex;M++)K+=n[M];this.comp.setTop(K+"px"),this.comp.setHeight(n[this.rowIndex]+"px")},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(){var e=this,n=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(f){if(!f.isEmptyGroup()){var S=f.getUniqueId(),M=n[S];if(delete n[S],M&&M.getColumnGroupChild()!=f&&(e.destroyBean(M),M=void 0),null==M)switch(e.type){case B.HeaderRowType.FLOATING_FILTER:M=e.createBean(new ul(f,e));break;case B.HeaderRowType.COLUMN_GROUP:M=e.createBean(new rf(f,e));break;default:M=e.createBean(new tf(f,e))}e.headerCellCtrls[S]=M}}),Le(n,function(f,S){var M=function(f){return!!e.focusService.isHeaderWrapperFocused(f)&&e.columnModel.isDisplayed(f.getColumnGroupChild())}(S);M?e.headerCellCtrls[f]=S:e.destroyBean(S)});var c=Ke(this.headerCellCtrls);this.comp.setHeaderCtrls(c)},t.prototype.destroyCtrls=function(){var e=this;Le(this.headerCellCtrls,function(n,i){e.destroyBean(i)}),this.headerCellCtrls={}},t.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===Qe.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var n=[],i=this.getActualDepth();return[Qe.PINNED_LEFT,null,Qe.PINNED_RIGHT].forEach(function(r){var c=e.columnModel.getVirtualHeaderGroupRow(r,i);n=n.concat(c)}),n},t.prototype.getActualDepth=function(){return this.type==B.HeaderRowType.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,n){var r=Ke(this.headerCellCtrls).find(function(c){return c.getColumnGroupChild()==e});return!!r&&(r.focus(n),!0)},Cd([D("columnModel")],t.prototype,"columnModel",void 0),Cd([D("focusService")],t.prototype,"focusService",void 0),Cd([Rn],t.prototype,"destroyCtrls",null),t}(he),Uv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xl=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},wg=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},Om=function(o){function t(e){var n=o.call(this)||this;return n.groupsRowCtrls=[],n.pinned=e,n}return Uv(t,o),t.prototype.setComp=function(e,n){this.comp=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(n),this.addManagedListener(this.eventService,nt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var n=new ha(this.pinned,e);this.createManagedBean(n)},t.prototype.refresh=function(e){var n=this;void 0===e&&(e=!1);var K,i=new ja,r=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var K=n.columnModel.getHeaderRowCount()-1;n.groupsRowCtrls=n.destroyBeans(n.groupsRowCtrls);for(var ve=0;ve<K;ve++){var Pe=n.createBean(new sh(i.next(),n.pinned,B.HeaderRowType.COLUMN_GROUP));n.groupsRowCtrls.push(Pe)}})(),K=i.next(),(null==n.columnsRowCtrl||!e||n.columnsRowCtrl.getRowIndex()!==K)&&(n.destroyBean(n.columnsRowCtrl),n.columnsRowCtrl=n.createBean(new sh(K,n.pinned,B.HeaderRowType.COLUMN))),function(){var ve=function(){n.filtersRowCtrl=n.destroyBean(n.filtersRowCtrl)};if(n.columnModel.hasFloatingFilters()){var Pe=i.next();if(n.filtersRowCtrl){var dt=n.filtersRowCtrl.getRowIndex()!==Pe;(!e||dt)&&ve()}n.filtersRowCtrl||(n.filtersRowCtrl=n.createBean(new sh(Pe,n.pinned,B.HeaderRowType.FLOATING_FILTER)))}else ve()}();var M=this.getAllCtrls();this.comp.setCtrls(M),this.restoreFocusOnHeader(r)},t.prototype.restoreFocusOnHeader=function(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(wg(arguments[t]));return o}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new Lc(function(n){return e.comp.setCenterWidth(n+"px")}))},t.prototype.setHorizontalScroll=function(e){this.comp.setContainerTransform("translateX("+e+"px)")},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var n=this.pinned===Qe.PINNED_LEFT,i=this.pinned===Qe.PINNED_RIGHT,r=function(){var c=n?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=c){var f=0==c,S=e.gridOptionsWrapper.isEnableRtl(),M=e.gridOptionsWrapper.getScrollbarWidth(),K=e.scrollVisibleService.isVerticalScrollShowing()&&(S&&n||!S&&i);e.comp.setPinnedContainerWidth((K?c+M:c)+"px"),e.comp.addOrRemoveCssClass("ag-hidden",f)}};this.addManagedListener(this.eventService,nt.EVENT_LEFT_PINNED_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,nt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,nt.EVENT_SCROLL_VISIBILITY_CHANGED,r),this.addManagedListener(this.eventService,nt.EVENT_SCROLLBAR_WIDTH_CHANGED,r)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof ri)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(var n=0;n<this.groupsRowCtrls.length;n++){var i=this.groupsRowCtrls[n].getHeaderCellCtrl(e);if(i)return i}},t.prototype.getHtmlElementForColumnHeader=function(e){var n=this.getHeaderCtrlForColumn(e);return n?n.getGui():null},t.prototype.getRowType=function(e){var i=this.getAllCtrls()[e];return i?i.getType():void 0},t.prototype.focusHeader=function(e,n,i){var c=this.getAllCtrls()[e];return!!c&&c.focusHeader(n,i)},t.prototype.getRowCount=function(){return this.getAllCtrls().length},Xl([D("ctrlsService")],t.prototype,"ctrlsService",void 0),Xl([D("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Xl([D("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Xl([D("columnModel")],t.prototype,"columnModel",void 0),Xl([D("focusService")],t.prototype,"focusService",void 0),t}(he),af=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lf=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},uf=function(o){function t(e){var n=o.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=e,n}return af(t,o),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var n={addOrRemoveCssClass:function(r,c){return e.addOrRemoveCssClass(r,c)},setCtrls:function(r){return e.setCtrls(r)},setCenterWidth:function(r){return e.eCenterContainer.style.width=r},setContainerTransform:function(r){return e.eCenterContainer.style.transform=r},setPinnedContainerWidth:function(r){var c=e.getGui();c.style.width=r,c.style.maxWidth=r,c.style.minWidth=r}};this.createManagedBean(new Om(this.pinned)).setComp(n,this.getGui())},t.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==Qe.PINNED_LEFT?t.PINNED_LEFT_TEMPLATE:this.pinned==Qe.PINNED_RIGHT?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var r,n=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],e.forEach(function(f){var S=f.getInstanceId(),M=i[S];delete i[S];var K=M||n.createBean(new oh(f));n.headerRowComps[S]=K,n.rowCompsList.push(K),function(f){var S=f.getGui();S.parentElement!=n.eRowContainer&&n.eRowContainer.appendChild(S),r&&Wo(n.eRowContainer,S,r),r=S}(K)}),Ke(i).forEach(function(f){return n.destroyRowComp(f)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',lf([Gn("eCenterContainer")],t.prototype,"eCenterContainer",void 0),lf([ft],t.prototype,"init",null),lf([Rn],t.prototype,"destroyRowComps",null),t}(or),ah=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r};!function(o){o[o.UP=0]="UP",o[o.DOWN=1]="DOWN",o[o.LEFT=2]="LEFT",o[o.RIGHT=3]="RIGHT"}(B.HeaderNavigationDirection||(B.HeaderNavigationDirection={}));var cf=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ah(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridBodyCon=n.gridBodyCtrl})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.getHeaderRowType=function(e){var n=this.ctrlsService.getHeaderRowContainerCtrl();if(n)return n.getRowType(e)},t.prototype.navigateVertically=function(e,n,i){if(n||(n=this.focusService.getFocusedHeader()),!n)return!1;var r=n.headerRowIndex,c=n.column,f=this.getHeaderRowCount(),S=e===B.HeaderNavigationDirection.UP,M=S?r-1:r+1,K=null,ve=!1;M<0&&(M=0,K=c,ve=!0),M>=f&&(M=-1);var Pe=this.getHeaderRowType(r);if(!ve){if(Pe===B.HeaderRowType.COLUMN_GROUP){var dt=c;K=S?c.getParent():dt.getDisplayedChildren()[0]}else Pe===B.HeaderRowType.FLOATING_FILTER?K=c:(dt=c,K=S?dt.getParent():dt);if(!K)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:M,column:K},allowUserOverride:!0,event:i})},t.prototype.navigateHorizontally=function(e,n,i){void 0===n&&(n=!1);var S,M,r=this.focusService.getFocusedHeader();return(S=e===B.HeaderNavigationDirection.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(r,M="Before"):this.headerPositionUtils.findHeader(r,M="After"))?this.focusService.focusHeaderPosition({headerPosition:S,direction:M,fromTab:n,allowUserOverride:!0,event:i}):!n||this.focusNextHeaderRow(r,M,i)},t.prototype.focusNextHeaderRow=function(e,n,i){var r=e.headerRowIndex,c=null;return"Before"===n?r>0&&(c=this.headerPositionUtils.findColAtEdgeForHeaderRow(r-1,"end")):c=this.headerPositionUtils.findColAtEdgeForHeaderRow(r+1,"start"),this.focusService.focusHeaderPosition({headerPosition:c,direction:n,fromTab:!0,allowUserOverride:!0,event:i})},t.prototype.scrollToColumn=function(e,n){if(void 0===n&&(n="After"),!e.getPinned()){var i;if(e instanceof wt){var r=e.getDisplayedLeafColumns();i="Before"===n?mn(r):r[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Uc([D("focusService")],t.prototype,"focusService",void 0),Uc([D("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Uc([D("animationFrameService")],t.prototype,"animationFrameService",void 0),Uc([D("ctrlsService")],t.prototype,"ctrlsService",void 0),Uc([ft],t.prototype,"postConstruct",null),Uc([Ae("headerNavigationService")],t)}(he),bg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Eg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return bg(t,o),t.prototype.setComp=function(e,n,i){this.comp=e,this.eGui=n,this.createManagedBean(new kr(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_PIVOT_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_FLOATING_FILTERS_HEIGHT,e),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,e)},t.prototype.setHeaderHeight=function(){var f,S,M,n=this.columnModel,i=this.gridOptionsWrapper,r=0,c=n.getHeaderRowCount();n.hasFloatingFilters()&&(c++,r=1),n.isPivotMode()?(S=i.getPivotGroupHeaderHeight(),M=i.getPivotHeaderHeight()):(S=i.getGroupHeaderHeight(),M=i.getHeaderHeight());var Pe=c-(1+r);f=r*i.getFloatingFiltersHeight(),f+=Pe*S,this.comp.setHeightAndMinHeight((f+=M)+1+"px")},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onTabKeyDown=function(e){var n=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(e.shiftKey!==n?B.HeaderNavigationDirection.LEFT:B.HeaderNavigationDirection.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var n=null;switch(e.key){case Nn.LEFT:n=B.HeaderNavigationDirection.LEFT;case Nn.RIGHT:v(n)||(n=B.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,e);break;case Nn.UP:n=B.HeaderNavigationDirection.UP;case Nn.DOWN:v(n)||(n=B.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(n,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var n=this.gridOptionsWrapper.getDocument(),i=e.relatedTarget;!i&&this.eGui.contains(n.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},Wc([D("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Wc([D("focusService")],t.prototype,"focusService",void 0),Wc([D("columnModel")],t.prototype,"columnModel",void 0),Wc([D("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(he),Dg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lh=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return Dg(t,o),t.prototype.postConstruct=function(){var e=this,n={addOrRemoveCssClass:function(c,f){return e.addOrRemoveCssClass(c,f)},setHeightAndMinHeight:function(c){e.getGui().style.height=c,e.getGui().style.minHeight=c}};this.createManagedBean(new Eg).setComp(n,this.getGui(),this.getFocusableElement());var r=function(c){e.createManagedBean(c),e.appendChild(c)};r(new uf(Qe.PINNED_LEFT)),r(new uf(null)),r(new uf(Qe.PINNED_RIGHT))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([ft],t.prototype,"postConstruct",null),t}(or),xm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ap=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},jc=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return xm(t,o),t.prototype.addResizeBar=function(e){var n=this,i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};return this.dragService.addDragSource(i,!0),function(){return n.dragService.removeDragSource(i)}},t.prototype.onDragStart=function(e,n){this.dragStartX=n.clientX,this.setResizeIcons();var i=n instanceof MouseEvent&&!0===n.shiftKey;e.onResizeStart(i)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,n){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,n){this.resizeAmount=n.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},ap([D("dragService")],t.prototype,"dragService",void 0),ap([D("ctrlsService")],t.prototype,"ctrlsService",void 0),ap([Ae("horizontalResizeService")],t)}(he),Ju=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},$c=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ju(t,o),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,n){var i=this;this.showPopup(e,function(r){i.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:n,ePopup:r})},n.target)},t.prototype.showMenuAfterButtonClick=function(e,n,i){var r=this;this.showPopup(e,function(c){r.popupService.positionPopupUnderComponent({type:i,eventSource:n,ePopup:c,keepWithinBounds:!0,column:e})},n)},t.prototype.showPopup=function(e,n,i){var r=this,c=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!c)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var f=document.createElement("div");cr(f,"presentation"),f.classList.add("ag-menu"),this.tabListener=this.addManagedListener(f,"keydown",function(dt){return r.trapFocusWithin(dt,f)}),c.guiPromise.then(function(dt){return f.appendChild(dt)});var S,M=i||this.ctrlsService.getGridBodyCtrl().getGui(),ve=this.gridOptionsWrapper.getLocaleTextFunc(),Pe=this.popupService.addPopup({modal:!0,eChild:f,closeOnEsc:!0,closedCallback:function(dt){e.setMenuVisible(!1,"contextMenu");var vt=dt instanceof KeyboardEvent;if(r.tabListener&&(r.tabListener=r.tabListener()),vt&&i&&Yn(i)){var sn=r.focusService.findTabbableParent(i);sn&&sn.focus()}},positionCallback:function(){return n(f)},anchorToElement:M,ariaLabel:ve("ariaLabelColumnMenu","Column Menu")});Pe&&(this.hidePopup=S=Pe.hideFunc),c.filterPromise.then(function(dt){n(f),dt.afterGuiAttached&&dt.afterGuiAttached({container:"columnMenu",hidePopup:S})}),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,n){e.key!==Nn.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(n,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(n,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},zc([D("filterManager")],t.prototype,"filterManager",void 0),zc([D("popupService")],t.prototype,"popupService",void 0),zc([D("focusService")],t.prototype,"focusService",void 0),zc([D("ctrlsService")],t.prototype,"ctrlsService",void 0),zc([Ae("menuFactory")],t)}(he),wd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yl=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ec=function(o){function t(e){var n=o.call(this,t.getTemplate(e.cssClass))||this;return n.items=[],n.tabbedItemScrollMap=new Map,n.params=e,e.items&&e.items.forEach(function(i){return n.addItem(i)}),n}return wd(t,o),t.prototype.postConstruct=function(){this.createManagedBean(new kr(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){var n=this.gridOptionsWrapper.getDocument();switch(e.key){case Nn.RIGHT:case Nn.LEFT:if(!this.eHeader.contains(n.activeElement))return;var i=this.items.indexOf(this.activeItem),r=e.key===Nn.RIGHT?Math.min(i+1,this.items.length-1):Math.max(i-1,0);if(i===r)return;e.preventDefault();var c=this.items[r];this.showItemWrapper(c),c.eHeaderButton.focus();break;case Nn.UP:case Nn.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var n=this,i=n.focusService,r=n.eHeader,c=n.eBody,f=n.activeItem,M=this.gridOptionsWrapper.getDocument().activeElement;if(e.preventDefault(),r.contains(M))i.focusInto(c,e.shiftKey);else if(i.isFocusUnderManagedComponent(c))f.eHeaderButton.focus();else{var K=i.findNextFocusableElement(c,!1,e.shiftKey);K?K.focus():f.eHeaderButton.focus()}}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var n=document.createElement("span");cr(n,"tab"),n.setAttribute("tabIndex","-1"),n.appendChild(e.title),n.classList.add("ag-tab"),this.eHeader.appendChild(n),hs(n,e.titleLabel);var i={tabbedItem:e,eHeaderButton:n};this.items.push(i),n.addEventListener("click",this.showItemWrapper.bind(this,i))},t.prototype.showItem=function(e){var n=this.items.find(function(i){return i.tabbedItem===e});n&&this.showItemWrapper(n)},t.prototype.showItemWrapper=function(e){var n=this,i=e.tabbedItem,r=e.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:i}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),co(this.eBody),i.bodyPromise.then(function(c){n.eBody.appendChild(c);var f=!n.focusService.isKeyboardMode();if(n.focusService.focusInto(n.eBody,!1,f),i.afterAttachedCallback&&i.afterAttachedCallback(n.afterAttachedParams),n.params.keepScrollPosition){var S=i.getScrollableContainer&&i.getScrollableContainer()||c;n.lastScrollListener=n.addManagedListener(S,"scroll",function(){n.tabbedItemScrollMap.set(i.name,S.scrollTop)});var M=n.tabbedItemScrollMap.get(i.name);void 0!==M&&setTimeout(function(){S.scrollTop=M},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),r.classList.add("ag-tab-selected"),this.activeItem=e):rt(this.params.onActiveItemClicked)},yl([D("focusService")],t.prototype,"focusService",void 0),yl([Gn("eHeader")],t.prototype,"eHeader",void 0),yl([Gn("eBody")],t.prototype,"eBody",void 0),yl([ft],t.prototype,"postConstruct",null),t}(or),zv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lp=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return zv(t,o),t.prototype.observeResize=function(e,n){var Pe,i=this,c=this.gridOptionsWrapper.getDocument().defaultView||window,f=Vt(n,50),K=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return c.ResizeObserver&&!K?((Pe=new c.ResizeObserver(f)).observe(e),function(){return Pe.disconnect()}):function(){var Pe=$s(e),dt=xa(e),vt=!0,sn=function(){if(vt){var wn=$s(e),zn=xa(e);(wn!==Pe||zn!==dt)&&(Pe=wn,dt=zn,n()),i.doNextPolyfillTurn(sn)}};return sn(),function(){return vt=!1}}()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var i=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],i.forEach(function(r){return r()})},50))},t=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r}([Ae("resizeObserverService")],t),t}(he),up=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bd=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Fm=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return up(t,o),t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,n,i){this.verifyAnimationFrameOn(i);var r={task:e,index:n,createOrder:++this.taskCount};this.addTaskToList(this[i],r),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,n){e.list.push(n),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var n=this.scrollGoingDown?1:-1;e.list.sort(function(i,r){return i.index!==r.index?n*(r.index-i.index):r.createOrder-i.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var n=this.createTasksP1,i=n.list,r=this.createTasksP2,c=r.list,f=this.destroyTasks,S=(new Date).getTime(),M=(new Date).getTime()-S,K=e<=0,ve=this.ctrlsService.getGridBodyCtrl();K||M<e;){if(!ve.getScrollFeature().executeAnimationFrameScroll()){var dt=void 0;if(i.length)this.sortTaskList(n),dt=i.pop().task;else if(c.length)this.sortTaskList(r),dt=c.pop().task;else{if(!f.length){this.cancelledTasks.clear();break}dt=f.pop()}this.cancelledTasks.has(dt)||dt()}M=(new Date).getTime()-S}i.length||c.length||f.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},t.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60),i=this.gridOptionsWrapper.getDocument().defaultView||window;i.requestAnimationFrame?i.requestAnimationFrame(e):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(e):i.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var n=this,i=!1;return function(){n.isOn()?i||(i=!0,n.addDestroyTask(function(){i=!1,e()})):n.getFrameworkOverrides().setTimeout(e,0)}},bd([D("ctrlsService")],t.prototype,"ctrlsService",void 0),bd([ft],t.prototype,"init",null),bd([Ae("animationFrameService")],t)}(he),cp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dp=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Nm=function(o){function t(e,n){var i=o.call(this)||this;return i.element=e,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},n),i}return cp(t,o),t.prototype.center=function(){var e=this.offsetParent,n=e.clientHeight,r=e.clientWidth/2-this.getWidth()/2,c=n/2-this.getHeight()/2;this.offsetElement(r,c)},t.prototype.initialisePosition=function(){var e=this.config,n=e.centered,i=e.forcePopupParentAsOffsetParent,r=e.minWidth,c=e.width,f=e.minHeight,S=e.height,M=e.x,K=e.y;this.offsetParent||this.setOffsetParent();var ve=0,Pe=0,dt=!!this.element.offsetParent;if(dt){var vt=this.findBoundaryElement(),sn=window.getComputedStyle(vt);if(null!=sn.minWidth){var wn=vt.offsetWidth-this.element.offsetWidth;Pe=parseInt(sn.minWidth,10)-wn}if(null!=sn.minHeight){var zn=vt.offsetHeight-this.element.offsetHeight;ve=parseInt(sn.minHeight,10)-zn}}if(this.minHeight=f||ve,this.minWidth=r||Pe,c&&this.setWidth(c),S&&this.setHeight(S),(!c||!S)&&this.refreshSize(),n)this.center();else if(M||K)this.offsetElement(M,K);else if(dt&&i&&this.boundaryEl){var Un=parseFloat(this.boundaryEl.style.top),qn=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(qn)?0:qn,isNaN(Un)?0:Un)}this.positioned=!!this.offsetParent},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,n){if(this.config.popup&&e!==this.movable){this.movable=e;var i=this.moveElementDragListener||{eElement:n,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var n=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(i){var c=!!e[i],f=n.getResizerElement(i),S={dragStartPixels:0,eElement:f,onDragStart:function(M){return n.onResizeStart(M,i)},onDragging:n.onResize.bind(n),onDragStop:function(M){return n.onResizeEnd(M,i)}};(!!n.resizable[i]!==c||!n.isAlive()&&!c)&&(c?(n.dragService.addDragSource(S),n.resizeListeners.push(S),f.style.pointerEvents="all"):f.style.pointerEvents="none")})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,n=e.height,i=e.width;-1!==i&&(this.element.style.width=i+"px"),-1!==n&&(this.element.style.height=n+"px")},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var n=this.config.popup,i=this.element,r=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Ie(i,e),e=Q(i),r=!0;else if(this.positioned){var c=this.element.getBoundingClientRect(),f=this.offsetParent.getBoundingClientRect();e=Math.max(this.minHeight,e);var S=this.offsetParent.clientHeight,M=n?this.position.y:c.top;S&&e+M>S+(n?0:f.top)&&(e=S-M)}this.getHeight()!==e&&(r?(i.style.maxHeight="unset",i.style.minHeight="unset"):n?Ie(i,e):(i.style.height=e+"px",i.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var n=this.element,i=this.config.popup,r=!1;if("string"==typeof e&&-1!==e.indexOf("%"))So(n,e),e=$e(n),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var c=this.offsetParent.clientWidth,f=i?this.position.x:this.element.getBoundingClientRect().left;c&&e+f>c&&(e=c-f)}this.getWidth()!==e&&(r?(n.style.maxWidth="unset",n.style.minWidth="unset"):this.config.popup?So(n,e):(n.style.width=e+"px",n.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:i,x:e,y:n,keepWithinBounds:!0}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top))},t.prototype.setPosition=function(e,n){this.position.x=e,this.position.y=n},t.prototype.updateDragStartPosition=function(e,n){this.dragStartPosition={x:e,y:n}},t.prototype.calculateMouseMovement=function(e){var n=e.e,r=e.isTop,f=e.topBuffer,S=n.clientX-this.dragStartPosition.x,M=n.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(n,!!e.isLeft,!!e.anywhereWithin,S)?0:S,movementY:this.shouldSkipY(n,!!r,f,M)?0:M}},t.prototype.shouldSkipX=function(e,n,i,r){var c=this.element.getBoundingClientRect(),f=this.offsetParent.getBoundingClientRect(),S=this.boundaryEl.getBoundingClientRect(),M=this.config.popup?this.position.x:c.left,K=M<=0&&f.left>=e.clientX||f.right<=e.clientX&&f.right<=S.right;return!!K||(n?r<0&&e.clientX>M+f.left||r>0&&e.clientX<M+f.left:i?r<0&&e.clientX>S.right||r>0&&e.clientX<M+f.left:r<0&&e.clientX>S.right||r>0&&e.clientX<S.right)},t.prototype.shouldSkipY=function(e,n,i,r){void 0===i&&(i=0);var c=this.element.getBoundingClientRect(),f=this.offsetParent.getBoundingClientRect(),S=this.boundaryEl.getBoundingClientRect(),M=this.config.popup?this.position.y:c.top,K=M<=0&&f.top>=e.clientY||f.bottom<=e.clientY&&f.bottom<=S.bottom;return!!K||(n?r<0&&e.clientY>M+f.top+i||r>0&&e.clientY<M+f.top:r<0&&e.clientY>S.bottom||r>0&&e.clientY<S.bottom)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var i=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".ag-resizer-wrapper");e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!n.match(/top/i),isRight:!!n.match(/right/i),isBottom:!!n.match(/bottom/i),isLeft:!!n.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[n].element.classList.add("ag-active");var i=this.config;!i.popup&&!i.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var n=this.element.parentElement;return n?Array.prototype.slice.call(n.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],n=0,i=0,r=0;r<e.length;r++){var c=e[r];if(c!==this.element){var S=this.minHeight||0,M=this.minWidth||0;if(c.style.flex&&"0 0 auto"!==c.style.flex){var K=window.getComputedStyle(c);K.minHeight&&(S=parseInt(K.minHeight,10)),K.minWidth&&(M=parseInt(K.minWidth,10))}else S=c.offsetHeight,M=c.offsetWidth;n+=S,i+=M}}return{height:n,width:i}},t.prototype.applySizeToSiblings=function(e){var n=null,i=this.getSiblings();if(i){for(var r=0;r<i.length;r++){var c=i[r];c!==n&&(e?c.style.height=c.offsetHeight+"px":c.style.width=c.offsetWidth+"px",c.style.flex="0 0 auto",c===this.element&&(n=i[r+1]))}n&&(n.style.removeProperty("height"),n.style.removeProperty("min-height"),n.style.removeProperty("max-height"),n.style.flex="1 1 auto")}},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var n=this.config,i=n.popup,r=n.forcePopupParentAsOffsetParent,c=this.currentResizer,f=c.isTop,K=c.isLeft,ve=c.isRight||K,Pe=c.isBottom||f,dt=this.calculateMouseMovement({e,isLeft:K,isTop:f}),vt=dt.movementX,sn=dt.movementY,wn=this.position.x,zn=this.position.y,Un=0,qn=0;if(ve&&vt){var Di=K?-1:1,lr=this.getWidth(),no=lr+vt*Di,io=!1;K&&(wn+(Un=lr-no)<=0||no<=this.minWidth)&&(io=!0,Un=0),io||this.setWidth(no)}if(Pe&&sn){Di=f?-1:1;var ur=this.getHeight(),Qr=ur+sn*Di,uo=!1;f?(zn+(qn=ur-Qr)<=0||Qr<=this.minHeight)&&(uo=!0,qn=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&ur<Qr&&this.getMinSizeOfSiblings().height+Qr>this.element.parentElement.offsetHeight&&(uo=!0),uo||this.setHeight(Qr)}this.updateDragStartPosition(e.clientX,e.clientY),((i||r)&&Un||qn)&&this.offsetElement(wn+Un,zn+qn)}},t.prototype.onResizeEnd=function(e,n){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[n].element.classList.remove("ag-active"),this.dispatchEvent(i)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var c,n=this.position,i=n.x,r=n.y;this.config.calculateTopBuffer&&(c=this.config.calculateTopBuffer());var f=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:c});this.offsetElement(i+f.movementX,r+f.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},dp([D("popupService")],t.prototype,"popupService",void 0),dp([D("dragService")],t.prototype,"dragService",void 0),t}(he),df=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ch=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Tg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return df(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.centerRowContainerCtrl=n.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,n){var i=this.getHeaderCellForColumn(e);if(!i)return-1;var r=this.rowRenderer.getAllCellsForColumn(e);return n||r.push(i),this.addElementsToContainerAndGetWidth(r)},t.prototype.getPreferredWidthForColumnGroup=function(e){var n=this.getHeaderCellForColumn(e);return n?this.addElementsToContainerAndGetWidth([n]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var n=this,i=document.createElement("span");i.style.position="fixed";var r=this.centerRowContainerCtrl.getContainerElement();r.appendChild(i),e.forEach(function(S){return n.cloneItemIntoDummy(S,i)});var c=i.offsetWidth;return r.removeChild(i),c+this.gridOptionsWrapper.getAutoSizePadding()},t.prototype.getHeaderCellForColumn=function(e){var n=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var r=i.getHtmlElementForColumnHeader(e);null!=r&&(n=r)}),n},t.prototype.cloneItemIntoDummy=function(e,n){var i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var r=document.createElement("div"),c=r.classList;["ag-header-cell","ag-header-group-cell"].some(function(Pe){return i.classList.contains(Pe)})?(c.add("ag-header","ag-header-row"),r.style.position="static"):c.add("ag-row");for(var S=e.parentElement;S;){if(["ag-header-row","ag-row"].some(function(Pe){return S.classList.contains(Pe)})){for(var K=0;K<S.classList.length;K++){var ve=S.classList[K];"ag-row-position-absolute"!=ve&&c.add(ve)}break}S=S.parentElement}r.appendChild(i),n.appendChild(r)},ch([D("rowRenderer")],t.prototype,"rowRenderer",void 0),ch([D("ctrlsService")],t.prototype,"ctrlsService",void 0),ch([D("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),ch([ft],t.prototype,"postConstruct",null),ch([Ae("autoWidthCalculator")],t)}(he),Ag=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ma=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Lm=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},km=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Lm(arguments[t]));return o},Bm=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e}return Ag(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){this.addManagedListener(this.eventService,nt.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===Qe.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var e=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new Kc(null!=e?e:3)}},t.prototype.getRowCtrls=function(){return this.allRowCtrls},t.prototype.updateAllRowCtrls=function(){var e=Ke(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&e.sort(function(r,c){return r.getRowNode().rowIndex-c.getRowNode.rowIndex});var n=Ke(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=km(e,n,i)},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,nt.EVENT_CELL_FOCUSED,function(i){e.getAllCellCtrls().forEach(function(r){return r.onCellFocused(i)}),e.getFullWidthRowCtrls().forEach(function(r){r.onFullWidthRowFocused(i)})}),this.addManagedListener(this.eventService,nt.EVENT_FLASH_CELLS,function(i){e.getAllCellCtrls().forEach(function(r){return r.onFlashCells(i)})}),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onColumnHover()})}),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(i){return i.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,nt.EVENT_RANGE_SELECTION_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_MOVED,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_PINNED,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_VISIBLE,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,nt.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var n=this.columnModel.getAllGridColumns();!n||n.forEach(function(i){var r=function(K){e.getAllCellCtrls().forEach(function(ve){ve.getColumn()===i&&K(ve)})},c=function(){r(function(K){return K.onLeftChanged()})},f=function(){r(function(K){return K.onWidthChanged()})},S=function(){r(function(K){return K.onFirstRightPinnedChanged()})},M=function(){r(function(K){return K.onLastLeftPinnedChanged()})};i.addEventListener(ri.EVENT_LEFT_CHANGED,c),i.addEventListener(ri.EVENT_WIDTH_CHANGED,f),i.addEventListener(ri.EVENT_FIRST_RIGHT_PINNED_CHANGED,S),i.addEventListener(ri.EVENT_LAST_LEFT_PINNED_CHANGED,M),e.destroyFuncsForColumnListeners.push(function(){i.removeEventListener(ri.EVENT_LEFT_CHANGED,c),i.removeEventListener(ri.EVENT_WIDTH_CHANGED,f),i.removeEventListener(ri.EVENT_FIRST_RIGHT_PINNED_CHANGED,S),i.removeEventListener(ri.EVENT_LAST_LEFT_PINNED_CHANGED,M)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===Qe.DOM_LAYOUT_PRINT,n=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),i=n!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=n,i&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getAllCellsForColumn=function(e){var n=[];return this.getAllRowCtrls().forEach(function(i){var r=i.getCellElement(e);r&&n.push(r)}),n},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,n){var i=this;e.forEach(function(r){r.destroyFirstPass(),r.destroySecondPass()}),e.length=0,n&&n.forEach(function(r){var c=new Kl(r,i.beans,!1,!1,i.printLayout);e.push(c)})},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.getRenderedIndexesForRowNodes=function(e){var n=[];return V(e)||Le(this.rowCtrlsByRowIndex,function(i,r){var c=r.getRowNode();e.indexOf(c)>=0&&n.push(i)}),n},t.prototype.redrawRows=function(e){var n=null!=e&&e.length>0;if(n){var i=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(i)}this.redrawAfterModelUpdate({recycleRows:n})},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var n=e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==n)return null;var r=this.gridOptionsWrapper.getDocument().activeElement,c=this.gridOptionsWrapper.getDomData(r,$l.DOM_DATA_KEY_CELL_CTRL),f=this.gridOptionsWrapper.getDomData(r,Kl.DOM_DATA_KEY_ROW_CTRL);return c||f?n:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var n=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var i=!this.printLayout&&!!e.recycleRows,r=e.animate&&this.gridOptionsWrapper.isAnimateRows(),c=i?this.recycleRows():null;i||this.removeAllRowComps();var S=function(){if(null==n||null==c)return!1;var M=!1;return Le(c,function(K,ve){var Pe=ve.getRowNode();Pe.rowIndex==n.rowIndex&&Pe.rowPinned==n.rowPinned&&(M=!0)}),M}();this.redraw(c,r),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),S||this.restoreFocusedCell(n),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var n=e.newData||e.newPage,i=this.gridOptionsWrapper.isSuppressScrollOnNewData();n&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&this.focusService.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach(function(n){n.stopEditing(e)})},t.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(e){return e.onNewColumnsLoaded()})},t.prototype.getAllCellCtrls=function(){var e=[];return this.getAllRowCtrls().forEach(function(n){return e=e.concat(n.getAllCellCtrls())}),e},t.prototype.getAllRowCtrls=function(){var e=this,n=km(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(i){return n.push(e.rowCtrlsByRowIndex[i])}),n},t.prototype.addRenderedRowListener=function(e,n,i){var r=this.rowCtrlsByRowIndex[n];r&&r.addEventListener(e,i)},t.prototype.flashCells=function(e){void 0===e&&(e={});var n=e.flashDelay,i=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(r){return r.flashCell({flashDelay:n,fadeDelay:i})})},t.prototype.refreshCells=function(e){void 0===e&&(e={});var n={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){if(i.refreshShouldDestroy()){var r=i.getRowCtrl();r&&r.refreshCell(i)}else i.refreshCell(n)}),this.getFullWidthRowCtrls(e.rowNodes).forEach(function(i){i.refreshFullWidth()})},t.prototype.getCellRendererInstances=function(e){return this.getCellCtrls(e.rowNodes,e.columns).map(function(i){return i.getCellRenderer()}).filter(function(i){return null!=i})},t.prototype.getCellEditorInstances=function(e){var n=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){var r=i.getCellEditor();r&&n.push(r)}),n},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(n){if(n.isEditing()){var i=n.getCellPosition();e.push(i)}}),e},t.prototype.mapRowNodes=function(e){if(e){var n={top:{},bottom:{},normal:{}};return e.forEach(function(i){var r=i.id;i.rowPinned===Qe.PINNED_TOP?n.top[r]=i:i.rowPinned===Qe.PINNED_BOTTOM?n.bottom[r]=i:n.normal[r]=i}),n}},t.prototype.isRowInMap=function(e,n){var i=e.id,r=e.rowPinned;return r===Qe.PINNED_BOTTOM?null!=n.bottom[i]:r===Qe.PINNED_TOP?null!=n.top[i]:null!=n.normal[i]},t.prototype.getCellCtrls=function(e,n){var f,i=this,r=this.mapRowNodes(e),c=[];v(n)&&(f={},n.forEach(function(M){var K=i.columnModel.getGridColumn(M);v(K)&&(f[K.getId()]=!0)}));var S=function(M){var K=M.getRowNode();null!=r&&!i.isRowInMap(K,r)||M.getAllCellCtrls().forEach(function(ve){var Pe=ve.getColumn().getId();f&&!f[Pe]||c.push(ve)})};return Le(this.rowCtrlsByRowIndex,function(M,K){S(K)}),this.topRowCtrls&&this.topRowCtrls.forEach(S),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(S),c},t.prototype.destroy=function(){this.removeAllRowComps(),o.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.recycleRows=function(){var e=[];Le(this.rowCtrlsByRowIndex,function(i,r){null==r.getRowNode().id&&e.push(i)}),this.removeRowCtrls(e);var n={};return Le(this.rowCtrlsByRowIndex,function(i,r){var c=r.getRowNode();n[c.id]=r}),this.rowCtrlsByRowIndex={},n},t.prototype.removeRowCtrls=function(e){var n=this;e.forEach(function(i){var r=n.rowCtrlsByRowIndex[i];r&&(r.destroyFirstPass(),r.destroySecondPass()),delete n.rowCtrlsByRowIndex[i]})},t.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},t.prototype.removeRowCompsNotToDraw=function(e){var n={};e.forEach(function(c){return n[c]=!0});var r=Object.keys(this.rowCtrlsByRowIndex).filter(function(c){return!n[c]});this.removeRowCtrls(r)},t.prototype.calculateIndexesToDraw=function(e){var n=this,i=xi(this.firstRenderedRow,this.lastRenderedRow),r=function(c,f){var S=f.getRowNode().rowIndex;null!=S&&(S<n.firstRenderedRow||S>n.lastRenderedRow)&&n.doNotUnVirtualiseRow(f)&&i.push(S)};return Le(this.rowCtrlsByRowIndex,r),Le(e,r),i.sort(function(c,f){return c-f}),i},t.prototype.redraw=function(e,n,i){var r=this;void 0===n&&(n=!1),void 0===i&&(i=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var c=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(c),this.printLayout&&(n=!1),c.forEach(function(S){v(r.createOrUpdateRowCtrl(S,e,n,i))}),e&&(!i||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(e,n):this.beans.animationFrameService.addDestroyTask(function(){r.destroyRowCtrls(e,n),r.updateAllRowCtrls(),r.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.gridBodyCtrl.updateRowCount()},t.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:nt.EVENT_DISPLAYED_ROWS_CHANGED})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),n=this.columnModel.isPinningRight();(this.pinningLeft!==e||n!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(n){var i=n.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redrawAfterScroll()},t.prototype.getFullWidthRowCtrls=function(e){var n=this,i=this.mapRowNodes(e);return Ke(this.rowCtrlsByRowIndex).filter(function(r){if(!r.isFullWidth())return!1;var c=r.getRowNode();return!(null!=i&&!n.isRowInMap(c,i))})},t.prototype.refreshFullWidthRows=function(e){var n=[],i=!!e,r=i?{}:void 0;i&&r&&e.forEach(function(c){return r[c.id]=!0}),this.getFullWidthRowCtrls().forEach(function(c){var f=c.getRowNode();if((!i||!r||r[f.id]||r[f.level>0&&f.parent?f.parent.id:void 0])&&!c.refreshFullWidth()){var ve=c.getRowNode().rowIndex;n.push(ve.toString())}}),this.removeRowCtrls(n),this.redrawAfterScroll()},t.prototype.createOrUpdateRowCtrl=function(e,n,i,r){var c,f=this.rowCtrlsByRowIndex[e];if(f||v(c=this.paginationProxy.getRow(e))&&v(n)&&n[c.id]&&c.alreadyRendered&&(f=n[c.id],n[c.id]=null),!f){if(c||(c=this.paginationProxy.getRow(e)),!v(c))return;f=this.createRowCon(c,i,r)}return c&&(c.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=f,f},t.prototype.destroyRowCtrls=function(e,n){var i=this,r=[];Le(e,function(c,f){if(f){if(i.cachedRowCtrls&&f.isCacheable())return void i.cachedRowCtrls.addRow(f);f.destroyFirstPass(),n?(i.zombieRowCtrls[f.getInstanceId()]=f,r.push(function(){f.destroySecondPass(),delete i.zombieRowCtrls[f.getInstanceId()]})):f.destroySecondPass()}}),n&&(r.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),Kt(r))},t.prototype.workOutFirstAndLastRowsToRender=function(){var n,i,e=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)n=this.paginationProxy.getPageFirstRow(),i=this.paginationProxy.getPageLastRow();else{var r=this.gridOptionsWrapper.getRowBufferInPixels(),c=this.ctrlsService.getGridBodyCtrl(),f=this.gridOptionsWrapper.isSuppressRowVirtualisation(),S=!1,M=void 0,K=void 0;do{var ve=this.paginationProxy.getPixelOffset(),Pe=this.paginationProxy.getCurrentPagePixelRange(),dt=Pe.pageFirstPixel,vt=Pe.pageLastPixel,sn=this.rowContainerHeightService.getDivStretchOffset();if(f)M=dt+sn,K=vt+sn;else{var wn=c.getScrollFeature().getVScrollPosition(),Un=wn.bottom;M=Math.max(wn.top+ve-r,dt)+sn,K=Math.min(Un+ve+r,vt)+sn}S=this.ensureAllRowsInRangeHaveHeightsCalculated(M,K)}while(S);var qn=this.paginationProxy.getRowIndexAtPixel(M),Di=this.paginationProxy.getRowIndexAtPixel(K),lr=this.paginationProxy.getPageFirstRow(),no=this.paginationProxy.getPageLastRow();qn<lr&&(qn=lr),Di>no&&(Di=no),n=qn,i=Di}else n=0,i=-1;var io=this.gridOptionsWrapper.getDomLayout()===Qe.DOM_LAYOUT_NORMAL,ur=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),Qr=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(io&&!ur&&i-n>Qr&&(i=n+Qr),(n!==this.firstRenderedRow||i!==this.lastRenderedRow)&&(this.firstRenderedRow=n,this.lastRenderedRow=i,this.eventService.dispatchEvent({type:nt.EVENT_VIEWPORT_CHANGED,firstRow:n,lastRow:i,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var Cl={type:nt.EVENT_FIRST_DATA_RENDERED,firstRow:n,lastRow:i,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return e.eventService.dispatchEventOnce(Cl)},50)}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,n){var i=this.paginationProxy.ensureRowHeightsValid(e,n,-1,-1);return i&&this.updateContainerHeights(),i},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var r=e.getRowNode(),c=this.focusService.isRowNodeFocused(r),f=e.isEditing();return!!(c||f||r.detail)&&!!this.paginationProxy.isRowPresent(r)},t.prototype.createRowCon=function(e,n,i){var r=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(r)return r;var c=this.gridOptionsWrapper.isSuppressAnimationFrame();return new Kl(e,this.beans,n,i&&!c&&!this.printLayout,this.printLayout)},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(n){return e[n].getRowNode()})},t.prototype.getRowByPosition=function(e){var n;switch(e.rowPinned){case Qe.PINNED_TOP:n=this.topRowCtrls[e.rowIndex];break;case Qe.PINNED_BOTTOM:n=this.bottomRowCtrls[e.rowIndex];break;default:n=this.rowCtrlsByRowIndex[e.rowIndex]}return n},t.prototype.getRowNode=function(e){switch(e.rowPinned){case Qe.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case Qe.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,n){return!(null==e||null==n||n<this.firstRenderedRow||e>this.lastRenderedRow)},Ma([D("paginationProxy")],t.prototype,"paginationProxy",void 0),Ma([D("columnModel")],t.prototype,"columnModel",void 0),Ma([D("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ma([D("rowModel")],t.prototype,"rowModel",void 0),Ma([D("focusService")],t.prototype,"focusService",void 0),Ma([D("columnApi")],t.prototype,"columnApi",void 0),Ma([D("gridApi")],t.prototype,"gridApi",void 0),Ma([D("beans")],t.prototype,"beans",void 0),Ma([D("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Ma([te("ctrlsService")],t.prototype,"ctrlsService",void 0),Ma([ft],t.prototype,"postConstruct",null),Ma([Ae("rowRenderer")],t)}(he),Kc=function(){function o(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return o.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},o.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},o.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],x(this.entriesList,t)},o.prototype.getEntries=function(){return this.entriesList},o}(),Ig=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hf=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Gm=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ig(t,o),t.prototype.formatValue=function(e,n,i,r,c){void 0===c&&(c=!0);var S,f=null,M=e.getColDef();if(r?S=r:c&&(S=n&&n.rowPinned&&M.pinnedRowValueFormatter?M.pinnedRowValueFormatter:M.valueFormatter),S){var K={value:i,node:n,data:n?n.data:null,colDef:M,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};f=this.expressionService.evaluate(S,K)}else if(M.refData)return M.refData[i]||"";return null==f&&Array.isArray(i)&&(f=i.join(", ")),f},hf([D("expressionService")],t.prototype,"expressionService",void 0),hf([Ae("valueFormatterService")],t)}(he),Og=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dl=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},dh=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Og(t,o),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(e){return I(e===Qe.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,n){var i=n===Qe.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(I(i))return 0;for(var r=0;r<i.length;r++){var c=i[r];if(c.rowTop+c.rowHeight-1>=e)return r}return i.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:nt.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:nt.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.createNodesFromData=function(e,n){var i=this,r=[];if(e){var c=0;e.forEach(function(f,S){var M=new Nr(i.beans);M.data=f,M.id=(n?Nr.ID_PREFIX_TOP_PINNED:Nr.ID_PREFIX_BOTTOM_PINNED)+S,M.rowPinned=n?Qe.PINNED_TOP:Qe.PINNED_BOTTOM,M.setRowTop(c),M.setRowHeight(i.gridOptionsWrapper.getRowHeightForNode(M).height),M.setRowIndex(S),c+=M.rowHeight,r.push(M)})}return r},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){I(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){I(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var n=mn(e);return n.rowTop+n.rowHeight},dl([D("columnApi")],t.prototype,"columnApi",void 0),dl([D("gridApi")],t.prototype,"gridApi",void 0),dl([D("beans")],t.prototype,"beans",void 0),dl([ft],t.prototype,"init",null),dl([Ae("pinnedRowModel")],t)}(he);!function(o){o.Applied="Applied",o.StoreNotFound="StoreNotFound",o.StoreLoading="StoreLoading",o.StoreWaitingToLoad="StoreWaitingToLoad",o.StoreLoadingFailed="StoreLoadingFailed",o.StoreWrongType="StoreWrongType",o.Cancelled="Cancelled"}(B.ServerSideTransactionResultStatus||(B.ServerSideTransactionResultStatus={}));var hh=function(){function o(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return o.prototype.setInactive=function(){this.active=!1},o.prototype.isActive=function(){return this.active},o.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},o.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var r=t.childrenAfterGroup[i];r.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,n):n&&e(r)}e(t)},o.prototype.forEachChangedNodeDepthFirst=function(t,e){void 0===e&&(e=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},o.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},o.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},n++,e=e.parent;return n},o.prototype.populateColumnsMap=function(t,e){var n=this;if(this.keepingColumns&&e)for(var i=t;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(function(r){return n.nodeIdsToColumns[i.id][r.getId()]=!0}),i=i.parent},o.prototype.linkPathItems=function(t,e){for(var n=t,i=0;i<e;i++){var r=this.mapToItems[n.id],c=this.mapToItems[n.parent.id];c.children||(c.children=[]),c.children.push(r),n=n.parent}},o.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},o.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},o.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id];return e.filter(function(r){return n[r.getId()]})},o.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id];return e.filter(function(r){return!n[r.getId()]})},o}(),pf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ph=function(o){function t(e){var n=o.call(this)||this;return n.state=t.STATE_WAITING_TO_LOAD,n.version=0,n.id=e,n}return pf(t,o),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,n){this.successCommon(e,n)},t.prototype.pageLoaded=function(e,n,i){this.successCommon(e,{rowData:n,rowCount:i})},t.prototype.isRequestMostRecentAndLive=function(e){var n=e===this.version,i=this.isAlive();return n&&i},t.prototype.successCommon=function(e,n){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(n))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:e,block:this})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(he),Vm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hp=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},$v=function(o,t){return function(e,n){t(e,n,o)}},ff=function(o){function t(){var n=null!==o&&o.apply(this,arguments)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n}var e;return Vm(t,o),e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var n=this.gridOptionsWrapper.getBlockLoadDebounceMillis();n&&n>0&&(this.checkBlockToLoadDebounce=rr.debounce(this.performCheckBlocksToLoad.bind(this),n))},t.prototype.setBeans=function(n){this.logger=n.create("RowNodeBlockLoader")},t.prototype.addBlock=function(n){this.blocks.push(n),n.addEventListener(ph.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(n){rr.removeFromArray(this.blocks,n)},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var n=null;this.blocks.forEach(function(i){i.getState()===ph.STATE_WAITING_TO_LOAD&&(n=i)}),n&&(n.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},t.prototype.getBlockState=function(){var n={};return this.blocks.forEach(function(i){var r=i.getBlockStateJson();n[r.id]=r.state}),n},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",hp([ft],t.prototype,"postConstruct",null),hp([$v(0,me("loggerFactory"))],t.prototype,"setBeans",null),e=hp([Ae("rowNodeBlockLoader")],t)}(he),Kv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Yv=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return Kv(t,o),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,nt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,n,i,r){var c=this.rowModel.ensureRowHeightsValid(e,n,this.getPageFirstRow(),this.getPageLastRow());return c&&this.calculatePages(),c},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:nt.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},t.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:nt.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&(this.currentPage=e,this.onModelUpdated({type:nt.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return V(this.topRowBounds)||V(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,n){return this.rowModel.getNodesInRangeForSelection(e,n)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var n=this.rowModel.getRowBounds(e);return n.rowIndex=e,n},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var n=this.getPageForIndex(e);this.goToPage(n)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),n=Math.floor(e/this.pageSize);this.goToPage(n)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(v(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:nt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Xi(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var r=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=r-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Xi(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Yc([D("rowModel")],t.prototype,"rowModel",void 0),Yc([D("columnApi")],t.prototype,"columnApi",void 0),Yc([D("gridApi")],t.prototype,"gridApi",void 0),Yc([ft],t.prototype,"postConstruct",null),Yc([Ae("paginationProxy")],t)}(he),gf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mf=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},vf=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return gf(t,o),t.prototype.processAllCellClasses=function(e,n,i,r){this.processClassRules(e.cellClassRules,n,i,r),this.processStaticCellClasses(e,n,i)},t.prototype.processClassRules=function(e,n,i,r){if(null!=e){for(var c=Object.keys(e),f={},S={},M=function(Pe){var sn,dt=c[Pe],vt=e[dt];"string"==typeof vt?sn=K.expressionService.evaluate(vt,n):"function"==typeof vt&&(sn=vt(n)),dt.split(" ").forEach(function(wn){null==wn||""==wn.trim()||(sn?f[wn]=!0:S[wn]=!0)})},K=this,ve=0;ve<c.length;ve++)M(ve);r&&Object.keys(S).forEach(r),Object.keys(f).forEach(i)}},t.prototype.getStaticCellClasses=function(e,n){var r,i=e.cellClass;return i?("string"==typeof(r="function"==typeof i?i(n):i)&&(r=[r]),r||[]):[]},t.prototype.processStaticCellClasses=function(e,n,i){this.getStaticCellClasses(e,n).forEach(function(c){i(c)})},mf([D("expressionService")],t.prototype,"expressionService",void 0),mf([Ae("stylingService")],t)}(he),pp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hm=function(o){function t(e){return o.call(this,e,"ag-radio-button","radio")||this}return pp(t,o),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){o.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,nt.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Ql),fp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Um=function(o){function t(e){return o.call(this,e,"ag-toggle-button")||this}return fp(t,o),t.prototype.setValue=function(e,n){return o.prototype.setValue.call(this,e,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(Ql),yf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ol=function(o){function t(e,n,i){return void 0===n&&(n="ag-text-field"),void 0===i&&(i="text"),o.call(this,e,n,i)||this}return yf(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,n){var i=o.prototype.setValue.call(this,e,n);return this.eInput.value!==e&&(this.eInput.value=v(e)?e:""),i},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(i){i.key&&!e.test(i.key)&&i.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(i){var r,c=null===(r=i.clipboardData)||void 0===r?void 0:r.getData("text");c&&c.split("").some(function(f){return!e.test(f)})&&i.preventDefault()})},t}(Fi),Wm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ml=function(o){function t(e){return o.call(this,e,"ag-text-area",null,"textarea")||this}return Wm(t,o),t.prototype.setValue=function(e,n){var i=o.prototype.setValue.call(this,e,n);return this.eInput.value=e,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(Fi),jm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zv=function(o){function t(e){return o.call(this,e,"ag-number-field","number")||this}return jm(t,o),t.prototype.postConstruct=function(){var e=this;o.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var n=parseFloat(e.eInput.value),i=isNaN(n)?"":e.normalizeValue(n.toString());e.value!==i&&e.setValue(i)}),this.eInput.step="any"},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var n=parseFloat(e);return null!=this.min&&n<this.min?e=this.min.toString():null!=this.max&&n>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var n=parseFloat(e).toFixed(this.precision);e=parseFloat(n).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,pn(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,pn(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,pn(this.eInput,"step",e)),this},t.prototype.setValue=function(e,n){return(e=this.adjustPrecision(e))!=this.normalizeValue(e)?this:o.prototype.setValue.call(this,e,n)},t}(Ol),zm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gp=function(o){function t(e){return o.call(this,e,"ag-range-field","range")||this}return zm(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this);var e=this.config,n=e.min,i=e.max,r=e.step;null!=n&&this.setMinValue(n),null!=i&&this.setMaxValue(i),this.setStep(r||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(n){e.setValue(n.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,n){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var i=o.prototype.setValue.call(this,e,n);return this.eInput.value=e,i},t}(Fi),$m=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),fh=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},qv=function(o){function t(e){var n=o.call(this,e,t.TEMPLATE)||this;return n.labelAlignment="top",n}return $m(t,o),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var n=this,i=Fa.EVENT_CHANGED;return this.addManagedListener(this.eText,i,function(){var r=parseFloat(n.eText.getValue());n.eSlider.setValue(r.toString(),!0),e(r||0)}),this.addManagedListener(this.eSlider,i,function(){var r=n.eSlider.getValue();n.eText.setValue(r,!0),e(parseFloat(r))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:Fa.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',fh([Gn("eLabel")],t.prototype,"eLabel",void 0),fh([Gn("eSlider")],t.prototype,"eSlider",void 0),fh([Gn("eText")],t.prototype,"eText",void 0),fh([ft],t.prototype,"init",null),t}(Ca),_f=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ed=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Cf=function(o){function t(e){var n=o.call(this,e,t.TEMPLATE)||this;return n.radius=0,n.offsetX=0,n.offsetY=0,n}return _f(t,o),t.prototype.postConstruct=function(){var e=this;o.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(n){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(n){return e.calculateAngleDrag(n)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(n){(null==n||""===n)&&(n="0"),n=e.eAngleValue.normalizeValue(n);var i=parseFloat(n);i>180&&(i-=360),e.setValue(i)}),this.updateNumberInput(),v(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,Fa.EVENT_CHANGED,function(){var n=e.gridOptionsWrapper.getDocument();e.eAngleValue.getInputElement().contains(n.activeElement)||e.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var n=this.parentCircleRect||{width:24,height:24},i=this.eChildCircle,c=n.height/2;i.style.left=n.width/2+8*Math.cos(e)+"px",i.style.top=c+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,n=this.offsetY,i=Math.atan2(n,e);this.degrees=this.toDegrees(i),this.radius=Math.sqrt(e*e+n*n),this.positionChildCircle(i)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),n=this.getRadius();this.setOffsetX(Math.cos(e)*n).setOffsetY(Math.sin(e)*n)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var n=this.parentCircleRect,K=Math.atan2(e.clientY-n.top-n.height/2,e.clientX-n.left-n.width/2);this.setValue(K,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var n=this;return this.addManagedListener(this,Fa.EVENT_CHANGED,function(){e(n.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,n){var i;return i=n?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(i),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(i),this.dispatchEvent({type:Fa.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return So(this.getGui(),e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),o.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Ed([Gn("eLabel")],t.prototype,"eLabel",void 0),Ed([Gn("eParentCircle")],t.prototype,"eParentCircle",void 0),Ed([Gn("eChildCircle")],t.prototype,"eChildCircle",void 0),Ed([Gn("eAngleValue")],t.prototype,"eAngleValue",void 0),Ed([D("dragService")],t.prototype,"dragService",void 0),t}(Ca),wf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jl=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Qv=function(o){function t(e){var n=o.call(this,t.TEMPLATE)||this;return n.H=1,n.S=1,n.B=1,n.A=1,n.isSpectrumDragging=!1,n.isSpectrumHueDragging=!1,n.isSpectrumAlphaDragging=!1,n.colorChanged=!1,n.picker=e.picker,n}return wf(t,o),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var n=this.spectrumValRect;if(n){var i=e.clientX-n.left,r=e.clientY-n.top;i=Math.max(i,0),i=Math.min(i,n.width),r=Math.max(r,0),r=Math.min(r,n.height),this.setSpectrumValue(i/n.width,1-r/n.height)}},t.prototype.moveHueSlider=function(e){var n=this.spectrumHueRect;if(n){var i=this.spectrumHueSlider,r=i.getBoundingClientRect(),c=e.clientX-n.left;c=Math.max(c,0),c=Math.min(c,n.width),this.H=1-c/n.width,i.style.left=c+r.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var n=this.spectrumAlphaRect;if(n){var i=this.spectrumAlphaSlider,r=i.getBoundingClientRect(),c=e.clientX-n.left;c=Math.max(c,0),c=Math.min(c,n.width),this.A=c/n.width,i.style.left=c+r.width/2+"px",this.update()}},t.prototype.update=function(){var e=Do.fromHSB(360*this.H,this.S,this.B,this.A),n=Do.fromHSB(360*this.H,1,1),i=e.toRgbaString(),r=this.picker;Do.fromString(r.getValue()).toRgbaString()!==i&&(this.colorChanged=!0),r.setValue(i),this.spectrumColor.style.backgroundColor=n.toRgbaString(),this.spectrumDragger.style.backgroundColor=i},t.prototype.setSpectrumValue=function(e,n){var i=this.spectrumValRect||this.refreshSpectrumRect();if(i){var r=this.spectrumDragger,c=r.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),n=Math.max(0,n),n=Math.min(1,n),this.S=e,this.B=n,r.style.left=e*i.width-c.width/2+"px",r.style.top=(1-n)*i.height-c.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var n=t.recentColors.map(function(i,r){return'<div class="ag-recent-color" id='+r+' style="background-color: '+i+'; width: 15px; height: 15px;" recent-color="'+i+'"></div>'});this.recentColors.innerHTML=n.join("")},t.prototype.setValue=function(e){var n=Do.fromString(e),i=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r}(n.toHSB(),3),r=i[0],c=i[1],f=i[2];this.H=(isNaN(r)?0:r)/360,this.A=n.a;var S=this.spectrumHueRect||this.refreshHueRect(),M=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-S.width+"px",this.spectrumAlphaSlider.style.left=this.A*M.width+"px",this.setSpectrumValue(c,f)},t.prototype.onRecentColorClick=function(e){var n=e.target;if(v(n.id)){var i=parseInt(n.id,10);this.setValue(t.recentColors[i]),this.destroy()}},t.prototype.addRecentColor=function(){var n=Do.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),i=t.recentColors;!this.colorChanged||i[0]===n||(i=i.filter(function(r){return r!=n}),(i=[n].concat(i)).length>t.maxRecentColors&&(i=i.slice(0,t.maxRecentColors)),t.recentColors=i)},t.prototype.destroy=function(){this.addRecentColor(),o.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Jl([Gn("spectrumColor")],t.prototype,"spectrumColor",void 0),Jl([Gn("spectrumVal")],t.prototype,"spectrumVal",void 0),Jl([Gn("spectrumDragger")],t.prototype,"spectrumDragger",void 0),Jl([Gn("spectrumHue")],t.prototype,"spectrumHue",void 0),Jl([Gn("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),Jl([Gn("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),Jl([Gn("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),Jl([Gn("recentColors")],t.prototype,"recentColors",void 0),Jl([ft],t.prototype,"postConstruct",null),t}(or),Xv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dd=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Mg=function(o){function t(e){var n=o.call(this,t.getTemplate(e))||this;return n.closable=!0,n.config=e,n}return Xv(t,o),t.getTemplate=function(e){var n=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+n+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+n+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+n+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+n+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+n+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,n=this.config,i=n.component,r=n.closable,c=n.hideTitleBar,f=n.title,S=n.minWidth,M=void 0===S?250:S,K=n.width,ve=n.minHeight,Pe=void 0===ve?250:ve,dt=n.height,vt=n.centered,sn=n.popup,wn=n.x,zn=n.y;this.positionableFeature=new Nm(this.getGui(),{minWidth:M,width:K,minHeight:Pe,height:dt,centered:vt,x:wn,y:zn,popup:sn,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var Un=this.getGui();i&&this.setBodyComponent(i),c?this.eTitleBar.classList.add("ag-hidden"):(f&&this.setTitle(f),this.setClosable(null!=r?r:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(qn){var Di=e.gridOptionsWrapper.getDocument();if(Un.contains(qn.relatedTarget)||Un.contains(Di.activeElement)||e.eTitleBarButtons.contains(qn.target))qn.preventDefault();else{var lr=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");lr&&lr.focus()}}),(!sn||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,n=this.getGui();n.focus(),this.close=function(){n.parentElement.removeChild(n),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var n=this.closeButtonComp=new or(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var i=n.getGui(),r=mi("close",this.gridOptionsWrapper);r.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(r),this.addTitleBarButton(n),n.addManagedListener(i,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((i=this.closeButtonComp.getGui()).parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,n){var i=this.eTitleBarButtons,r=i.children,c=r.length;null==n&&(n=c),n=Math.max(0,Math.min(n,c)),e.addCssClass("ag-panel-title-bar-button");var f=e.getGui();0===n?i.insertAdjacentElement("afterbegin",f):n===c?i.insertAdjacentElement("beforeend",f):r[n-1].insertAdjacentElement("afterend",f),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return _e(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return ue(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),o.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Dd([Gn("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Dd([Gn("eTitleBar")],t.prototype,"eTitleBar",void 0),Dd([Gn("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Dd([Gn("eTitle")],t.prototype,"eTitle",void 0),Dd([ft],t.prototype,"postConstruct",null),t}(or),gh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),eu=function(){return eu=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},eu.apply(this,arguments)},Sd=function(o){function t(e){var n=o.call(this,eu(eu({},e),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return gh(t,o),t.prototype.postConstruct=function(){var e=this,n=this.getGui(),i=this.config,r=i.movable,c=i.resizable,f=i.maximizable;this.addCssClass("ag-dialog"),o.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(S){n.contains(S.relatedTarget)||e.popupService.bringPopupToFront(n)}),r&&this.setMovable(r),f&&this.setMaximizable(f),c&&this.setResizable(c)},t.prototype.renderComponent=function(){var e=this.getGui(),n=this.config,i=n.alwaysOnTop,r=n.modal,c=n.title,f=this.gridOptionsWrapper.getLocaleTextFunc(),S=this.popupService.addPopup({modal:r,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:i,ariaLabel:c||f("ariaLabelDialog","Dialog")});S&&(this.close=S.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var n=this.lastPosition,i=n.x,r=n.y,f=n.height;this.setWidth(n.width),this.setHeight(f),this.positionableFeature.offsetElement(i,r)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){Mi(this.maximizeIcon,!this.isMaximized),Mi(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),o.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var n=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var i=this.eTitleBar;if(i&&e!==this.isMaximizable){var r=this.maximizeButtonComp=this.createBean(new or('<div class="ag-dialog-button"></span>')),c=r.getGui();c.appendChild(this.maximizeIcon=mi("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),c.appendChild(this.minimizeIcon=mi("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),r.addManagedListener(c,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(r,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){n.isMaximized=!1,n.refreshMaximizeIcon()})}},function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([D("popupService")],t.prototype,"popupService",void 0),t}(Mg),Ym=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pg=function(o){function t(e){var n=o.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(n.value=e.color),n}return Ym(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,n=this.getGui().getBoundingClientRect(),i=this.createBean(new Sd({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:n.right-190,y:n.top-250}));this.isPickerDisplayed=!0,i.addCssClass("ag-color-dialog"),Fo(this.eWrapper,!0);var r=this.createBean(new Qv({picker:this}));return r.addDestroyFunc(function(){i.isAlive()&&e.destroyBean(i)}),i.setParentComponent(this),i.setBodyComponent(r),r.setValue(this.getValue()),i.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,r.isAlive()&&e.destroyBean(r)),e.isAlive()&&(Fo(e.eWrapper,!1),e.getFocusableElement().focus()),e.isPickerDisplayed=!1}),i},t.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,o.prototype.setValue.call(this,e))},t.prototype.getValue=function(){return this.value},t}(du),Fg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pa=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Rd=function(o){function t(e){void 0===e&&(e={});var n=o.call(this,t.getTemplate(e))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var r=e.enabled,c=e.items,f=e.suppressEnabledCheckbox,S=e.suppressOpenCloseIcons;return n.title=e.title,n.cssIdentifier=e.cssIdentifier||"default",n.enabled=null==r||r,n.items=c||[],n.alignItems=e.alignItems||"center",null!=f&&(n.suppressEnabledCheckbox=f),null!=S&&(n.suppressOpenCloseIcons=S),n}return Fg(t,o),t.getTemplate=function(e){var n=e.cssIdentifier||"default";return'<div class="ag-group ag-'+n+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+n+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+n+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+n+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+n+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+n+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+n+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var n=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(n("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(di("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(di("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(n){switch(n.key){case Nn.ENTER:case Nn.SPACE:n.preventDefault(),e.toggleGroupExpand();break;case Nn.RIGHT:case Nn.LEFT:n.preventDefault(),e.toggleGroupExpand(n.key===Nn.RIGHT)}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Fo(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;Mi(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Mi(this.eGroupOpenedIcon,e&&this.expanded),Mi(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){return this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Mi(this.eContainer,!0),this):(this.expanded===(e=null!=e?e:!this.expanded)||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),Mi(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var n=this;e.forEach(function(i){return n.addItem(i)})},t.prototype.addItem=function(e){var n=this.eContainer,i=e instanceof or?e.getGui():e;i.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),n.appendChild(i),this.items.push(i)},t.prototype.hideItem=function(e,n){this.items[n].classList.toggle("ag-hidden",e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,n){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),n||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var n=this;return this.cbGroupEnabled.onValueChange(function(i){n.setEnabled(i,!0),e(i)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",pa([Gn("eTitleBar")],t.prototype,"eTitleBar",void 0),pa([Gn("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),pa([Gn("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),pa([Gn("eToolbar")],t.prototype,"eToolbar",void 0),pa([Gn("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),pa([Gn("eTitle")],t.prototype,"eTitle",void 0),pa([Gn("eContainer")],t.prototype,"eContainer",void 0),pa([ft],t.prototype,"postConstruct",null),t}(or),fa=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},mp=function(o){function t(e){var n=o.call(this)||this;n.skipTabGuardFocus=!1;var r=e.eTopGuard,c=e.eBottomGuard,f=e.focusInnerElement,S=e.onFocusIn,M=e.onFocusOut,K=e.shouldStopEventPropagation,ve=e.onTabKeyDown,Pe=e.handleKeyDown,dt=e.eFocusableElement;return n.comp=e.comp,n.eTopGuard=r,n.eBottomGuard=c,n.providedFocusInnerElement=f,n.eFocusableElement=dt,n.providedFocusIn=S,n.providedFocusOut=M,n.providedShouldStopEventPropagation=K,n.providedOnTabKeyDown=ve,n.providedHandleKeyDown=Pe,n}return fa(t,o),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new kr(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)},onFocusIn:function(n){return e.onFocusIn(n)},onFocusOut:function(n){return e.onFocusOut(n)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(n){return e.addManagedListener(n,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var n=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(n):this.focusInnerElement(n)}},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var n=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!e.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var r=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(function(){return n.activateTabGuards()},0),r&&(r.focus(),e.preventDefault())}},t.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var n=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(n.splice(0,1),n.splice(n.length-1,1)),n.length&&n[e?n.length-1:0].focus()},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1);var n=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,n.focus()},Zc([D("focusService")],t.prototype,"focusService",void 0),Zc([ft],t.prototype,"postConstruct",null),t}(he),xl=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ng=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},Pl=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return xl(t,o),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var n=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(r){n.forEach(function(c){return null!=r?c.setAttribute("tabIndex",r):c.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new mp({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var n=document.createElement("div");return n.classList.add("ag-tab-guard","ag-tab-guard-"+e),cr(n,"presentation"),n},t.prototype.addTabGuards=function(e,n){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",n)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];co(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Ng(arguments[t]));return o}(e))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,n){Fe(e)||(e=e.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",e):o.prototype.appendChild.call(this,e,n)},t}(or),Ad=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tu=function(){return tu=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},tu.apply(this,arguments)},tc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},nc=function(o){function t(e){void 0===e&&(e=1);var n=o.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=e,n.menuItems=[],n}return Ad(t,o),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}})},t.prototype.onTabKeyDown=function(e){var n=this.getParentComponent(),i=n&&n.getGui();i&&i.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case Nn.UP:case Nn.RIGHT:case Nn.DOWN:case Nn.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case Nn.ESCAPE:var n=this.findTopMenu();n&&this.focusService.focusInto(n.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var n=this;null!=e&&e.forEach(function(i){"separator"===i?n.addSeparator():"string"==typeof i?console.warn("AG Grid: unrecognised menu item "+i):n.addItem(i)})},t.prototype.addItem=function(e){var n=this,i=this.createManagedBean(new rc(tu(tu({},e),{isAnotherSubMenuOpen:function(){return n.menuItems.some(function(r){return r.isSubMenuOpen()})}})));i.setParentComponent(this),Co(i.getGui(),this.level),this.menuItems.push(i),this.appendChild(i.getGui()),this.addManagedListener(i,rc.EVENT_MENU_ITEM_SELECTED,function(r){n.dispatchEvent(r)}),this.addManagedListener(i,rc.EVENT_MENU_ITEM_ACTIVATED,function(r){n.activeMenuItem&&n.activeMenuItem!==r.menuItem&&n.activeMenuItem.deactivate(),n.activeMenuItem=r.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(n){return!n.isDisabled()})[0];!e||e.activate()},t.prototype.addSeparator=function(){this.appendChild(Ri('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var n=e&&e.getParentComponent&&e.getParentComponent();if(!n||!(n instanceof t||n instanceof rc))break;e=n}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case Nn.UP:case Nn.DOWN:var n=this.findNextItem(e===Nn.UP);return void(n&&n!==this.activeMenuItem&&n.activate())}e===(this.gridOptionsWrapper.isEnableRtl()?Nn.RIGHT:Nn.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var n=this.getParentComponent();n&&n instanceof rc&&(e&&e.preventDefault(),n.closeSubMenu(),n.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var n=this.menuItems.filter(function(S){return!S.isDisabled()});if(n.length){if(!this.activeMenuItem)return e?mn(n):n[0];e&&n.reverse();for(var i,r=!1,c=0;c<n.length;c++){var f=n[c];if(r){i=f;break}f===this.activeMenuItem&&(r=!0)}return i||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),o.prototype.destroy.call(this)},tc([D("focusService")],t.prototype,"focusService",void 0),tc([ft],t.prototype,"postConstruct",null),t}(Pl),ic=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qc=function(o){function t(e){var n=o.call(this)||this;return n.wrappedComponent=e,n.setTemplateFromElement(e.getGui()),n}return ic(t,o),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}})},t.prototype.handleKeyDown=function(e){e.key===Nn.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);i>3&&r&&Object.defineProperty(t,e,r)}([ft],t.prototype,"postConstruct",null),t}(Pl),bf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ef=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},rc=function(o){function t(e){var n=o.call(this)||this;return n.params=e,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'+n.getClassName()+'" tabindex="-1" role="treeitem"></div>'),n}return bf(t,o),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var n=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),xs(n,!0)):(this.addGuiEventListener("click",function(i){return e.onItemSelected(i)}),this.addGuiEventListener("keydown",function(i){(i.key===Nn.ENTER||i.key===Nn.SPACE)&&(i.preventDefault(),e.onItemSelected(i))}),this.addGuiEventListener("mousedown",function(i){i.stopPropagation(),i.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(i){return e.addCssClass(i)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var n=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var r,i=Ri('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var c=eo(this.getGui()),f=isNaN(c)?1:c+1,S=this.createBean(new nc(f));S.setParentComponent(this),S.addMenuItems(this.params.subMenu),i.appendChild(S.getGui()),this.addManagedListener(S,t.EVENT_MENU_ITEM_SELECTED,function(Un){return n.dispatchEvent(Un)}),S.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),r=function(){return n.destroyBean(S)},e&&setTimeout(function(){return S.activateFirstItem()},0)}else{var M=this.params.subMenu,K=this.createBean(new Qc(M));K.setParentComponent(this);var ve=K.getGui(),Pe="mouseenter",dt=function(){return n.cancelDeactivate()};ve.addEventListener(Pe,dt),r=function(){return ve.removeEventListener(Pe,dt)},i.appendChild(ve),M.afterGuiAttached&&setTimeout(function(){return M.afterGuiAttached()},0)}var vt=this.getGui(),sn=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:vt,ePopup:i}),wn=this.gridOptionsWrapper.getLocaleTextFunc(),zn=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:sn,anchorToElement:vt,ariaLabel:wn("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Fo(vt,!0),this.hideSubMenu=function(){zn&&zn.hideFunc(),n.subMenuIsOpen=!1,Fo(vt,!1),r()}}},t.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,Fo(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var n=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){n.isAlive()&&n.isActive&&n.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=Ri('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(mi("check",this.gridOptionsWrapper)):this.params.icon&&(Fe(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=Ri('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new Ci(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=Ri('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=Ri('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),n=this.getGui();if(this.params.subMenu){var i=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Fo(n,!1),e.appendChild(mi(i,this.gridOptionsWrapper))}n.appendChild(e)}},t.prototype.onItemSelected=function(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var n=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?n+"-"+e:n},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,Ef([D("popupService")],t.prototype,"popupService",void 0),Ef([ft],t.prototype,"init",null),t}(or),Id=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qa=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Zm=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},Od=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}var e;return Id(t,o),e=t,t.addKeyboardModeEvents=function(n,i){var r=e.instancesMonitored.get(n);r&&r.length>0?-1===r.indexOf(i)&&r.push(i):(e.instancesMonitored.set(n,[i]),n.addEventListener("keydown",e.toggleKeyboardMode),n.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(n,i){var r=e.instancesMonitored.get(n),c=[];r&&r.length&&(c=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Zm(arguments[t]));return o}(r).filter(function(f){return f!==i}),e.instancesMonitored.set(n,c)),0===c.length&&(n.removeEventListener("keydown",e.toggleKeyboardMode),n.removeEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(n){var i=e.keyboardModeActive,r="keydown"===n.type;if(!(r&&(n.ctrlKey||n.metaKey||n.altKey)||i&&r||!i&&!r)){e.keyboardModeActive=r;var c=n.target.ownerDocument;if(c){var f=e.instancesMonitored.get(c);f&&f.forEach(function(S){S.dispatchEvent({type:r?nt.EVENT_KEYBOARD_FOCUS:nt.EVENT_MOUSE_FOCUS})})}}},t.prototype.init=function(){var n=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,nt.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,nt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.ctrlsService.whenReady(function(r){n.gridCtrl=r.gridCtrl;var c=n.gridOptionsWrapper.getDocument();e.addKeyboardModeEvents(c,n.gridCtrl),n.addDestroyFunc(function(){return n.unregisterGridCompController(n.gridCtrl)})})},t.prototype.unregisterGridCompController=function(n){var i=this.gridOptionsWrapper.getDocument();e.removeKeyboardModeEvents(i,n)},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var n=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(n.getId());n!==i&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var n=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(n.activeElement,Kl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var n=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(n.activeElement,qu.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(n,i){for(var r=n;r;){if(this.gridOptionsWrapper.getDomData(r,i))return!1;r=r.parentNode}return!0},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.setFocusedCell=function(n,i,r,c){void 0===c&&(c=!1);var f=this.columnModel.getGridColumn(i);f?(this.focusedCellPosition=f?{rowIndex:n,rowPinned:R(r),column:f}:null,this.onCellFocused(c)):this.focusedCellPosition=null},t.prototype.isCellFocused=function(n){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===n.column&&this.isRowFocused(n.rowIndex,n.rowPinned)},t.prototype.isRowNodeFocused=function(n){return this.isRowFocused(n.rowIndex,n.rowPinned)},t.prototype.isHeaderWrapperFocused=function(n){if(null==this.focusedHeaderPosition)return!1;var i=n.getColumnGroupChild(),r=n.getRowIndex(),c=n.getPinned(),f=this.focusedHeaderPosition,S=f.column;return i===S&&r===f.headerRowIndex&&c==S.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(n,i){this.focusedHeaderPosition={headerRowIndex:n,column:i}},t.prototype.focusHeaderPosition=function(n){var i=n.direction,r=n.fromTab,f=n.event,S=n.headerPosition;if(n.allowUserOverride){var Pe,M=this.gridOptionsWrapper,K=this.getFocusedHeader(),ve=this.headerNavigationService.getHeaderRowCount();r?(Pe=M.getTabToNextHeaderFunc())&&(S=Pe({backwards:"Before"===i,previousHeaderPosition:K,nextHeaderPosition:S,headerRowCount:ve})):(Pe=M.getNavigateToNextHeaderFunc())&&f&&(S=Pe({key:f.key,previousHeaderPosition:K,nextHeaderPosition:S,headerRowCount:ve,event:f}))}return!!S&&(-1===S.headerRowIndex?this.focusGridView(S.column):(this.headerNavigationService.scrollToColumn(S.column,i),this.ctrlsService.getHeaderRowContainerCtrl(S.column.getPinned()).focusHeader(S.headerRowIndex,S.column,f)))},t.prototype.focusFirstHeader=function(){var n=this.columnModel.getAllDisplayedColumns()[0];return!!n&&(n.getParent()&&(n=this.columnModel.getColumnGroupAtLevel(n,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:n}}))},t.prototype.focusLastHeader=function(n){var i=this.headerNavigationService.getHeaderRowCount()-1,r=mn(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:r},event:n})},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(n,i){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===R(i)},t.prototype.findFocusableElements=function(n,i,r){void 0===r&&(r=!1);var f=Qe.FOCUSABLE_EXCLUDE;i&&(f+=", "+i),r&&(f+=', [tabindex="-1"]');var Pe,S=Array.prototype.slice.apply(n.querySelectorAll(Qe.FOCUSABLE_SELECTOR)),M=Array.prototype.slice.apply(n.querySelectorAll(f));return M.length?(Pe=M,S.filter(function(dt){return-1===Pe.indexOf(dt)})):S},t.prototype.focusInto=function(n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1);var c=this.findFocusableElements(n,null,r),f=i?mn(c):c[0];return!!f&&(f.focus(),!0)},t.prototype.findNextFocusableElement=function(n,i,r){void 0===n&&(n=this.eGridDiv);var c=this.findFocusableElements(n,i?':not([tabindex="-1"])':null),S=this.gridOptionsWrapper.getDocument().activeElement,K=(i?c.findIndex(function(ve){return ve.contains(S)}):c.indexOf(S))+(r?-1:1);return K<0||K>=c.length?null:c[K]},t.prototype.isFocusUnderManagedComponent=function(n){var i=this.gridOptionsWrapper.getDocument(),r=n.querySelectorAll("."+kr.FOCUS_MANAGED_CLASS);if(!r.length)return!1;for(var c=0;c<r.length;c++)if(r[c].contains(i.activeElement))return!0;return!1},t.prototype.findTabbableParent=function(n,i){void 0===i&&(i=5);for(var r=0;n&&null===ls(n)&&++r<=i;)n=n.parentElement;return null===ls(n)?null:n},t.prototype.onCellFocused=function(n){var i={type:nt.EVENT_CELL_FOCUSED,forceBrowserFocus:n,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var r=i.rowIndex=this.focusedCellPosition.rowIndex,c=i.rowPinned=this.focusedCellPosition.rowPinned;i.column=this.focusedCellPosition.column;var f=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:c});f&&(i.isFullWidthCell=f.isFullWidth())}this.eventService.dispatchEvent(i)},t.prototype.focusGridView=function(n,i){if(this.gridOptionsWrapper.isSuppressCellFocus())return i?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var r=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!r)return!1;var c=r.rowIndex,f=r.rowPinned,S=this.getFocusedHeader();return!n&&S&&(n=S.column),!(null==c||!n)&&(this.navigationService.ensureCellVisible({rowIndex:c,column:n,rowPinned:f}),this.setFocusedCell(c,n,R(f),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:c,rowPinned:f,column:n}),!0)},t.prototype.focusNextGridCoreContainer=function(n){return!!this.gridCtrl.focusNextInnerContainer(n)||(!n&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)},t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,Qa([D("eGridDiv")],t.prototype,"eGridDiv",void 0),Qa([D("columnModel")],t.prototype,"columnModel",void 0),Qa([D("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Qa([D("columnApi")],t.prototype,"columnApi",void 0),Qa([D("gridApi")],t.prototype,"gridApi",void 0),Qa([D("rowRenderer")],t.prototype,"rowRenderer",void 0),Qa([D("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Qa([te("rangeService")],t.prototype,"rangeService",void 0),Qa([D("navigationService")],t.prototype,"navigationService",void 0),Qa([D("ctrlsService")],t.prototype,"ctrlsService",void 0),Qa([ft],t.prototype,"init",null),e=Qa([Ae("focusService")],t)}(he),Lg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vp=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},nu=(()=>(function(o){o[o.vertical=0]="vertical",o[o.horizontal=1]="horizontal"}(nu||(nu={})),nu))(),Jv=0,kg=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.popupList=[],e}return Lg(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridCtrl=n.gridCtrl,e.addManagedListener(e.gridCtrl,nt.EVENT_KEYBOARD_FOCUS,function(){e.popupList.forEach(function(i){return i.element.classList.add(Od.AG_KEYBOARD_FOCUS)})}),e.addManagedListener(e.gridCtrl,nt.EVENT_MOUSE_FOCUS,function(){e.popupList.forEach(function(i){return i.element.classList.remove(Od.AG_KEYBOARD_FOCUS)})})})},t.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(e){var n=e.eventSource.getBoundingClientRect(),i=this.getParentRect(),r=this.keepXYWithinBounds(e.ePopup,n.top-i.top,nu.vertical),c=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=c+"px";var M,S=i.right-i.left-c;function K(){return n.right-i.left-2}function ve(){return n.left-i.left-c}this.gridOptionsWrapper.isEnableRtl()?((M=ve())<0&&(M=K()),M>S&&(M=0)):((M=K())>S&&(M=ve()),M<0&&(M=0)),e.ePopup.style.left=M+"px",e.ePopup.style.top=r+"px"},t.prototype.positionPopupUnderMouseEvent=function(e){var n=e.ePopup,i=e.nudgeX,r=e.nudgeY,c=this.calculatePointerAlign(e.mouseEvent);this.positionPopup({ePopup:n,x:c.x,y:c.y,nudgeX:i,nudgeY:r,keepWithinBounds:!0}),this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)},t.prototype.calculatePointerAlign=function(e){var n=this.getParentRect();return{x:e.clientX-n.left,y:e.clientY-n.top}},t.prototype.positionPopupUnderComponent=function(e){var n=e.eventSource.getBoundingClientRect(),i=e.alignSide||"left",r=this.getParentRect(),c=n.left-r.left;"right"===i&&(c-=e.ePopup.offsetWidth-n.width),this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:c,y:n.top-r.top+n.height,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.positionPopupOverComponent=function(e){var n=e.eventSource.getBoundingClientRect(),i=this.getParentRect();this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:n.left-i.left,y:n.top-i.top,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.callPostProcessPopup=function(e,n,i,r,c,f){var S=this.gridOptionsWrapper.getPostProcessPopupFunc();S&&S({column:c,rowNode:f,ePopup:n,type:e,eventSource:i,mouseEvent:r})},t.prototype.positionPopup=function(e){var n=e.ePopup,r=e.nudgeX,c=e.nudgeY,f=e.x,S=e.y;r&&(f+=r),c&&(S+=c),e.keepWithinBounds&&(f=this.keepXYWithinBounds(n,f,nu.horizontal),S=this.keepXYWithinBounds(n,S,nu.vertical)),n.style.left=f+"px",n.style.top=S+"px"},t.prototype.getActivePopups=function(){return this.popupList.map(function(e){return e.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var e=this.gridOptionsWrapper.getDocument(),n=this.getPopupParent();n===e.body&&(n=e.documentElement);var i=getComputedStyle(n),r=n.getBoundingClientRect();return{top:r.top+parseFloat(i.borderTopWidth)||0,left:r.left+parseFloat(i.borderLeftWidth)||0,right:r.right+parseFloat(i.borderRightWidth)||0,bottom:r.bottom+parseFloat(i.borderBottomWidth)||0}},t.prototype.keepXYWithinBounds=function(e,n,i){var r=i===nu.vertical,c=r?"clientHeight":"clientWidth",f=r?"top":"left",S=r?"offsetHeight":"offsetWidth",M=r?"scrollTop":"scrollLeft",K=this.gridOptionsWrapper.getDocument(),ve=K.documentElement,Pe=this.getPopupParent(),dt=Pe.getBoundingClientRect(),vt=K.documentElement.getBoundingClientRect(),sn=Pe===K.body,wn=e[S],Un=sn?(r?Q:$e)(ve)+ve[M]:Pe[c];sn&&(Un-=Math.abs(vt[f]-dt[f]));var qn=Un-wn;return Math.min(Math.max(n,0),Math.abs(qn))},t.prototype.keepPopupPositionedRelativeTo=function(e){var n=this,i=this.getPopupParent(),r=i.getBoundingClientRect(),c=e.element.getBoundingClientRect(),f=r.top-c.top,S=r.left-c.left,M=f,K=S,ve=e.ePopup.style.top,Pe=parseInt(ve.substring(0,ve.length-1),10),dt=e.ePopup.style.left,vt=parseInt(dt.substring(0,dt.length-1),10);return new Zo(function(sn){n.getFrameworkOverrides().setInterval(function(){var wn=i.getBoundingClientRect(),zn=e.element.getBoundingClientRect();if(0==zn.top&&0==zn.left&&0==zn.height&&0==zn.width)e.hidePopup();else{var qn=wn.top-zn.top;if(qn!=M){var Di=n.keepXYWithinBounds(e.ePopup,Pe+f-qn,nu.vertical);e.ePopup.style.top=Di+"px"}M=qn;var lr=wn.left-zn.left;if(lr!=K){var no=n.keepXYWithinBounds(e.ePopup,vt+S-lr,nu.horizontal);e.ePopup.style.left=no+"px"}K=lr}},200).then(function(wn){sn(function(){null!=wn&&window.clearInterval(wn)})})})},t.prototype.addPopup=function(e){var n=this,i=e.modal,r=e.eChild,c=e.closeOnEsc,f=e.closedCallback,S=e.click,M=e.alwaysOnTop,K=e.afterGuiAttached,ve=e.positionCallback,Pe=e.anchorToElement,dt=e.ariaLabel,vt=this.gridOptionsWrapper.getDocument(),sn=new Zo(function(uo){return uo(function(){})});if(!vt)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:sn};var wn=this.popupList.findIndex(function(uo){return uo.element===r});if(-1!==wn){var zn=this.popupList[wn];return{hideFunc:zn.hideFunc,stopAnchoringPromise:zn.stopAnchoringPromise}}var Un=this.getPopupParent();null==r.style.top&&(r.style.top="0px"),null==r.style.left&&(r.style.left="0px");var qn=document.createElement("div"),Di=this.environment.getTheme().theme;Di&&qn.classList.add(Di),qn.classList.add("ag-popup"),r.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),r.hasAttribute("role")||cr(r,"dialog"),hs(r,dt),this.focusService.isKeyboardMode()&&r.classList.add(Od.AG_KEYBOARD_FOCUS),qn.appendChild(r),Un.appendChild(qn),M?this.setAlwaysOnTop(qn,!0):this.bringPopupToFront(qn);var lr=!1,no=function(uo){qn.contains(vt.activeElement)&&uo.key===Nn.ESCAPE&&Qr({keyboardEvent:uo})},io=function(uo){return Qr({mouseEvent:uo})},ur=function(uo){return Qr({touchEvent:uo})},Qr=function(uo){void 0===uo&&(uo={});var na=uo.mouseEvent,Us=uo.touchEvent,Cl=uo.keyboardEvent;n.isEventFromCurrentPopup({mouseEvent:na,touchEvent:Us},r)||n.isEventSameChainAsOriginalEvent({originalMouseEvent:S,mouseEvent:na,touchEvent:Us})||lr||(lr=!0,Un.removeChild(qn),vt.removeEventListener("keydown",no),vt.removeEventListener("mousedown",io),vt.removeEventListener("touchstart",ur),vt.removeEventListener("contextmenu",io),n.eventService.removeEventListener(nt.EVENT_DRAG_STARTED,io),f&&f(na||Us||Cl),n.popupList=n.popupList.filter(function(dc){return dc.element!==r}),sn&&sn.then(function(dc){return dc&&dc()}))};return K&&K({hidePopup:Qr}),window.setTimeout(function(){c&&vt.addEventListener("keydown",no),i&&(vt.addEventListener("mousedown",io),n.eventService.addEventListener(nt.EVENT_DRAG_STARTED,io),vt.addEventListener("touchstart",ur),vt.addEventListener("contextmenu",io))},0),ve&&ve(),Pe&&(sn=this.keepPopupPositionedRelativeTo({element:Pe,ePopup:r,hidePopup:Qr})),this.popupList.push({element:r,wrapper:qn,hideFunc:Qr,stopAnchoringPromise:sn,instanceId:Jv++,isAnchored:!!Pe}),{hideFunc:Qr,stopAnchoringPromise:sn}},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(e){return e.isAnchored})},t.prototype.isEventFromCurrentPopup=function(e,n){var c=e.mouseEvent||e.touchEvent;if(!c)return!1;var f=this.popupList.findIndex(function(K){return K.element===n});if(-1===f)return!1;for(var S=f;S<this.popupList.length;S++)if(Zi(this.popupList[S].element,c))return!0;return this.isElementWithinCustomPopup(c.target)},t.prototype.isElementWithinCustomPopup=function(e){for(var n=this.gridOptionsWrapper.getDocument();e&&e!==n.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var n=e.originalMouseEvent,i=e.mouseEvent,r=e.touchEvent,c=null;if(i?c=i:r&&(c=r.touches[0]),c&&n){var S=i?i.screenY:0,M=Math.abs(n.screenX-(i?i.screenX:0))<5,K=Math.abs(n.screenY-S)<5;if(M&&K)return!0}return!1},t.prototype.getWrapper=function(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,n){var i=this.getWrapper(e);!i||(i.classList.toggle("ag-always-on-top",!!n),n&&this.bringPopupToFront(i))},t.prototype.bringPopupToFront=function(e){var n=this.getPopupParent(),i=Array.prototype.slice.call(n.querySelectorAll(".ag-popup")),r=i.length,c=Array.prototype.slice.call(n.querySelectorAll(".ag-popup.ag-always-on-top")),f=c.length,S=this.getWrapper(e);if(S&&!(r<=1)&&n.contains(e)){var M=i.indexOf(S),K=S.querySelectorAll("div"),ve=[];for(K.forEach(function(sn){0!==sn.scrollTop&&ve.push([sn,sn.scrollTop])}),f?S.classList.contains("ag-always-on-top")?M!==r-1&&mn(c).insertAdjacentElement("afterend",S):M!==r-f-1&&c[0].insertAdjacentElement("beforebegin",S):M!==r-1&&mn(i).insertAdjacentElement("afterend",S);ve.length;){var dt=ve.pop();dt[0].scrollTop=dt[1]}var vt={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:S};this.eventService.dispatchEvent(vt)}},vp([D("environment")],t.prototype,"environment",void 0),vp([D("focusService")],t.prototype,"focusService",void 0),vp([D("ctrlsService")],t.prototype,"ctrlsService",void 0),vp([ft],t.prototype,"postConstruct",null),vp([Ae("popupService")],t)}(he),Qm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Df=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Xm=function(o){function t(e,n,i){void 0===e&&(e="default"),void 0===n&&(n="listbox");var r=o.call(this,t.getTemplate(e))||this;return r.cssIdentifier=e,r.ariaRole=n,r.listName=i,r.renderedRows=new Map,r.rowHeight=20,r.isDestroyed=!1,r}return Qm(t,o),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(n){return e.onFocusIn(n)},onFocusOut:function(n){return e.onFocusOut(n)},focusInnerElement:function(n){return e.focusInnerElement(n)},onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}}),this.setAriaProperties()},t.prototype.setAriaProperties=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;cr(i,this.ariaRole),hs(i,n)},t.prototype.addResizeObserver=function(){var e=this.drawVirtualRows.bind(this),n=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(n)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var n=e.target;return n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Vo(n)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case Nn.UP:case Nn.DOWN:this.navigate(e.key===Nn.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.focusService.focusInto(this.getGui(),!e.shiftKey)},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var n=this.lastFocusedRowIndex+(e?-1:1);return!(n<0||n>=this.model.getRowCount()||(this.focusRow(n),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var n=this;this.ensureIndexVisible(e),window.setTimeout(function(){var i=n.renderedRows.get(e);i&&i.eDiv.focus()},10)},t.prototype.getComponentAt=function(e){var n=this.renderedRows.get(e);return n&&n.rowComponent},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var n=this.model.getRowCount();if("number"!=typeof e||e<0||e>=n)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);else{var i=e*this.rowHeight,r=i+this.rowHeight,c=this.getGui(),f=c.scrollTop,S=c.offsetHeight,ve=f+S<r;f>i?c.scrollTop=i:ve&&(c.scrollTop=r-S)}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){var e=this;if(null!=this.model&&!this.isDestroyed){var n=this.model.getRowCount();this.eContainer.style.height=n*this.rowHeight+"px",je(function(){return e.eContainer.clientHeight>=n*e.rowHeight},function(){e.isDestroyed||(e.clearVirtualRows(),e.drawVirtualRows())})}},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(n,i){return e.removeRow(i)})},t.prototype.drawVirtualRows=function(){var e=this.getGui(),n=e.scrollTop,i=n+e.offsetHeight,r=Math.floor(n/this.rowHeight),c=Math.floor(i/this.rowHeight);this.ensureRowsRendered(r,c)},t.prototype.ensureRowsRendered=function(e,n){var i=this;this.renderedRows.forEach(function(c,f){(f<e||f>n)&&f!==i.lastFocusedRowIndex&&i.removeRow(f)});for(var r=e;r<=n;r++)this.renderedRows.has(r)||r<this.model.getRowCount()&&this.insertRow(r)},t.prototype.insertRow=function(e){var n=this,i=this.model.getRow(e),r=document.createElement("div");if(r.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),cr(r,"tree"===this.ariaRole?"treeitem":"option"),Vi(r,this.model.getRowCount()),Qi(r,e+1),r.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var c=this.model.isRowSelected(e);Jn(r,!!c),Tr(r,c)}r.style.height=this.rowHeight+"px",r.style.top=this.rowHeight*e+"px";var f=this.componentCreator(i,r);f.addGuiEventListener("focusin",function(){return n.lastFocusedRowIndex=e}),r.appendChild(f.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",r):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",r):this.eContainer.appendChild(r),this.renderedRows.set(e,{rowComponent:f,eDiv:r})},t.prototype.removeRow=function(e){var n=this.renderedRows.get(e);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(e)},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()})},t.prototype.setModel=function(e){this.model=e},t.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,o.prototype.destroy.call(this))},Df([D("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Df([D("focusService")],t.prototype,"focusService",void 0),Df([Gn("eContainer")],t.prototype,"eContainer",void 0),Df([ft],t.prototype,"postConstruct",null),t}(Pl),Sf=["mouseover","mouseout","mouseenter","mouseleave"],Jm=["touchstart","touchend","touchmove","touchcancel"],Rf=function(){function o(){this.isOutsideAngular=function(t){return We(Sf,t)}}return o.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},o.prototype.setInterval=function(t,e){return new Zo(function(n){n(window.setInterval(t,e))})},o.prototype.addEventListener=function(t,e,n,i){var r=We(Jm,e);t.addEventListener(e,n,{capture:!!i,passive:r})},o.prototype.dispatchEvent=function(t,e,n){e()},o.prototype.frameworkComponent=function(t){return null},o.prototype.isFrameworkComponent=function(t){return!1},o}(),ev=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},yo=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ev(t,o),t.prototype.getNextCellToFocus=function(e,n,i){return void 0===i&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(e,n):this.getNextCellToFocusWithoutCtrlPressed(e,n)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,n){var f,S,i=e===Nn.UP,c=e===Nn.LEFT;if(i||e===Nn.DOWN)S=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),f=n.column;else{var M=this.columnModel.getAllDisplayedColumns(),K=this.gridOptionsWrapper.isEnableRtl();S=n.rowIndex,f=c!==K?M[0]:mn(M)}return{rowIndex:S,rowPinned:null,column:f}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,n){for(var i=n,r=!1;!r;){switch(e){case Nn.UP:i=this.getCellAbove(i);break;case Nn.DOWN:i=this.getCellBelow(i);break;case Nn.RIGHT:i=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(i):this.getCellToRight(i);break;case Nn.LEFT:i=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e)}r=!i||this.isCellGoodToFocusOn(i)}return i},t.prototype.isCellGoodToFocusOn=function(e){var i,n=e.column;switch(e.rowPinned){case Qe.PINNED_TOP:i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case Qe.PINNED_BOTTOM:i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}return!!i&&!n.isSuppressNavigable(i)},t.prototype.getCellToLeft=function(e){if(!e)return null;var n=this.columnModel.getDisplayedColBefore(e.column);return n?{rowIndex:e.rowIndex,column:n,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var n=this.columnModel.getDisplayedColAfter(e.column);return n?{rowIndex:e.rowIndex,column:n,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var n=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case Qe.PINNED_BOTTOM:return null;case Qe.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(Qe.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Qe.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(Qe.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Qe.PINNED_BOTTOM}:null}return{rowIndex:n+1,rowPinned:i}},t.prototype.getCellBelow=function(e){if(!e)return null;var n=this.getRowBelow(e);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var n=e.rowPinned,i=e.rowIndex;return n===Qe.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:n===Qe.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i},t.prototype.getRowAbove=function(e){var n=e.rowIndex,i=e.rowPinned;return(i?0===n:n===this.paginationProxy.getPageFirstRow())?i===Qe.PINNED_TOP?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(Qe.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:n-1,rowPinned:i}},t.prototype.getCellAbove=function(e){if(!e)return null;var n=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:Qe.PINNED_TOP}},t.prototype.getNextTabbedCell=function(e,n){return n?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var n=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,r=e.rowPinned,c=this.columnModel.getDisplayedColAfter(e.column);if(!c){c=n[0];var f=this.getRowBelow(e);if(V(f)||!f.rowPinned&&!this.paginationProxy.isRowInPage(f))return null;i=f?f.rowIndex:null,r=f?f.rowPinned:null}return{rowIndex:i,column:c,rowPinned:r}},t.prototype.getNextTabbedCellBackwards=function(e){var n=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,r=e.rowPinned,c=this.columnModel.getDisplayedColBefore(e.column);if(!c){c=mn(n);var f=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(V(f)||!f.rowPinned&&!this.paginationProxy.isRowInPage(f))return null;i=f?f.rowIndex:null,r=f?f.rowPinned:null}return{rowIndex:i,column:c,rowPinned:r}},Xc([D("columnModel")],t.prototype,"columnModel",void 0),Xc([D("rowModel")],t.prototype,"rowModel",void 0),Xc([D("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Xc([D("paginationProxy")],t.prototype,"paginationProxy",void 0),Xc([Ae("cellNavigationService")],t)}(he),tv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Md=function(o,t){return function(e,n){t(e,n,o)}},nv=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.consuming=!1,e}return tv(t,o),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.init=function(){this.addManagedListener(this.eventService,nt.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var n=this.gridOptionsWrapper.getAlignedGrids();n&&n.forEach(function(i){if(i.api){var r=i.api.__getAlignedGridService();e(r)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(n){n.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(n){n.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var n=this;this.onEvent(function(){n.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left)})},t.prototype.getMasterColumns=function(e){var n=[];return e.columns?e.columns.forEach(function(i){n.push(i)}):e.column&&n.push(e.column),n},t.prototype.getColumnIds=function(e){var n=[];return e.columns?e.columns.forEach(function(i){n.push(i.getColId())}):e.column&&n.push(e.column.getColId()),n},t.prototype.onColumnEvent=function(e){var n=this;this.onEvent(function(){switch(e.type){case nt.EVENT_COLUMN_MOVED:case nt.EVENT_COLUMN_VISIBLE:case nt.EVENT_COLUMN_PINNED:case nt.EVENT_COLUMN_RESIZED:n.processColumnEvent(e);break;case nt.EVENT_COLUMN_GROUP_OPENED:n.processGroupOpenedEvent(e);break;case nt.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var n=e.columnGroup,i=null;if(n){var r=n.getGroupId();i=this.columnModel.getProvidedColumnGroup(r)}n&&!i||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+n.isExpanded()),this.columnModel.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var n=this,i=e.column,r=null;if(i&&(r=this.columnModel.getPrimaryColumn(i.getColId())),!i||r){var c=this.getMasterColumns(e);switch(e.type){case nt.EVENT_COLUMN_MOVED:var f=e,M=e.columnApi.getColumnState().map(function(wn){return{colId:wn.colId}});this.columnModel.applyColumnState({state:M,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+f.toIndex);break;case nt.EVENT_COLUMN_VISIBLE:var K=e;M=e.columnApi.getColumnState().map(function(Un){return{colId:Un.colId,hide:Un.hide}}),this.columnModel.applyColumnState({state:M},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+K.visible);break;case nt.EVENT_COLUMN_PINNED:var ve=e;M=e.columnApi.getColumnState().map(function(Un){return{colId:Un.colId,pinned:Un.pinned}}),this.columnModel.applyColumnState({state:M},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+ve.pinned);break;case nt.EVENT_COLUMN_RESIZED:var Pe=e;c.forEach(function(wn){n.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+wn.getActualWidth());var zn=[{key:wn.getColId(),newWidth:wn.getActualWidth()}];n.columnModel.setColumnWidths(zn,!1,Pe.finished,"alignedGridChanged")})}var vt=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),sn=this.gridOptionsWrapper.getAlignedGrids();sn&&sn.forEach(function(wn){wn.api&&wn.api.setAlwaysShowVerticalScroll(vt)})}},Jc([D("columnModel")],t.prototype,"columnModel",void 0),Jc([D("ctrlsService")],t.prototype,"ctrlsService",void 0),Jc([Md(0,me("loggerFactory"))],t.prototype,"setBeans",null),Jc([ft],t.prototype,"init",null),Jc([Ae("alignedGridsService")],t)}(he),Vs=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Js=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},oc=function(o,t){return function(e,n){t(e,n,o)}},iv=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Vs(t,o),t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset()},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,nt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return Le(this.selectedNodes,function(n,i){i&&e.push(i)}),e},t.prototype.getSelectedRows=function(){var e=[];return Le(this.selectedNodes,function(n,i){i&&i.data&&e.push(i.data)}),e},t.prototype.removeGroupsFromSelection=function(){var e=this;Le(this.selectedNodes,function(n,i){i&&i.group&&(e.selectedNodes[i.id]=void 0)})},t.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===Qe.ROW_MODEL_TYPE_CLIENT_SIDE){var i=this.rowModel.getRootNode();e||(e=new hh(!0,i)).setInactive(),e.forEachChangedNodeDepthFirst(function(r){r!==i&&r.calculateSelectedFromChildren()})}},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e){var n=this,i={},r=0;return Le(this.selectedNodes,function(c,f){f&&f.id!==e.id&&(r+=n.selectedNodes[f.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),n.groupSelectsChildren&&f.parent&&(i[f.parent.id]=f.parent))}),Le(i,function(c,f){f.calculateSelectedFromChildren()}),r},t.prototype.onRowSelected=function(e){var n=e.node;this.groupSelectsChildren&&n.group||(this.selectedNodes[n.id]=n.isSelected()?n:void 0)},t.prototype.syncInRowNode=function(e,n){this.syncInOldRowNode(e,n),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,n){v(n)&&e.id!==n.id&&n&&this.selectedNodes[n.id]==e&&(this.selectedNodes[n.id]=n)},t.prototype.syncInNewRowNode=function(e){v(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===Qe.ROW_MODEL_TYPE_CLIENT_SIDE){var n=this.rowModel.getTopLevelNodes();if(null!==n){var i=[];return function r(c){for(var f=0,S=c.length;f<S;f++){var M=c[f];M.isSelected()?i.push(M):M.group&&M.children&&r(M.children)}}(n),i}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return Le(this.selectedNodes,function(n,i){i&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){void 0===e&&(e=!1);var n=function(f){return f.selectThisNode(!1)},i=this.rowModel.getType()===Qe.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!i)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(n)}else Le(this.selectedNodes,function(f,S){S&&n(S)}),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:nt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectAllRowNodes=function(e){if(void 0===e&&(e=!1),this.rowModel.getType()!==Qe.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var n=this.rowModel,i=function(c){return c.selectThisNode(!0)};e?n.forEachNodeAfterFilter(i):n.forEachNode(i),this.rowModel.getType()===Qe.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:nt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectNode=function(e,n){e&&e.setSelectedParams({newValue:!0,clearSelection:!n})},t.prototype.deselectIndex=function(e){var n=this.rowModel.getRow(e);this.deselectNode(n)},t.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(e,n){var i=this.rowModel.getRow(e);this.selectNode(i,n)},Js([D("rowModel")],t.prototype,"rowModel",void 0),Js([D("columnApi")],t.prototype,"columnApi",void 0),Js([D("gridApi")],t.prototype,"gridApi",void 0),Js([oc(0,me("loggerFactory"))],t.prototype,"setBeans",null),Js([ft],t.prototype,"init",null),Js([Ae("selectionService")],t)}(he),Tf=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},rv=function(){function o(){}return o.prototype.sizeColumnsToFit=function(t){void 0===t&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")},o.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},o.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},o.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},o.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},o.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},o.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},o.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},o.prototype.getColumnState=function(){return this.columnModel.getColumnState()},o.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},o.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},o.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},o.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},o.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},o.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},o.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},o.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},o.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},o.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},o.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},o.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},o.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},o.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},o.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},o.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},o.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},o.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},o.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},o.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},o.prototype.moveColumn=function(t,e){"number"==typeof t?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(t,e,"api")):this.columnModel.moveColumn(t,e,"api")},o.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},o.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},o.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},o.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},o.prototype.setColumnWidth=function(t,e,n,i){void 0===n&&(n=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,n,i)},o.prototype.setColumnWidths=function(t,e,n){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,n)},o.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},o.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},o.prototype.getSecondaryPivotColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},o.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},o.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},o.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},o.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},o.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},o.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},o.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},o.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},o.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},o.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},o.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},o.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},o.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},o.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},o.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},o.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},o.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},o.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},o.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},o.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},o.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},o.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},o.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},o.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},o.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},o.prototype.setSecondaryColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},o.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},o.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},o.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(rr.removeAllReferences.bind(window,this,"Column API"),100)},o.prototype.columnGroupOpened=function(t,e){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(t,e)},o.prototype.hideColumns=function(t,e){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(t,!e,"api")},o.prototype.hideColumn=function(t,e){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(t,!e,"api")},o.prototype.setState=function(t){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(t)},o.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},o.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},o.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},o.prototype.removeAggregationColumn=function(t){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(t,"api")},o.prototype.removeAggregationColumns=function(t){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(t,"api")},o.prototype.addAggregationColumn=function(t){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(t,"api")},o.prototype.addAggregationColumns=function(t){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(t,"api")},o.prototype.setColumnAggFunction=function(t,e){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(t,e,"api")},o.prototype.getDisplayNameForCol=function(t){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(t,null)},o.prototype.setColumnState=function(t){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:t,applyOrder:!0},"api")},o.prototype.getOriginalColumnGroup=function(t){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(t)},Tf([D("columnModel")],o.prototype,"columnModel",void 0),Tf([Rn],o.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Tf([Ae("columnApi")],o)}(),ey=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iu=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ov=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.initialised=!1,e}return ey(t,o),t.prototype.init=function(){var e=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(nt.EVENT_CELL_VALUE_CHANGED,function(n){return e.callColumnCellValueChangedHandler(n)},this.gridOptionsWrapper.useAsyncEvents())},t.prototype.getValue=function(e,n,i,r){if(void 0===i&&(i=!1),void 0===r&&(r=!1),this.initialised||this.init(),n){var K,c=e.getColDef(),f=c.field,S=e.getId(),M=n.data,ve=n.groupData&&void 0!==n.groupData[S],Pe=!r&&n.aggData&&void 0!==n.aggData[S];if(i&&c.filterValueGetter?K=this.executeFilterValueGetter(c.filterValueGetter,M,e,n):this.gridOptionsWrapper.isTreeData()&&Pe?K=n.aggData[S]:this.gridOptionsWrapper.isTreeData()&&c.valueGetter?K=this.executeValueGetter(c.valueGetter,M,e,n):this.gridOptionsWrapper.isTreeData()&&f&&M?K=At(M,f,e.isFieldContainsDots()):ve?K=n.groupData[S]:Pe?K=n.aggData[S]:c.valueGetter?K=this.executeValueGetter(c.valueGetter,M,e,n):f&&M&&(K=At(M,f,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof K&&0===K.indexOf("=")){var dt=K.substring(1);K=this.executeValueGetter(dt,M,e,n)}if(null==K){var vt=this.getOpenedGroup(n,e);if(null!=vt)return vt}return K}},t.prototype.getOpenedGroup=function(e,n){if(this.gridOptionsWrapper.isShowOpenedGroup()&&n.getColDef().showRowGroup)for(var r=n.getColDef().showRowGroup,c=e.parent;null!=c;){if(c.rowGroupColumn&&(!0===r||r===c.rowGroupColumn.getId()))return c.key;c=c.parent}},t.prototype.setValue=function(e,n,i,r){var c=this.columnModel.getPrimaryColumn(n);if(!e||!c)return!1;V(e.data)&&(e.data={});var f=c.getColDef(),S=f.field,M=f.newValueHandler,K=f.valueSetter;if(V(S)&&V(M)&&V(K))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var Pe,ve={node:e,data:e.data,oldValue:this.getValue(c,e),newValue:i,colDef:c.getColDef(),column:c,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return ve.newValue=i,void 0===(Pe=M&&v(M)?M(ve):v(K)?this.expressionService.evaluate(K,ve):this.setValueUsingField(e.data,S,i,c.isFieldContainsDots()))&&(Pe=!0),!!Pe&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),ve.newValue=this.getValue(c,e),this.eventService.dispatchEvent({type:nt.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:ve.column,api:ve.api,columnApi:ve.columnApi,colDef:ve.colDef,context:ve.context,data:e.data,node:e,oldValue:ve.oldValue,newValue:ve.newValue,value:ve.newValue,source:r}),!0)},t.prototype.callColumnCellValueChangedHandler=function(e){var n=e.colDef.onCellValueChanged;"function"==typeof n&&n({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,n,i,r){if(!n)return!1;if(r)for(var f=n.split("."),S=e;f.length>0&&S;){var M=f.shift();0===f.length?S[M]=i:S=S[M]}else e[n]=i;return!0},t.prototype.executeFilterValueGetter=function(e,n,i,r){var c={data:n,node:r,column:i,colDef:i.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)};return this.expressionService.evaluate(e,c)},t.prototype.executeValueGetter=function(e,n,i,r){var c=i.getId(),f=this.valueCache.getValue(r,c);if(void 0!==f)return f;var S={data:n,node:r,column:i,colDef:i.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)},M=this.expressionService.evaluate(e,S);return this.valueCache.setValue(r,c,M),M},t.prototype.getValueCallback=function(e,n){var i=this.columnModel.getPrimaryColumn(n);return i?this.getValue(i,e):null},t.prototype.getKeyForNode=function(e,n){var i=this.getValue(e,n),r=e.getColDef().keyCreator,c=i;return r&&(c=r({value:i,colDef:e.getColDef(),column:e,node:n,data:n.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof c||null==c||"[object Object]"===(c=String(c))&&Mt(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),c},iu([D("expressionService")],t.prototype,"expressionService",void 0),iu([D("columnModel")],t.prototype,"columnModel",void 0),iu([D("valueCache")],t.prototype,"valueCache",void 0),iu([ft],t.prototype,"init",null),iu([Ae("valueService")],t)}(he),Af=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sv=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},av=function(o,t){return function(e,n){t(e,n,o)}},Qo=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return Af(t,o),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,n){return"function"==typeof e?e(n):"string"==typeof e?this.evaluateExpression(e,n):void console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,n){try{return this.createExpressionFunction(e)(n.value,n.context,n.oldValue,n.newValue,n.value,n.node,n.data,n.colDef,n.rowIndex,n.api,n.columnApi,n.getValue,n.column,n.columnGroup)}catch(c){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",n),console.log("Exception = "+c),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",n);return this.expressionToFunctionCache[e]=i,i},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},sv([av(0,me("loggerFactory"))],t.prototype,"setBeans",null),sv([Ae("expressionService")],t)}(he),Py=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hs=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return Py(t,o),t.prototype.getTemplate=function(e,n){var i=this.templateCache[e];if(i)return i;var r=this.waitingCallbacks[e],c=this;if(!r){this.waitingCallbacks[e]=r=[];var f=new XMLHttpRequest;f.onload=function(){c.handleHttpResult(this,e)},f.open("GET",e),f.send()}return n&&r.push(n),null},t.prototype.handleHttpResult=function(e,n){if(200===e.status&&null!==e.response){this.templateCache[n]=e.response||e.responseText;for(var i=this.waitingCallbacks[n],r=0;r<i.length;r++)(0,i[r])()}else console.warn("AG Grid: Unable to get template error "+e.status+" - "+n)},t=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r}([Ae("templateService")],t),t}(he),lv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uv=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ny=function(o,t){return function(e,n){t(e,n,o)}},Bg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return lv(t,o),t.prototype.setBeans=function(e){this.logging=e.isDebug()},t.prototype.create=function(e){return new yp(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},uv([ny(0,me("gridOptionsWrapper"))],t.prototype,"setBeans",null),uv([Ae("loggerFactory")],t)}(he),yp=function(){function o(t,e){this.name=t,this.isLoggingFunc=e}return o.prototype.isLogging=function(){return this.isLoggingFunc()},o.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},o}(),iy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ed=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Gg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return iy(t,o),t.prototype.setComp=function(e,n,i){var r=this;this.view=e,this.eGridHostDiv=n,this.eGui=i,this.mouseEventService.stampTopLevelGridCompWithGridInstance(n),this.createManagedBean(new Ei(this.view)),this.addRtlSupport(),this.addManagedListener(this,nt.EVENT_KEYBOARD_FOCUS,function(){r.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,nt.EVENT_MOUSE_FOCUS,function(){r.view.addOrRemoveKeyboardFocusClass(!1)});var c=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return c()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,n;return(null===(n=null===(e=this.focusService.findTabbableParent(this.getGui()))||void 0===e?void 0:e.getAttribute("row-id"))||void 0===n?void 0:n.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return Cn.isRegistered(B.ModuleNames.RowGroupingModule)},t.prototype.showSideBar=function(){return Cn.isRegistered(B.ModuleNames.SideBarModule)},t.prototype.showStatusBar=function(){return Cn.isRegistered(B.ModuleNames.StatusBarModule)},t.prototype.showWatermark=function(){return Cn.isRegistered(B.ModuleNames.EnterpriseCoreModule)},t.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:nt.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},t.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var n=this.gridOptionsWrapper.getDocument(),i=this.view.getFocusableContainers(),c=i.findIndex(function(f){return f.contains(n.activeElement)})+(e?-1:1);return!(c<=0||c>=i.length)&&this.focusService.focusInto(i[c])},t.prototype.focusInnerElement=function(e){var n=this.view.getFocusableContainers();if(e){if(n.length>1)return this.focusService.focusInto(mn(n),!0);var i=mn(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(i,!0))return!0}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},ed([D("columnApi")],t.prototype,"columnApi",void 0),ed([D("gridApi")],t.prototype,"gridApi",void 0),ed([D("focusService")],t.prototype,"focusService",void 0),ed([D("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ed([D("columnModel")],t.prototype,"columnModel",void 0),ed([D("ctrlsService")],t.prototype,"ctrlsService",void 0),ed([D("mouseEventService")],t.prototype,"mouseEventService",void 0),t}(he),cv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),If=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Of=function(o){function t(e){var n=o.call(this,void 0)||this;return n.eGridDiv=e,n}return cv(t,o),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var n={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(r){return e.addCssClass(r)},addOrRemoveKeyboardFocusClass:function(r){return e.addOrRemoveCssClass(Od.AG_KEYBOARD_FOCUS,r)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(r){e.getGui().style.userSelect=null!=r?r:"",e.getGui().style.webkitUserSelect=null!=r?r:""},setCursor:function(r){e.getGui().style.cursor=null!=r?r:""}};this.ctrl=this.createManagedBean(new Gg);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(n,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(r){return e.ctrl.focusInnerElement(r)}})},t.prototype.insertGridIntoDom=function(){var e=this,n=this.getGui();this.eGridDiv.appendChild(n),this.addDestroyFunc(function(){e.eGridDiv.removeChild(n),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,n){var i=this.eRootWrapperBody.classList;i.toggle(B.LayoutCssClasses.AUTO_HEIGHT,n.autoHeight),i.toggle(B.LayoutCssClasses.NORMAL,n.normal),i.toggle(B.LayoutCssClasses.PRINT,n.print),this.addOrRemoveCssClass(B.LayoutCssClasses.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(B.LayoutCssClasses.NORMAL,n.normal),this.addOrRemoveCssClass(B.LayoutCssClasses.PRINT,n.print)},t.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(n){return Yn(n)})},If([D("loggerFactory")],t.prototype,"loggerFactory",void 0),If([Gn("gridBody")],t.prototype,"gridBodyComp",void 0),If([Gn("sideBar")],t.prototype,"sideBarComp",void 0),If([Gn("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),If([ft],t.prototype,"postConstruct",null),t}(Pl),dv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ou=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},_p=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}var e;return dv(t,o),e=t,t.prototype.progressSort=function(n,i,r){var c=this.getNextSortDirection(n);this.setSortForColumn(n,c,i,r)},t.prototype.setSortForColumn=function(n,i,r,c){i!==Qe.SORT_ASC&&i!==Qe.SORT_DESC&&(i=null),n.setSort(i,c),(r||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(n,c),this.updateSortIndex(n),this.dispatchSortChangedEvents(c)},t.prototype.updateSortIndex=function(n){var i=this.getColumnsWithSortingOrdered(),r=0;i.forEach(function(f){f!==n&&(f.setSortIndex(r),r++)}),n.getSort()&&n.setSortIndex(r),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(f){return null==f.getSort()}).forEach(function(f){return f.setSortIndex()})},t.prototype.onSortChanged=function(n){this.dispatchSortChangedEvents(n)},t.prototype.isSortActive=function(){var i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(r){return!!r.getSort()});return i&&i.length>0},t.prototype.dispatchSortChangedEvents=function(n){this.eventService.dispatchEvent({type:nt.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:n})},t.prototype.clearSortBarThisColumn=function(n,i){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(r){r!==n&&r.setSort(void 0,i)})},t.prototype.getNextSortDirection=function(n){var i;if(i=n.getColDef().sortingOrder?n.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():e.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+i),null;var S,r=i.indexOf(n.getSort());return e.DEFAULT_SORTING_ORDER.indexOf(S=r<0||r==i.length-1?i[0]:i[r+1])<0?(console.warn("AG Grid: invalid sort type "+S),null):S},t.prototype.getColumnsWithSortingOrdered=function(){var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),i=n.filter(function(c){return!!c.getSort()}),r={};return n.forEach(function(c,f){return r[c.getId()]=f}),i.sort(function(c,f){var S=c.getSortIndex(),M=f.getSortIndex();return null!=S&&null!=M?S-M:null==S&&null==M?r[c.getId()]>r[f.getId()]?1:-1:null==M?-1:1}),i},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(n){return{sort:n.getSort(),colId:n.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(n){return{sort:n.getSort(),column:n}})},t.DEFAULT_SORTING_ORDER=[Qe.SORT_ASC,Qe.SORT_DESC,null],Ou([D("columnModel")],t.prototype,"columnModel",void 0),Ou([D("columnApi")],t.prototype,"columnApi",void 0),Ou([D("gridApi")],t.prototype,"gridApi",void 0),e=Ou([Ae("sortController")],t)}(he),sc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ru=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},mh=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return sc(t,o),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:nt.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:nt.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},ru([D("columnApi")],t.prototype,"columnApi",void 0),ru([D("gridApi")],t.prototype,"gridApi",void 0),ru([Ae("columnHoverService")],t)}(he),ry=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vh=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Cp=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return ry(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){return e.gridBodyCtrl=n.gridBodyCtrl})},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var n=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===n&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var n=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==e.length||0!==n.length)&&(window.setTimeout(function(){return e.forEach(function(i){return i()})},0),window.setTimeout(function(){return n.forEach(function(i){return i()})},300))},vh([D("ctrlsService")],t.prototype,"ctrlsService",void 0),vh([ft],t.prototype,"postConstruct",null),vh([Ae("columnAnimationService")],t)}(he),Mf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wp=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},oy=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}var e;return Mf(t,o),e=t,t.prototype.createAutoGroupColumns=function(n,i){var r=this,c=[],f=this.gridOptionsWrapper.isTreeData(),S=this.gridOptionsWrapper.isGroupMultiAutoColumn();return f&&S&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),S=!1),S?i.forEach(function(M,K){c.push(r.createOneAutoGroupColumn(n,M,K))}):c.push(this.createOneAutoGroupColumn(n)),c},t.prototype.createOneAutoGroupColumn=function(n,i,r){var f,c=this.generateDefaultColDef(i);f=i?Qe.GROUP_AUTO_COLUMN_ID+"-"+i.getId():e.GROUP_AUTO_COLUMN_BUNDLE_ID,it(c,this.gridOptionsWrapper.getAutoGroupColumnDef()),(c=this.columnFactory.mergeColDefs(c)).colId=f,this.gridOptionsWrapper.isTreeData()||V(c.field)&&V(c.valueGetter)&&V(c.filterValueGetter)&&(c.filter=!1),r&&r>0&&(c.headerCheckboxSelection=!1);var K=n.find(function(Pe){return Pe.getId()==f});if(K)return K.setColDef(c,null),this.columnFactory.applyColumnState(K,c),K;var ve=new ri(c,null,f,!0);return this.context.createBean(ve),ve},t.prototype.generateDefaultColDef=function(n){var i=this.gridOptionsWrapper.getAutoGroupColumnDef(),c={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(i&&(i.cellRenderer||i.cellRendererFramework||i.cellRendererSelector)||(c.cellRenderer="agGroupCellRenderer"),n){var S=n.getColDef();Object.assign(c,{headerName:this.columnModel.getDisplayNameForColumn(n,"header"),headerValueGetter:S.headerValueGetter}),(S.cellRenderer||S.cellRendererFramework)&&Object.assign(c,{cellRendererParams:{innerRenderer:S.cellRenderer,innerRendererFramework:S.cellRendererFramework,innerRendererParams:S.cellRendererParams}}),c.showRowGroup=n.getColId()}else c.showRowGroup=!0;return c},t.GROUP_AUTO_COLUMN_BUNDLE_ID=Qe.GROUP_AUTO_COLUMN_ID,wp([D("columnModel")],t.prototype,"columnModel",void 0),wp([D("columnFactory")],t.prototype,"columnFactory",void 0),e=wp([Ae("autoGroupColService")],t)}(he),Mu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ac=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},xd=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Mu(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.centerRowContainerCon=n.centerRowContainerCtrl,e.addManagedListener(e.eventService,nt.EVENT_BODY_HEIGHT_CHANGED,e.onBodyHeightChanged.bind(e)),e.addManagedListener(e.eventService,nt.EVENT_SCROLL_VISIBILITY_CHANGED,e.onScrollVisibilityChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),n=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(n>0){var i=Math.floor(n/e);this.gridOptionsWrapper.setProperty("paginationPageSize",i)}}},ac([D("ctrlsService")],t.prototype,"ctrlsService",void 0),ac([ft],t.prototype,"postConstruct",null),ac([Ae("paginationAutoPageSizeService")],t)}(he),Vg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yh=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Hg=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.cacheVersion=0,e}return Vg(t,o),t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,n,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[n]=i)},t.prototype.getValue=function(e,n){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[n]},yh([ft],t.prototype,"init",null),yh([Ae("valueCache")],t)}(he),hv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_h=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},bp=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return hv(t,o),t.prototype.init=function(){this.rowModel.getType()===Qe.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,nt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==Qe.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,n){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var i=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),r=new hh(i,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[n]),this.clientSideRowModel.doAggregate(r)}this.rowRenderer.refreshCells()}},_h([D("rowModel")],t.prototype,"rowModel",void 0),_h([D("rowRenderer")],t.prototype,"rowRenderer",void 0),_h([ft],t.prototype,"init",null),_h([Ae("changeDetectionService")],t)}(he),Ug=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xf=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},td=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ug(t,o),t.prototype.adaptFunction=function(e,n){var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(n):null},t.prototype.adaptCellRendererFunction=function(e){return function(){function i(){}return i.prototype.refresh=function(r){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(r){var c=e(r),f=typeof c;this.eGui="string"!==f&&"number"!==f&&"boolean"!==f?null!=c?c:Ri("<span></span>"):Ri("<span>"+c+"</span>")},i}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},xf([D("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),xf([Ae("agComponentUtils")],t)}(he),Pf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ep=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Wg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Pf(t,o),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},Ep([D("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Ep([ft],t.prototype,"postConstruct",null),Ep([Ae("componentMetadataProvider")],t)}(he),Ff=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jg=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},pv={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},wh={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Fl={},lc=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ff(t,o),t.prototype.getSassVariable=function(e,n){var i="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),r=pv[i][n],c=0;Fl[e]||(Fl[e]={});var f=Fl[e][n];if(null!=f)return f;if(wh[n]){var S=wh[n],M=document.createElement("div");M.classList.add(e),M.style.position="absolute";var K=S.reduce(function(Pe,dt){var vt=document.createElement("div");return vt.style.position="static",vt.classList.add(dt),Pe.appendChild(vt),vt},M);if(document.body){document.body.appendChild(M);var ve=-1!==n.toLowerCase().indexOf("height")?"height":"width";c=parseInt(window.getComputedStyle(K)[ve],10),document.body.removeChild(M)}}return Fl[e][n]=c||r,Fl[e][n]},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/,n=this.eGridDiv,i=null;n&&!(i=e.exec(n.className));)n=n.parentElement||void 0;if(!i)return{};var r=i[0];if(void 0===i[2]){var f=r.replace("ag-","ag-theme-");Mt(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+r+" with "+f+".")},"using-old-theme")}return{theme:r,el:n,themeFamily:r.replace(/-dark$/,"")}},jg([D("eGridDiv")],t.prototype,"eGridDiv",void 0),jg([Ae("environment")],t)}(he),bh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ou=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Fy=function(o,t){return function(e,n){t(e,n,o)}},sy=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return bh(t,o),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,nt.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Mr(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(n!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=n,this.uiBodyHeight=i,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,n=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+n+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(n)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:nt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var n="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==n&&(this.divStretchOffset=n,this.eventService.dispatchEvent({type:nt.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return n.bottom-n.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var n=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/n)},ou([D("ctrlsService")],t.prototype,"ctrlsService",void 0),ou([Fy(0,me("loggerFactory"))],t.prototype,"agWire",null),ou([ft],t.prototype,"postConstruct",null),ou([Ae("rowContainerHeightService")],t)}(he),fv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fd=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},gv=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return fv(t,o),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(i){return i.childrenAfterGroup})},t.prototype.recurseDown=function(e,n){var i=this;!e||e.forEach(function(r){var c;r.group&&(r.hasChildren()&&i.recurseDown(n(r),n),c=i.groupSelectsChildren?v((n(r)||[]).find(function(S){return!0===S.selectable})):!!i.isRowSelectableFunc&&i.isRowSelectableFunc(r),r.setRowSelectable(c))})},Fd([ft],t.prototype,"init",null),Fd([Ae("selectableService")],t)}(he),ga=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_l=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ay=function(o){function t(){var e=o.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e}return ga(t,o),t.prototype.postConstruct=function(){var e=this,n=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",mi(n?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",mi(n?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",mi(n?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",mi(n?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,nt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(c){var f=c.el,S=c.fn;e.addManagedListener(f,"click",S),e.addManagedListener(f,"keydown",function(M){(M.key===Nn.ENTER||M.key===Nn.SPACE)&&(M.preventDefault(),S())})}),this.onPaginationChanged()):this.setDisplayed(!1)},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,n=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?n+1:0)},t.prototype.formatNumber=function(e){var n=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(n)return n({value:e});var r=this.gridOptionsWrapper.getLocaleTextFunc();return ti(e,r("thousandSeparator",","),r("decimalSeparator","."))},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("page","Page"),i=e("to","to"),r=e("of","of"),c=e("firstPage","First Page"),f=e("previousPage","Previous Page"),S=e("nextPage","Next Page"),M=e("lastPage","Last Page"),K=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+K+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+K+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+K+'-to">'+i+'</span>\n                    <span id="ag-'+K+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+K+'-of">'+r+'</span>\n                    <span id="ag-'+K+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+c+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+f+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+K+'-start-page">'+n+'</span>\n                        <span id="ag-'+K+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+K+'-of-page">'+r+'</span>\n                        <span id="ag-'+K+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+S+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+M+'"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var r=this.isZeroPagesToDisplay();this.nextButtonDisabled=n&&e===i-1||r,this.lastButtonDisabled=!n||r||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,n){xs(e,n),e.classList.toggle("ag-disabled",n),n?e.removeAttribute("tabindex"):e.setAttribute("tabindex","0")},t.prototype.updateRowLabels=function(){var c,f,e=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?c=f=0:(f=(c=n*e+1)+n-1,i&&f>r&&(f=r)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(c),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(f)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();return e&&0===n},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(1===i){var r=this.paginationProxy.getRow(0);if(r&&r.group&&!r.groupData&&!r.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(n),this.lbRecordCount.innerHTML=this.formatNumber(i);else{var f=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=f,this.lbRecordCount.innerHTML=f}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},_l([D("paginationProxy")],t.prototype,"paginationProxy",void 0),_l([D("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),_l([Gn("btFirst")],t.prototype,"btFirst",void 0),_l([Gn("btPrevious")],t.prototype,"btPrevious",void 0),_l([Gn("btNext")],t.prototype,"btNext",void 0),_l([Gn("btLast")],t.prototype,"btLast",void 0),_l([Gn("lbRecordCount")],t.prototype,"lbRecordCount",void 0),_l([Gn("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),_l([Gn("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),_l([Gn("lbCurrent")],t.prototype,"lbCurrent",void 0),_l([Gn("lbTotal")],t.prototype,"lbTotal",void 0),_l([ft],t.prototype,"postConstruct",null),t}(or),ly=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),id=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Nd=(()=>(function(o){o[o.Loading=0]="Loading",o[o.NoRows=1]="NoRows"}(Nd||(Nd={})),Nd))(),mv=function(o){function t(){var e=o.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e.manuallyDisplayed=!1,e}return ly(t,o),t.prototype.updateLayoutClasses=function(e,n){var i=this.eOverlayWrapper.classList;i.toggle(B.LayoutCssClasses.AUTO_HEIGHT,n.autoHeight),i.toggle(B.LayoutCssClasses.NORMAL,n.normal),i.toggle(B.LayoutCssClasses.PRINT,n.print)},t.prototype.postConstruct=function(){this.createManagedBean(new Ei(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,nt.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var n=this.eOverlayWrapper.classList;n.toggle("ag-overlay-loading-wrapper",e===Nd.Loading),n.toggle("ag-overlay-no-rows-wrapper",e===Nd.NoRows)},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var i=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(i,Nd.Loading)}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var i=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(i,Nd.NoRows)}},t.prototype.showOverlay=function(e,n){var i=this;this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(r){i.inProgress=!1,i.eOverlayWrapper.appendChild(r.getGui()),i.activeOverlay=r,i.destroyRequested&&(i.destroyRequested=!1,i.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),co(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){this.destroyActiveOverlay(),o.prototype.destroy.call(this)},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),n=this.gridOptionsWrapper.isSuppressNoRowsOverlay();e&&!n?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',id([D("userComponentFactory")],t.prototype,"userComponentFactory",void 0),id([D("paginationProxy")],t.prototype,"paginationProxy",void 0),id([D("gridApi")],t.prototype,"gridApi",void 0),id([D("columnModel")],t.prototype,"columnModel",void 0),id([Gn("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),id([ft],t.prototype,"postConstruct",null),t}(or),zg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},vv=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return zg(t,o),t.prototype.getFirstRow=function(){var n,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?n=Qe.PINNED_TOP:this.rowModel.getRowCount()?(n=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(n=Qe.PINNED_BOTTOM),void 0===n?null:{rowIndex:e,rowPinned:n}},t.prototype.getLastRow=function(){var e,n=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),r=this.pinnedRowModel.getPinnedTopRowCount();return i?(n=Qe.PINNED_BOTTOM,e=i-1):this.rowModel.getRowCount()?(n=null,e=this.paginationProxy.getPageLastRow()):r&&(n=Qe.PINNED_TOP,e=r-1),void 0===e?null:{rowIndex:e,rowPinned:n}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case Qe.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case Qe.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,n){return!e&&!n||!(e&&!n||!e&&n)&&e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned},t.prototype.before=function(e,n){switch(e.rowPinned){case Qe.PINNED_TOP:if(n.rowPinned!==Qe.PINNED_TOP)return!0;break;case Qe.PINNED_BOTTOM:if(n.rowPinned!==Qe.PINNED_BOTTOM)return!1;break;default:if(v(n.rowPinned))return n.rowPinned!==Qe.PINNED_TOP}return e.rowIndex<n.rowIndex},uc([D("rowModel")],t.prototype,"rowModel",void 0),uc([D("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),uc([D("paginationProxy")],t.prototype,"paginationProxy",void 0),uc([Ae("rowPositionUtils")],t)}(he),yv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cv=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return yv(t,o),t.prototype.createId=function(e){return this.createIdFromValues(e.rowIndex,e.column,e.rowPinned)},t.prototype.createIdFromValues=function(e,n,i){return e+"."+(null==i?"null":i)+"."+n.getId()},t.prototype.equals=function(e,n){return e.column===n.column&&e.rowPinned===n.rowPinned&&e.rowIndex===n.rowIndex},t=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r}([Ae("cellPositionUtils")],t),t}(he),$g=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nf=function o(t){this.cellValueChanges=t},Eh=function(o){function t(e,n,i){var r=o.call(this,e)||this;return r.initialRange=n,r.finalRange=i,r}return $g(t,o),t}(Nf),Sp=function(){function o(t){this.actionStack=[],this.maxStackSize=t||o.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return o.prototype.pop=function(){return this.actionStack.pop()},o.prototype.push=function(t){!(t.cellValueChanges&&t.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},o.prototype.clear=function(){this.actionStack=[]},o.prototype.getCurrentStackSize=function(){return this.actionStack.length},o.DEFAULT_STACK_SIZE=10,o}(),Nl=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),su=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},uy=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isFilling=!1,e.onCellValueChanged=function(n){var i={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned},r=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,i),c=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,i);if(r||c||e.isPasting||e.isFilling){var ve=n.oldValue,Pe=n.value,dt={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:n.column.getColId(),newValue:Pe,oldValue:ve};e.cellValueChanges.push(dt)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return Nl(t,o),t.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var e=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();e<=0||(this.undoStack=new Sp(e),this.redoStack=new Sp(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,nt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,nt.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,nt.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,nt.EVENT_ROW_DRAG_END,this.clearStacks))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(){if(this.undoStack){var e=this.undoStack.pop();!e||!e.cellValueChanges||(this.processAction(e,function(n){return n.oldValue}),e instanceof Eh?this.processRangeAndCellFocus(e.cellValueChanges,e.initialRange):this.processRangeAndCellFocus(e.cellValueChanges),this.redoStack.push(e))}},t.prototype.redo=function(){if(this.redoStack){var e=this.redoStack.pop();!e||!e.cellValueChanges||(this.processAction(e,function(n){return n.newValue}),e instanceof Eh?this.processRangeAndCellFocus(e.cellValueChanges,e.finalRange):this.processRangeAndCellFocus(e.cellValueChanges),this.undoStack.push(e))}},t.prototype.processAction=function(e,n){var i=this;e.cellValueChanges.forEach(function(r){var S=r.columnId,K=i.getRowNode({rowIndex:r.rowIndex,rowPinned:r.rowPinned});!K.displayed||K.setDataValue(S,n(r))})},t.prototype.processRangeAndCellFocus=function(e,n){var i;if(n){var r=n.startRow,c=n.endRow;return i={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(i),void this.gridApi.addCellRange({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:c.rowIndex,rowEndPinned:c.rowPinned,columnStart:n.startColumn,columns:n.columns})}var S=e[0],Pe=this.getRowNode({rowIndex:S.rowIndex,rowPinned:S.rowPinned});this.setLastFocusedCell(i={rowPinned:S.rowPinned,rowIndex:Pe.rowIndex,columnId:S.columnId})},t.prototype.setLastFocusedCell=function(e){var n=e.rowIndex,i=e.columnId,r=e.rowPinned;this.gridApi.ensureIndexVisible(n),this.gridApi.ensureColumnVisible(i),Cn.isRegistered(B.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(n,i,r,!0)},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,nt.EVENT_ROW_EDITING_STARTED,function(n){e.activeRowEdit={rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,nt.EVENT_ROW_EDITING_STOPPED,function(){var n=new Nf(e.cellValueChanges);e.pushActionsToUndoStack(n),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,nt.EVENT_CELL_EDITING_STARTED,function(n){e.activeCellEdit={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,nt.EVENT_CELL_EDITING_STOPPED,function(){if(e.activeCellEdit=null,!e.activeRowEdit&&!e.isPasting&&!e.isFilling){var i=new Nf(e.cellValueChanges);e.pushActionsToUndoStack(i)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,nt.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,nt.EVENT_PASTE_END,function(){var n=new Nf(e.cellValueChanges);e.pushActionsToUndoStack(n),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,nt.EVENT_FILL_START,function(){e.isFilling=!0}),this.addManagedListener(this.eventService,nt.EVENT_FILL_END,function(n){var i=new Eh(e.cellValueChanges,n.initialRange,n.finalRange);e.pushActionsToUndoStack(i),e.isFilling=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case Qe.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case Qe.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},su([D("focusService")],t.prototype,"focusService",void 0),su([D("gridApi")],t.prototype,"gridApi",void 0),su([D("rowModel")],t.prototype,"rowModel",void 0),su([D("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),su([D("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),su([D("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),su([ft],t.prototype,"init",null),su([Ae("undoRedoService")],t)}(he),au=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ea=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Ll=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return au(t,o),t.prototype.findHeader=function(e,n){var i;if(i=e.column instanceof wt?this.columnModel["getDisplayedGroup"+n](e.column):this.columnModel["getDisplayedCol"+n](e.column))return{column:i,headerRowIndex:e.headerRowIndex}},t.prototype.findColAtEdgeForHeaderRow=function(e,n){var i=this.columnModel.getAllDisplayedColumns(),r=i["start"===n?0:i.length-1];if(r){var f=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()).getRowType(e);return f==B.HeaderRowType.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(r,e)}:{headerRowIndex:null==f?-1:e,column:r}}},ea([D("columnModel")],t.prototype,"columnModel",void 0),ea([D("ctrlsService")],t.prototype,"ctrlsService",void 0),ea([Ae("headerPositionUtils")],t)}(he),wv=function(){function o(){}return o.prototype.buildColumnDefs=function(t,e,n){var i=this,r=[],c={};return t.forEach(function(f){for(var M=!0,K=i.createDefFromColumn(f,e,n),ve=f.getOriginalParent();ve;){var Pe=null;if(ve.isPadding())ve=ve.getOriginalParent();else{var dt=c[ve.getGroupId()];if(dt){dt.children.push(K),M=!1;break}(Pe=i.createDefFromGroup(ve))&&(Pe.children=[K],c[Pe.groupId]=Pe,K=Pe,ve=ve.getOriginalParent())}}M&&r.push(K)}),r},o.prototype.createDefFromGroup=function(t){var e=Je(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},o.prototype.createDefFromColumn=function(t,e,n){var i=Je(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?n.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=!t.isVisible()||void 0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,i},o=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r}([Ae("columnDefFactory")],o),o}(),Kg=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},cy=function(){function o(){}return o.prototype.getInitialRowClasses=function(t){var e=[];return v(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),Et(e,this.processClassesFromGridOptions(t.rowNode)),Et(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned===Qe.PINNED_LEFT&&e.push("ag-cell-last-left-pinned"),t.pinned===Qe.PINNED_RIGHT&&e.push("ag-cell-first-right-pinned")),e},o.prototype.processClassesFromGridOptions=function(t){var e=[],n=function(S){"string"==typeof S?e.push(S):Array.isArray(S)&&S.forEach(function(M){return e.push(M)})},i=this.gridOptionsWrapper.getRowClass();if(i){if("function"==typeof i)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}var r=this.gridOptionsWrapper.getRowClassFunc();return r&&n(r({data:t.data,node:t,rowIndex:t.rowIndex})),e},o.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(n){e.push(n)},function(n){}),e},o.prototype.processRowClassRules=function(t,e,n){var i={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),i,e,n)},o.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},Kg([D("stylingService")],o.prototype,"stylingService",void 0),Kg([D("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Kg([Ae("rowCssClassCalculator")],o)}(),Lf=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},bv=function(){function o(){}return o.prototype.doFullSort=function(t,e){var i=t.map(function(r,c){return{currentPos:c,rowNode:r}});return i.sort(this.compareRowNodes.bind(this,e)),i.map(function(r){return r.rowNode})},o.prototype.compareRowNodes=function(t,e,n){for(var i=e.rowNode,r=n.rowNode,c=0,f=t.length;c<f;c++){var Pe,S=t[c],M=S.sort===Qe.SORT_DESC,K=this.getValue(i,S.column),ve=this.getValue(r,S.column),dt=this.getComparator(S,i);if(Pe=dt?dt(K,ve,i,r,M):rr.defaultComparator(K,ve,this.gridOptionsWrapper.isAccentedSort()),!isNaN(Pe)&&0!==Pe)return S.sort===Qe.SORT_ASC?Pe:-1*Pe}return e.currentPos-n.currentPos},o.prototype.getComparator=function(t,e){var n=t.column,i=n.getColDef().comparator;if(null!=i)return i;if(e.rowGroupColumn)return e.rowGroupColumn.getColDef().comparator;if(n.getColDef().showRowGroup){var r=!e.group&&n.getColDef().field;if(r){var c=this.columnModel.getPrimaryColumn(r);if(c)return c.getColDef().comparator}}},o.prototype.getValue=function(t,e){return this.valueService.getValue(e,t,!1,!1)},Lf([D("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Lf([D("valueService")],o.prototype,"valueService",void 0),Lf([D("columnModel")],o.prototype,"columnModel",void 0),Lf([Ae("rowNodeSorter")],o)}(),Yg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ev=function(o){function t(){var n=null!==o&&o.apply(this,arguments)||this;return n.ready=!1,n.readyCallbacks=[],n}var e;return Yg(t,o),e=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var n=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(n)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(n){this.ready?n(this.createReadyParams()):this.readyCallbacks.push(n)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollCtrl=function(n){this.fakeHScrollCtrl=n,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(n){this.gridHeaderCtrl=n,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(n){this.centerRowContainerCtrl=n,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(n){this.leftRowContainerCtrl=n,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(n){this.rightRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(n){this.topCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(n){this.topLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(n){this.topRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(n){this.bottomCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(n){this.bottomLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(n){this.bottomRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerHeaderContainer=function(n,i){switch(i){case Qe.PINNED_LEFT:this.leftHeaderRowContainerCtrl=n;break;case Qe.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=n;break;default:this.centerHeaderRowContainerCtrl=n}this.checkReady()},t.prototype.registerGridBodyCtrl=function(n){this.gridBodyCtrl=n,this.checkReady()},t.prototype.registerGridCtrl=function(n){this.gridCtrl=n,this.checkReady()},t.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(n){switch(n){case Qe.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case Qe.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=e=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r}([Ae(e.NAME)],t),t}(he),Dv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sv=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.registry={},e}return Dv(t,o),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var n=this.registry[e];if(null!=n)return new n},t=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r}([Ae("ctrlsFactory")],t),t}(he),Ld=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cc=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},hy=function(o){function t(){return o.call(this)||this}return Ld(t,o),t.prototype.setComp=function(e,n,i,r){this.view=e,this.eViewport=i,this.eContainer=r,this.eGui=n,this.addManagedListener(this.eventService,nt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var c=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,c),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,c),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_DOM_LAYOUT,c),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},t.prototype.addActiveListenerToggles=function(){var e=this;["mouseenter","mousedown","touchstart"].forEach(function(r){return e.addManagedListener(e.eGui,r,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(r){return e.addManagedListener(e.eGui,r,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=pe()},t.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,nt.EVENT_BODY_SCROLL,function(n){"horizontal"===n.direction&&e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,nt.EVENT_BODY_SCROLL_END,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),n=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,r=this.gridOptionsWrapper.getScrollbarWidth();i&&(n+=r),this.view.setRightSpacerFixedWidth(n),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",n<=r);var c=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(c+=r),this.view.setLeftSpacerFixedWidth(c),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",c<=r)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,i=this.gridOptionsWrapper.isSuppressHorizontalScroll(),r=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,f=i?0:0===r&&n?15:r;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",n),this.view.setHeight(f),this.view.setViewportHeight(f),this.view.setContainerHeight(f)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},cc([D("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),cc([D("columnModel")],t.prototype,"columnModel",void 0),cc([D("ctrlsService")],t.prototype,"ctrlsService",void 0),cc([ft],t.prototype,"postConstruct",null),t}(he),Rv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dh=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Zg=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return Rv(t,o),t.prototype.postConstruct=function(){var e=this,n={addOrRemoveCssClass:function(r,c){return e.addOrRemoveCssClass(r,c)},setHeight:function(r){return Ie(e.getGui(),r)},setContainerHeight:function(r){return Ie(e.eContainer,r)},setViewportHeight:function(r){return Ie(e.eViewport,r)},setRightSpacerFixedWidth:function(r){return So(e.eRightSpacer,r)},setLeftSpacerFixedWidth:function(r){return So(e.eLeftSpacer,r)},includeLeftSpacerScrollerCss:function(r,c){return e.eLeftSpacer.classList.toggle(r,c)},includeRightSpacerScrollerCss:function(r,c){return e.eRightSpacer.classList.toggle(r,c)}};this.createManagedBean(new hy).setComp(n,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new Lc(function(r){return e.eContainer.style.width=r+"px"}))},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Dh([Gn("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),Dh([Gn("eRightSpacer")],t.prototype,"eRightSpacer",void 0),Dh([Gn("eViewport")],t.prototype,"eViewport",void 0),Dh([Gn("eContainer")],t.prototype,"eContainer",void 0),Dh([ft],t.prototype,"postConstruct",null),t}(or),kf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bf=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Tv=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return kf(t,o),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,nt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_DOM_LAYOUT,e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsWrapper.getDomLayout()===Qe.DOM_LAYOUT_PRINT,n=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,this.eventService.dispatchEvent({type:nt.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:nt.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Bf([D("columnModel")],t.prototype,"columnModel",void 0),Bf([ft],t.prototype,"postConstruct",null),Bf([Ae("pinnedWidthService")],t)}(he),py=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gf=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},qg=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.events=[],e}return py(t,o),t.prototype.postConstruct=function(){this.rowModel.getType()==Qe.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var n=this;null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){n.clientSideRowModel&&n.clientSideRowModel.onRowGroupOpened(),n.events.forEach(function(r){return n.eventService.dispatchEvent(r)}),n.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)},Gf([D("animationFrameService")],t.prototype,"animationFrameService",void 0),Gf([D("rowModel")],t.prototype,"rowModel",void 0),Gf([ft],t.prototype,"postConstruct",null),Gf([Ae("rowNodeEventThrottle")],t)}(he),d=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},s=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(d(arguments[t]));return o},l=function(){function o(t,e,n){e?(this.gridOptions=e,(new p).create(t,e,function(i){var r=new Of(t);i.createBean(r)},void 0,n)):console.error("AG Grid: no gridOptions provided to the grid")}return o.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},o}(),p=function(){function o(){}return o.prototype.create=function(t,e,n,i,r){var c=this,f=!!e.debug,S=this.getRegisteredModules(r),M=this.createBeansList(e.rowModelType,S),K=this.createProvidedBeans(t,e,r);if(M){var ve={providedBeanInstances:K,beanClasses:M,debug:f},Pe=new yp("AG Grid",function(){return e.debug}),dt=new yp("Context",function(){return ve.debug}),vt=new En(ve,dt),sn=vt.getBean("beans");this.registerModuleUserComponents(sn,S),this.registerStackComponents(sn,S),this.registerControllers(sn,S),n(vt),sn.ctrlsService.whenReady(function(){c.setColumnsAndData(sn),c.dispatchGridReadyEvent(sn,e);var wn=Cn.isRegistered(B.ModuleNames.EnterpriseCoreModule);Pe.log("initialised successfully, enterprise = "+wn)}),i&&i(vt)}},o.prototype.registerControllers=function(t,e){e.forEach(function(n){n.controllers&&n.controllers.forEach(function(i){return t.ctrlsFactory.register(i)})})},o.prototype.registerStackComponents=function(t,e){var n=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(n)},o.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,n=Cn.getRegisteredModules(),i=[],r={};function c(f,S){(function M(K){r[K.moduleName]||(r[K.moduleName]=!0,i.push(K),Cn.register(K,f))})(S),S.dependantModules&&S.dependantModules.forEach(c.bind(null,f))}return e&&e.forEach(c.bind(null,!0)),n&&n.forEach(c.bind(null,!Cn.isPackageBased())),i},o.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,function(i){return i.userComponents?i.userComponents:[]}).forEach(function(i){t.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},o.prototype.createProvidedBeans=function(t,e,n){var i=n?n.frameworkOverrides:null;V(i)&&(i=new Rf);var r={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r},o.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:Ql},{componentName:"AgRadioButton",componentClass:Hm},{componentName:"AgToggleButton",componentClass:Um},{componentName:"AgInputTextField",componentClass:Ol},{componentName:"AgInputTextArea",componentClass:Ml},{componentName:"AgInputNumberField",componentClass:Zv},{componentName:"AgInputRange",componentClass:gp},{componentName:"AgSelect",componentClass:fn},{componentName:"AgSlider",componentClass:qv},{componentName:"AgAngleSelect",componentClass:Cf},{componentName:"AgColorPicker",componentClass:Pg},{componentName:"AgGridBody",componentClass:eh},{componentName:"AgHeaderRoot",componentClass:lh},{componentName:"AgPagination",componentClass:ay},{componentName:"AgOverlayWrapper",componentClass:mv},{componentName:"AgGroupComponent",componentClass:Rd},{componentName:"AgPanel",componentClass:Mg},{componentName:"AgDialog",componentClass:Sd},{componentName:"AgRowContainer",componentClass:hg},{componentName:"AgFakeHorizontalScroll",componentClass:Zg}],n=this.extractModuleEntity(t,function(i){return i.agStackComponents?i.agStackComponents:[]});return e.concat(n)},o.prototype.createBeansList=function(t,e){var n=this.getRowModelClass(t,e);if(n){var i=[n,Ru,vv,Cv,Ll,xd,mg,Lp,td,Wg,lp,Wh,sy,jc,dh,sl,oi,rn,Ne,kg,iv,Gp,ia,cf,Yv,Bm,Qo,gi,Hs,nv,Lv,Hg,ov,Bg,Xt,Tg,$c,to,rv,Od,cg,lc,yo,Gm,vf,_m,_p,mh,Cp,gv,oy,bp,Fm,uy,js,wv,cy,ff,bv,Ev,Tv,qg,Sv],r=this.extractModuleEntity(e,function(f){return f.beans?f.beans:[]});i.push.apply(i,s(r));var c=[];return i.forEach(function(f){c.indexOf(f)<0&&c.push(f)}),c}},o.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],s(t.map(e)))},o.prototype.setColumnsAndData=function(t){var e=t.gridOptionsWrapper.getColumnDefs();t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()},o.prototype.dispatchGridReadyEvent=function(t,e){t.eventService.dispatchEvent({type:nt.EVENT_GRID_READY,api:e.api,columnApi:e.columnApi})},o.prototype.getRowModelClass=function(t,e){t||(t=Qe.ROW_MODEL_TYPE_CLIENT_SIDE);var n={};e.forEach(function(r){Le(r.rowModels,function(c,f){n[c]=f})});var i=n[t];if(v(i))return i;Cn.isPackageBased()?[Qe.ROW_MODEL_TYPE_VIEWPORT,Qe.ROW_MODEL_TYPE_SERVER_SIDE].includes(t)?console.error('AG Grid: Row Model "'+t+"\" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/"):console.error("AG Grid: could not find row model for rowModelType "+t):t===Qe.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+B.ModuleNames.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===Qe.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+B.ModuleNames.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===Qe.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+B.ModuleNames.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===Qe.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+B.ModuleNames.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+t)},o}(),E=function(){function o(){}return o.prototype.wrap=function(t,e,n,i){var r=this;void 0===n&&(n=[]);var c=this.createWrapper(t,i);return e.forEach(function(f){r.createMethod(c,f,!0)}),n.forEach(function(f){r.createMethod(c,f,!1)}),c},o.prototype.unwrap=function(t){return t},o.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},o.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},o}();!function(o){o.InsideBase="insideBase",o.InsideEnd="insideEnd",o.Center="center",o.OutsideEnd="outsideEnd"}(B.BarColumnLabelPlacement||(B.BarColumnLabelPlacement={}));var L="undefined"==typeof global?{}:global;L.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,L.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,L.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,L.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,L.Node="undefined"==typeof Node?{}:Node,L.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var J=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r},He=function(){function o(t,e,n,i,r,c,f,S){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=e,this.eventService=n,this.columnModel=i,this.gridApi=r,this.columnApi=c,this.beans=S,this.selectionService=f,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=o.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return o.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},o.prototype.getCopyOfNodesMap=function(){return rr.cloneObject(this.allNodesMap)},o.prototype.getRowNode=function(t){return this.allNodesMap[t]},o.prototype.setRowData=function(t){var e=this;if("string"!=typeof t){var n=this.rootNode,i=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?n.allLeafChildren=t.map(function(r){return e.createNode(r,e.rootNode,o.TOP_LEVEL)}):(n.allLeafChildren=[],n.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=n.childrenAfterFilter,i.childrenAfterGroup=n.childrenAfterGroup,i.childrenAfterAggFilter=n.childrenAfterAggFilter,i.childrenAfterSort=n.childrenAfterSort,i.childrenMapped=n.childrenMapped,i.allLeafChildren=n.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},o.prototype.updateRowData=function(t,e){var n={remove:[],update:[],add:[]},i=[];return this.executeRemove(t,n,i),this.executeUpdate(t,n,i),this.executeAdd(t,n),this.updateSelection(i),e&&rr.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},o.prototype.updateSelection=function(t){var e=t.length>0;e&&t.forEach(function(i){i.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),e&&this.eventService.dispatchEvent({type:nt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.executeAdd=function(t,e){var n=this,i=t.add,r=t.addIndex;if(!rr.missingOrEmpty(i)){var S,M,c=i.map(function(Pe){return n.createNode(Pe,n.rootNode,o.TOP_LEVEL)});if("number"==typeof r&&r>=0){var K=this.rootNode.allLeafChildren,ve=0===r?0:K.reduce(function(Pe,dt,vt){var sn,wn=dt.rowIndex,zn=null===(sn=K[Pe])||void 0===sn?void 0:sn.rowIndex;return null!=wn&&null!=zn&&wn<r&&wn>zn?vt:Pe},0)+1;S=K.slice(0,ve),M=K.slice(ve,K.length)}else S=this.rootNode.allLeafChildren,M=[];this.rootNode.allLeafChildren=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(J(arguments[t]));return o}(S,c,M),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=c}},o.prototype.executeRemove=function(t,e,n){var i=this,r=t.remove;if(!rr.missingOrEmpty(r)){var c={};r.forEach(function(f){var S=i.lookupRowNode(f);!S||(S.isSelected()&&n.push(S),S.clearRowTopAndRowIndex(),c[S.id]=!0,delete i.allNodesMap[S.id],e.remove.push(S))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(f){return!c[f.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},o.prototype.executeUpdate=function(t,e,n){var i=this,r=t.update;rr.missingOrEmpty(r)||r.forEach(function(c){var f=i.lookupRowNode(c);!f||(f.updateData(c),!f.selectable&&f.isSelected()&&n.push(f),i.setMasterForRow(f,c,o.TOP_LEVEL,!1),e.update.push(f))})},o.prototype.lookupRowNode=function(t){var n,e=this.gridOptionsWrapper.getRowIdFunc();if(e){var i=e({data:t,level:0});if(!(n=this.allNodesMap[i]))return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(!(n=this.rootNode.allLeafChildren.find(function(r){return r.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null},o.prototype.createNode=function(t,e,n){var i=new Nr(this.beans);return i.group=!1,this.setMasterForRow(i,t,n,!0),e&&!this.suppressParentsInRowNodes&&(i.parent=e),i.level=n,i.setDataAndId(t,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '"+i.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[i.id]=i,this.nextId++,i},o.prototype.setMasterForRow=function(t,e,n,i){if(this.doingTreeData)t.setMaster(!1),i&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e))),i){var r=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(n+(r?r.length:0))}},o.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},o.TOP_LEVEL=0,o.ROOT_NODE_ID="ROOT_NODE_ID",o}(),It=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yt=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Tn=(()=>(function(o){o[o.Normal=0]="Normal",o[o.AfterFilter=1]="AfterFilter",o[o.AfterFilterAndSort=2]="AfterFilterAndSort",o[o.PivotNodes=3]="PivotNodes"}(Tn||(Tn={})),Tn))(),ii=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return It(t,o),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:B.ClientSideRowModelSteps.EVERYTHING}),n=!this.gridOptionsWrapper.isSuppressAnimationFrame(),i=this.refreshModel.bind(this,{step:B.ClientSideRowModelSteps.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:n});this.addManagedListener(this.eventService,nt.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:B.ClientSideRowModelSteps.PIVOT})),this.addManagedListener(this.eventService,nt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var r=this.refreshModel.bind(this,{step:B.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:n});this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_GROUP_REMOVE_SINGLE_CHILDREN,r),this.addManagedListener(this.gridOptionsWrapper,Ne.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,r),this.rootNode=new Nr(this.beans),this.nodeManager=new He(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,n,i,r){var c,f=!1;do{c=!1;for(var S=this.getRowIndexAtPixel(e),M=this.getRowIndexAtPixel(n),K=Math.max(S,i),ve=Math.min(M,r),Pe=K;Pe<=ve;Pe++){var dt=this.getRow(Pe);if(dt.rowHeightEstimated){var vt=this.gridOptionsWrapper.getRowHeightForNode(dt);dt.setRowHeight(vt.height),c=!0,f=!0}}c&&this.setRowTopAndRowIndex()}while(c);return f},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.gridOptionsWrapper.getDefaultRowHeight(),n=0,i=new Set,r=this.gridOptionsWrapper.getDomLayout()===Qe.DOM_LAYOUT_NORMAL,c=0;c<this.rowsToDisplay.length;c++){var f=this.rowsToDisplay[c];if(null!=f.id&&i.add(f.id),null==f.rowHeight){var S=this.gridOptionsWrapper.getRowHeightForNode(f,r,e);f.setRowHeight(S.height,S.estimated)}f.setRowTop(n),f.setRowIndex(c),n+=f.rowHeight}return i},t.prototype.clearRowTopAndRowIndex=function(e,n){var i=e.isActive(),r=function(f){f&&null!=f.id&&!n.has(f.id)&&f.clearRowTopAndRowIndex()},c=function(f){r(f),r(f.detailNode),r(f.sibling),f.hasChildren()&&f.childrenAfterGroup&&(i&&-1!=f.level&&!f.expanded||f.childrenAfterGroup.forEach(c))};c(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,n,i){var r=this;void 0===i&&(i=0);var c=this.getRowIndexAtPixel(n),f=this.getRow(c),S=!this.gridOptionsWrapper.isSuppressAnimationFrame();return f!==e[0]&&(e.forEach(function(M){rr.removeFromArray(r.rootNode.allLeafChildren,M)}),e.forEach(function(M,K){rr.insertIntoArray(r.rootNode.allLeafChildren,M,Math.max(c+i,0)+K)}),this.refreshModel({step:B.ClientSideRowModelSteps.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:S}),!0)},t.prototype.highlightRowAtPixel=function(e,n){var i=null!=n?this.getRowIndexAtPixel(n):null,r=null!=i?this.getRow(i):null;if(r&&e&&r!==e&&null!=n){var c=this.getHighlightPosition(n,r);this.lastHighlightedRow&&this.lastHighlightedRow!==r&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),r.setHighlighted(c),this.lastHighlightedRow=r}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,n){if(!n){var i=this.getRowIndexAtPixel(e);if(!(n=this.getRow(i||0)))return B.RowHighlightPosition.Below}return e-n.rowTop<n.rowHeight/2?B.RowHighlightPosition.Above:B.RowHighlightPosition.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var n=this.rootNode.childrenAfterAggFilter;return n?n.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},t.prototype.getRowBounds=function(e){if(rr.missing(this.rowsToDisplay))return null;var n=this.rowsToDisplay[e];return n?{rowTop:n.rowTop,rowHeight:n.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:B.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var n=this.gridOptionsWrapper.isAnimateRows(),i=0===e.columns.length||e.columns.some(function(c){return c.isPrimary()});this.refreshModel({step:i?B.ClientSideRowModelSteps.FILTER:B.ClientSideRowModelSteps.FILTER_AGGREGATES,keepRenderedRows:!0,animate:n})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:B.ClientSideRowModelSteps.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return Qe.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:B.ClientSideRowModelSteps.PIVOT}):this.refreshModel({step:B.ClientSideRowModelSteps.AGGREGATE})},t.prototype.createChangePath=function(e){var n=rr.missingOrEmpty(e),i=new hh(!1,this.rootNode);return(n||this.gridOptionsWrapper.isTreeData())&&i.setInactive(),i},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==e.rowNodeTransactions)return!1;var n=e.rowNodeTransactions.filter(function(r){return null!=r.add&&r.add.length>0||null!=r.remove&&r.remove.length>0});return null==n||0==n.length},t.prototype.refreshModel=function(e){if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var n=this.createChangePath(e.rowNodeTransactions);switch(e.step){case B.ClientSideRowModelSteps.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,n,!!e.afterColumnsChanged);case B.ClientSideRowModelSteps.FILTER:this.doFilter(n);case B.ClientSideRowModelSteps.PIVOT:this.doPivot(n);case B.ClientSideRowModelSteps.AGGREGATE:this.doAggregate(n);case B.ClientSideRowModelSteps.FILTER_AGGREGATES:this.doFilterAggregates(n);case B.ClientSideRowModelSteps.SORT:this.doSort(e.rowNodeTransactions,n);case B.ClientSideRowModelSteps.MAP:this.doRowsToDisplay()}var i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i),this.eventService.dispatchEvent({type:nt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1})}},t.prototype.isEmpty=function(){var e=rr.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return rr.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return rr.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,n){var c,i=!n,r=!1,f=[],S=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(M){var K=i&&!r;if(i||(M===n||M===e)&&(i=!0),!M.group||!S){var Pe=i&&!r,dt=M.isParentOfNode(c);(Pe||dt)&&f.push(M)}K&&(M===n||M===e)&&(r=!0,c=M===n?n:e)}),f},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var n=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(rr.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var c=Math.floor((n+i)/2),f=this.rowsToDisplay[c];if(this.isRowInPixel(f,e))return c;f.rowTop<e?n=c+1:f.rowTop>e&&(i=c-1)}},t.prototype.isRowInPixel=function(e,n){return e.rowTop<=n&&e.rowTop+e.rowHeight>n},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(n,i){return e(n,i)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,Tn.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,e,Tn.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,Tn.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,Tn.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,n,i,r){if(!e)return r;for(var c=0;c<e.length;c++){var f=e[c];if(n(f,r++),f.hasChildren()){var S=null;switch(i){case Tn.Normal:S=f.childrenAfterGroup;break;case Tn.AfterFilter:S=f.childrenAfterAggFilter;break;case Tn.AfterFilterAndSort:S=f.childrenAfterSort;break;case Tn.PivotNodes:S=f.leafGroup?null:f.childrenAfterSort}S&&(r=this.recursivelyWalkNodesAndCallback(S,n,i,r))}}return r},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var n=this.gridOptionsWrapper.isTreeData(),i=this.columnModel.isPivotActive(),r=function(S){!S||S.forEach(function(M){var K=function(){M.expanded=e,r(M.childrenAfterGroup)};n?rr.exists(M.childrenAfterGroup)&&K():i?!M.leafGroup&&K():M.group&&K()})};this.rootNode&&r(this.rootNode.childrenAfterGroup),this.refreshModel({step:B.ClientSideRowModelSteps.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:nt.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,n){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:n})},t.prototype.doRowGrouping=function(e,n,i,r,c){this.groupStage?(n?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:n,rowNodeOrder:i,changedPath:r}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:c}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(r)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){!e||rr.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(n,i){"boolean"==typeof e[i]&&(n.expanded=e[i])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return rr.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(n,i){return e[i]=n.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(Nr.ID_PREFIX_ROW_GROUP)){var i=void 0;return this.forEachNode(function(r){r.id===e&&(i=r)}),i}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var n=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:nt.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:B.ClientSideRowModelSteps.EVERYTHING,groupState:n,newData:!0})},t.prototype.batchUpdateRowData=function(e,n){var i=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var r=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:n})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var n=[],i=[],r=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(f){var S=e.nodeManager.updateRowData(f.rowDataTransaction,void 0);i.push(S),f.callback&&n.push(f.callback.bind(null,S)),"number"==typeof f.rowDataTransaction.addIndex&&(r=!0)}),this.commonUpdateRowData(i,void 0,r),n.length>0&&window.setTimeout(function(){n.forEach(function(f){return f()})},0),i.length>0){var c={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:nt.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(c)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,n){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(e,n);return this.commonUpdateRowData([i],n,"number"==typeof e.addIndex),i},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var n={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++)n[this.rootNode.allLeafChildren[i].id]=i;return n}},t.prototype.commonUpdateRowData=function(e,n,i){var r=!this.gridOptionsWrapper.isSuppressAnimationFrame();i&&(n=this.createRowNodeOrder()),this.refreshModel({step:B.ClientSideRowModelSteps.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:n,keepRenderedRows:!0,keepEditingRows:!0,animate:r}),this.eventService.dispatchEvent({type:nt.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:B.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(n){n.setRowHeight(n.rowHeight,!0);var i=n.detailNode;i&&i.setRowHeight(i.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},Yt([D("columnModel")],t.prototype,"columnModel",void 0),Yt([D("selectionService")],t.prototype,"selectionService",void 0),Yt([D("filterManager")],t.prototype,"filterManager",void 0),Yt([D("valueCache")],t.prototype,"valueCache",void 0),Yt([D("columnApi")],t.prototype,"columnApi",void 0),Yt([D("gridApi")],t.prototype,"gridApi",void 0),Yt([D("animationFrameService")],t.prototype,"animationFrameService",void 0),Yt([D("beans")],t.prototype,"beans",void 0),Yt([D("filterStage")],t.prototype,"filterStage",void 0),Yt([D("sortStage")],t.prototype,"sortStage",void 0),Yt([D("flattenStage")],t.prototype,"flattenStage",void 0),Yt([te("groupStage")],t.prototype,"groupStage",void 0),Yt([te("aggregationStage")],t.prototype,"aggregationStage",void 0),Yt([te("pivotStage")],t.prototype,"pivotStage",void 0),Yt([te("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),Yt([ft],t.prototype,"init",null),Yt([Ae("rowModel")],t)}(he),ai=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ji=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Vr=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ai(t,o),t.prototype.execute=function(e){this.filterService.filter(e.changedPath)},ji([D("filterService")],t.prototype,"filterService",void 0),ji([Ae("filterStage")],t)}(he),Rs=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ts=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},As=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Rs(t,o),t.prototype.execute=function(e){var n=this.sortController.getSortOptions(),i=rr.exists(n)&&n.length>0,r=i&&rr.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),c=n.some(function(f){return!!f.column.getColDef().showRowGroup});this.sortService.sort(n,i,r,e.rowNodeTransactions,e.changedPath,c)},Ts([D("sortService")],t.prototype,"sortService",void 0),Ts([D("sortController")],t.prototype,"sortController",void 0),Ts([D("columnModel")],t.prototype,"columnModel",void 0),Ts([Ae("sortStage")],t)}(he),Va=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fs=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Ns=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Va(t,o),t.prototype.execute=function(e){var n=e.rowNode,i=[],r={value:0},c=this.columnModel.isPivotMode(),f=c&&n.leafGroup;return this.recursivelyAddToRowsToDisplay(f?[n]:n.childrenAfterSort,i,r,c,0),!f&&i.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(n),this.addRowNodeToRowsToDisplay(n.sibling,i,r,0)),i},t.prototype.recursivelyAddToRowsToDisplay=function(e,n,i,r,c){if(!rr.missingOrEmpty(e))for(var f=this.gridOptionsWrapper.isGroupHideOpenParents(),S=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),M=!S&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),K=0;K<e.length;K++){var ve=e[K],Pe=ve.hasChildren(),vt=S&&Pe&&1===ve.childrenAfterGroup.length,sn=M&&Pe&&ve.leafGroup&&1===ve.childrenAfterGroup.length;if(!(r&&!Pe||f&&ve.expanded&&!ve.master&&(!r||!ve.leafGroup)||vt||sn)&&this.addRowNodeToRowsToDisplay(ve,n,i,c),!r||!ve.leafGroup)if(Pe){var qn=vt||sn;(ve.expanded||qn)&&(this.recursivelyAddToRowsToDisplay(ve.childrenAfterSort,n,i,r,qn?c:c+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(ve),this.addRowNodeToRowsToDisplay(ve.sibling,n,i,c)))}else if(ve.master&&ve.expanded){var lr=this.createDetailNode(ve);this.addRowNodeToRowsToDisplay(lr,n,i,c)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,n,i,r){var c=this.gridOptionsWrapper.isGroupMultiAutoColumn();n.push(e),e.setUiLevel(c?0:r)},t.prototype.ensureFooterNodeExists=function(e){if(!rr.exists(e.sibling)){var n=new Nr(this.beans);Object.keys(e).forEach(function(i){n[i]=e[i]}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,rr.exists(n.id)&&(n.id="rowGroupFooter_"+n.id),n.sibling=e,e.sibling=n}},t.prototype.createDetailNode=function(e){if(rr.exists(e.detailNode))return e.detailNode;var n=new Nr(this.beans);return n.detail=!0,n.selectable=!1,n.parent=e,rr.exists(e.id)&&(n.id="detail_"+e.id),n.data=e.data,n.level=e.level+1,e.detailNode=n,n},Fs([D("columnModel")],t.prototype,"columnModel",void 0),Fs([D("beans")],t.prototype,"beans",void 0),Fs([Ae("flattenStage")],t)}(he),Xa=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lu=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Ny=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Xa(t,o),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,n,i,r,c,f){var S=this,M=this.gridOptionsWrapper.isGroupMaintainOrder(),K=this.columnModel.getAllGridColumns().some(function(vt){return vt.isRowGroupActive()}),ve={};i&&r&&(ve=this.calculateDirtyNodes(r));var Pe=this.columnModel.isPivotMode();c&&c.forEachChangedNodeDepthFirst(function(vt){if(S.pullDownGroupDataForHideOpenParents(vt.childrenAfterAggFilter,!0),!n||M&&K&&!vt.leafGroup&&!f||Pe&&vt.leafGroup){var zn=vt.childrenAfterAggFilter.slice(0);if(M&&vt.childrenAfterSort){var Un=vt.childrenAfterSort.reduce(function(Di,lr,no){return Di[lr.id]=no,Di},{});zn.sort(function(Di,lr){return(Un[Di.id]||0)-(Un[lr.id]||0)})}vt.childrenAfterSort=zn}else vt.childrenAfterSort=i?S.doDeltaSort(vt,ve,c,e):S.rowNodeSorter.doFullSort(vt.childrenAfterAggFilter,e);vt.sibling&&(vt.sibling.childrenAfterSort=vt.childrenAfterSort),S.updateChildIndexes(vt),S.postSortFunc&&S.postSortFunc({nodes:vt.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(c)},t.prototype.calculateDirtyNodes=function(e){var n={},i=function(r){r&&r.forEach(function(c){return n[c.id]=!0})};return e&&e.forEach(function(r){i(r.add),i(r.update),i(r.remove)}),n},t.prototype.doDeltaSort=function(e,n,i,r){var c=this,f=e.childrenAfterAggFilter,S=e.childrenAfterSort;if(!S)return this.rowNodeSorter.doFullSort(f,r);var M={},K=[];f.forEach(function(vt){n[vt.id]||!i.canSkip(vt)?K.push(vt):M[vt.id]=!0});var ve=S.filter(function(vt){return M[vt.id]}),Pe=function(vt,sn){return{currentPos:sn,rowNode:vt}},dt=K.map(Pe).sort(function(vt,sn){return c.rowNodeSorter.compareRowNodes(r,vt,sn)});return this.mergeSortedArrays(r,dt,ve.map(Pe)).map(function(vt){return vt.rowNode})},t.prototype.mergeSortedArrays=function(e,n,i){for(var r=[],c=0,f=0;c<n.length&&f<i.length;){var S=this.rowNodeSorter.compareRowNodes(e,n[c],i[f]);r.push(S<0?n[c++]:i[f++])}for(;c<n.length;)r.push(n[c++]);for(;f<i.length;)r.push(i[f++]);return r},t.prototype.updateChildIndexes=function(e){if(!rr.missing(e.childrenAfterSort))for(var n=e.childrenAfterSort,i=0;i<n.length;i++){var r=n[i],f=i===e.childrenAfterSort.length-1;r.setFirstChild(0===i),r.setLastChild(f),r.setChildIndex(i)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var n=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return rr.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var r=function(c){n.pullDownGroupDataForHideOpenParents(c.childrenAfterSort,!1),c.childrenAfterSort.forEach(function(f){f.hasChildren()&&r(f)})};e&&e.executeFromRootNode(function(c){return r(c)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,n){var i=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||rr.missing(e)||e.forEach(function(r){i.columnModel.getGroupDisplayColumns().forEach(function(f){var S=f.getColDef().showRowGroup;if("string"==typeof S){var K=i.columnModel.getPrimaryColumn(S);if(K!==r.rowGroupColumn)if(n)r.setGroupValue(f.getId(),void 0);else{var Pe=r.getFirstChildOfFirstChild(K);Pe&&r.setGroupValue(f.getId(),Pe.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},lu([D("columnModel")],t.prototype,"columnModel",void 0),lu([D("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),lu([ft],t.prototype,"init",null),lu([Ae("sortService")],t)}(he),Ly=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),fy=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},ky=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ly(t,o),t.prototype.filter=function(e){var n=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent();this.filterNodes(n,e)},t.prototype.filterNodes=function(e,n){var i=this,r=function(M,K){M.childrenAfterFilter=M.hasChildren()&&e&&!K?M.childrenAfterGroup.filter(function(ve){var Pe=ve.childrenAfterFilter&&ve.childrenAfterFilter.length>0,dt=ve.data&&i.filterManager.doesRowPassFilter({rowNode:ve});return Pe||dt}):M.childrenAfterGroup,M.sibling&&(M.sibling.childrenAfterFilter=M.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var c=function(M,K){if(M.childrenAfterGroup)for(var ve=0;ve<M.childrenAfterGroup.length;ve++){var Pe=M.childrenAfterGroup[ve],dt=K||i.filterManager.doesRowPassFilter({rowNode:Pe});Pe.childrenAfterGroup?c(M.childrenAfterGroup[ve],dt):r(Pe,dt)}r(M,K)};n.executeFromRootNode(function(M){return c(M,!1)})}else n.forEachChangedNodeDepthFirst(function(M){return r(M,!1)},!0)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},fy([D("filterManager")],t.prototype,"filterManager",void 0),fy([Ae("filterService")],t)}(he),By=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sh=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Tp=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return By(t,o),t.prototype.postConstruct=function(){this.rowModel.getType()===Qe.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},t.prototype.setRowData=function(e){var n=this.createTransactionForRowData(e);if(n){var i=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var i,c,n=e.call(o),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return r}(n,2),f=this.clientSideRowModel.updateRowData(i[0],i[1]);f&&this.rowRenderer.refreshFullWidthRows(f.update),this.eventService.dispatchEvent({type:nt.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},t.prototype.createTransactionForRowData=function(e){if(rr.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var n=this.gridOptionsWrapper.getRowIdFunc();if(null!=n){var i={remove:[],update:[],add:[]},r=this.clientSideRowModel.getCopyOfNodesMap(),f=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return rr.exists(e)&&e.forEach(function(S,M){var K=n({data:S,level:0}),ve=r[K];f&&(f[K]=M),ve?(ve.data!==S&&i.update.push(S),r[K]=void 0):i.add.push(S)}),rr.iterateObject(r,function(S,M){M&&i.remove.push(M.data)}),[i,f]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Sh([D("rowModel")],t.prototype,"rowModel",void 0),Sh([D("rowRenderer")],t.prototype,"rowRenderer",void 0),Sh([D("columnApi")],t.prototype,"columnApi",void 0),Sh([D("gridApi")],t.prototype,"gridApi",void 0),Sh([ft],t.prototype,"postConstruct",null),Sh([Ae("immutableService")],t)}(he),n_={moduleName:B.ModuleNames.ClientSideRowModelModule,beans:[Vr,As,Ns,Ny,ky,Tp],rowModels:{clientSide:ii}},i_=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rh=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},r_=function(o){function t(e,n,i){var r=o.call(this,e)||this;return r.parentCache=n,r.params=i,r.startRow=e*i.blockSize,r.endRow=r.startRow+i.blockSize,r}return i_(t,o),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,n,i){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),rr.exists(n)?e.setDataAndId(n,i.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,n=this.createLoadParams();rr.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(n)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,n,i){var r=this;this.rowNodes.forEach(function(c,f){r.startRow+f<i&&e(c,n.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,n){return void 0===n&&(n=!1),n||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var n=this.startRow+e,i=new Nr(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(n),i.setRowTop(this.params.rowHeight*n),this.rowNodes.push(i)}},t.prototype.processServerResult=function(e){var n=this;this.rowNodes.forEach(function(r,c){n.setDataAndId(r,e.rowData?e.rowData[c]:void 0,n.startRow+c)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},Rh([D("beans")],t.prototype,"beans",void 0),Rh([ft],t.prototype,"postConstruct",null),Rh([Rn],t.prototype,"destroyRowNodes",null),t}(ph),my=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vy=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Gy=function(o,t){return function(e,n){t(e,n,o)}},Vy=function(o){function t(e){var n=o.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=e.initialRowCount,n.params=e,n}return my(t,o),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,n){void 0===n&&(n=!1);var i=Math.floor(e/this.params.blockSize),r=this.blocks[i];if(!r){if(n)return;r=this.createBlock(i)}return r.getRow(e)},t.prototype.createBlock=function(e){var n=this.createBean(new r_(e,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(n){return n.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.destroyBlock(n)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,n){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+n),this.checkRowCount(e,n),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,i=this.getBlocksInOrder().filter(function(M){return M!=e});i.sort(function(M,K){return K.getLastAccessed()-M.getLastAccessed()});var c=this.params.maxBlocksInCache>0,f=c?this.params.maxBlocksInCache-1:null,S=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(M,K){if(M.getState()===r_.STATE_WAITING_TO_LOAD&&K>=S||c&&K>=f){if(n.isBlockCurrentlyDisplayed(M)||n.isBlockFocused(M))return;n.removeBlockFromCache(M)}})},t.prototype.isBlockFocused=function(e){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||null!=n.rowPinned)return!1;var i=e.getStartRow(),r=e.getEndRow();return n.rowIndex>=i&&n.rowIndex<r},t.prototype.isBlockCurrentlyDisplayed=function(e){var n=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,i)},t.prototype.removeBlockFromCache=function(e){!e||this.destroyBlock(e)},t.prototype.checkRowCount=function(e,n){if("number"==typeof n&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var r=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<r&&(this.rowCount=r)}},t.prototype.setRowCount=function(e,n){this.rowCount=e,rr.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var n=this,i=new ja;this.getBlocksInOrder().forEach(function(r){return r.forEachNode(e,i,n.rowCount)})},t.prototype.getBlocksInOrder=function(){return rr.getAllValuesInObject(this.blocks).sort(function(i,r){return i.getId()-r.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:nt.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,n=[];this.getBlocksInOrder().forEach(function(i){i.getId()*e.params.blockSize>=e.rowCount&&n.push(i)}),n.length>0&&n.forEach(function(i){return e.destroyBlock(i)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.removeBlockFromCache(n)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,n){var i=this,r=[],c=-1,f=!1,S=new ja;rr.missing(e)&&(f=!0);var M=!1;return this.getBlocksInOrder().forEach(function(ve){if(!M){if(f&&c+1!==ve.getId())return void(M=!0);c=ve.getId(),ve.forEachNode(function(Pe){var dt=Pe===e||Pe===n;(f||dt)&&r.push(Pe),dt&&(f=!f)},S,i.rowCount)}}),M||f?[]:r},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,vy([D("rowRenderer")],t.prototype,"rowRenderer",void 0),vy([D("focusService")],t.prototype,"focusService",void 0),vy([Gy(0,me("loggerFactory"))],t.prototype,"setBeans",null),vy([Rn],t.prototype,"destroyAllBlocks",null),t}(he),iC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sr=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},o_=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return iC(t,o),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,n,i,r){return!1},t.prototype.init=function(){var e=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&rr.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,nt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,nt.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!rr.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return Qe.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,n){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,n):[]},t.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)}},t.prototype.createModelUpdatedEvent=function(){return{type:nt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new ja},this.infiniteCache=this.createBean(new Vy(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,n){return e>0?e:n},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var n;return this.forEachNode(function(i){i.id===e&&(n=i)}),n},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var n=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return n>i?i:n}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,n){this.infiniteCache&&this.infiniteCache.setRowCount(e,n)},sr([D("filterManager")],t.prototype,"filterManager",void 0),sr([D("sortController")],t.prototype,"sortController",void 0),sr([D("selectionService")],t.prototype,"selectionService",void 0),sr([D("gridApi")],t.prototype,"gridApi",void 0),sr([D("columnApi")],t.prototype,"columnApi",void 0),sr([D("rowRenderer")],t.prototype,"rowRenderer",void 0),sr([D("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),sr([ft],t.prototype,"init",null),sr([Rn],t.prototype,"destroyDatasource",null),sr([Ae("rowModel")],t)}(he),s_={moduleName:B.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:o_}},Hy=function(){function o(){}return o.prototype.setBeans=function(t){this.beans=t},o.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},o.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},o}(),Qg=function(){function o(t){this.groupColumns=[];var n=t.valueService,i=t.gridOptionsWrapper,r=t.processCellCallback,c=t.processHeaderCallback,f=t.processGroupHeaderCallback,S=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=n,this.gridOptionsWrapper=i,this.processCellCallback=r,this.processHeaderCallback=c,this.processGroupHeaderCallback=f,this.processRowGroupCallback=S}return o.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},o.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},o.prototype.extractRowCellValue=function(t,e,n,i,r){var S,c=this.gridOptionsWrapper.isGroupMultiAutoColumn()?r.rowGroupIndex:0;S=r&&r.group&&(e===c&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(r):this.valueService.getValue(t,r);var M=this.processCell(n,r,t,S,this.processCellCallback,i);return null!=M?M:""},o.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},o.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)e.push((t=t.parent).key);return e.reverse().join(" -> ")},o.prototype.processCell=function(t,e,n,i,r,c){return r?r({accumulatedRowIndex:t,column:n,node:e,value:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:c}):null!=i?i:""},o}(),Uy=function(){function o(){}return o.download=function(t,e){var n=document.defaultView||window;if(n){var i=document.createElement("a"),r=n.URL.createObjectURL(e);i.setAttribute("href",r),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(function(){n.URL.revokeObjectURL(r)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},o}(),Av=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ta=function(o){function t(e){var n=o.call(this,e)||this;n.isFirstLine=!0,n.result="";var r=e.columnSeparator;return n.suppressQuotes=e.suppressQuotes,n.columnSeparator=r,n}return Av(t,o),t.prototype.addCustomContent=function(e){var n=this;!e||("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(i){n.beginNewLine(),i.forEach(function(r,c){0!==c&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(r.data.value||""),r.mergeAcross&&n.appendEmptyCells(r.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,n,i){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(i)},t.prototype.appendEmptyCells=function(e){for(var n=1;n<=e;n++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,n){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,n,i){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,n,n,Qe.EXPORT_TYPE_CSV,i))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?n=e:"function"==typeof e.toString?n=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n=""),'"'+n.replace(/"/g,'""')+'"');var n},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(Qg),rC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ap=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r},Wy=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return rC(t,o),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var n=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},n,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(e),i=this.getData(n),r=new Blob(["\ufeff",i],{type:"text/plain"});return Uy.download(this.getFileName(n.fileName),r),i},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){var n=this.getMergedParams(e);return this.getData(n)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var n=this;return new ta({columnModel:n.columnModel,valueService:n.valueService,gridOptionsWrapper:n.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Ap([D("columnModel")],t.prototype,"columnModel",void 0),Ap([D("valueService")],t.prototype,"valueService",void 0),Ap([D("gridSerializer")],t.prototype,"gridSerializer",void 0),Ap([D("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ap([ft],t.prototype,"postConstruct",null),Ap([Ae("csvCreator")],t)}(Hy),a_=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Th=function(o,t,e,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(o,t,e,n);else for(var f=o.length-1;f>=0;f--)(c=o[f])&&(r=(i<3?c(r):i>3?c(t,e,r):c(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r};!function(o){o[o.HEADER_GROUPING=0]="HEADER_GROUPING",o[o.HEADER=1]="HEADER",o[o.BODY=2]="BODY"}(B.RowType||(B.RowType={}));var yy=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return a_(t,o),t.prototype.serialize=function(e,n){void 0===n&&(n={});var i=this.getColumnsToExport(n.allColumns,n.columnKeys);return rr.compose(this.prepareSession(i),this.prependContent(n),this.exportColumnGroups(n,i),this.exportHeaders(n,i),this.processPinnedTopRows(n,i),this.processRows(n,i),this.processPinnedBottomRows(n,i),this.appendContent(n))(e).parse()},t.prototype.processRow=function(e,n,i,r){var c=this,f=n.shouldRowBeSkipped||function(){return!1},S=this.gridOptionsWrapper,M=S.getContext(),K=S.getApi(),ve=S.getColumnApi(),Pe=S.isGroupRemoveSingleChildren(),dt=S.isGroupHideOpenParents(),vt=S.isGroupRemoveLowestSingleChildren(),sn=this.columnModel.isPivotMode()?r.leafGroup:!r.group,Un=1===r.allChildrenCount&&(Pe||vt&&r.leafGroup);(n.skipGroups||n.skipRowGroups)&&n.skipGroups&&rr.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var qn={rowIndex:r.rowIndex,rowPinned:r.rowPinned};if(!(!sn&&(n.skipRowGroups||Un||dt)||n.onlySelected&&!r.isSelected()||n.rowNodes&&!n.rowNodes.some(function(ur){return c.rowPositionUtils.sameRow(ur,qn)})||n.skipPinnedTop&&"top"===r.rowPinned||n.skipPinnedBottom&&"bottom"===r.rowPinned)&&(-1!==r.level||r.leafGroup)&&!f({node:r,api:K,columnApi:ve,context:M})){var no=e.onNewBodyRow();if(i.forEach(function(ur,Qr){no.onColumn(ur,Qr,r)}),n.getCustomContentBelowRow){var io=n.getCustomContentBelowRow({node:r,api:K,columnApi:ve,context:M});io&&e.addCustomContent(io)}}},t.prototype.appendContent=function(e){return function(n){var i=e.customFooter||e.appendContent;return i&&(e.customFooter&&rr.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),n.addCustomContent(i)),n}},t.prototype.prependContent=function(e){return function(n){var i=e.customHeader||e.prependContent;return i&&(e.customHeader&&rr.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),n.addCustomContent(i)),n}},t.prototype.prepareSession=function(e){return function(n){return n.prepare(e),n}},t.prototype.exportColumnGroups=function(e,n){var i=this;return function(r){if(e.skipColumnGroupHeaders)e.columnGroups&&rr.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var c=new Xr,f=i.displayedGroupCreator.createDisplayedGroups(n,i.columnModel.getGridBalancedTree(),c,null);i.recursivelyAddHeaderGroups(f,r,e.processGroupHeaderCallback)}return r}},t.prototype.exportHeaders=function(e,n){return function(i){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&rr.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var r=i.onNewHeaderRow();n.forEach(function(c,f){r.onColumn(c,f,void 0)})}return i}},t.prototype.processPinnedTopRows=function(e,n){var i=this;return function(r){var c=i.processRow.bind(i,r,e,n);return i.pinnedRowModel.forEachPinnedTopRow(c),r}},t.prototype.processRows=function(e,n){var i=this;return function(r){var c=i.rowModel,f=c.getType(),S=f===Qe.ROW_MODEL_TYPE_CLIENT_SIDE,M=f===Qe.ROW_MODEL_TYPE_SERVER_SIDE,K=!S&&e.onlySelected,ve=i.processRow.bind(i,r,e,n);return i.columnModel.isPivotMode()?S?c.forEachPivotNode(ve):c.forEachNode(ve):e.onlySelectedAllPages||K?i.selectionService.getSelectedNodes().forEach(ve):S||M?c.forEachNodeAfterFilterAndSort(ve):c.forEachNode(ve),r}},t.prototype.processPinnedBottomRows=function(e,n){var i=this;return function(r){var c=i.processRow.bind(i,r,e,n);return i.pinnedRowModel.forEachPinnedBottomRow(c),r}},t.prototype.getColumnsToExport=function(e,n){void 0===e&&(e=!1);var i=this.columnModel.isPivotMode();return n&&n.length?this.columnModel.getGridColumns(n):e&&!i?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([Qe.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,n,i){var r=[];e.forEach(function(c){!c.getChildren||c.getChildren().forEach(function(S){return r.push(S)})}),e.length>0&&e[0]instanceof wt&&this.doAddHeaderHeader(n,e,i),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,n,i)},t.prototype.doAddHeaderHeader=function(e,n,i){var r=this,c=e.onNewHeaderGroupingRow(),f=0;n.forEach(function(S){var K,M=S;K=i?i({columnGroup:M,api:r.gridOptionsWrapper.getApi(),columnApi:r.gridOptionsWrapper.getColumnApi(),context:r.gridOptionsWrapper.getContext()}):r.columnModel.getDisplayNameForColumnGroup(M,"header");var ve=M.getLeafColumns().reduce(function(Pe,dt,vt,sn){var wn=rr.last(Pe);return"open"===dt.getColumnGroupShow()?(!wn||null!=wn[1])&&Pe.push(wn=[vt]):wn&&null==wn[1]&&(wn[1]=vt-1),vt===sn.length-1&&wn&&null==wn[1]&&(wn[1]=vt),Pe},[]);c.onColumn(K||"",f++,M.getLeafColumns().length-1,ve)})},Th([D("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Th([D("columnModel")],t.prototype,"columnModel",void 0),Th([D("rowModel")],t.prototype,"rowModel",void 0),Th([D("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Th([D("selectionService")],t.prototype,"selectionService",void 0),Th([D("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Th([Ae("gridSerializer")],t)}(he),_y={moduleName:B.ModuleNames.CsvExportModule,beans:[Wy,yy]},l_=function(){function o(){}return o.createHeader=function(t){void 0===t&&(t={});var i=["version"];return t.version||(t.version="1.0"),t.encoding&&i.push("encoding"),t.standalone&&i.push("standalone"),"<?xml "+i.map(function(c){return c+'="'+t[c]+'"'}).join(" ")+" ?>"},o.createXml=function(t,e){var n=this,i="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(c){Object.keys(c.map).forEach(function(f){i+=n.returnAttributeIfPopulated(c.prefix+f,c.map[f],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(c){i+=n.returnAttributeIfPopulated(c,t.properties.rawMap[c],e)}));var r="<"+t.name+i;return t.children||null!=t.textNode?null!=t.textNode?r+">"+t.textNode+"</"+t.name+">\r\n":(r+=">\r\n",t.children&&t.children.forEach(function(c){r+=n.createXml(c,e)}),r+"</"+t.name+">\r\n"):r+"/>\r\n"},o.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var i=e;return"boolean"==typeof e&&n&&(i=n(e))," "+t+'="'+i+'"'},o}(),c_=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),em=function(){function o(){}return o.addFolders=function(t){t.forEach(this.addFolder.bind(this))},o.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},o.addFile=function(t,e,n){void 0===n&&(n=!1),this.files.push({path:t,created:new Date,content:e,isBase64:n})},o.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},o.clearStream=function(){this.folders=[],this.files=[]},o.buildFileStream=function(t){var e,n;void 0===t&&(t="");var i=this.folders.concat(this.files),r=i.length,c="",f=0,S=0;try{for(var M=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],n=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&n>=o.length&&(o=void 0),{value:o&&o[n++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),K=M.next();!K.done;K=M.next()){var Pe=this.getHeader(K.value,f),dt=Pe.fileHeader,vt=Pe.folderHeader,sn=Pe.content;f+=dt.length+sn.length,S+=vt.length,t+=dt+sn,c+=vt}}catch(zn){e={error:zn}}finally{try{K&&!K.done&&(n=M.return)&&n.call(M)}finally{if(e)throw e.error}}return t+c+this.buildFolderEnd(r,S,f)},o.getHeader=function(t,e){var n=t.content,i=t.path,r=t.created,c=t.isBase64,S=rr.decToHex,M=(0,rr.utf8_encode)(i),K=M!==i,ve=this.convertTime(r),Pe=this.convertDate(r),dt="";if(K){var vt=S(1,1)+S(this.getFromCrc32Table(M),4)+M;dt="up"+S(vt.length,2)+vt}var sn=n?this.getConvertedContent(n,c):{size:0,content:""},wn=sn.size,zn=sn.content,Un="\n\0"+(K?"\0\b":"\0\0")+"\0\0"+S(ve,2)+S(Pe,2)+S(wn?this.getFromCrc32Table(zn):0,4)+S(wn,4)+S(wn,4)+S(M.length,2)+S(dt.length,2);return{fileHeader:"PK\x03\x04"+Un+M+dt,folderHeader:"PK\x01\x02\x14\0"+Un+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+S(e,4)+M+dt,content:zn||""}},o.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},o.buildFolderEnd=function(t,e,n){var i=rr.decToHex;return"PK\x05\x06\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(n,4)+"\0\0"},o.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},o.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,n=new Uint8Array(e),i=0;i<e;i++)n[i]=t.charCodeAt(i);var r=-1;for(i=0;i<e;i++)r=r>>>8^c_[255&(r^n[i])];return-1^r},o.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},o.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},o.folders=[],o.files=[],o}();Cn.register(n_,!1),Cn.register(s_,!1),Cn.register(_y,!1),B.AbstractHeaderCellCtrl=qu,B.AgAbstractField=Fa,B.AgAngleSelect=Cf,B.AgCheckbox=Ql,B.AgColorPicker=Pg,B.AgDialog=Sd,B.AgGroupComponent=Rd,B.AgInputNumberField=Zv,B.AgInputRange=gp,B.AgInputTextArea=Ml,B.AgInputTextField=Ol,B.AgMenuItemComponent=rc,B.AgMenuList=nc,B.AgMenuPanel=Qc,B.AgPanel=Mg,B.AgPromise=Zo,B.AgRadioButton=Hm,B.AgSelect=fn,B.AgSlider=qv,B.AgStackComponentsRegistry=js,B.AgToggleButton=Um,B.AlignedGridsService=nv,B.AnimateShowChangeCellRenderer=kh,B.AnimateSlideCellRenderer=rl,B.AnimationFrameService=Fm,B.AutoScrollService=rs,B.AutoWidthCalculator=Tg,B.Autowired=D,B.BaseComponentWrapper=E,B.BaseCreator=Hy,B.BaseGridSerializingSession=Qg,B.Bean=Ae,B.BeanStub=he,B.Beans=Ru,B.BodyDropPivotTarget=pg,B.BodyDropTarget=ha,B.CellComp=nh,B.CellCtrl=$l,B.CellNavigationService=yo,B.CellPositionUtils=Cv,B.ChangedPath=hh,B.CheckboxSelectionComponent=so,B.ColDefUtil=xo,B.Color=Do,B.Column=ri,B.ColumnApi=rv,B.ColumnFactory=gi,B.ColumnGroup=wt,B.ColumnKeyCreator=Oe,B.ColumnModel=ia,B.ColumnUtils=Xt,B.Component=or,B.ComponentUtil=ko,B.Constants=Qe,B.Context=En,B.CssClassApplier=Jp,B.CssClassManager=Ra,B.CsvCreator=Wy,B.CsvExportModule=_y,B.CtrlsService=Ev,B.CustomTooltipFeature=Ci,B.DateFilter=hu,B.DisplayedGroupCreator=oi,B.Downloader=Uy,B.DragAndDropService=to,B.DragService=sl,B.Environment=lc,B.EventService=rn,B.Events=nt,B.ExpressionService=Qo,B.FilterManager=Gp,B.FloatingFilterMapper=kp,B.FocusService=Od,B.Grid=l,B.GridApi=mg,B.GridBodyComp=eh,B.GridBodyCtrl=Eu,B.GridComp=Of,B.GridCoreCreator=p,B.GridCtrl=Gg,B.GridHeaderComp=lh,B.GridHeaderCtrl=Eg,B.GridOptionsWrapper=Ne,B.GridSerializer=yy,B.GroupCellRenderer=go,B.GroupCellRendererCtrl=Ul,B.GroupInstanceIdCreator=Xr,B.HeaderCellCtrl=tf,B.HeaderFilterCellComp=Vp,B.HeaderFilterCellCtrl=ul,B.HeaderGroupCellCtrl=rf,B.HeaderNavigationService=cf,B.HeaderPositionUtils=Ll,B.HeaderRowComp=oh,B.HeaderRowContainerComp=uf,B.HeaderRowContainerCtrl=Om,B.HeaderRowCtrl=sh,B.HorizontalResizeService=jc,B.KeyCode=Nn,B.LargeTextCellEditor=Vl,B.Logger=yp,B.LoggerFactory=Bg,B.ManagedFocusFeature=kr,B.ModuleRegistry=Cn,B.MouseEventService=cg,B.MoveColumnFeature=Sm,B.NavigationService=Lv,B.NumberFilter=gu,B.NumberSequence=ja,B.Optional=te,B.PaginationProxy=Yv,B.PinnedRowModel=dh,B.PopupComponent=Ya,B.PopupEditorWrapper=bm,B.PopupSelectCellEditor=Ss,B.PopupService=kg,B.PopupTextCellEditor=Hd,B.PositionableFeature=Nm,B.PostConstruct=ft,B.PreConstruct=Dn,B.PreDestroy=Rn,B.PropertyKeys=$r,B.ProvidedColumnGroup=dn,B.ProvidedFilter=No,B.Qualifier=me,B.QuerySelector=function el(o){return za.bind(this,o,void 0)},B.RefSelector=Gn,B.ResizeObserverService=lp,B.RowContainerComp=hg,B.RowContainerCtrl=lg,B.RowCtrl=Kl,B.RowNode=Nr,B.RowNodeBlock=ph,B.RowNodeBlockLoader=ff,B.RowNodeSorter=bv,B.RowPositionUtils=vv,B.RowRenderer=Bm,B.ScalarFilter=mr,B.ScrollVisibleService=_m,B.SelectCellEditor=Ph,B.SelectableService=gv,B.SelectionService=iv,B.SetLeftFeature=ip,B.SimpleFilter=Wi,B.SortController=_p,B.StandardMenuFactory=$c,B.StylingService=vf,B.TabGuardComp=Pl,B.TabGuardCtrl=mp,B.TabbedLayout=ec,B.TemplateService=Hs,B.TextCellEditor=Cc,B.TextFilter=ld,B.TextFloatingFilter=Mh,B.Timer=bl,B.TouchListener=wa,B.UserComponentFactory=Wh,B.UserComponentRegistry=Lp,B.ValueCache=Hg,B.ValueFormatterService=Gm,B.ValueService=ov,B.VanillaFrameworkOverrides=Rf,B.VirtualList=Xm,B.XmlFactory=l_,B.ZipContainer=em,B._=rr,B.defaultGroupComparator=function y(o,t,e,n,i){void 0===i&&(i=!1),console.warn("AG Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var r=v(e)&&e.group,c=v(n)&&n.group,S=!r&&!c;return r&&c?ae(e.key,n.key,i):S?ae(o,t,i):r?1:-1},B.getRowContainerTypeForName=Zl,B.simpleHttpRequest=function jv(o){return new Zo(function(t){var e=new XMLHttpRequest;e.open("GET",o.url),e.send(),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&t(JSON.parse(e.responseText))}})},B.stringToArray=Io},5867:(Ot,B,R)=>{R.d(B,{C6:()=>v.getApps,Mq:()=>v.getApp});var v=R(9681);(0,v.registerVersion)("firebase","9.7.0","app")},127:(Ot,B,R)=>{R.d(B,{Z:()=>v.Z});var v=R(3942);v.Z.registerVersion("firebase","9.7.0","app-compat")},820:(Ot,B,R)=>{R.r(B);var v=R(5861),V=R(3942),I=R(2090),q=R(9681),g=R(655),Ue=R(1877),P=R(4859);const st=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},gt=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new I.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xe=new Ue.Yd("@firebase/auth");function Nt(F,...C){Xe.logLevel<=Ue.in.ERROR&&Xe.error(`Auth (${q.SDK_VERSION}): ${F}`,...C)}function at(F,...C){throw A(F,...C)}function ke(F,...C){return A(F,...C)}function Ke(F,C,w){const U=Object.assign(Object.assign({},gt()),{[C]:w});return new I.LL("auth","Firebase",U).create(C,{appName:F.name})}function it(F,C,w){if(!(C instanceof w))throw w.name!==C.constructor.name&&at(F,"argument-error"),Ke(F,"argument-error",`Type of ${C.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function A(F,...C){if("string"!=typeof F){const w=C[0],U=[...C.slice(1)];return U[0]&&(U[0].appName=F.name),F._errorFactory.create(w,...U)}return Je.create(F,...C)}function et(F,C,...w){if(!F)throw A(C,...w)}function en(F){const C="INTERNAL ASSERTION FAILED: "+F;throw Nt(C),new Error(C)}function Be(F,C){F||en(C)}const At=new Map;function Ut(F){Be(F instanceof Function,"Expected a class definition");let C=At.get(F);return C?(Be(C instanceof F,"Instance stored in cache mismatched with class"),C):(C=new F,At.set(F,C),C)}function an(){var F;return"undefined"!=typeof self&&(null===(F=self.location)||void 0===F?void 0:F.href)||""}function Bn(){return"http:"===ie()||"https:"===ie()}function ie(){var F;return"undefined"!=typeof self&&(null===(F=self.location)||void 0===F?void 0:F.protocol)||null}class Zt{constructor(C,w){this.shortDelay=C,this.longDelay=w,Be(w>C,"Short delay should be less than long delay!"),this.isMobile=(0,I.uI)()||(0,I.b$)()}get(){return function Mt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bn()||(0,I.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(F,C){Be(F.emulator,"Emulator should always be set here");const{url:w}=F.emulator;return C?`${w}${C.startsWith("/")?C.slice(1):C}`:w}class Kt{static initialize(C,w,U){this.fetchImpl=C,w&&(this.headersImpl=w),U&&(this.responseImpl=U)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void en("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void en("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void en("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Lt=new Zt(3e4,6e4);function Bt(F,C){return F.tenantId&&!C.tenantId?Object.assign(Object.assign({},C),{tenantId:F.tenantId}):C}function mt(F,C,w,U){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,v.Z)(function*(F,C,w,U,De={}){return ot(F,De,(0,v.Z)(function*(){let Ne={},cn={};U&&("GET"===C?cn=U:Ne={body:JSON.stringify(U)});const Ln=(0,I.xO)(Object.assign({key:F.config.apiKey},cn)).slice(1),Ei=yield F._getAdditionalHeaders();return Ei["Content-Type"]="application/json",F.languageCode&&(Ei["X-Firebase-Locale"]=F.languageCode),Kt.fetch()(bt(F,F.config.apiHost,w,Ln),Object.assign({method:C,headers:Ei,referrerPolicy:"no-referrer"},Ne))}))})).apply(this,arguments)}function ot(F,C,w){return je.apply(this,arguments)}function je(){return(je=(0,v.Z)(function*(F,C,w){F._canInitEmulator=!1;const U=Object.assign(Object.assign({},gn),C);try{const De=new En(F),Ne=yield Promise.race([w(),De.promise]);De.clearNetworkTimeout();const cn=yield Ne.json();if("needConfirmation"in cn)throw Xn(F,"account-exists-with-different-credential",cn);if(Ne.ok&&!("errorMessage"in cn))return cn;{const Ln=Ne.ok?cn.errorMessage:cn.error.message,[Ei,zi]=Ln.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ei)throw Xn(F,"credential-already-in-use",cn);if("EMAIL_EXISTS"===Ei)throw Xn(F,"email-already-in-use",cn);const er=U[Ei]||Ei.toLowerCase().replace(/[_\s]+/g,"-");if(zi)throw Ke(F,er,zi);at(F,er)}}catch(De){if(De instanceof I.ZR)throw De;at(F,"network-request-failed")}})).apply(this,arguments)}function Pt(F,C,w,U){return rt.apply(this,arguments)}function rt(){return(rt=(0,v.Z)(function*(F,C,w,U,De={}){const Ne=yield mt(F,C,w,U,De);return"mfaPendingCredential"in Ne&&at(F,"multi-factor-auth-required",{_serverResponse:Ne}),Ne})).apply(this,arguments)}function bt(F,C,w,U){const De=`${C}${w}?${U}`;return F.config.emulator?hn(F.config,De):`${F.config.apiScheme}://${De}`}class En{constructor(C){this.auth=C,this.timer=null,this.promise=new Promise((w,U)=>{this.timer=setTimeout(()=>U(ke(this.auth,"network-request-failed")),Lt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(F,C,w){const U={appName:F.name};w.email&&(U.email=w.email),w.phoneNumber&&(U.phoneNumber=w.phoneNumber);const De=ke(F,C,U);return De.customData._tokenResponse=w,De}function ft(){return(ft=(0,v.Z)(function*(F,C){return mt(F,"POST","/v1/accounts:delete",C)})).apply(this,arguments)}function Rn(F,C){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,v.Z)(function*(F,C){return mt(F,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function D(F,C){return te.apply(this,arguments)}function te(){return(te=(0,v.Z)(function*(F,C){return mt(F,"POST","/v1/accounts:lookup",C)})).apply(this,arguments)}function ne(F){if(F)try{const C=new Date(Number(F));if(!isNaN(C.getTime()))return C.toUTCString()}catch(C){}}function pt(){return(pt=(0,v.Z)(function*(F,C=!1){const w=(0,I.m9)(F),U=yield w.getIdToken(C),De=rn(U);et(De&&De.exp&&De.auth_time&&De.iat,w.auth,"internal-error");const Ne="object"==typeof De.firebase?De.firebase:void 0,cn=null==Ne?void 0:Ne.sign_in_provider;return{claims:De,token:U,authTime:ne(Ft(De.auth_time)),issuedAtTime:ne(Ft(De.iat)),expirationTime:ne(Ft(De.exp)),signInProvider:cn||null,signInSecondFactor:(null==Ne?void 0:Ne.sign_in_second_factor)||null}})).apply(this,arguments)}function Ft(F){return 1e3*Number(F)}function rn(F){const[C,w,U]=F.split(".");if(void 0===C||void 0===w||void 0===U)return Nt("JWT malformed, contained fewer than 3 sections"),null;try{const De=(0,I.tV)(w);return De?JSON.parse(De):(Nt("Failed to decode base64 JWT payload"),null)}catch(De){return Nt("Caught error parsing JWT payload as JSON",De),null}}function Cn(F,C){return xn.apply(this,arguments)}function xn(){return(xn=(0,v.Z)(function*(F,C,w=!1){if(w)return C;try{return yield C}catch(U){throw U instanceof I.ZR&&ei(U)&&F.auth.currentUser===F&&(yield F.auth.signOut()),U}})).apply(this,arguments)}function ei({code:F}){return"auth/user-disabled"===F||"auth/user-token-expired"===F}class ri{constructor(C){this.user=C,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(C){var w;if(C){const U=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),U}{this.errorBackoff=3e4;const De=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,De)}}schedule(C=!1){var w=this;if(!this.isRunning)return;const U=this.getInterval(C);this.timerId=setTimeout((0,v.Z)(function*(){yield w.iteration()}),U)}iteration(){var C=this;return(0,v.Z)(function*(){try{yield C.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w.code&&C.schedule(!0))}C.schedule()})()}}class Oi{constructor(C,w){this.createdAt=C,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=ne(this.lastLoginAt),this.creationTime=ne(this.createdAt)}_copy(C){this.createdAt=C.createdAt,this.lastLoginAt=C.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Si(F){return mn.apply(this,arguments)}function mn(){return(mn=(0,v.Z)(function*(F){var C;const w=F.auth,U=yield F.getIdToken(),De=yield Cn(F,D(w,{idToken:U}));et(null==De?void 0:De.users.length,w,"internal-error");const Ne=De.users[0];F._notifyReloadListener(Ne);const cn=(null===(C=Ne.providerUserInfo)||void 0===C?void 0:C.length)?$(Ne.providerUserInfo):[],Ln=Dt(F.providerData,cn),er=!!F.isAnonymous&&!(F.email&&Ne.passwordHash||(null==Ln?void 0:Ln.length)),ar={uid:Ne.localId,displayName:Ne.displayName||null,photoURL:Ne.photoUrl||null,email:Ne.email||null,emailVerified:Ne.emailVerified||!1,phoneNumber:Ne.phoneNumber||null,tenantId:Ne.tenantId||null,providerData:Ln,metadata:new Oi(Ne.createdAt,Ne.lastLoginAt),isAnonymous:er};Object.assign(F,ar)})).apply(this,arguments)}function ci(){return(ci=(0,v.Z)(function*(F){const C=(0,I.m9)(F);yield Si(C),yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)})).apply(this,arguments)}function Dt(F,C){return[...F.filter(U=>!C.some(De=>De.providerId===U.providerId)),...C]}function $(F){return F.map(C=>{var{providerId:w}=C,U=(0,g._T)(C,["providerId"]);return{providerId:w,uid:U.rawId||"",displayName:U.displayName||null,email:U.email||null,phoneNumber:U.phoneNumber||null,photoURL:U.photoUrl||null}})}function x(){return(x=(0,v.Z)(function*(F,C){const w=yield ot(F,{},(0,v.Z)(function*(){const U=(0,I.xO)({grant_type:"refresh_token",refresh_token:C}).slice(1),{tokenApiHost:De,apiKey:Ne}=F.config,cn=bt(F,De,"/v1/token",`key=${Ne}`),Ln=yield F._getAdditionalHeaders();return Ln["Content-Type"]="application/x-www-form-urlencoded",Kt.fetch()(cn,{method:"POST",headers:Ln,body:U})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(C){et(C.idToken,"internal-error"),et(void 0!==C.idToken,"internal-error"),et(void 0!==C.refreshToken,"internal-error");const w="expiresIn"in C&&void 0!==C.expiresIn?Number(C.expiresIn):function Qe(F){const C=rn(F);return et(C,"internal-error"),et(void 0!==C.exp,"internal-error"),et(void 0!==C.iat,"internal-error"),Number(C.exp)-Number(C.iat)}(C.idToken);this.updateTokensAndExpiration(C.idToken,C.refreshToken,w)}getToken(C,w=!1){var U=this;return(0,v.Z)(function*(){return et(!U.accessToken||U.refreshToken,C,"user-token-expired"),w||!U.accessToken||U.isExpired?U.refreshToken?(yield U.refresh(C,U.refreshToken),U.accessToken):null:U.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(C,w){var U=this;return(0,v.Z)(function*(){const{accessToken:De,refreshToken:Ne,expiresIn:cn}=yield function O(F,C){return x.apply(this,arguments)}(C,w);U.updateTokensAndExpiration(De,Ne,Number(cn))})()}updateTokensAndExpiration(C,w,U){this.refreshToken=w||null,this.accessToken=C||null,this.expirationTime=Date.now()+1e3*U}static fromJSON(C,w){const{refreshToken:U,accessToken:De,expirationTime:Ne}=w,cn=new oe;return U&&(et("string"==typeof U,"internal-error",{appName:C}),cn.refreshToken=U),De&&(et("string"==typeof De,"internal-error",{appName:C}),cn.accessToken=De),Ne&&(et("number"==typeof Ne,"internal-error",{appName:C}),cn.expirationTime=Ne),cn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(C){this.accessToken=C.accessToken,this.refreshToken=C.refreshToken,this.expirationTime=C.expirationTime}_clone(){return Object.assign(new oe,this.toJSON())}_performRefresh(){return en("not implemented")}}function re(F,C){et("string"==typeof F||void 0===F,"internal-error",{appName:C})}class de{constructor(C){var{uid:w,auth:U,stsTokenManager:De}=C,Ne=(0,g._T)(C,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ri(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=U,this.stsTokenManager=De,this.accessToken=De.accessToken,this.displayName=Ne.displayName||null,this.email=Ne.email||null,this.emailVerified=Ne.emailVerified||!1,this.phoneNumber=Ne.phoneNumber||null,this.photoURL=Ne.photoURL||null,this.isAnonymous=Ne.isAnonymous||!1,this.tenantId=Ne.tenantId||null,this.providerData=Ne.providerData?[...Ne.providerData]:[],this.metadata=new Oi(Ne.createdAt||void 0,Ne.lastLoginAt||void 0)}getIdToken(C){var w=this;return(0,v.Z)(function*(){const U=yield Cn(w,w.stsTokenManager.getToken(w.auth,C));return et(U,w.auth,"internal-error"),w.accessToken!==U&&(w.accessToken=U,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),U})()}getIdTokenResult(C){return function xe(F){return pt.apply(this,arguments)}(this,C)}reload(){return function _i(F){return ci.apply(this,arguments)}(this)}_assign(C){this!==C&&(et(this.uid===C.uid,this.auth,"internal-error"),this.displayName=C.displayName,this.photoURL=C.photoURL,this.email=C.email,this.emailVerified=C.emailVerified,this.phoneNumber=C.phoneNumber,this.isAnonymous=C.isAnonymous,this.tenantId=C.tenantId,this.providerData=C.providerData.map(w=>Object.assign({},w)),this.metadata._copy(C.metadata),this.stsTokenManager._assign(C.stsTokenManager))}_clone(C){return new de(Object.assign(Object.assign({},this),{auth:C,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(C){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=C,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(C){this.reloadListener?this.reloadListener(C):this.reloadUserInfo=C}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(C,w=!1){var U=this;return(0,v.Z)(function*(){let De=!1;C.idToken&&C.idToken!==U.stsTokenManager.accessToken&&(U.stsTokenManager.updateFromServerResponse(C),De=!0),w&&(yield Si(U)),yield U.auth._persistUserIfCurrent(U),De&&U.auth._notifyListenersIfCurrent(U)})()}delete(){var C=this;return(0,v.Z)(function*(){const w=yield C.getIdToken();return yield Cn(C,function Dn(F,C){return ft.apply(this,arguments)}(C.auth,{idToken:w})),C.stsTokenManager.clearRefreshToken(),C.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(C=>Object.assign({},C)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(C,w){var U,De,Ne,cn,Ln,Ei,zi,er;const ar=null!==(U=w.displayName)&&void 0!==U?U:void 0,rs=null!==(De=w.email)&&void 0!==De?De:void 0,qa=null!==(Ne=w.phoneNumber)&&void 0!==Ne?Ne:void 0,Hu=null!==(cn=w.photoURL)&&void 0!==cn?cn:void 0,Qs=null!==(Ln=w.tenantId)&&void 0!==Ln?Ln:void 0,hd=null!==(Ei=w._redirectEventId)&&void 0!==Ei?Ei:void 0,Yd=null!==(zi=w.createdAt)&&void 0!==zi?zi:void 0,Up=null!==(er=w.lastLoginAt)&&void 0!==er?er:void 0,{uid:kn,emailVerified:Xs,isAnonymous:Ga,providerData:Zd,stsTokenManager:zl}=w;et(kn&&zl,C,"internal-error");const Eu=oe.fromJSON(this.name,zl);et("string"==typeof kn,C,"internal-error"),re(ar,C.name),re(rs,C.name),et("boolean"==typeof Xs,C,"internal-error"),et("boolean"==typeof Ga,C,"internal-error"),re(qa,C.name),re(Hu,C.name),re(Qs,C.name),re(hd,C.name),re(Yd,C.name),re(Up,C.name);const Uu=new de({uid:kn,auth:C,email:rs,emailVerified:Xs,displayName:ar,isAnonymous:Ga,photoURL:Hu,phoneNumber:qa,tenantId:Qs,stsTokenManager:Eu,createdAt:Yd,lastLoginAt:Up});return Zd&&Array.isArray(Zd)&&(Uu.providerData=Zd.map(Wu=>Object.assign({},Wu))),hd&&(Uu._redirectEventId=hd),Uu}static _fromIdTokenResponse(C,w,U=!1){return(0,v.Z)(function*(){const De=new oe;De.updateFromServerResponse(w);const Ne=new de({uid:w.localId,auth:C,stsTokenManager:De,isAnonymous:U});return yield Si(Ne),Ne})()}}const We=(()=>{class F{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(w,U){var De=this;return(0,v.Z)(function*(){De.storage[w]=U})()}_get(w){var U=this;return(0,v.Z)(function*(){const De=U.storage[w];return void 0===De?null:De})()}_remove(w){var U=this;return(0,v.Z)(function*(){delete U.storage[w]})()}_addListener(w,U){}_removeListener(w,U){}}return F.type="NONE",F})();function zt(F,C,w){return`firebase:${F}:${C}:${w}`}class Et{constructor(C,w,U){this.persistence=C,this.auth=w,this.userKey=U;const{config:De,name:Ne}=this.auth;this.fullUserKey=zt(this.userKey,De.apiKey,Ne),this.fullPersistenceKey=zt("persistence",De.apiKey,Ne),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(C){return this.persistence._set(this.fullUserKey,C.toJSON())}getCurrentUser(){var C=this;return(0,v.Z)(function*(){const w=yield C.persistence._get(C.fullUserKey);return w?de._fromJSON(C.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(C){var w=this;return(0,v.Z)(function*(){if(w.persistence===C)return;const U=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=C,U?w.setCurrentUser(U):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(C,w,U="authUser"){return(0,v.Z)(function*(){if(!w.length)return new Et(Ut(We),C,U);const De=(yield Promise.all(w.map(function(){var zi=(0,v.Z)(function*(er){if(yield er._isAvailable())return er});return function(er){return zi.apply(this,arguments)}}()))).filter(zi=>zi);let Ne=De[0]||Ut(We);const cn=zt(U,C.config.apiKey,C.name);let Ln=null;for(const zi of w)try{const er=yield zi._get(cn);if(er){const ar=de._fromJSON(C,er);zi!==Ne&&(Ln=ar),Ne=zi;break}}catch(er){}const Ei=De.filter(zi=>zi._shouldAllowMigration);return Ne._shouldAllowMigration&&Ei.length?(Ne=Ei[0],Ln&&(yield Ne._set(cn,Ln.toJSON())),yield Promise.all(w.map(function(){var zi=(0,v.Z)(function*(er){if(er!==Ne)try{yield er._remove(cn)}catch(ar){}});return function(er){return zi.apply(this,arguments)}}())),new Et(Ne,C,U)):new Et(Ne,C,U)})()}}function An(F){const C=F.toLowerCase();if(C.includes("opera/")||C.includes("opr/")||C.includes("opios/"))return"Opera";if(wt(C))return"IEMobile";if(C.includes("msie")||C.includes("trident/"))return"IE";if(C.includes("edge/"))return"Edge";if(Gt(C))return"Firefox";if(C.includes("silk/"))return"Silk";if(Kn(C))return"Blackberry";if(vi(C))return"Webos";if(_t(C))return"Safari";if((C.includes("chrome/")||ct(C))&&!C.includes("edge/"))return"Chrome";if(dn(C))return"Android";{const U=F.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==U?void 0:U.length))return U[1]}return"Other"}function Gt(F=(0,I.z$)()){return/firefox\//i.test(F)}function _t(F=(0,I.z$)()){const C=F.toLowerCase();return C.includes("safari/")&&!C.includes("chrome/")&&!C.includes("crios/")&&!C.includes("android")}function ct(F=(0,I.z$)()){return/crios\//i.test(F)}function wt(F=(0,I.z$)()){return/iemobile/i.test(F)}function dn(F=(0,I.z$)()){return/android/i.test(F)}function Kn(F=(0,I.z$)()){return/blackberry/i.test(F)}function vi(F=(0,I.z$)()){return/webos/i.test(F)}function $i(F=(0,I.z$)()){return/iphone|ipad|ipod/i.test(F)}function Hn(F=(0,I.z$)()){return $i(F)||dn(F)||vi(F)||Kn(F)||/windows phone/i.test(F)||wt(F)}function yi(F,C=[]){let w;switch(F){case"Browser":w=An((0,I.z$)());break;case"Worker":w=`${An((0,I.z$)())}-${F}`;break;default:w=F}const U=C.length?C.join(","):"FirebaseCore-web";return`${w}/JsCore/${q.SDK_VERSION}/${U}`}class Zi{constructor(C,w,U){this.app=C,this.heartbeatServiceProvider=w,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hi(this),this.idTokenSubscription=new Hi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=C.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(C,w){var U=this;return w&&(this._popupRedirectResolver=Ut(w)),this._initializationPromise=this.queue((0,v.Z)(function*(){var De,Ne;if(!U._deleted&&(U.persistenceManager=yield Et.create(U,C),!U._deleted)){if(null===(De=U._popupRedirectResolver)||void 0===De?void 0:De._shouldInitProactively)try{yield U._popupRedirectResolver._initialize(U)}catch(cn){}yield U.initializeCurrentUser(w),U.lastNotifiedUid=(null===(Ne=U.currentUser)||void 0===Ne?void 0:Ne.uid)||null,!U._deleted&&(U._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var C=this;return(0,v.Z)(function*(){if(C._deleted)return;const w=yield C.assertedPersistence.getCurrentUser();if(C.currentUser||w){if(C.currentUser&&w&&C.currentUser.uid===w.uid)return C._currentUser._assign(w),void(yield C.currentUser.getIdToken());yield C._updateCurrentUser(w)}})()}initializeCurrentUser(C){var w=this;return(0,v.Z)(function*(){var U;let De=yield w.assertedPersistence.getCurrentUser();if(C&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const Ne=null===(U=w.redirectUser)||void 0===U?void 0:U._redirectEventId,cn=null==De?void 0:De._redirectEventId,Ln=yield w.tryRedirectSignIn(C);(!Ne||Ne===cn)&&(null==Ln?void 0:Ln.user)&&(De=Ln.user)}return De?De._redirectEventId?(et(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===De._redirectEventId?w.directlySetCurrentUser(De):w.reloadAndSetCurrentUserOrClear(De)):w.reloadAndSetCurrentUserOrClear(De):w.directlySetCurrentUser(null)})()}tryRedirectSignIn(C){var w=this;return(0,v.Z)(function*(){let U=null;try{U=yield w._popupRedirectResolver._completeRedirectFn(w,C,!0)}catch(De){yield w._setRedirectUser(null)}return U})()}reloadAndSetCurrentUserOrClear(C){var w=this;return(0,v.Z)(function*(){try{yield Si(C)}catch(U){if("auth/network-request-failed"!==U.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(C)})()}useDeviceLanguage(){this.languageCode=function ut(){if("undefined"==typeof navigator)return null;const F=navigator;return F.languages&&F.languages[0]||F.language||null}()}_delete(){var C=this;return(0,v.Z)(function*(){C._deleted=!0})()}updateCurrentUser(C){var w=this;return(0,v.Z)(function*(){const U=C?(0,I.m9)(C):null;return U&&et(U.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(U&&U._clone(w))})()}_updateCurrentUser(C){var w=this;return(0,v.Z)(function*(){if(!w._deleted)return C&&et(w.tenantId===C.tenantId,w,"tenant-id-mismatch"),w.queue((0,v.Z)(function*(){yield w.directlySetCurrentUser(C),w.notifyAuthListeners()}))})()}signOut(){var C=this;return(0,v.Z)(function*(){return(C.redirectPersistenceManager||C._popupRedirectResolver)&&(yield C._setRedirectUser(null)),C._updateCurrentUser(null)})()}setPersistence(C){var w=this;return this.queue((0,v.Z)(function*(){yield w.assertedPersistence.setPersistence(Ut(C))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(C){this._errorFactory=new I.LL("auth","Firebase",C())}onAuthStateChanged(C,w,U){return this.registerStateListener(this.authStateSubscription,C,w,U)}onIdTokenChanged(C,w,U){return this.registerStateListener(this.idTokenSubscription,C,w,U)}toJSON(){var C;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(C=this._currentUser)||void 0===C?void 0:C.toJSON()}}_setRedirectUser(C,w){var U=this;return(0,v.Z)(function*(){const De=yield U.getOrInitRedirectPersistenceManager(w);return null===C?De.removeCurrentUser():De.setCurrentUser(C)})()}getOrInitRedirectPersistenceManager(C){var w=this;return(0,v.Z)(function*(){if(!w.redirectPersistenceManager){const U=C&&Ut(C)||w._popupRedirectResolver;et(U,w,"argument-error"),w.redirectPersistenceManager=yield Et.create(w,[Ut(U._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(C){var w=this;return(0,v.Z)(function*(){var U,De;return w._isInitialized&&(yield w.queue((0,v.Z)(function*(){}))),(null===(U=w._currentUser)||void 0===U?void 0:U._redirectEventId)===C?w._currentUser:(null===(De=w.redirectUser)||void 0===De?void 0:De._redirectEventId)===C?w.redirectUser:null})()}_persistUserIfCurrent(C){var w=this;return(0,v.Z)(function*(){if(C===w.currentUser)return w.queue((0,v.Z)(function*(){return w.directlySetCurrentUser(C)}))})()}_notifyListenersIfCurrent(C){C===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var C,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const U=null!==(w=null===(C=this.currentUser)||void 0===C?void 0:C.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==U&&(this.lastNotifiedUid=U,this.authStateSubscription.next(this.currentUser))}registerStateListener(C,w,U,De){if(this._deleted)return()=>{};const Ne="function"==typeof w?w:w.next.bind(w),cn=this._isInitialized?Promise.resolve():this._initializationPromise;return et(cn,this,"internal-error"),cn.then(()=>Ne(this.currentUser)),"function"==typeof w?C.addObserver(w,U,De):C.addObserver(w)}directlySetCurrentUser(C){var w=this;return(0,v.Z)(function*(){w.currentUser&&w.currentUser!==C&&(w._currentUser._stopProactiveRefresh(),C&&w.isProactiveRefreshEnabled&&C._startProactiveRefresh()),w.currentUser=C,C?yield w.assertedPersistence.setCurrentUser(C):yield w.assertedPersistence.removeCurrentUser()})()}queue(C){return this.operations=this.operations.then(C,C),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(C){!C||this.frameworks.includes(C)||(this.frameworks.push(C),this.frameworks.sort(),this.clientVersion=yi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var C=this;return(0,v.Z)(function*(){var w;const U={"X-Client-Version":C.clientVersion};C.app.options.appId&&(U["X-Firebase-gmpid"]=C.app.options.appId);const De=yield null===(w=C.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return De&&(U["X-Firebase-Client"]=De),U})()}}function $n(F){return(0,I.m9)(F)}class Hi{constructor(C){this.auth=C,this.observer=null,this.addObserver=(0,I.ne)(w=>this.observer=w)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tt(F){const C=F.indexOf(":");return C<0?"":F.substr(0,C+1)}function j(F){if(!F)return null;const C=Number(F);return isNaN(C)?null:C}class tt{constructor(C,w){this.providerId=C,this.signInMethod=w}toJSON(){return en("not implemented")}_getIdTokenResponse(C){return en("not implemented")}_linkToIdToken(C,w){return en("not implemented")}_getReauthenticationResolver(C){return en("not implemented")}}function xt(F,C){return hi.apply(this,arguments)}function hi(){return(hi=(0,v.Z)(function*(F,C){return mt(F,"POST","/v1/accounts:resetPassword",Bt(F,C))})).apply(this,arguments)}function gi(F,C){return nt.apply(this,arguments)}function nt(){return(nt=(0,v.Z)(function*(F,C){return mt(F,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Xr(F,C){return St.apply(this,arguments)}function St(){return(St=(0,v.Z)(function*(F,C){return mt(F,"POST","/v1/accounts:update",Bt(F,C))})).apply(this,arguments)}function on(){return(on=(0,v.Z)(function*(F,C){return Pt(F,"POST","/v1/accounts:signInWithPassword",Bt(F,C))})).apply(this,arguments)}function Sn(F,C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,v.Z)(function*(F,C){return mt(F,"POST","/v1/accounts:sendOobCode",Bt(F,C))})).apply(this,arguments)}function ni(F,C){return pi.apply(this,arguments)}function pi(){return(pi=(0,v.Z)(function*(F,C){return Sn(F,C)})).apply(this,arguments)}function Dr(F,C){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,v.Z)(function*(F,C){return Sn(F,C)})).apply(this,arguments)}function nr(F,C){return hr.apply(this,arguments)}function hr(){return(hr=(0,v.Z)(function*(F,C){return Sn(F,C)})).apply(this,arguments)}function _o(F,C){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,v.Z)(function*(F,C){return Sn(F,C)})).apply(this,arguments)}function vr(){return(vr=(0,v.Z)(function*(F,C){return Pt(F,"POST","/v1/accounts:signInWithEmailLink",Bt(F,C))})).apply(this,arguments)}function Ls(){return(Ls=(0,v.Z)(function*(F,C){return Pt(F,"POST","/v1/accounts:signInWithEmailLink",Bt(F,C))})).apply(this,arguments)}class Cs extends tt{constructor(C,w,U,De=null){super("password",U),this._email=C,this._password=w,this._tenantId=De}static _fromEmailAndPassword(C,w){return new Cs(C,w,"password")}static _fromEmailAndCode(C,w,U=null){return new Cs(C,w,"emailLink",U)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(C){const w="string"==typeof C?JSON.parse(C):C;if((null==w?void 0:w.email)&&(null==w?void 0:w.password)){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(C){var w=this;return(0,v.Z)(function*(){switch(w.signInMethod){case"password":return function un(F,C){return on.apply(this,arguments)}(C,{returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Xo(F,C){return vr.apply(this,arguments)}(C,{email:w._email,oobCode:w._password});default:at(C,"internal-error")}})()}_linkToIdToken(C,w){var U=this;return(0,v.Z)(function*(){switch(U.signInMethod){case"password":return gi(C,{idToken:w,returnSecureToken:!0,email:U._email,password:U._password});case"emailLink":return function Is(F,C){return Ls.apply(this,arguments)}(C,{idToken:w,email:U._email,oobCode:U._password});default:at(C,"internal-error")}})()}_getReauthenticationResolver(C){return this._getIdTokenResponse(C)}}function zr(F,C){return ia.apply(this,arguments)}function ia(){return(ia=(0,v.Z)(function*(F,C){return Pt(F,"POST","/v1/accounts:signInWithIdp",Bt(F,C))})).apply(this,arguments)}class tn extends tt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(C){const w=new tn(C.providerId,C.signInMethod);return C.idToken||C.accessToken?(C.idToken&&(w.idToken=C.idToken),C.accessToken&&(w.accessToken=C.accessToken),C.nonce&&!C.pendingToken&&(w.nonce=C.nonce),C.pendingToken&&(w.pendingToken=C.pendingToken)):C.oauthToken&&C.oauthTokenSecret?(w.accessToken=C.oauthToken,w.secret=C.oauthTokenSecret):at("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(C){const w="string"==typeof C?JSON.parse(C):C,{providerId:U,signInMethod:De}=w,Ne=(0,g._T)(w,["providerId","signInMethod"]);if(!U||!De)return null;const cn=new tn(U,De);return cn.idToken=Ne.idToken||void 0,cn.accessToken=Ne.accessToken||void 0,cn.secret=Ne.secret,cn.nonce=Ne.nonce,cn.pendingToken=Ne.pendingToken||null,cn}_getIdTokenResponse(C){return zr(C,this.buildRequest())}_linkToIdToken(C,w){const U=this.buildRequest();return U.idToken=w,zr(C,U)}_getReauthenticationResolver(C){const w=this.buildRequest();return w.autoCreate=!1,zr(C,w)}buildRequest(){const C={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)C.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),C.postBody=(0,I.xO)(w)}return C}}function Xt(F,C){return yn.apply(this,arguments)}function yn(){return(yn=(0,v.Z)(function*(F,C){return mt(F,"POST","/v1/accounts:sendVerificationCode",Bt(F,C))})).apply(this,arguments)}function oi(){return(oi=(0,v.Z)(function*(F,C){return Pt(F,"POST","/v1/accounts:signInWithPhoneNumber",Bt(F,C))})).apply(this,arguments)}function wr(){return(wr=(0,v.Z)(function*(F,C){const w=yield Pt(F,"POST","/v1/accounts:signInWithPhoneNumber",Bt(F,C));if(w.temporaryProof)throw Xn(F,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const $r={USER_NOT_FOUND:"user-not-found"};function Jo(){return(Jo=(0,v.Z)(function*(F,C){return Pt(F,"POST","/v1/accounts:signInWithPhoneNumber",Bt(F,Object.assign(Object.assign({},C),{operation:"REAUTH"})),$r)})).apply(this,arguments)}class Mo extends tt{constructor(C){super("phone","phone"),this.params=C}static _fromVerification(C,w){return new Mo({verificationId:C,verificationCode:w})}static _fromTokenResponse(C,w){return new Mo({phoneNumber:C,temporaryProof:w})}_getIdTokenResponse(C){return function Wn(F,C){return oi.apply(this,arguments)}(C,this._makeVerificationRequest())}_linkToIdToken(C,w){return function ki(F,C){return wr.apply(this,arguments)}(C,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(C){return function Sr(F,C){return Jo.apply(this,arguments)}(C,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:C,phoneNumber:w,verificationId:U,verificationCode:De}=this.params;return C&&w?{temporaryProof:C,phoneNumber:w}:{sessionInfo:U,code:De}}toJSON(){const C={providerId:this.providerId};return this.params.phoneNumber&&(C.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(C.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(C.verificationCode=this.params.verificationCode),this.params.verificationId&&(C.verificationId=this.params.verificationId),C}static fromJSON(C){"string"==typeof C&&(C=JSON.parse(C));const{verificationId:w,verificationCode:U,phoneNumber:De,temporaryProof:Ne}=C;return U||w||De||Ne?new Mo({verificationId:w,verificationCode:U,phoneNumber:De,temporaryProof:Ne}):null}}class Ao{constructor(C){var w,U,De,Ne,cn,Ln;const Ei=(0,I.zd)((0,I.pd)(C)),zi=null!==(w=Ei.apiKey)&&void 0!==w?w:null,er=null!==(U=Ei.oobCode)&&void 0!==U?U:null,ar=function ko(F){switch(F){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(De=Ei.mode)&&void 0!==De?De:null);et(zi&&er&&ar,"argument-error"),this.apiKey=zi,this.operation=ar,this.code=er,this.continueUrl=null!==(Ne=Ei.continueUrl)&&void 0!==Ne?Ne:null,this.languageCode=null!==(cn=Ei.languageCode)&&void 0!==cn?cn:null,this.tenantId=null!==(Ln=Ei.tenantId)&&void 0!==Ln?Ln:null}static parseLink(C){const w=function ks(F){const C=(0,I.zd)((0,I.pd)(F)).link,w=C?(0,I.zd)((0,I.pd)(C)).deep_link_id:null,U=(0,I.zd)((0,I.pd)(F)).deep_link_id;return(U?(0,I.zd)((0,I.pd)(U)).link:null)||U||w||C||F}(C);try{return new Ao(w)}catch(U){return null}}}let as=(()=>{class F{constructor(){this.providerId=F.PROVIDER_ID}static credential(w,U){return Cs._fromEmailAndPassword(w,U)}static credentialWithLink(w,U){const De=Ao.parseLink(U);return et(De,"argument-error"),Cs._fromEmailAndCode(w,De.code,De.tenantId)}}return F.PROVIDER_ID="password",F.EMAIL_PASSWORD_SIGN_IN_METHOD="password",F.EMAIL_LINK_SIGN_IN_METHOD="emailLink",F})();class $o{constructor(C){this.providerId=C,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(C){this.defaultLanguageCode=C}setCustomParameters(C){return this.customParameters=C,this}getCustomParameters(){return this.customParameters}}class xo extends $o{constructor(){super(...arguments),this.scopes=[]}addScope(C){return this.scopes.includes(C)||this.scopes.push(C),this}getScopes(){return[...this.scopes]}}class zs extends xo{static credentialFromJSON(C){const w="string"==typeof C?JSON.parse(C):C;return et("providerId"in w&&"signInMethod"in w,"argument-error"),tn._fromParams(w)}credential(C){return this._credential(Object.assign(Object.assign({},C),{nonce:C.rawNonce}))}_credential(C){return et(C.idToken||C.accessToken,"argument-error"),tn._fromParams(Object.assign(Object.assign({},C),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(C){return zs.oauthCredentialFromTaggedObject(C)}static credentialFromError(C){return zs.oauthCredentialFromTaggedObject(C.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:w,oauthAccessToken:U,oauthTokenSecret:De,pendingToken:Ne,nonce:cn,providerId:Ln}=C;if(!U&&!De&&!w&&!Ne||!Ln)return null;try{return new zs(Ln)._credential({idToken:w,accessToken:U,nonce:cn,pendingToken:Ne})}catch(Ei){return null}}}let Do=(()=>{class F extends xo{constructor(){super("facebook.com")}static credential(w){return tn._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return F.credentialFromTaggedObject(w)}static credentialFromError(w){return F.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return F.credential(w.oauthAccessToken)}catch(U){return null}}}return F.FACEBOOK_SIGN_IN_METHOD="facebook.com",F.PROVIDER_ID="facebook.com",F})(),Io=(()=>{class F extends xo{constructor(){super("google.com"),this.addScope("profile")}static credential(w,U){return tn._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:U})}static credentialFromResult(w){return F.credentialFromTaggedObject(w)}static credentialFromError(w){return F.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:U,oauthAccessToken:De}=w;if(!U&&!De)return null;try{return F.credential(U,De)}catch(Ne){return null}}}return F.GOOGLE_SIGN_IN_METHOD="google.com",F.PROVIDER_ID="google.com",F})(),ws=(()=>{class F extends xo{constructor(){super("github.com")}static credential(w){return tn._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return F.credentialFromTaggedObject(w)}static credentialFromError(w){return F.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return F.credential(w.oauthAccessToken)}catch(U){return null}}}return F.GITHUB_SIGN_IN_METHOD="github.com",F.PROVIDER_ID="github.com",F})();class Po extends tt{constructor(C,w){super(C,C),this.pendingToken=w}_getIdTokenResponse(C){return zr(C,this.buildRequest())}_linkToIdToken(C,w){const U=this.buildRequest();return U.idToken=w,zr(C,U)}_getReauthenticationResolver(C){const w=this.buildRequest();return w.autoCreate=!1,zr(C,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(C){const w="string"==typeof C?JSON.parse(C):C,{providerId:U,signInMethod:De,pendingToken:Ne}=w;return U&&De&&Ne&&U===De?new Po(U,Ne):null}static _create(C,w){return new Po(C,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rr extends $o{constructor(C){et(C.startsWith("saml."),"argument-error"),super(C)}static credentialFromResult(C){return Rr.samlCredentialFromTaggedObject(C)}static credentialFromError(C){return Rr.samlCredentialFromTaggedObject(C.customData||{})}static credentialFromJSON(C){const w=Po.fromJSON(C);return et(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{pendingToken:w,providerId:U}=C;if(!w||!U)return null;try{return Po._create(U,w)}catch(De){return null}}}let bs=(()=>{class F extends xo{constructor(){super("twitter.com")}static credential(w,U){return tn._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:U})}static credentialFromResult(w){return F.credentialFromTaggedObject(w)}static credentialFromError(w){return F.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:U,oauthTokenSecret:De}=w;if(!U||!De)return null;try{return F.credential(U,De)}catch(Ne){return null}}}return F.TWITTER_SIGN_IN_METHOD="twitter.com",F.PROVIDER_ID="twitter.com",F})();function Bs(F,C){return mo.apply(this,arguments)}function mo(){return(mo=(0,v.Z)(function*(F,C){return Pt(F,"POST","/v1/accounts:signUp",Bt(F,C))})).apply(this,arguments)}class vo{constructor(C){this.user=C.user,this.providerId=C.providerId,this._tokenResponse=C._tokenResponse,this.operationType=C.operationType}static _fromIdTokenResponse(C,w,U,De=!1){return(0,v.Z)(function*(){const Ne=yield de._fromIdTokenResponse(C,U,De),cn=ds(U);return new vo({user:Ne,providerId:cn,_tokenResponse:U,operationType:w})})()}static _forOperation(C,w,U){return(0,v.Z)(function*(){yield C._updateTokensIfNecessary(U,!0);const De=ds(U);return new vo({user:C,providerId:De,_tokenResponse:U,operationType:w})})()}}function ds(F){return F.providerId?F.providerId:"phoneNumber"in F?"phone":null}function Es(){return(Es=(0,v.Z)(function*(F){var C;const w=$n(F);if(yield w._initializationPromise,null===(C=w.currentUser)||void 0===C?void 0:C.isAnonymous)return new vo({user:w.currentUser,providerId:null,operationType:"signIn"});const U=yield Bs(w,{returnSecureToken:!0}),De=yield vo._fromIdTokenResponse(w,"signIn",U,!0);return yield w._updateCurrentUser(De.user),De})).apply(this,arguments)}class es extends I.ZR{constructor(C,w,U,De){var Ne;super(w.code,w.message),this.operationType=U,this.user=De,Object.setPrototypeOf(this,es.prototype),this.customData={appName:C.name,tenantId:null!==(Ne=C.tenantId)&&void 0!==Ne?Ne:void 0,_serverResponse:w.customData._serverResponse,operationType:U}}static _fromErrorAndOperation(C,w,U,De){return new es(C,w,U,De)}}function Ko(F,C,w,U){return("reauthenticate"===C?w._getReauthenticationResolver(F):w._getIdTokenResponse(F)).catch(Ne=>{throw"auth/multi-factor-auth-required"===Ne.code?es._fromErrorAndOperation(F,Ne,C,U):Ne})}function Bo(F){return new Set(F.map(({providerId:C})=>C).filter(C=>!!C))}function ls(){return(ls=(0,v.Z)(function*(F,C){const w=(0,I.m9)(F);yield Ge(!0,w,C);const{providerUserInfo:U}=yield Rn(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[C]}),De=Bo(U||[]);return w.providerData=w.providerData.filter(Ne=>De.has(Ne.providerId)),De.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function Mr(F,C){return fe.apply(this,arguments)}function fe(){return(fe=(0,v.Z)(function*(F,C,w=!1){const U=yield Cn(F,C._linkToIdToken(F.auth,yield F.getIdToken()),w);return vo._forOperation(F,"link",U)})).apply(this,arguments)}function Ge(F,C,w){return pe.apply(this,arguments)}function pe(){return(pe=(0,v.Z)(function*(F,C,w){yield Si(C);const De=!1===F?"provider-already-linked":"no-such-provider";et(Bo(C.providerData).has(w)===F,C.auth,De)})).apply(this,arguments)}function qe(F,C){return $t.apply(this,arguments)}function $t(){return($t=(0,v.Z)(function*(F,C,w=!1){const{auth:U}=F,De="reauthenticate";try{const Ne=yield Cn(F,Ko(U,De,C,F),w);et(Ne.idToken,U,"internal-error");const cn=rn(Ne.idToken);et(cn,U,"internal-error");const{sub:Ln}=cn;return et(F.uid===Ln,U,"user-mismatch"),vo._forOperation(F,De,Ne)}catch(Ne){throw"auth/user-not-found"===(null==Ne?void 0:Ne.code)&&at(U,"user-mismatch"),Ne}})).apply(this,arguments)}function On(F,C){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,v.Z)(function*(F,C,w=!1){const U="signIn",De=yield Ko(F,U,C),Ne=yield vo._fromIdTokenResponse(F,U,De);return w||(yield F._updateCurrentUser(Ne.user)),Ne})).apply(this,arguments)}function ui(F,C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,v.Z)(function*(F,C){return On($n(F),C)})).apply(this,arguments)}function Pr(F,C){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,v.Z)(function*(F,C){const w=(0,I.m9)(F);return yield Ge(!1,w,C.providerId),Mr(w,C)})).apply(this,arguments)}function br(F,C){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,v.Z)(function*(F,C){return qe((0,I.m9)(F),C)})).apply(this,arguments)}function Fr(F,C){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,v.Z)(function*(F,C){return Pt(F,"POST","/v1/accounts:signInWithCustomToken",Bt(F,C))})).apply(this,arguments)}function ue(){return(ue=(0,v.Z)(function*(F,C){const w=$n(F),U=yield Fr(w,{token:C,returnSecureToken:!0}),De=yield vo._fromIdTokenResponse(w,"signIn",U);return yield w._updateCurrentUser(De.user),De})).apply(this,arguments)}class Q{constructor(C,w){this.factorId=C,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(C,w){return"phoneInfo"in w?$e._fromServerResponse(C,w):at(C,"internal-error")}}class $e extends Q{constructor(C){super("phone",C),this.phoneNumber=C.phoneInfo}static _fromServerResponse(C,w){return new $e(w)}}function Mn(F,C,w){var U;et((null===(U=w.url)||void 0===U?void 0:U.length)>0,F,"invalid-continue-uri"),et(void 0===w.dynamicLinkDomain||w.dynamicLinkDomain.length>0,F,"invalid-dynamic-link-domain"),C.continueUrl=w.url,C.dynamicLinkDomain=w.dynamicLinkDomain,C.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(et(w.iOS.bundleId.length>0,F,"missing-ios-bundle-id"),C.iOSBundleId=w.iOS.bundleId),w.android&&(et(w.android.packageName.length>0,F,"missing-android-pkg-name"),C.androidInstallApp=w.android.installApp,C.androidMinimumVersionCode=w.android.minimumVersion,C.androidPackageName=w.android.packageName)}function Br(){return(Br=(0,v.Z)(function*(F,C,w){const U=(0,I.m9)(F),De={requestType:"PASSWORD_RESET",email:C};w&&Mn(U,De,w),yield Dr(U,De)})).apply(this,arguments)}function Os(){return(Os=(0,v.Z)(function*(F,C,w){yield xt((0,I.m9)(F),{oobCode:C,newPassword:w})})).apply(this,arguments)}function Yn(){return(Yn=(0,v.Z)(function*(F,C){yield Xr((0,I.m9)(F),{oobCode:C})})).apply(this,arguments)}function Ri(F,C){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,v.Z)(function*(F,C){const w=(0,I.m9)(F),U=yield xt(w,{oobCode:C}),De=U.requestType;switch(et(De,w,"internal-error"),De){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":et(U.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":et(U.mfaInfo,w,"internal-error");default:et(U.email,w,"internal-error")}let Ne=null;return U.mfaInfo&&(Ne=Q._fromServerResponse($n(w),U.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===U.requestType?U.newEmail:U.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===U.requestType?U.email:U.newEmail)||null,multiFactorInfo:Ne},operation:De}})).apply(this,arguments)}function xa(){return(xa=(0,v.Z)(function*(F,C){const{data:w}=yield Ri((0,I.m9)(F),C);return w.email})).apply(this,arguments)}function Wo(){return(Wo=(0,v.Z)(function*(F,C,w){const U=$n(F),De=yield Bs(U,{returnSecureToken:!0,email:C,password:w}),Ne=yield vo._fromIdTokenResponse(U,"signIn",De);return yield U._updateCurrentUser(Ne.user),Ne})).apply(this,arguments)}function ra(){return(ra=(0,v.Z)(function*(F,C,w){const U=(0,I.m9)(F),De={requestType:"EMAIL_SIGNIN",email:C};et(w.handleCodeInApp,U,"argument-error"),w&&Mn(U,De,w),yield nr(U,De)})).apply(this,arguments)}function Yo(){return(Yo=(0,v.Z)(function*(F,C,w){const U=(0,I.m9)(F),De=as.credentialWithLink(C,w||an());return et(De._tenantId===(U.tenantId||null),U,"tenant-id-mismatch"),ui(U,De)})).apply(this,arguments)}function ao(F,C){return So.apply(this,arguments)}function So(){return(So=(0,v.Z)(function*(F,C){return mt(F,"POST","/v1/accounts:createAuthUri",Bt(F,C))})).apply(this,arguments)}function Ie(){return(Ie=(0,v.Z)(function*(F,C){const U={identifier:C,continueUri:Bn()?an():"http://localhost"},{signinMethods:De}=yield ao((0,I.m9)(F),U);return De||[]})).apply(this,arguments)}function G(){return(G=(0,v.Z)(function*(F,C){const w=(0,I.m9)(F),De={requestType:"VERIFY_EMAIL",idToken:yield F.getIdToken()};C&&Mn(w.auth,De,C);const{email:Ne}=yield ni(w.auth,De);Ne!==F.email&&(yield F.reload())})).apply(this,arguments)}function Fe(){return(Fe=(0,v.Z)(function*(F,C,w){const U=(0,I.m9)(F),Ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield F.getIdToken(),newEmail:C};w&&Mn(U.auth,Ne,w);const{email:cn}=yield _o(U.auth,Ne);cn!==F.email&&(yield F.reload())})).apply(this,arguments)}function lt(F,C){return kt.apply(this,arguments)}function kt(){return(kt=(0,v.Z)(function*(F,C){return mt(F,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function pn(){return(pn=(0,v.Z)(function*(F,{displayName:C,photoURL:w}){if(void 0===C&&void 0===w)return;const U=(0,I.m9)(F),Ne={idToken:yield U.getIdToken(),displayName:C,photoUrl:w,returnSecureToken:!0},cn=yield Cn(U,lt(U.auth,Ne));U.displayName=cn.displayName||null,U.photoURL=cn.photoUrl||null;const Ln=U.providerData.find(({providerId:Ei})=>"password"===Ei);Ln&&(Ln.displayName=U.displayName,Ln.photoURL=U.photoURL),yield U._updateTokensIfNecessary(cn)})).apply(this,arguments)}function Bi(F,C,w){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,v.Z)(function*(F,C,w){const{auth:U}=F,Ne={idToken:yield F.getIdToken(),returnSecureToken:!0};C&&(Ne.email=C),w&&(Ne.password=w);const cn=yield Cn(F,gi(U,Ne));yield F._updateTokensIfNecessary(cn,!0)})).apply(this,arguments)}class Ni{constructor(C,w,U={}){this.isNewUser=C,this.providerId=w,this.profile=U}}class ir extends Ni{constructor(C,w,U,De){super(C,w,U),this.username=De}}class Gr extends Ni{constructor(C,w){super(C,"facebook.com",w)}}class yr extends ir{constructor(C,w){super(C,"github.com",w,"string"==typeof(null==w?void 0:w.login)?null==w?void 0:w.login:null)}}class Ur extends Ni{constructor(C,w){super(C,"google.com",w)}}class Go extends ir{constructor(C,w,U){super(C,"twitter.com",w,U)}}function cr(F){const{user:C,_tokenResponse:w}=F;return C.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function _r(F){var C,w;if(!F)return null;const{providerId:U}=F,De=F.rawUserInfo?JSON.parse(F.rawUserInfo):{},Ne=F.isNewUser||"identitytoolkit#SignupNewUserResponse"===F.kind;if(!U&&(null==F?void 0:F.idToken)){const cn=null===(w=null===(C=rn(F.idToken))||void 0===C?void 0:C.firebase)||void 0===w?void 0:w.sign_in_provider;if(cn)return new Ni(Ne,"anonymous"!==cn&&"custom"!==cn?cn:null)}if(!U)return null;switch(U){case"facebook.com":return new Gr(Ne,De);case"github.com":return new yr(Ne,De);case"google.com":return new Ur(Ne,De);case"twitter.com":return new Go(Ne,De,F.screenName||null);case"custom":case"anonymous":return new Ni(Ne,null);default:return new Ni(Ne,U,De)}}(w)}class Co{constructor(C,w){this.type=C,this.credential=w}static _fromIdtoken(C){return new Co("enroll",C)}static _fromMfaPendingCredential(C){return new Co("signin",C)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(C){var w,U;if(null==C?void 0:C.multiFactorSession){if(null===(w=C.multiFactorSession)||void 0===w?void 0:w.pendingCredential)return Co._fromMfaPendingCredential(C.multiFactorSession.pendingCredential);if(null===(U=C.multiFactorSession)||void 0===U?void 0:U.idToken)return Co._fromIdtoken(C.multiFactorSession.idToken)}return null}}class xs{constructor(C,w,U){this.session=C,this.hints=w,this.signInResolver=U}static _fromError(C,w){const U=$n(C),De=w.customData._serverResponse,Ne=(De.mfaInfo||[]).map(Ln=>Q._fromServerResponse(U,Ln));et(De.mfaPendingCredential,U,"internal-error");const cn=Co._fromMfaPendingCredential(De.mfaPendingCredential);return new xs(cn,Ne,function(){var Ln=(0,v.Z)(function*(Ei){const zi=yield Ei._process(U,cn);delete De.mfaInfo,delete De.mfaPendingCredential;const er=Object.assign(Object.assign({},De),{idToken:zi.idToken,refreshToken:zi.refreshToken});switch(w.operationType){case"signIn":const ar=yield vo._fromIdTokenResponse(U,w.operationType,er);return yield U._updateCurrentUser(ar.user),ar;case"reauthenticate":return et(w.user,U,"internal-error"),vo._forOperation(w.user,w.operationType,er);default:at(U,"internal-error")}});return function(Ei){return Ln.apply(this,arguments)}}())}resolveSignIn(C){var w=this;return(0,v.Z)(function*(){return w.signInResolver(C)})()}}function fi(F,C){return mt(F,"POST","/v2/accounts/mfaEnrollment:start",Bt(F,C))}class pr{constructor(C){this.user=C,this.enrolledFactors=[],C._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(U=>Q._fromServerResponse(C.auth,U)))})}static _fromUser(C){return new pr(C)}getSession(){var C=this;return(0,v.Z)(function*(){return Co._fromIdtoken(yield C.user.getIdToken())})()}enroll(C,w){var U=this;return(0,v.Z)(function*(){const De=C,Ne=yield U.getSession(),cn=yield Cn(U.user,De._process(U.user.auth,Ne,w));return yield U.user._updateTokensIfNecessary(cn),U.user.reload()})()}unenroll(C){var w=this;return(0,v.Z)(function*(){const U="string"==typeof C?C:C.uid,De=yield w.user.getIdToken(),Ne=yield Cn(w.user,function Qi(F,C){return mt(F,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(F,C))}(w.user.auth,{idToken:De,mfaEnrollmentId:U}));w.enrolledFactors=w.enrolledFactors.filter(({uid:cn})=>cn!==U),yield w.user._updateTokensIfNecessary(Ne);try{yield w.user.reload()}catch(cn){if("auth/user-token-expired"!==cn.code)throw cn}})()}}const po=new WeakMap,Er="__sak";class wo{constructor(C,w){this.storageRetriever=C,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Er,"1"),this.storage.removeItem(Er),Promise.resolve(!0)):Promise.resolve(!1)}catch(C){return Promise.resolve(!1)}}_set(C,w){return this.storage.setItem(C,JSON.stringify(w)),Promise.resolve()}_get(C){const w=this.storage.getItem(C);return Promise.resolve(w?JSON.parse(w):null)}_remove(C){return this.storage.removeItem(C),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tr=(()=>{class F extends wo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,U)=>this.onStorageEvent(w,U),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wr(){const F=(0,I.z$)();return _t(F)||$i(F)}()&&function bn(){try{return!(!window||window===window.top)}catch(F){return!1}}(),this.fallbackToPolling=Hn(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const U of Object.keys(this.listeners)){const De=this.storage.getItem(U),Ne=this.localCache[U];De!==Ne&&w(U,Ne,De)}}onStorageEvent(w,U=!1){if(!w.key)return void this.forAllChangedKeys((Ln,Ei,zi)=>{this.notifyListeners(Ln,zi)});const De=w.key;if(U?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ln=this.storage.getItem(De);if(w.newValue!==Ln)null!==w.newValue?this.storage.setItem(De,w.newValue):this.storage.removeItem(De);else if(this.localCache[De]===w.newValue&&!U)return}const Ne=()=>{const Ln=this.storage.getItem(De);!U&&this.localCache[De]===Ln||this.notifyListeners(De,Ln)},cn=this.storage.getItem(De);!function qt(){return(0,I.w1)()&&10===document.documentMode}()||cn===w.newValue||w.newValue===w.oldValue?Ne():setTimeout(Ne,10)}notifyListeners(w,U){this.localCache[w]=U;const De=this.listeners[w];if(De)for(const Ne of Array.from(De))Ne(U&&JSON.parse(U))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,U,De)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:U,newValue:De}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,U){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(U)}_removeListener(w,U){this.listeners[w]&&(this.listeners[w].delete(U),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,U){var De=()=>super._set,Ne=this;return(0,v.Z)(function*(){yield De().call(Ne,w,U),Ne.localCache[w]=JSON.stringify(U)})()}_get(w){var U=()=>super._get,De=this;return(0,v.Z)(function*(){const Ne=yield U().call(De,w);return De.localCache[w]=JSON.stringify(Ne),Ne})()}_remove(w){var U=()=>super._remove,De=this;return(0,v.Z)(function*(){yield U().call(De,w),delete De.localCache[w]})()}}return F.type="LOCAL",F})(),Ho=(()=>{class F extends wo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,U){}_removeListener(w,U){}}return F.type="SESSION",F})();let Xi=(()=>{class F{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const U=this.receivers.find(Ne=>Ne.isListeningto(w));if(U)return U;const De=new F(w);return this.receivers.push(De),De}isListeningto(w){return this.eventTarget===w}handleEvent(w){var U=this;return(0,v.Z)(function*(){const De=w,{eventId:Ne,eventType:cn,data:Ln}=De.data,Ei=U.handlersMap[cn];if(!(null==Ei?void 0:Ei.size))return;De.ports[0].postMessage({status:"ack",eventId:Ne,eventType:cn});const zi=Array.from(Ei).map(function(){var ar=(0,v.Z)(function*(rs){return rs(De.origin,Ln)});return function(rs){return ar.apply(this,arguments)}}()),er=yield function xi(F){return Promise.all(F.map(function(){var C=(0,v.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(U){return{fulfilled:!1,reason:U}}});return function(w){return C.apply(this,arguments)}}()))}(zi);De.ports[0].postMessage({status:"done",eventId:Ne,eventType:cn,response:er})})()}_subscribe(w,U){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(U)}_unsubscribe(w,U){this.handlersMap[w]&&U&&this.handlersMap[w].delete(U),(!U||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return F.receivers=[],F})();function Wa(F="",C=10){let w="";for(let U=0;U<C;U++)w+=Math.floor(10*Math.random());return F+w}class bi{constructor(C){this.target=C,this.handlers=new Set}removeMessageHandler(C){C.messageChannel&&(C.messageChannel.port1.removeEventListener("message",C.onMessage),C.messageChannel.port1.close()),this.handlers.delete(C)}_send(C,w,U=50){var De=this;return(0,v.Z)(function*(){const Ne="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Ne)throw new Error("connection_unavailable");let cn,Ln;return new Promise((Ei,zi)=>{const er=Wa("",20);Ne.port1.start();const ar=setTimeout(()=>{zi(new Error("unsupported_event"))},U);Ln={messageChannel:Ne,onMessage(rs){const qa=rs;if(qa.data.eventId===er)switch(qa.data.status){case"ack":clearTimeout(ar),cn=setTimeout(()=>{zi(new Error("timeout"))},3e3);break;case"done":clearTimeout(cn),Ei(qa.data.response);break;default:clearTimeout(ar),clearTimeout(cn),zi(new Error("invalid_response"))}}},De.handlers.add(Ln),Ne.port1.addEventListener("message",Ln.onMessage),De.target.postMessage({eventType:C,eventId:er,data:w},[Ne.port2])}).finally(()=>{Ln&&De.removeMessageHandler(Ln)})})()}}function vn(){return window}function fo(){return void 0!==vn().WorkerGlobalScope&&"function"==typeof vn().importScripts}function Da(){return(Da=(0,v.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(F){return null}})).apply(this,arguments)}const H="firebaseLocalStorageDb",be="firebaseLocalStorage",Ye="fbase_key";class Ct{constructor(C){this.request=C}toPromise(){return new Promise((C,w)=>{this.request.addEventListener("success",()=>{C(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function Wt(F,C){return F.transaction([be],C?"readwrite":"readonly").objectStore(be)}function Ii(){const F=indexedDB.open(H,1);return new Promise((C,w)=>{F.addEventListener("error",()=>{w(F.error)}),F.addEventListener("upgradeneeded",()=>{const U=F.result;try{U.createObjectStore(be,{keyPath:Ye})}catch(De){w(De)}}),F.addEventListener("success",(0,v.Z)(function*(){const U=F.result;U.objectStoreNames.contains(be)?C(U):(U.close(),yield function Pn(){const F=indexedDB.deleteDatabase(H);return new Ct(F).toPromise()}(),C(yield Ii()))}))})}function di(F,C,w){return mi.apply(this,arguments)}function mi(){return(mi=(0,v.Z)(function*(F,C,w){const U=Wt(F,!0).put({[Ye]:C,value:w});return new Ct(U).toPromise()})).apply(this,arguments)}function Ji(){return(Ji=(0,v.Z)(function*(F,C){const w=Wt(F,!1).get(C),U=yield new Ct(w).toPromise();return void 0===U?null:U.value})).apply(this,arguments)}function Gi(F,C){const w=Wt(F,!0).delete(C);return new Ct(w).toPromise()}const us=(()=>{class F{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,v.Z)(function*(){return w.db||(w.db=yield Ii()),w.db})()}_withRetries(w){var U=this;return(0,v.Z)(function*(){let De=0;for(;;)try{const Ne=yield U._openDb();return yield w(Ne)}catch(Ne){if(De++>3)throw Ne;U.db&&(U.db.close(),U.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,v.Z)(function*(){return fo()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,v.Z)(function*(){w.receiver=Xi._getInstance(function W(){return fo()?self:null}()),w.receiver._subscribe("keyChanged",function(){var U=(0,v.Z)(function*(De,Ne){return{keyProcessed:(yield w._poll()).includes(Ne.key)}});return function(De,Ne){return U.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var U=(0,v.Z)(function*(De,Ne){return["keyChanged"]});return function(De,Ne){return U.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,v.Z)(function*(){var U,De;if(w.activeServiceWorker=yield function Ja(){return Da.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new bi(w.activeServiceWorker);const Ne=yield w.sender._send("ping",{},800);!Ne||(null===(U=Ne[0])||void 0===U?void 0:U.fulfilled)&&(null===(De=Ne[0])||void 0===De?void 0:De.value.includes("keyChanged"))&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var U=this;return(0,v.Z)(function*(){if(U.sender&&U.activeServiceWorker&&function Z(){var F;return(null===(F=null==navigator?void 0:navigator.serviceWorker)||void 0===F?void 0:F.controller)||null}()===U.activeServiceWorker)try{yield U.sender._send("keyChanged",{key:w},U.serviceWorkerReceiverAvailable?800:50)}catch(De){}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const w=yield Ii();return yield di(w,Er,"1"),yield Gi(w,Er),!0}catch(w){}return!1})()}_withPendingWrite(w){var U=this;return(0,v.Z)(function*(){U.pendingWrites++;try{yield w()}finally{U.pendingWrites--}})()}_set(w,U){var De=this;return(0,v.Z)(function*(){return De._withPendingWrite((0,v.Z)(function*(){return yield De._withRetries(Ne=>di(Ne,w,U)),De.localCache[w]=U,De.notifyServiceWorker(w)}))})()}_get(w){var U=this;return(0,v.Z)(function*(){const De=yield U._withRetries(Ne=>function Zr(F,C){return Ji.apply(this,arguments)}(Ne,w));return U.localCache[w]=De,De})()}_remove(w){var U=this;return(0,v.Z)(function*(){return U._withPendingWrite((0,v.Z)(function*(){return yield U._withRetries(De=>Gi(De,w)),delete U.localCache[w],U.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,v.Z)(function*(){const U=yield w._withRetries(cn=>{const Ln=Wt(cn,!1).getAll();return new Ct(Ln).toPromise()});if(!U)return[];if(0!==w.pendingWrites)return[];const De=[],Ne=new Set;for(const{fbase_key:cn,value:Ln}of U)Ne.add(cn),JSON.stringify(w.localCache[cn])!==JSON.stringify(Ln)&&(w.notifyListeners(cn,Ln),De.push(cn));for(const cn of Object.keys(w.localCache))w.localCache[cn]&&!Ne.has(cn)&&(w.notifyListeners(cn,null),De.push(cn));return De})()}notifyListeners(w,U){this.localCache[w]=U;const De=this.listeners[w];if(De)for(const Ne of Array.from(De))Ne(U)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,U){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(U)}_removeListener(w,U){this.listeners[w]&&(this.listeners[w].delete(U),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return F.type="LOCAL",F})();function jr(F,C){return mt(F,"POST","/v2/accounts/mfaSignIn:start",Bt(F,C))}function Ys(){return(Ys=(0,v.Z)(function*(F){return(yield mt(F,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jo(F){return new Promise((C,w)=>{const U=document.createElement("script");U.setAttribute("src",F),U.onload=C,U.onerror=De=>{const Ne=ke("internal-error");Ne.customData=De,w(Ne)},U.type="text/javascript",U.charset="UTF-8",function od(){var F,C;return null!==(C=null===(F=document.getElementsByTagName("head"))||void 0===F?void 0:F[0])&&void 0!==C?C:document}().appendChild(U)})}function Bl(F){return`__${F}${Math.floor(1e6*Math.random())}`}const ms=1e12;class rr{constructor(C){this.auth=C,this.counter=ms,this._widgets=new Map}render(C,w){const U=this.counter;return this._widgets.set(U,new ja(C,this.auth.name,w||{})),this.counter++,U}reset(C){var w;const U=C||ms;null===(w=this._widgets.get(U))||void 0===w||w.delete(),this._widgets.delete(U)}getResponse(C){var w;return(null===(w=this._widgets.get(C||ms))||void 0===w?void 0:w.getResponse())||""}execute(C){var w=this;return(0,v.Z)(function*(){var U;return null===(U=w._widgets.get(C||ms))||void 0===U||U.execute(),""})()}}class ja{constructor(C,w,U){this.params=U,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const De="string"==typeof C?document.getElementById(C):C;et(De,"argument-error",{appName:w}),this.container=De,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zo(F){const C=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<F;U++)C.push(w.charAt(Math.floor(Math.random()*w.length)));return C.join("")}(50);const{callback:C,"expired-callback":w}=this.params;if(C)try{C(this.responseToken)}catch(U){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch(U){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bl=Bl("rcb"),pl=new Zt(3e4,6e4);class fl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!vn().grecaptcha}load(C,w=""){return et(function Sa(F){return F.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(F)}(w),C,"argument-error"),this.shouldResolveImmediately(w)?Promise.resolve(vn().grecaptcha):new Promise((U,De)=>{const Ne=vn().setTimeout(()=>{De(ke(C,"network-request-failed"))},pl.get());vn()[bl]=()=>{vn().clearTimeout(Ne),delete vn()[bl];const Ln=vn().grecaptcha;if(!Ln)return void De(ke(C,"internal-error"));const Ei=Ln.render;Ln.render=(zi,er)=>{const ar=Ei(zi,er);return this.counter++,ar},this.hostLanguage=w,U(Ln)},jo(`https://www.google.com/recaptcha/api.js??${(0,I.xO)({onload:bl,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(Ne),De(ke(C,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(C){return!!vn().grecaptcha&&(C===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ci{load(C){return(0,v.Z)(function*(){return new rr(C)})()}clearedOneInstance(){}}const xu="recaptcha",Pu={theme:"light",type:"image"};class Gl{constructor(C,w=Object.assign({},Pu),U){this.parameters=w,this.type=xu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(U),this.isInvisible="invisible"===this.parameters.size,et("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const De="string"==typeof C?document.getElementById(C):C;et(De,this.auth,"argument-error"),this.container=De,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ci:new fl,this.validateStartingState()}verify(){var C=this;return(0,v.Z)(function*(){C.assertNotDestroyed();const w=yield C.render(),U=C.getAssertedRecaptcha();return U.getResponse(w)||new Promise(Ne=>{const cn=Ln=>{!Ln||(C.tokenChangeListeners.delete(cn),Ne(Ln))};C.tokenChangeListeners.add(cn),C.isInvisible&&U.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(C){return Promise.reject(C)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(C=>{throw this.renderPromise=null,C})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(C=>{this.container.removeChild(C)})}validateStartingState(){et(!this.parameters.sitekey,this.auth,"argument-error"),et(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),et("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(C){return w=>{if(this.tokenChangeListeners.forEach(U=>U(w)),"function"==typeof C)C(w);else if("string"==typeof C){const U=vn()[C];"function"==typeof U&&U(w)}}}assertNotDestroyed(){et(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var C=this;return(0,v.Z)(function*(){if(yield C.init(),!C.widgetId){let w=C.container;if(!C.isInvisible){const U=document.createElement("div");w.appendChild(U),w=U}C.widgetId=C.getAssertedRecaptcha().render(w,C.parameters)}return C.widgetId})()}init(){var C=this;return(0,v.Z)(function*(){et(Bn()&&!fo(),C.auth,"internal-error"),yield function Ra(){let F=null;return new Promise(C=>{"complete"!==document.readyState?(F=()=>C(),window.addEventListener("load",F)):C()}).catch(C=>{throw F&&window.removeEventListener("load",F),C})}(),C.recaptcha=yield C._recaptchaLoader.load(C.auth,C.auth.languageCode||void 0);const w=yield function gs(F){return Ys.apply(this,arguments)}(C.auth);et(w,C.auth,"internal-error"),C.parameters.sitekey=w})()}getAssertedRecaptcha(){return et(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class or{constructor(C,w){this.verificationId=C,this.onConfirmation=w}confirm(C){const w=Mo._fromVerification(this.verificationId,C);return this.onConfirmation(w)}}function Gn(){return(Gn=(0,v.Z)(function*(F,C,w){const U=$n(F),De=yield X(U,C,(0,I.m9)(w));return new or(De,Ne=>ui(U,Ne))})).apply(this,arguments)}function Y(){return(Y=(0,v.Z)(function*(F,C,w){const U=(0,I.m9)(F);yield Ge(!1,U,"phone");const De=yield X(U.auth,C,(0,I.m9)(w));return new or(De,Ne=>Pr(U,Ne))})).apply(this,arguments)}function T(){return(T=(0,v.Z)(function*(F,C,w){const U=(0,I.m9)(F),De=yield X(U.auth,C,(0,I.m9)(w));return new or(De,Ne=>br(U,Ne))})).apply(this,arguments)}function X(F,C,w){return ze.apply(this,arguments)}function ze(){return(ze=(0,v.Z)(function*(F,C,w){var U;const De=yield w.verify();try{let Ne;if(et("string"==typeof De,F,"argument-error"),et(w.type===xu,F,"argument-error"),Ne="string"==typeof C?{phoneNumber:C}:C,"session"in Ne){const cn=Ne.session;if("phoneNumber"in Ne)return et("enroll"===cn.type,F,"internal-error"),(yield fi(F,{idToken:cn.credential,phoneEnrollmentInfo:{phoneNumber:Ne.phoneNumber,recaptchaToken:De}})).phoneSessionInfo.sessionInfo;{et("signin"===cn.type,F,"internal-error");const Ln=(null===(U=Ne.multiFactorHint)||void 0===U?void 0:U.uid)||Ne.multiFactorUid;return et(Ln,F,"missing-multi-factor-info"),(yield jr(F,{mfaPendingCredential:cn.credential,mfaEnrollmentId:Ln,phoneSignInInfo:{recaptchaToken:De}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:cn}=yield Xt(F,{phoneNumber:Ne.phoneNumber,recaptchaToken:De});return cn}}finally{w._reset()}})).apply(this,arguments)}function jn(){return(jn=(0,v.Z)(function*(F,C){yield Mr((0,I.m9)(F),C)})).apply(this,arguments)}let Pi=(()=>{class F{constructor(w){this.providerId=F.PROVIDER_ID,this.auth=$n(w)}verifyPhoneNumber(w,U){return X(this.auth,w,(0,I.m9)(U))}static credential(w,U){return Mo._fromVerification(w,U)}static credentialFromResult(w){return F.credentialFromTaggedObject(w)}static credentialFromError(w){return F.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:U,temporaryProof:De}=w;return U&&De?Mo._fromTokenResponse(U,De):null}}return F.PROVIDER_ID="phone",F.PHONE_SIGN_IN_METHOD="phone",F})();function Yi(F,C){return C?Ut(C):(et(F._popupRedirectResolver,F,"argument-error"),F._popupRedirectResolver)}class Nn extends tt{constructor(C){super("custom","custom"),this.params=C}_getIdTokenResponse(C){return zr(C,this._buildIdpRequest())}_linkToIdToken(C,w){return zr(C,this._buildIdpRequest(w))}_getReauthenticationResolver(C){return zr(C,this._buildIdpRequest())}_buildIdpRequest(C){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return C&&(w.idToken=C),w}}function oo(F){return On(F.auth,new Nn(F),F.bypassAuthState)}function qo(F){const{auth:C,user:w}=F;return et(w,C,"internal-error"),qe(w,new Nn(F),F.bypassAuthState)}function Ro(F){return kr.apply(this,arguments)}function kr(){return(kr=(0,v.Z)(function*(F){const{auth:C,user:w}=F;return et(w,C,"internal-error"),Mr(w,new Nn(F),F.bypassAuthState)})).apply(this,arguments)}class vs{constructor(C,w,U,De,Ne=!1){this.auth=C,this.resolver=U,this.user=De,this.bypassAuthState=Ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var C=this;return new Promise(function(){var w=(0,v.Z)(function*(U,De){C.pendingPromise={resolve:U,reject:De};try{C.eventManager=yield C.resolver._initialize(C.auth),yield C.onExecution(),C.eventManager.registerConsumer(C)}catch(Ne){C.reject(Ne)}});return function(U,De){return w.apply(this,arguments)}}())}onAuthEvent(C){var w=this;return(0,v.Z)(function*(){const{urlResponse:U,sessionId:De,postBody:Ne,tenantId:cn,error:Ln,type:Ei}=C;if(Ln)return void w.reject(Ln);const zi={auth:w.auth,requestUri:U,sessionId:De,tenantId:cn||void 0,postBody:Ne||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Ei)(zi))}catch(er){w.reject(er)}})()}onError(C){this.reject(C)}getIdpTask(C){switch(C){case"signInViaPopup":case"signInViaRedirect":return oo;case"linkViaPopup":case"linkViaRedirect":return Ro;case"reauthViaPopup":case"reauthViaRedirect":return qo;default:at(this.auth,"internal-error")}}resolve(C){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(C),this.unregisterAndCleanUp()}reject(C){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(C),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qr=new Zt(2e3,1e4);function Ta(){return(Ta=(0,v.Z)(function*(F,C,w){const U=$n(F);it(F,C,$o);const De=Yi(U,w);return new fc(U,"signInViaPopup",C,De).executeNotNull()})).apply(this,arguments)}function Ca(){return(Ca=(0,v.Z)(function*(F,C,w){const U=(0,I.m9)(F);it(U.auth,C,$o);const De=Yi(U.auth,w);return new fc(U.auth,"reauthViaPopup",C,De,U).executeNotNull()})).apply(this,arguments)}function Fa(){return(Fa=(0,v.Z)(function*(F,C,w){const U=(0,I.m9)(F);it(U.auth,C,$o);const De=Yi(U.auth,w);return new fc(U.auth,"linkViaPopup",C,De,U).executeNotNull()})).apply(this,arguments)}let fc=(()=>{class F extends vs{constructor(w,U,De,Ne,cn){super(w,U,Ne,cn),this.provider=De,this.authWindow=null,this.pollId=null,F.currentPopupAction&&F.currentPopupAction.cancel(),F.currentPopupAction=this}executeNotNull(){var w=this;return(0,v.Z)(function*(){const U=yield w.execute();return et(U,w.auth,"internal-error"),U})()}onExecution(){var w=this;return(0,v.Z)(function*(){Be(1===w.filter.length,"Popup operations only handle one event");const U=Wa();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],U),w.authWindow.associatedEvent=U,w.resolver._originValidation(w.auth).catch(De=>{w.reject(De)}),w.resolver._isIframeWebStorageSupported(w.auth,De=>{De||w.reject(ke(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,F.currentPopupAction=null}pollUserCancellation(){const w=()=>{var U,De;this.pollId=(null===(De=null===(U=this.authWindow)||void 0===U?void 0:U.window)||void 0===De?void 0:De.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(w,qr.get())};w()}}return F.currentPopupAction=null,F})();const du=new Map;class Bd extends vs{constructor(C,w,U=!1){super(C,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,U),this.eventId=null}execute(){var C=()=>super.execute,w=this;return(0,v.Z)(function*(){let U=du.get(w.auth._key());if(!U){try{const Ne=(yield function se(F,C){return ye.apply(this,arguments)}(w.resolver,w.auth))?yield C().call(w):null;U=()=>Promise.resolve(Ne)}catch(De){U=()=>Promise.reject(De)}du.set(w.auth._key(),U)}return w.bypassAuthState||du.set(w.auth._key(),()=>Promise.resolve(null)),U()})()}onAuthEvent(C){var w=()=>super.onAuthEvent,U=this;return(0,v.Z)(function*(){if("signInViaRedirect"===C.type)return w().call(U,C);if("unknown"!==C.type){if(C.eventId){const De=yield U.auth._redirectUserForId(C.eventId);if(De)return U.user=De,w().call(U,C);U.resolve(null)}}else U.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function ye(){return(ye=(0,v.Z)(function*(F,C){const w=li(C),U=In(F);if(!(yield U._isAvailable()))return!1;const De="true"===(yield U._get(w));return yield U._remove(w),De})).apply(this,arguments)}function Ze(F,C){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,v.Z)(function*(F,C){return In(F)._set(li(C),"true")})).apply(this,arguments)}function In(F){return Ut(F._redirectPersistence)}function li(F){return zt("pendingRedirect",F.config.apiKey,F.name)}function dr(){return(dr=(0,v.Z)(function*(F,C,w){const U=$n(F);it(F,C,$o);const De=Yi(U,w);return yield Ze(De,U),De._openRedirect(U,C,"signInViaRedirect")})).apply(this,arguments)}function sa(){return(sa=(0,v.Z)(function*(F,C,w){const U=(0,I.m9)(F);it(U.auth,C,$o);const De=Yi(U.auth,w);yield Ze(De,U.auth);const Ne=yield Ih(U);return De._openRedirect(U.auth,C,"reauthViaRedirect",Ne)})).apply(this,arguments)}function Dl(){return(Dl=(0,v.Z)(function*(F,C,w){const U=(0,I.m9)(F);it(U.auth,C,$o);const De=Yi(U.auth,w);yield Ge(!1,U,C.providerId),yield Ze(De,U.auth);const Ne=yield Ih(U);return De._openRedirect(U.auth,C,"linkViaRedirect",Ne)})).apply(this,arguments)}function cs(){return(cs=(0,v.Z)(function*(F,C){return yield $n(F)._initializationPromise,aa(F,C,!1)})).apply(this,arguments)}function aa(F,C){return hu.apply(this,arguments)}function hu(){return(hu=(0,v.Z)(function*(F,C,w=!1){const U=$n(F),De=Yi(U,C),cn=yield new Bd(U,De,w).execute();return cn&&!w&&(delete cn.user._redirectEventId,yield U._persistUserIfCurrent(cn.user),yield U._setRedirectUser(null,C)),cn})).apply(this,arguments)}function Ih(F){return pu.apply(this,arguments)}function pu(){return(pu=(0,v.Z)(function*(F){const C=Wa(`${F.uid}:::`);return F._redirectEventId=C,yield F.auth._setRedirectUser(F),yield F.auth._persistUserIfCurrent(F),C})).apply(this,arguments)}class Nu{constructor(C){this.auth=C,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(C){this.consumers.add(C),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,C)&&(this.sendToConsumer(this.queuedRedirectEvent,C),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(C){this.consumers.delete(C)}onEvent(C){if(this.hasEventBeenHandled(C))return!1;let w=!1;return this.consumers.forEach(U=>{this.isEventForConsumer(C,U)&&(w=!0,this.sendToConsumer(C,U),this.saveEventToCache(C))}),this.hasHandledPotentialRedirect||!function ad(F){switch(F.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sd(F);default:return!1}}(C)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=C,w=!0)),w}sendToConsumer(C,w){var U;if(C.error&&!sd(C)){const De=(null===(U=C.error.code)||void 0===U?void 0:U.split("auth/")[1])||"internal-error";w.onError(ke(this.auth,De))}else w.onAuthEvent(C)}isEventForConsumer(C,w){const U=null===w.eventId||!!C.eventId&&C.eventId===w.eventId;return w.filter.includes(C.type)&&U}hasEventBeenHandled(C){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gl(C))}saveEventToCache(C){this.cachedEventUids.add(gl(C)),this.lastProcessedEventTime=Date.now()}}function gl(F){return[F.type,F.eventId,F.sessionId,F.tenantId].filter(C=>C).join("-")}function sd({type:F,error:C}){return"unknown"===F&&"auth/no-auth-event"===(null==C?void 0:C.code)}function gc(F){return fu.apply(this,arguments)}function fu(){return(fu=(0,v.Z)(function*(F,C={}){return mt(F,"GET","/v1/projects",C)})).apply(this,arguments)}const Lu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gu=/^https?/;function nl(){return(nl=(0,v.Z)(function*(F){if(F.config.emulator)return;const{authorizedDomains:C}=yield gc(F);for(const w of C)try{if(il(w))return}catch(U){}at(F,"unauthorized-domain")})).apply(this,arguments)}function il(F){const C=an(),{protocol:w,hostname:U}=new URL(C);if(F.startsWith("chrome-extension://")){const cn=new URL(F);return""===cn.hostname&&""===U?"chrome-extension:"===w&&F.replace("chrome-extension://","")===C.replace("chrome-extension://",""):"chrome-extension:"===w&&cn.hostname===U}if(!gu.test(w))return!1;if(Lu.test(F))return U===F;const De=F.replace(/\./g,"\\.");return new RegExp("^(.+\\."+De+"|"+De+")$","i").test(U)}const ld=new Zt(3e4,6e4);function Oh(){const F=vn().___jsl;if(null==F?void 0:F.H)for(const C of Object.keys(F.H))if(F.H[C].r=F.H[C].r||[],F.H[C].L=F.H[C].L||[],F.H[C].r=[...F.H[C].L],F.CP)for(let w=0;w<F.CP.length;w++)F.CP[w]=null}let vc=null;function Hf(F){return vc=vc||function mc(F){return new Promise((C,w)=>{var U,De,Ne;function cn(){Oh(),gapi.load("gapi.iframes",{callback:()=>{C(gapi.iframes.getContext())},ontimeout:()=>{Oh(),w(ke(F,"network-request-failed"))},timeout:ld.get()})}if(null===(De=null===(U=vn().gapi)||void 0===U?void 0:U.iframes)||void 0===De?void 0:De.Iframe)C(gapi.iframes.getContext());else{if(!(null===(Ne=vn().gapi)||void 0===Ne?void 0:Ne.load)){const Ln=Bl("iframefcb");return vn()[Ln]=()=>{gapi.load?cn():w(ke(F,"network-request-failed"))},jo(`https://apis.google.com/js/api.js?onload=${Ln}`).catch(Ei=>w(Ei))}cn()}}).catch(C=>{throw vc=null,C})}(F),vc}const Uf=new Zt(5e3,15e3),wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Aa(F){const C=F.config;et(C.authDomain,F,"auth-domain-config-required");const w=C.emulator?hn(C,"emulator/auth/iframe"):`https://${F.config.authDomain}/__/auth/iframe`,U={apiKey:C.apiKey,appName:F.name,v:q.SDK_VERSION},De=yc.get(F.config.apiHost);De&&(U.eid=De);const Ne=F._getFrameworks();return Ne.length&&(U.fw=Ne.join(",")),`${w}?${(0,I.xO)(U).slice(1)}`}function Gd(){return Gd=(0,v.Z)(function*(F){const C=yield Hf(F),w=vn().gapi;return et(w,F,"internal-error"),C.open({where:document.body,url:Aa(F),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wa,dontclear:!0},U=>new Promise(function(){var De=(0,v.Z)(function*(Ne,cn){yield U.restyle({setHideOnLeave:!1});const Ln=ke(F,"network-request-failed"),Ei=vn().setTimeout(()=>{cn(Ln)},Uf.get());function zi(){vn().clearTimeout(Ei),Ne(U)}U.ping(zi).then(zi,()=>{cn(Ln)})});return function(Ne,cn){return De.apply(this,arguments)}}()))}),Gd.apply(this,arguments)}const ku={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mu{constructor(C){this.window=C,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(C){}}}function Fh(F,C,w,U,De,Ne){et(F.config.authDomain,F,"auth-domain-config-required"),et(F.config.apiKey,F,"invalid-api-key");const cn={apiKey:F.config.apiKey,appName:F.name,authType:w,redirectUrl:U,v:q.SDK_VERSION,eventId:De};if(C instanceof $o){C.setDefaultLanguage(F.languageCode),cn.providerId=C.providerId||"",(0,I.xb)(C.getCustomParameters())||(cn.customParameters=JSON.stringify(C.getCustomParameters()));for(const[Ei,zi]of Object.entries(Ne||{}))cn[Ei]=zi}if(C instanceof xo){const Ei=C.getScopes().filter(zi=>""!==zi);Ei.length>0&&(cn.scopes=Ei.join(","))}F.tenantId&&(cn.tid=F.tenantId);const Ln=cn;for(const Ei of Object.keys(Ln))void 0===Ln[Ei]&&delete Ln[Ei];return`${function Ss({config:F}){return F.emulator?hn(F,"emulator/auth/handler"):`https://${F.authDomain}/__/auth/handler`}(F)}?${(0,I.xO)(Ln).slice(1)}`}const La="webStorageSupport";class Hd extends class Nh{constructor(C){this.factorId=C}_process(C,w,U){switch(w.type){case"enroll":return this._finalizeEnroll(C,w.credential,U);case"signin":return this._finalizeSignIn(C,w.credential);default:return en("unexpected MultiFactorSessionType")}}}{constructor(C){super("phone"),this.credential=C}static _fromCredential(C){return new Hd(C)}_finalizeEnroll(C,w,U){return function Vi(F,C){return mt(F,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(F,C))}(C,{idToken:w,displayName:U,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(C,w){return function kl(F,C){return mt(F,"POST","/v2/accounts/mfaSignIn:finalize",Bt(F,C))}(C,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xp=(()=>{class F{constructor(){}static assertion(w){return Hd._fromCredential(w)}}return F.FACTOR_ID="phone",F})();var Lh="@firebase/auth",wc="0.19.12";class vu{constructor(C){this.auth=C,this.internalListeners=new Map}getUid(){var C;return this.assertAuthConfigured(),(null===(C=this.auth.currentUser)||void 0===C?void 0:C.uid)||null}getToken(C){var w=this;return(0,v.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(C)}:null})()}addAuthTokenListener(C){if(this.assertAuthConfigured(),this.internalListeners.has(C))return;const w=this.auth.onIdTokenChanged(U=>{var De;C((null===(De=U)||void 0===De?void 0:De.stsTokenManager.accessToken)||null)});this.internalListeners.set(C,w),this.updateProactiveRefresh()}removeAuthTokenListener(C){this.assertAuthConfigured();const w=this.internalListeners.get(C);!w||(this.internalListeners.delete(C),w(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rl(){return window}function zo(){return(zo=(0,v.Z)(function*(F,C,w){var U;const{BuildInfo:De}=rl();Be(C.sessionId,"AuthEvent did not contain a session ID");const Ne=yield Ps(C.sessionId),cn={};return $i()?cn.ibi=De.packageName:dn()?cn.apn=De.packageName:at(F,"operation-not-supported-in-this-environment"),De.displayName&&(cn.appDisplayName=De.displayName),cn.sessionId=Ne,Fh(F,w,C.type,void 0,null!==(U=C.eventId)&&void 0!==U?U:void 0,cn)})).apply(this,arguments)}function Za(){return(Za=(0,v.Z)(function*(F){const{BuildInfo:C}=rl(),w={};$i()?w.iosBundleId=C.packageName:dn()?w.androidPackageName=C.packageName:at(F,"operation-not-supported-in-this-environment"),yield gc(F,w)})).apply(this,arguments)}function to(){return(to=(0,v.Z)(function*(F,C,w){const{cordova:U}=rl();let De=()=>{};try{yield new Promise((Ne,cn)=>{let Ln=null;function Ei(){var ar;Ne();const rs=null===(ar=U.plugins.browsertab)||void 0===ar?void 0:ar.close;"function"==typeof rs&&rs(),"function"==typeof(null==w?void 0:w.close)&&w.close()}function zi(){Ln||(Ln=window.setTimeout(()=>{cn(ke(F,"redirect-cancelled-by-user"))},2e3))}function er(){"visible"===(null==document?void 0:document.visibilityState)&&zi()}C.addPassiveListener(Ei),document.addEventListener("resume",zi,!1),dn()&&document.addEventListener("visibilitychange",er,!1),De=()=>{C.removePassiveListener(Ei),document.removeEventListener("resume",zi,!1),document.removeEventListener("visibilitychange",er,!1),Ln&&window.clearTimeout(Ln)}})}finally{De()}})).apply(this,arguments)}function Ps(F){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,v.Z)(function*(F){const C=Fp(F),w=yield crypto.subtle.digest("SHA-256",C);return Array.from(new Uint8Array(w)).map(De=>De.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fp(F){if(Be(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(F);const C=new ArrayBuffer(F.length),w=new Uint8Array(C);for(let U=0;U<F.length;U++)w[U]=F.charCodeAt(U);return w}!function Pp(F){(0,q._registerComponent)(new P.wA("auth",(C,{options:w})=>{const U=C.getProvider("app").getImmediate(),De=C.getProvider("heartbeat"),{apiKey:Ne,authDomain:cn}=U.options;return((Ln,Ei)=>{et(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:Ln.name}),et(!(null==cn?void 0:cn.includes(":")),"argument-error",{appName:Ln.name});const zi={apiKey:Ne,authDomain:cn,clientPlatform:F,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yi(F)},er=new Zi(Ln,Ei,zi);return function Qt(F,C){const w=(null==C?void 0:C.persistence)||[],U=(Array.isArray(w)?w:[w]).map(Ut);(null==C?void 0:C.errorMap)&&F._updateErrorMap(C.errorMap),F._initializeWithPersistence(U,null==C?void 0:C.popupRedirectResolver)}(er,w),er})(U,De)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((C,w,U)=>{C.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new P.wA("auth-internal",C=>{const w=$n(C.getProvider("auth").getImmediate());return new vu(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(Lh,wc,function kh(F){switch(F){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(F)),(0,q.registerVersion)(Lh,wc,"esm2017")}("Browser");class Bh extends Nu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(C=>{this.resolveInialized=C})}addPassiveListener(C){this.passiveListeners.add(C)}removePassiveListener(C){this.passiveListeners.delete(C)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(C){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(C)),super.onEvent(C)}initialized(){var C=this;return(0,v.Z)(function*(){yield C.initPromise})()}}function Bu(F){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,v.Z)(function*(F){const C=yield go()._get(Vh(F));return C&&(yield go()._remove(Vh(F))),C})).apply(this,arguments)}function ud(){const F=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<20;w++){const U=Math.floor(Math.random()*C.length);F.push(C.charAt(U))}return F.join("")}function go(){return Ut(Tr)}function Vh(F){return zt("authEvent",F.config.apiKey,F.name)}function Wl(F){if(!(null==F?void 0:F.includes("?")))return{};const[C,...w]=F.split("?");return(0,I.zd)(w.join("?"))}function Ud(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ke("no-auth-event")}}function jd(){var F;return(null===(F=null==self?void 0:self.location)||void 0===F?void 0:F.protocol)||null}function Sc(F=(0,I.z$)()){return!("file:"!==jd()&&"ionic:"!==jd()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function la(){try{const F=self.localStorage,C=Wa();if(F)return F.setItem(C,"1"),F.removeItem(C),!function Gu(F=(0,I.z$)()){return function rm(){return(0,I.w1)()&&11===(null==document?void 0:document.documentMode)}()||function qs(F=(0,I.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,I.hl)()}catch(F){return jl()&&(0,I.hl)()}return!1}function jl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ia(){return(function Yf(){return"http:"===jd()||"https:"===jd()}()||(0,I.ru)()||Sc())&&!function Hh(){return(0,I.b$)()||(0,I.UG)()}()&&la()&&!jl()}function cd(){return Sc()&&"undefined"!=typeof document}function ml(){return(ml=(0,v.Z)(function*(){return!!cd()&&new Promise(F=>{const C=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(C),F(!0)})})})).apply(this,arguments)}const Ba={LOCAL:"local",NONE:"none",SESSION:"session"},Rc=et,Uh="persistence";function wu(F){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,v.Z)(function*(F){yield F._initializationPromise;const C=jh(),w=zt(Uh,F.config.apiKey,F.name);C&&C.setItem(w,F._getPersistence())})).apply(this,arguments)}function jh(){var F;try{return(null===(F=function zd(){return"undefined"!=typeof window?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch(C){return null}}const bu=et;class sl{constructor(){this.browserResolver=Ut(class Hl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ho,this._completeRedirectFn=aa}_openPopup(C,w,U,De){var Ne=this;return(0,v.Z)(function*(){var cn;Be(null===(cn=Ne.eventManagers[C._key()])||void 0===cn?void 0:cn.manager,"_initialize() not called before _openPopup()");const Ln=Fh(C,w,U,an(),De);return function Vl(F,C,w,U=500,De=600){const Ne=Math.max((window.screen.availHeight-De)/2,0).toString(),cn=Math.max((window.screen.availWidth-U)/2,0).toString();let Ln="";const Ei=Object.assign(Object.assign({},ku),{width:U.toString(),height:De.toString(),top:Ne,left:cn}),zi=(0,I.z$)().toLowerCase();w&&(Ln=ct(zi)?"_blank":w),Gt(zi)&&(C=C||"http://localhost",Ei.scrollbars="yes");const er=Object.entries(Ei).reduce((rs,[qa,Hu])=>`${rs}${qa}=${Hu},`,"");if(function Ir(F=(0,I.z$)()){var C;return $i(F)&&!!(null===(C=window.navigator)||void 0===C?void 0:C.standalone)}(zi)&&"_self"!==Ln)return function Mp(F,C){const w=document.createElement("a");w.href=F,w.target=C;const U=document.createEvent("MouseEvent");U.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(U)}(C||"",Ln),new mu(null);const ar=window.open(C||"",Ln,er);et(ar,F,"popup-blocked");try{ar.focus()}catch(rs){}return new mu(ar)}(C,Ln,Wa())})()}_openRedirect(C,w,U,De){var Ne=this;return(0,v.Z)(function*(){return yield Ne._originValidation(C),function ti(F){vn().location.href=F}(Fh(C,w,U,an(),De)),new Promise(()=>{})})()}_initialize(C){const w=C._key();if(this.eventManagers[w]){const{manager:De,promise:Ne}=this.eventManagers[w];return De?Promise.resolve(De):(Be(Ne,"If manager is not set, promise should be"),Ne)}const U=this.initAndGetManager(C);return this.eventManagers[w]={promise:U},U.catch(()=>{delete this.eventManagers[w]}),U}initAndGetManager(C){var w=this;return(0,v.Z)(function*(){const U=yield function Wf(F){return Gd.apply(this,arguments)}(C),De=new Nu(C);return U.register("authEvent",Ne=>(et(null==Ne?void 0:Ne.authEvent,C,"invalid-auth-event"),{status:De.onEvent(Ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[C._key()]={manager:De},w.iframes[C._key()]=U,De})()}_isIframeWebStorageSupported(C,w){this.iframes[C._key()].send(La,{type:La},De=>{var Ne;const cn=null===(Ne=null==De?void 0:De[0])||void 0===Ne?void 0:Ne[La];void 0!==cn&&w(!!cn),at(C,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(C){const w=C._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function tl(F){return nl.apply(this,arguments)}(C)),this.originValidationPromises[w]}get _shouldInitProactively(){return Hn()||_t()||$i()}}),this.cordovaResolver=Ut(class Np{constructor(){this._redirectPersistence=Ho,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=aa}_initialize(C){var w=this;return(0,v.Z)(function*(){const U=C._key();let De=w.eventManagers.get(U);return De||(De=new Bh(C),w.eventManagers.set(U,De),w.attachCallbackListeners(C,De)),De})()}_openPopup(C){at(C,"operation-not-supported-in-this-environment")}_openRedirect(C,w,U,De){var Ne=this;return(0,v.Z)(function*(){!function yu(F){var C,w,U,De,Ne,cn,Ln,Ei,zi,er;const ar=rl();et("function"==typeof(null===(C=null==ar?void 0:ar.universalLinks)||void 0===C?void 0:C.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),et(void 0!==(null===(w=null==ar?void 0:ar.BuildInfo)||void 0===w?void 0:w.packageName),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),et("function"==typeof(null===(Ne=null===(De=null===(U=null==ar?void 0:ar.cordova)||void 0===U?void 0:U.plugins)||void 0===De?void 0:De.browsertab)||void 0===Ne?void 0:Ne.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),et("function"==typeof(null===(Ei=null===(Ln=null===(cn=null==ar?void 0:ar.cordova)||void 0===cn?void 0:cn.plugins)||void 0===Ln?void 0:Ln.browsertab)||void 0===Ei?void 0:Ei.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),et("function"==typeof(null===(er=null===(zi=null==ar?void 0:ar.cordova)||void 0===zi?void 0:zi.InAppBrowser)||void 0===er?void 0:er.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(C);const cn=yield Ne._initialize(C);yield cn.initialized(),cn.resetRedirect(),function fn(){du.clear()}(),yield Ne._originValidation(C);const Ln=function ka(F,C,w=null){return{type:C,eventId:w,urlResponse:null,sessionId:ud(),postBody:null,tenantId:F.tenantId,error:ke(F,"no-auth-event")}}(C,U,De);yield function Gh(F,C){return go()._set(Vh(F),C)}(C,Ln);const Ei=yield function zf(F,C,w){return zo.apply(this,arguments)}(C,Ln,w),zi=yield function ol(F){const{cordova:C}=rl();return new Promise(w=>{C.plugins.browsertab.isAvailable(U=>{let De=null;U?C.plugins.browsertab.openUrl(F):De=C.InAppBrowser.open(F,function gr(F=(0,I.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(F)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(F)}()?"_blank":"_system","location=yes"),w(De)})})}(Ei);return function Rl(F,C,w){return to.apply(this,arguments)}(C,cn,zi)})()}_isIframeWebStorageSupported(C,w){throw new Error("Method not implemented.")}_originValidation(C){const w=C._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function so(F){return Za.apply(this,arguments)}(C)),this.originValidationPromises[w]}attachCallbackListeners(C,w){const{universalLinks:U,handleOpenURL:De,BuildInfo:Ne}=rl(),cn=setTimeout((0,v.Z)(function*(){yield Bu(C),w.onEvent(Ud())}),500),Ln=function(){var er=(0,v.Z)(function*(ar){clearTimeout(cn);const rs=yield Bu(C);let qa=null;rs&&(null==ar?void 0:ar.url)&&(qa=function $f(F,C){var w,U;const De=function Cu(F){const C=Wl(F),w=C.link?decodeURIComponent(C.link):void 0,U=Wl(w).link,De=C.deep_link_id?decodeURIComponent(C.deep_link_id):void 0;return Wl(De).link||De||U||w||F}(C);if(De.includes("/__/auth/callback")){const Ne=Wl(De),cn=Ne.firebaseError?function bc(F){try{return JSON.parse(F)}catch(C){return null}}(decodeURIComponent(Ne.firebaseError)):null,Ln=null===(U=null===(w=null==cn?void 0:cn.code)||void 0===w?void 0:w.split("auth/"))||void 0===U?void 0:U[1],Ei=Ln?ke(Ln):null;return Ei?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:Ei,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:De,postBody:null}}return null}(rs,ar.url)),w.onEvent(qa||Ud())});return function(rs){return er.apply(this,arguments)}}();void 0!==U&&"function"==typeof U.subscribe&&U.subscribe(null,Ln);const Ei=De,zi=`${Ne.packageName.toLowerCase()}://`;rl().handleOpenURL=function(){var er=(0,v.Z)(function*(ar){if(ar.toLowerCase().startsWith(zi)&&Ln({url:ar}),"function"==typeof Ei)try{Ei(ar)}catch(rs){console.error(rs)}});return function(ar){return er.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ho,this._completeRedirectFn=aa}_initialize(C){var w=this;return(0,v.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(C)})()}_openPopup(C,w,U,De){var Ne=this;return(0,v.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openPopup(C,w,U,De)})()}_openRedirect(C,w,U,De){var Ne=this;return(0,v.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openRedirect(C,w,U,De)})()}_isIframeWebStorageSupported(C,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(C,w)}_originValidation(C){return this.assertedUnderlyingResolver._originValidation(C)}get _shouldInitProactively(){return cd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var C=this;return(0,v.Z)(function*(){if(C.underlyingResolver)return;const w=yield function ua(){return ml.apply(this,arguments)}();C.underlyingResolver=w?C.cordovaResolver:C.browserResolver})()}}function Bp(F){return F.unwrap()}function al(F){return Vu(F)}function Vu(F){const{_tokenResponse:C}=F instanceof I.ZR?F.customData:F;if(!C)return null;if(!(F instanceof I.ZR)&&"temporaryProof"in C&&"phoneNumber"in C)return Pi.credentialFromResult(F);const w=C.providerId;if(!w||"password"===w)return null;let U;switch(w){case"google.com":U=Io;break;case"facebook.com":U=Do;break;case"github.com":U=ws;break;case"twitter.com":U=bs;break;default:const{oauthIdToken:De,oauthAccessToken:Ne,oauthTokenSecret:cn,pendingToken:Ln,nonce:Ei}=C;return Ne||cn||De||Ln?Ln?w.startsWith("saml.")?Po._create(w,Ln):tn._fromParams({providerId:w,signInMethod:w,pendingToken:Ln,idToken:De,accessToken:Ne}):new zs(w).credential({idToken:De,accessToken:Ne,rawNonce:Ei}):null}return F instanceof I.ZR?U.credentialFromError(F):U.credentialFromResult(F)}function is(F,C){return C.catch(w=>{throw w instanceof I.ZR&&function Gp(F,C){var w;const U=null===(w=C.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===C.code)C.resolver=new Vp(F,function Fo(F,C){var w;const U=(0,I.m9)(F),De=C;return et(C.customData.operationType,U,"argument-error"),et(null===(w=De.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,U,"argument-error"),xs._fromError(U,De)}(F,C));else if(U){const De=Vu(C),Ne=C;De&&(Ne.credential=De,Ne.tenantId=U.tenantId||void 0,Ne.email=U.email||void 0,Ne.phoneNumber=U.phoneNumber||void 0)}}(F,w),w}).then(w=>{const De=w.user;return{operationType:w.operationType,credential:al(w),additionalUserInfo:cr(w),user:vl.getOrCreate(De)}})}function zh(F,C){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,v.Z)(function*(F,C){const w=yield C;return{verificationId:w.verificationId,confirm:U=>is(F,w.confirm(U))}})).apply(this,arguments)}class Vp{constructor(C,w){this.resolver=w,this.auth=function dd(F){return F.wrapped()}(C)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(C){return is(Bp(this.auth),this.resolver.resolveSignIn(C))}}class vl{constructor(C){this._delegate=C,this.multiFactor=function ts(F){const C=(0,I.m9)(F);return po.has(C)||po.set(C,pr._fromUser(C)),po.get(C)}(C)}static getOrCreate(C){return vl.USER_MAP.has(C)||vl.USER_MAP.set(C,new vl(C)),vl.USER_MAP.get(C)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(C){return this._delegate.getIdTokenResult(C)}getIdToken(C){return this._delegate.getIdToken(C)}linkAndRetrieveDataWithCredential(C){return this.linkWithCredential(C)}linkWithCredential(C){var w=this;return(0,v.Z)(function*(){return is(w.auth,Pr(w._delegate,C))})()}linkWithPhoneNumber(C,w){var U=this;return(0,v.Z)(function*(){return zh(U.auth,function za(F,C,w){return Y.apply(this,arguments)}(U._delegate,C,w))})()}linkWithPopup(C){var w=this;return(0,v.Z)(function*(){return is(w.auth,function pc(F,C,w){return Fa.apply(this,arguments)}(w._delegate,C,sl))})()}linkWithRedirect(C){var w=this;return(0,v.Z)(function*(){return yield wu($n(w.auth)),function mr(F,C,w){return function Fu(F,C,w){return Dl.apply(this,arguments)}(F,C,w)}(w._delegate,C,sl)})()}reauthenticateAndRetrieveDataWithCredential(C){return this.reauthenticateWithCredential(C)}reauthenticateWithCredential(C){var w=this;return(0,v.Z)(function*(){return is(w.auth,br(w._delegate,C))})()}reauthenticateWithPhoneNumber(C,w){return zh(this.auth,function ce(F,C,w){return T.apply(this,arguments)}(this._delegate,C,w))}reauthenticateWithPopup(C){return is(this.auth,function El(F,C,w){return Ca.apply(this,arguments)}(this._delegate,C,sl))}reauthenticateWithRedirect(C){var w=this;return(0,v.Z)(function*(){return yield wu($n(w.auth)),function fr(F,C,w){return function Wi(F,C,w){return sa.apply(this,arguments)}(F,C,w)}(w._delegate,C,sl)})()}sendEmailVerification(C){return function N(F,C){return G.apply(this,arguments)}(this._delegate,C)}unlink(C){var w=this;return(0,v.Z)(function*(){return yield function ns(F,C){return ls.apply(this,arguments)}(w._delegate,C),w})()}updateEmail(C){return function Fn(F,C){return Bi((0,I.m9)(F),C,null)}(this._delegate,C)}updatePassword(C){return function Ti(F,C){return Bi((0,I.m9)(F),null,C)}(this._delegate,C)}updatePhoneNumber(C){return function Ht(F,C){return jn.apply(this,arguments)}(this._delegate,C)}updateProfile(C){return function jt(F,C){return pn.apply(this,arguments)}(this._delegate,C)}verifyBeforeUpdateEmail(C,w){return function le(F,C,w){return Fe.apply(this,arguments)}(this._delegate,C,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vl.USER_MAP=new WeakMap;const _s=et;let Al=(()=>{class F{constructor(w,U){if(this.app=w,U.isInitialized())return this._delegate=U.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:De}=w.options;_s(De,"invalid-api-key",{appName:w.name}),_s(De,"invalid-api-key",{appName:w.name});const Ne="undefined"!=typeof window?sl:void 0;this._delegate=U.initialize({options:{persistence:Il(De,w.name),popupRedirectResolver:Ne}}),this._delegate._updateErrorMap(st),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,U){!function Ui(F,C,w){const U=$n(F);et(U._canInitEmulator,U,"emulator-config-failed"),et(/^https?:\/\//.test(C),U,"invalid-emulator-scheme");const De=!!(null==w?void 0:w.disableWarnings),Ne=Tt(C),{host:cn,port:Ln}=function ln(F){const C=Tt(F),w=/(\/\/)?([^?#/]+)/.exec(F.substr(C.length));if(!w)return{host:"",port:null};const U=w[2].split("@").pop()||"",De=/^(\[[^\]]+\])(:|$)/.exec(U);if(De){const Ne=De[1];return{host:Ne,port:j(U.substr(Ne.length+1))}}{const[Ne,cn]=U.split(":");return{host:Ne,port:j(cn)}}}(C);U.config.emulator={url:`${Ne}//${cn}${null===Ln?"":`:${Ln}`}/`},U.settings.appVerificationDisabledForTesting=!0,U.emulatorConfig=Object.freeze({host:cn,port:Ln,protocol:Ne.replace(":",""),options:Object.freeze({disableWarnings:De})}),De||function he(){function F(){const C=document.createElement("p"),w=C.style;C.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",C.classList.add("firebase-emulator-warning"),document.body.appendChild(C)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",F):F())}()}(this._delegate,w,U)}applyActionCode(w){return function ho(F,C){return Yn.apply(this,arguments)}(this._delegate,w)}checkActionCode(w){return Ri(this._delegate,w)}confirmPasswordReset(w,U){return function co(F,C,w){return Os.apply(this,arguments)}(this._delegate,w,U)}createUserWithEmailAndPassword(w,U){var De=this;return(0,v.Z)(function*(){return is(De._delegate,function $s(F,C,w){return Wo.apply(this,arguments)}(De._delegate,w,U))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return function va(F,C){return Ie.apply(this,arguments)}(this._delegate,w)}isSignInWithEmailLink(w){return function Ms(F,C){const w=Ao.parseLink(C);return"EMAIL_SIGNIN"===(null==w?void 0:w.operation)}(0,w)}getRedirectResult(){var w=this;return(0,v.Z)(function*(){_s(Ia(),w._delegate,"operation-not-supported-in-this-environment");const U=yield function $a(F,C){return cs.apply(this,arguments)}(w._delegate,sl);return U?is(w._delegate,Promise.resolve(U)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function Kf(F,C){$n(F)._logFramework(C)}(this._delegate,w)}onAuthStateChanged(w,U,De){const{next:Ne,error:cn,complete:Ln}=$d(w,U,De);return this._delegate.onAuthStateChanged(Ne,cn,Ln)}onIdTokenChanged(w,U,De){const{next:Ne,error:cn,complete:Ln}=$d(w,U,De);return this._delegate.onIdTokenChanged(Ne,cn,Ln)}sendSignInLinkToEmail(w,U){return function Ks(F,C,w){return ra.apply(this,arguments)}(this._delegate,w,U)}sendPasswordResetEmail(w,U){return function Ai(F,C,w){return Br.apply(this,arguments)}(this._delegate,w,U||void 0)}setPersistence(w){var U=this;return(0,v.Z)(function*(){let De;switch(function kp(F,C){Rc(Object.values(Ba).includes(C),F,"invalid-persistence-type"),(0,I.b$)()?Rc(C!==Ba.SESSION,F,"unsupported-persistence-type"):(0,I.UG)()?Rc(C===Ba.NONE,F,"unsupported-persistence-type"):jl()?Rc(C===Ba.NONE||C===Ba.LOCAL&&(0,I.hl)(),F,"unsupported-persistence-type"):Rc(C===Ba.NONE||la(),F,"unsupported-persistence-type")}(U._delegate,w),w){case Ba.SESSION:De=Ho;break;case Ba.LOCAL:De=(yield Ut(us)._isAvailable())?us:Tr;break;case Ba.NONE:De=We;break;default:return at("argument-error",{appName:U._delegate.name})}return U._delegate.setPersistence(De)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return is(this._delegate,function ro(F){return Es.apply(this,arguments)}(this._delegate))}signInWithCredential(w){return is(this._delegate,ui(this._delegate,w))}signInWithCustomToken(w){return is(this._delegate,function _e(F,C){return ue.apply(this,arguments)}(this._delegate,w))}signInWithEmailAndPassword(w,U){return is(this._delegate,function Pa(F,C,w){return ui((0,I.m9)(F),as.credential(C,w))}(this._delegate,w,U))}signInWithEmailLink(w,U){return is(this._delegate,function ma(F,C,w){return Yo.apply(this,arguments)}(this._delegate,w,U))}signInWithPhoneNumber(w,U){return zh(this._delegate,function el(F,C,w){return Gn.apply(this,arguments)}(this._delegate,w,U))}signInWithPopup(w){var U=this;return(0,v.Z)(function*(){return _s(Ia(),U._delegate,"operation-not-supported-in-this-environment"),is(U._delegate,function No(F,C,w){return Ta.apply(this,arguments)}(U._delegate,w,sl))})()}signInWithRedirect(w){var U=this;return(0,v.Z)(function*(){return _s(Ia(),U._delegate,"operation-not-supported-in-this-environment"),yield wu(U._delegate),function Fi(F,C,w){return function qi(F,C,w){return dr.apply(this,arguments)}(F,C,w)}(U._delegate,w,sl)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return function Oo(F,C){return xa.apply(this,arguments)}(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=Ba,F})();function $d(F,C,w){let U=F;"function"!=typeof F&&({next:U,error:C,complete:w}=F);const De=U;return{next:cn=>De(cn&&vl.getOrCreate(cn)),error:C,complete:w}}function Il(F,C){const w=function Wh(F,C){const w=jh();if(!w)return[];const U=zt(Uh,F,C);switch(w.getItem(U)){case Ba.NONE:return[We];case Ba.LOCAL:return[us,Ho];case Ba.SESSION:return[Ho];default:return[]}}(F,C);if("undefined"!=typeof self&&!w.includes(us)&&w.push(us),"undefined"!=typeof window)for(const U of[Tr,Ho])w.includes(U)||w.push(U);return w.includes(We)||w.push(We),w}class Ac{constructor(){this.providerId="phone",this._delegate=new Pi(Bp(V.Z.auth()))}static credential(C,w){return Pi.credential(C,w)}verifyPhoneNumber(C,w){return this._delegate.verifyPhoneNumber(C,w)}unwrap(){return this._delegate}}Ac.PHONE_SIGN_IN_METHOD=Pi.PHONE_SIGN_IN_METHOD,Ac.PROVIDER_ID=Pi.PROVIDER_ID;const Kd=et;class Hp{constructor(C,w,U=V.Z.app()){var De;Kd(null===(De=U.options)||void 0===De?void 0:De.apiKey,"invalid-api-key",{appName:U.name}),this._delegate=new Gl(C,w,U.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function qf(F){F.INTERNAL.registerComponent(new P.wA("auth-compat",C=>{const w=C.getProvider("app-compat").getImmediate(),U=C.getProvider("auth");return new Al(w,U)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:as,FacebookAuthProvider:Do,GithubAuthProvider:ws,GoogleAuthProvider:Io,OAuthProvider:zs,SAMLAuthProvider:Rr,PhoneAuthProvider:Ac,PhoneMultiFactorGenerator:xp,RecaptchaVerifier:Hp,TwitterAuthProvider:bs,Auth:Al,AuthCredential:tt,Error:I.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.2.12")}(V.Z)},1135:(Ot,B,R)=>{R.d(B,{X:()=>V});var v=R(7579);class V extends v.x{constructor(q){super(),this._value=q}get value(){return this.getValue()}_subscribe(q){const g=super._subscribe(q);return!g.closed&&q.next(this._value),g}getValue(){const{hasError:q,thrownError:g,_value:Ue}=this;if(q)throw g;return this._throwIfClosed(),Ue}next(q){super.next(this._value=q)}}},9751:(Ot,B,R)=>{R.d(B,{y:()=>Ce});var v=R(930),V=R(727),I=R(8822),q=R(9635),g=R(2416),Ue=R(576),P=R(2806);let Ce=(()=>{class we{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const st=new we;return st.source=this,st.operator=Le,st}subscribe(Le,st,gt){const Je=function Me(we){return we&&we instanceof v.Lv||function ae(we){return we&&(0,Ue.m)(we.next)&&(0,Ue.m)(we.error)&&(0,Ue.m)(we.complete)}(we)&&(0,V.Nn)(we)}(Le)?Le:new v.Hp(Le,st,gt);return(0,P.x)(()=>{const{operator:ht,source:Xe}=this;Je.add(ht?ht.call(Je,Xe):Xe?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(Le){try{return this._subscribe(Le)}catch(st){Le.error(st)}}forEach(Le,st){return new(st=Ee(st))((gt,Je)=>{const ht=new v.Hp({next:Xe=>{try{Le(Xe)}catch(Nt){Je(Nt),ht.unsubscribe()}},error:Je,complete:gt});this.subscribe(ht)})}_subscribe(Le){var st;return null===(st=this.source)||void 0===st?void 0:st.subscribe(Le)}[I.L](){return this}pipe(...Le){return(0,q.U)(Le)(this)}toPromise(Le){return new(Le=Ee(Le))((st,gt)=>{let Je;this.subscribe(ht=>Je=ht,ht=>gt(ht),()=>st(Je))})}}return we.create=Oe=>new we(Oe),we})();function Ee(we){var Oe;return null!==(Oe=null!=we?we:g.v.Promise)&&void 0!==Oe?Oe:Promise}},4707:(Ot,B,R)=>{R.d(B,{t:()=>I});var v=R(7579),V=R(6063);class I extends v.x{constructor(g=1/0,Ue=1/0,P=V.l){super(),this._bufferSize=g,this._windowTime=Ue,this._timestampProvider=P,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ue===1/0,this._bufferSize=Math.max(1,g),this._windowTime=Math.max(1,Ue)}next(g){const{isStopped:Ue,_buffer:P,_infiniteTimeWindow:Ce,_timestampProvider:Ee,_windowTime:ae}=this;Ue||(P.push(g),!Ce&&P.push(Ee.now()+ae)),this._trimBuffer(),super.next(g)}_subscribe(g){this._throwIfClosed(),this._trimBuffer();const Ue=this._innerSubscribe(g),{_infiniteTimeWindow:P,_buffer:Ce}=this,Ee=Ce.slice();for(let ae=0;ae<Ee.length&&!g.closed;ae+=P?1:2)g.next(Ee[ae]);return this._checkFinalizedStatuses(g),Ue}_trimBuffer(){const{_bufferSize:g,_timestampProvider:Ue,_buffer:P,_infiniteTimeWindow:Ce}=this,Ee=(Ce?1:2)*g;if(g<1/0&&Ee<P.length&&P.splice(0,P.length-Ee),!Ce){const ae=Ue.now();let Me=0;for(let we=1;we<P.length&&P[we]<=ae;we+=2)Me=we;Me&&P.splice(0,Me+1)}}}},7579:(Ot,B,R)=>{R.d(B,{x:()=>P});var v=R(9751),V=R(727);const q=(0,R(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var g=R(8737),Ue=R(2806);let P=(()=>{class Ee extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Me){const we=new Ce(this,this);return we.operator=Me,we}_throwIfClosed(){if(this.closed)throw new q}next(Me){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(Me)}})}error(Me){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Me;const{observers:we}=this;for(;we.length;)we.shift().error(Me)}})}complete(){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Me}=this;for(;Me.length;)Me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Me;return(null===(Me=this.observers)||void 0===Me?void 0:Me.length)>0}_trySubscribe(Me){return this._throwIfClosed(),super._trySubscribe(Me)}_subscribe(Me){return this._throwIfClosed(),this._checkFinalizedStatuses(Me),this._innerSubscribe(Me)}_innerSubscribe(Me){const{hasError:we,isStopped:Oe,observers:Le}=this;return we||Oe?V.Lc:(this.currentObservers=null,Le.push(Me),new V.w0(()=>{this.currentObservers=null,(0,g.P)(Le,Me)}))}_checkFinalizedStatuses(Me){const{hasError:we,thrownError:Oe,isStopped:Le}=this;we?Me.error(Oe):Le&&Me.complete()}asObservable(){const Me=new v.y;return Me.source=this,Me}}return Ee.create=(ae,Me)=>new Ce(ae,Me),Ee})();class Ce extends P{constructor(ae,Me){super(),this.destination=ae,this.source=Me}next(ae){var Me,we;null===(we=null===(Me=this.destination)||void 0===Me?void 0:Me.next)||void 0===we||we.call(Me,ae)}error(ae){var Me,we;null===(we=null===(Me=this.destination)||void 0===Me?void 0:Me.error)||void 0===we||we.call(Me,ae)}complete(){var ae,Me;null===(Me=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===Me||Me.call(ae)}_subscribe(ae){var Me,we;return null!==(we=null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(ae))&&void 0!==we?we:V.Lc}}},930:(Ot,B,R)=>{R.d(B,{Hp:()=>gt,Lv:()=>we});var v=R(576),V=R(727),I=R(2416),q=R(7849),g=R(5032);const Ue=Ee("C",void 0,void 0);function Ee(at,ke,Ke){return{kind:at,value:ke,error:Ke}}var ae=R(3410),Me=R(2806);class we extends V.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,V.Nn)(ke)&&ke.add(this)):this.destination=Nt}static create(ke,Ke,it){return new gt(ke,Ke,it)}next(ke){this.isStopped?Xe(function Ce(at){return Ee("N",at,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?Xe(function P(at){return Ee("E",void 0,at)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?Xe(Ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function Le(at,ke){return Oe.call(at,ke)}class st{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(ke)}catch(it){Je(it)}}error(ke){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(ke)}catch(it){Je(it)}else Je(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Ke){Je(Ke)}}}class gt extends we{constructor(ke,Ke,it){let A;if(super(),(0,v.m)(ke)||!ke)A={next:null!=ke?ke:void 0,error:null!=Ke?Ke:void 0,complete:null!=it?it:void 0};else{let et;this&&I.v.useDeprecatedNextContext?(et=Object.create(ke),et.unsubscribe=()=>this.unsubscribe(),A={next:ke.next&&Le(ke.next,et),error:ke.error&&Le(ke.error,et),complete:ke.complete&&Le(ke.complete,et)}):A=ke}this.destination=new st(A)}}function Je(at){I.v.useDeprecatedSynchronousErrorHandling?(0,Me.O)(at):(0,q.h)(at)}function Xe(at,ke){const{onStoppedNotification:Ke}=I.v;Ke&&ae.z.setTimeout(()=>Ke(at,ke))}const Nt={closed:!0,next:g.Z,error:function ht(at){throw at},complete:g.Z}},727:(Ot,B,R)=>{R.d(B,{Lc:()=>Ue,w0:()=>g,Nn:()=>P});var v=R(576);const I=(0,R(3888).d)(Ee=>function(Me){Ee(this),this.message=Me?`${Me.length} errors occurred during unsubscription:\n${Me.map((we,Oe)=>`${Oe+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Me});var q=R(8737);class g{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:Me}=this;if(Me)if(this._parentage=null,Array.isArray(Me))for(const Le of Me)Le.remove(this);else Me.remove(this);const{initialTeardown:we}=this;if((0,v.m)(we))try{we()}catch(Le){ae=Le instanceof I?Le.errors:[Le]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const Le of Oe)try{Ce(Le)}catch(st){ae=null!=ae?ae:[],st instanceof I?ae=[...ae,...st.errors]:ae.push(st)}}if(ae)throw new I(ae)}}add(ae){var Me;if(ae&&ae!==this)if(this.closed)Ce(ae);else{if(ae instanceof g){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(Me=this._finalizers)&&void 0!==Me?Me:[]).push(ae)}}_hasParent(ae){const{_parentage:Me}=this;return Me===ae||Array.isArray(Me)&&Me.includes(ae)}_addParent(ae){const{_parentage:Me}=this;this._parentage=Array.isArray(Me)?(Me.push(ae),Me):Me?[Me,ae]:ae}_removeParent(ae){const{_parentage:Me}=this;Me===ae?this._parentage=null:Array.isArray(Me)&&(0,q.P)(Me,ae)}remove(ae){const{_finalizers:Me}=this;Me&&(0,q.P)(Me,ae),ae instanceof g&&ae._removeParent(this)}}g.EMPTY=(()=>{const Ee=new g;return Ee.closed=!0,Ee})();const Ue=g.EMPTY;function P(Ee){return Ee instanceof g||Ee&&"closed"in Ee&&(0,v.m)(Ee.remove)&&(0,v.m)(Ee.add)&&(0,v.m)(Ee.unsubscribe)}function Ce(Ee){(0,v.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(Ot,B,R)=>{R.d(B,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Ot,B,R)=>{R.d(B,{a:()=>ae,l:()=>Me});var v=R(9751),V=R(4742),I=R(8996),q=R(4671),g=R(3268),Ue=R(3269),P=R(1810),Ce=R(5403),Ee=R(9672);function ae(...Oe){const Le=(0,Ue.yG)(Oe),st=(0,Ue.jO)(Oe),{args:gt,keys:Je}=(0,V.D)(Oe);if(0===gt.length)return(0,I.D)([],Le);const ht=new v.y(Me(gt,Le,Je?Xe=>(0,P.n)(Je,Xe):q.y));return st?ht.pipe((0,g.Z)(st)):ht}function Me(Oe,Le,st=q.y){return gt=>{we(Le,()=>{const{length:Je}=Oe,ht=new Array(Je);let Xe=Je,Nt=Je;for(let at=0;at<Je;at++)we(Le,()=>{const ke=(0,I.D)(Oe[at],Le);let Ke=!1;ke.subscribe((0,Ce.x)(gt,it=>{ht[at]=it,Ke||(Ke=!0,Nt--),Nt||gt.next(st(ht.slice()))},()=>{--Xe||gt.complete()}))},gt)},gt)}}function we(Oe,Le,st){Oe?(0,Ee.f)(st,Oe,Le):Le()}},7272:(Ot,B,R)=>{R.d(B,{z:()=>g});var v=R(8189),I=R(3269),q=R(8996);function g(...Ue){return function V(){return(0,v.J)(1)}()((0,q.D)(Ue,(0,I.yG)(Ue)))}},9770:(Ot,B,R)=>{R.d(B,{P:()=>I});var v=R(9751),V=R(8421);function I(q){return new v.y(g=>{(0,V.Xf)(q()).subscribe(g)})}},515:(Ot,B,R)=>{R.d(B,{E:()=>V});const V=new(R(9751).y)(g=>g.complete())},4128:(Ot,B,R)=>{R.d(B,{D:()=>Ce});var v=R(9751),V=R(4742),I=R(8421),q=R(3269),g=R(5403),Ue=R(3268),P=R(1810);function Ce(...Ee){const ae=(0,q.jO)(Ee),{args:Me,keys:we}=(0,V.D)(Ee),Oe=new v.y(Le=>{const{length:st}=Me;if(!st)return void Le.complete();const gt=new Array(st);let Je=st,ht=st;for(let Xe=0;Xe<st;Xe++){let Nt=!1;(0,I.Xf)(Me[Xe]).subscribe((0,g.x)(Le,at=>{Nt||(Nt=!0,ht--),gt[Xe]=at},()=>Je--,void 0,()=>{(!Je||!Nt)&&(ht||Le.next(we?(0,P.n)(we,gt):gt),Le.complete())}))}});return ae?Oe.pipe((0,Ue.Z)(ae)):Oe}},8996:(Ot,B,R)=>{R.d(B,{D:()=>ke});var v=R(8421),V=R(5363),I=R(9468),Ue=R(9751),Ce=R(2202),Ee=R(576),ae=R(9672);function we(Ke,it){if(!Ke)throw new Error("Iterable cannot be null");return new Ue.y(A=>{(0,ae.f)(A,it,()=>{const et=Ke[Symbol.asyncIterator]();(0,ae.f)(A,it,()=>{et.next().then(en=>{en.done?A.complete():A.next(en.value)})},0,!0)})})}var Oe=R(3670),Le=R(8239),st=R(1144),gt=R(6495),Je=R(2206),ht=R(4532),Xe=R(3260);function ke(Ke,it){return it?function at(Ke,it){if(null!=Ke){if((0,Oe.c)(Ke))return function q(Ke,it){return(0,v.Xf)(Ke).pipe((0,I.R)(it),(0,V.Q)(it))}(Ke,it);if((0,st.z)(Ke))return function P(Ke,it){return new Ue.y(A=>{let et=0;return it.schedule(function(){et===Ke.length?A.complete():(A.next(Ke[et++]),A.closed||this.schedule())})})}(Ke,it);if((0,Le.t)(Ke))return function g(Ke,it){return(0,v.Xf)(Ke).pipe((0,I.R)(it),(0,V.Q)(it))}(Ke,it);if((0,Je.D)(Ke))return we(Ke,it);if((0,gt.T)(Ke))return function Me(Ke,it){return new Ue.y(A=>{let et;return(0,ae.f)(A,it,()=>{et=Ke[Ce.h](),(0,ae.f)(A,it,()=>{let en,Be;try{({value:en,done:Be}=et.next())}catch(At){return void A.error(At)}Be?A.complete():A.next(en)},0,!0)}),()=>(0,Ee.m)(null==et?void 0:et.return)&&et.return()})}(Ke,it);if((0,Xe.L)(Ke))return function Nt(Ke,it){return we((0,Xe.Q)(Ke),it)}(Ke,it)}throw(0,ht.z)(Ke)}(Ke,it):(0,v.Xf)(Ke)}},4968:(Ot,B,R)=>{R.d(B,{R:()=>ae});var v=R(8421),V=R(9751),I=R(5577),q=R(1144),g=R(576),Ue=R(3268);const P=["addListener","removeListener"],Ce=["addEventListener","removeEventListener"],Ee=["on","off"];function ae(st,gt,Je,ht){if((0,g.m)(Je)&&(ht=Je,Je=void 0),ht)return ae(st,gt,Je).pipe((0,Ue.Z)(ht));const[Xe,Nt]=function Le(st){return(0,g.m)(st.addEventListener)&&(0,g.m)(st.removeEventListener)}(st)?Ce.map(at=>ke=>st[at](gt,ke,Je)):function we(st){return(0,g.m)(st.addListener)&&(0,g.m)(st.removeListener)}(st)?P.map(Me(st,gt)):function Oe(st){return(0,g.m)(st.on)&&(0,g.m)(st.off)}(st)?Ee.map(Me(st,gt)):[];if(!Xe&&(0,q.z)(st))return(0,I.z)(at=>ae(at,gt,Je))((0,v.Xf)(st));if(!Xe)throw new TypeError("Invalid event target");return new V.y(at=>{const ke=(...Ke)=>at.next(1<Ke.length?Ke:Ke[0]);return Xe(ke),()=>Nt(ke)})}function Me(st,gt){return Je=>ht=>st[Je](gt,ht)}},8421:(Ot,B,R)=>{R.d(B,{Xf:()=>Oe});var v=R(655),V=R(1144),I=R(8239),q=R(9751),g=R(3670),Ue=R(2206),P=R(4532),Ce=R(6495),Ee=R(3260),ae=R(576),Me=R(7849),we=R(8822);function Oe(at){if(at instanceof q.y)return at;if(null!=at){if((0,g.c)(at))return function Le(at){return new q.y(ke=>{const Ke=at[we.L]();if((0,ae.m)(Ke.subscribe))return Ke.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(at);if((0,V.z)(at))return function st(at){return new q.y(ke=>{for(let Ke=0;Ke<at.length&&!ke.closed;Ke++)ke.next(at[Ke]);ke.complete()})}(at);if((0,I.t)(at))return function gt(at){return new q.y(ke=>{at.then(Ke=>{ke.closed||(ke.next(Ke),ke.complete())},Ke=>ke.error(Ke)).then(null,Me.h)})}(at);if((0,Ue.D)(at))return ht(at);if((0,Ce.T)(at))return function Je(at){return new q.y(ke=>{for(const Ke of at)if(ke.next(Ke),ke.closed)return;ke.complete()})}(at);if((0,Ee.L)(at))return function Xe(at){return ht((0,Ee.Q)(at))}(at)}throw(0,P.z)(at)}function ht(at){return new q.y(ke=>{(function Nt(at,ke){var Ke,it,A,et;return(0,v.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,v.KL)(at);!(it=yield Ke.next()).done;)if(ke.next(it.value),ke.closed)return}catch(en){A={error:en}}finally{try{it&&!it.done&&(et=Ke.return)&&(yield et.call(Ke))}finally{if(A)throw A.error}}ke.complete()})})(at,ke).catch(Ke=>ke.error(Ke))})}},6451:(Ot,B,R)=>{R.d(B,{T:()=>Ue});var v=R(8189),V=R(8421),I=R(515),q=R(3269),g=R(8996);function Ue(...P){const Ce=(0,q.yG)(P),Ee=(0,q._6)(P,1/0),ae=P;return ae.length?1===ae.length?(0,V.Xf)(ae[0]):(0,v.J)(Ee)((0,g.D)(ae,Ce)):I.E}},9646:(Ot,B,R)=>{R.d(B,{of:()=>I});var v=R(3269),V=R(8996);function I(...q){const g=(0,v.yG)(q);return(0,V.D)(q,g)}},2843:(Ot,B,R)=>{R.d(B,{_:()=>I});var v=R(9751),V=R(576);function I(q,g){const Ue=(0,V.m)(q)?q:()=>q,P=Ce=>Ce.error(Ue());return new v.y(g?Ce=>g.schedule(P,0,Ce):P)}},2805:(Ot,B,R)=>{R.d(B,{H:()=>g});var v=R(9751),V=R(4986),I=R(3532),q=R(1165);function g(Ue=0,P,Ce=V.P){let Ee=-1;return null!=P&&((0,I.K)(P)?Ce=P:Ee=P),new v.y(ae=>{let Me=(0,q.q)(Ue)?+Ue-Ce.now():Ue;Me<0&&(Me=0);let we=0;return Ce.schedule(function(){ae.closed||(ae.next(we++),0<=Ee?this.schedule(void 0,Ee):ae.complete())},Me)})}},5403:(Ot,B,R)=>{R.d(B,{Q:()=>I,x:()=>V});var v=R(930);function V(q,g,Ue,P,Ce){return new I(q,g,Ue,P,Ce)}class I extends v.Lv{constructor(g,Ue,P,Ce,Ee,ae){super(g),this.onFinalize=Ee,this.shouldUnsubscribe=ae,this._next=Ue?function(Me){try{Ue(Me)}catch(we){g.error(we)}}:super._next,this._error=Ce?function(Me){try{Ce(Me)}catch(we){g.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=P?function(){try{P()}catch(Me){g.error(Me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ue}=this;super.unsubscribe(),!Ue&&(null===(g=this.onFinalize)||void 0===g||g.call(this))}}}},262:(Ot,B,R)=>{R.d(B,{K:()=>q});var v=R(8421),V=R(5403),I=R(4482);function q(g){return(0,I.e)((Ue,P)=>{let ae,Ce=null,Ee=!1;Ce=Ue.subscribe((0,V.x)(P,void 0,void 0,Me=>{ae=(0,v.Xf)(g(Me,q(g)(Ue))),Ce?(Ce.unsubscribe(),Ce=null,ae.subscribe(P)):Ee=!0})),Ee&&(Ce.unsubscribe(),Ce=null,ae.subscribe(P))})}},4351:(Ot,B,R)=>{R.d(B,{b:()=>I});var v=R(5577),V=R(576);function I(q,g){return(0,V.m)(g)?(0,v.z)(q,g,1):(0,v.z)(q,1)}},8372:(Ot,B,R)=>{R.d(B,{b:()=>q});var v=R(4986),V=R(4482),I=R(5403);function q(g,Ue=v.z){return(0,V.e)((P,Ce)=>{let Ee=null,ae=null,Me=null;const we=()=>{if(Ee){Ee.unsubscribe(),Ee=null;const Le=ae;ae=null,Ce.next(Le)}};function Oe(){const Le=Me+g,st=Ue.now();if(st<Le)return Ee=this.schedule(void 0,Le-st),void Ce.add(Ee);we()}P.subscribe((0,I.x)(Ce,Le=>{ae=Le,Me=Ue.now(),Ee||(Ee=Ue.schedule(Oe,g),Ce.add(Ee))},()=>{we(),Ce.complete()},void 0,()=>{ae=Ee=null}))})}},6590:(Ot,B,R)=>{R.d(B,{d:()=>I});var v=R(4482),V=R(5403);function I(q){return(0,v.e)((g,Ue)=>{let P=!1;g.subscribe((0,V.x)(Ue,Ce=>{P=!0,Ue.next(Ce)},()=>{P||Ue.next(q),Ue.complete()}))})}},8537:(Ot,B,R)=>{R.d(B,{g:()=>ae});var v=R(4986),V=R(7272),I=R(5698),q=R(8502),g=R(4004),P=R(5577);function Ce(Me,we){return we?Oe=>(0,V.z)(we.pipe((0,I.q)(1),(0,q.l)()),Oe.pipe(Ce(Me))):(0,P.z)((Oe,Le)=>Me(Oe,Le).pipe((0,I.q)(1),function Ue(Me){return(0,g.U)(()=>Me)}(Oe)))}var Ee=R(2805);function ae(Me,we=v.z){const Oe=(0,Ee.H)(Me,we);return Ce(()=>Oe)}},1884:(Ot,B,R)=>{R.d(B,{x:()=>q});var v=R(4671),V=R(4482),I=R(5403);function q(Ue,P=v.y){return Ue=null!=Ue?Ue:g,(0,V.e)((Ce,Ee)=>{let ae,Me=!0;Ce.subscribe((0,I.x)(Ee,we=>{const Oe=P(we);(Me||!Ue(ae,Oe))&&(Me=!1,ae=Oe,Ee.next(we))}))})}function g(Ue,P){return Ue===P}},9300:(Ot,B,R)=>{R.d(B,{h:()=>I});var v=R(4482),V=R(5403);function I(q,g){return(0,v.e)((Ue,P)=>{let Ce=0;Ue.subscribe((0,V.x)(P,Ee=>q.call(g,Ee,Ce++)&&P.next(Ee)))})}},8746:(Ot,B,R)=>{R.d(B,{x:()=>V});var v=R(4482);function V(I){return(0,v.e)((q,g)=>{try{q.subscribe(g)}finally{g.add(I)}})}},590:(Ot,B,R)=>{R.d(B,{P:()=>P});var v=R(6805),V=R(9300),I=R(5698),q=R(6590),g=R(8068),Ue=R(4671);function P(Ce,Ee){const ae=arguments.length>=2;return Me=>Me.pipe(Ce?(0,V.h)((we,Oe)=>Ce(we,Oe,Me)):Ue.y,(0,I.q)(1),ae?(0,q.d)(Ee):(0,g.T)(()=>new v.K))}},8502:(Ot,B,R)=>{R.d(B,{l:()=>q});var v=R(4482),V=R(5403),I=R(5032);function q(){return(0,v.e)((g,Ue)=>{g.subscribe((0,V.x)(Ue,I.Z))})}},4004:(Ot,B,R)=>{R.d(B,{U:()=>I});var v=R(4482),V=R(5403);function I(q,g){return(0,v.e)((Ue,P)=>{let Ce=0;Ue.subscribe((0,V.x)(P,Ee=>{P.next(q.call(g,Ee,Ce++))}))})}},8189:(Ot,B,R)=>{R.d(B,{J:()=>I});var v=R(5577),V=R(4671);function I(q=1/0){return(0,v.z)(V.y,q)}},5577:(Ot,B,R)=>{R.d(B,{z:()=>Ce});var v=R(4004),V=R(8421),I=R(4482),q=R(9672),g=R(5403),P=R(576);function Ce(Ee,ae,Me=1/0){return(0,P.m)(ae)?Ce((we,Oe)=>(0,v.U)((Le,st)=>ae(we,Le,Oe,st))((0,V.Xf)(Ee(we,Oe))),Me):("number"==typeof ae&&(Me=ae),(0,I.e)((we,Oe)=>function Ue(Ee,ae,Me,we,Oe,Le,st,gt){const Je=[];let ht=0,Xe=0,Nt=!1;const at=()=>{Nt&&!Je.length&&!ht&&ae.complete()},ke=it=>ht<we?Ke(it):Je.push(it),Ke=it=>{Le&&ae.next(it),ht++;let A=!1;(0,V.Xf)(Me(it,Xe++)).subscribe((0,g.x)(ae,et=>{null==Oe||Oe(et),Le?ke(et):ae.next(et)},()=>{A=!0},void 0,()=>{if(A)try{for(ht--;Je.length&&ht<we;){const et=Je.shift();st?(0,q.f)(ae,st,()=>Ke(et)):Ke(et)}at()}catch(et){ae.error(et)}}))};return Ee.subscribe((0,g.x)(ae,ke,()=>{Nt=!0,at()})),()=>{null==gt||gt()}}(we,Oe,Ee,Me)))}},5363:(Ot,B,R)=>{R.d(B,{Q:()=>q});var v=R(9672),V=R(4482),I=R(5403);function q(g,Ue=0){return(0,V.e)((P,Ce)=>{P.subscribe((0,I.x)(Ce,Ee=>(0,v.f)(Ce,g,()=>Ce.next(Ee),Ue),()=>(0,v.f)(Ce,g,()=>Ce.complete(),Ue),Ee=>(0,v.f)(Ce,g,()=>Ce.error(Ee),Ue)))})}},5026:(Ot,B,R)=>{R.d(B,{R:()=>q});var v=R(4482),V=R(5403);function I(g,Ue,P,Ce,Ee){return(ae,Me)=>{let we=P,Oe=Ue,Le=0;ae.subscribe((0,V.x)(Me,st=>{const gt=Le++;Oe=we?g(Oe,st,gt):(we=!0,st),Ce&&Me.next(Oe)},Ee&&(()=>{we&&Me.next(Oe),Me.complete()})))}}function q(g,Ue){return(0,v.e)(I(g,Ue,arguments.length>=2,!0))}},3099:(Ot,B,R)=>{R.d(B,{B:()=>Ue});var v=R(8996),V=R(5698),I=R(7579),q=R(930),g=R(4482);function Ue(Ce={}){const{connector:Ee=(()=>new I.x),resetOnError:ae=!0,resetOnComplete:Me=!0,resetOnRefCountZero:we=!0}=Ce;return Oe=>{let Le=null,st=null,gt=null,Je=0,ht=!1,Xe=!1;const Nt=()=>{null==st||st.unsubscribe(),st=null},at=()=>{Nt(),Le=gt=null,ht=Xe=!1},ke=()=>{const Ke=Le;at(),null==Ke||Ke.unsubscribe()};return(0,g.e)((Ke,it)=>{Je++,!Xe&&!ht&&Nt();const A=gt=null!=gt?gt:Ee();it.add(()=>{Je--,0===Je&&!Xe&&!ht&&(st=P(ke,we))}),A.subscribe(it),Le||(Le=new q.Hp({next:et=>A.next(et),error:et=>{Xe=!0,Nt(),st=P(at,ae,et),A.error(et)},complete:()=>{ht=!0,Nt(),st=P(at,Me),A.complete()}}),(0,v.D)(Ke).subscribe(Le))})(Oe)}}function P(Ce,Ee,...ae){return!0===Ee?(Ce(),null):!1===Ee?null:Ee(...ae).pipe((0,V.q)(1)).subscribe(()=>Ce())}},5684:(Ot,B,R)=>{R.d(B,{T:()=>V});var v=R(9300);function V(I){return(0,v.h)((q,g)=>I<=g)}},8675:(Ot,B,R)=>{R.d(B,{O:()=>q});var v=R(7272),V=R(3269),I=R(4482);function q(...g){const Ue=(0,V.yG)(g);return(0,I.e)((P,Ce)=>{(Ue?(0,v.z)(g,P,Ue):(0,v.z)(g,P)).subscribe(Ce)})}},9468:(Ot,B,R)=>{R.d(B,{R:()=>V});var v=R(4482);function V(I,q=0){return(0,v.e)((g,Ue)=>{Ue.add(I.schedule(()=>g.subscribe(Ue),q))})}},3900:(Ot,B,R)=>{R.d(B,{w:()=>q});var v=R(8421),V=R(4482),I=R(5403);function q(g,Ue){return(0,V.e)((P,Ce)=>{let Ee=null,ae=0,Me=!1;const we=()=>Me&&!Ee&&Ce.complete();P.subscribe((0,I.x)(Ce,Oe=>{null==Ee||Ee.unsubscribe();let Le=0;const st=ae++;(0,v.Xf)(g(Oe,st)).subscribe(Ee=(0,I.x)(Ce,gt=>Ce.next(Ue?Ue(Oe,gt,st,Le++):gt),()=>{Ee=null,we()}))},()=>{Me=!0,we()}))})}},5698:(Ot,B,R)=>{R.d(B,{q:()=>q});var v=R(515),V=R(4482),I=R(5403);function q(g){return g<=0?()=>v.E:(0,V.e)((Ue,P)=>{let Ce=0;Ue.subscribe((0,I.x)(P,Ee=>{++Ce<=g&&(P.next(Ee),g<=Ce&&P.complete())}))})}},2722:(Ot,B,R)=>{R.d(B,{R:()=>g});var v=R(4482),V=R(5403),I=R(8421),q=R(5032);function g(Ue){return(0,v.e)((P,Ce)=>{(0,I.Xf)(Ue).subscribe((0,V.x)(Ce,()=>Ce.complete(),q.Z)),!Ce.closed&&P.subscribe(Ce)})}},8505:(Ot,B,R)=>{R.d(B,{b:()=>g});var v=R(576),V=R(4482),I=R(5403),q=R(4671);function g(Ue,P,Ce){const Ee=(0,v.m)(Ue)||P||Ce?{next:Ue,error:P,complete:Ce}:Ue;return Ee?(0,V.e)((ae,Me)=>{var we;null===(we=Ee.subscribe)||void 0===we||we.call(Ee);let Oe=!0;ae.subscribe((0,I.x)(Me,Le=>{var st;null===(st=Ee.next)||void 0===st||st.call(Ee,Le),Me.next(Le)},()=>{var Le;Oe=!1,null===(Le=Ee.complete)||void 0===Le||Le.call(Ee),Me.complete()},Le=>{var st;Oe=!1,null===(st=Ee.error)||void 0===st||st.call(Ee,Le),Me.error(Le)},()=>{var Le,st;Oe&&(null===(Le=Ee.unsubscribe)||void 0===Le||Le.call(Ee)),null===(st=Ee.finalize)||void 0===st||st.call(Ee)}))}):q.y}},8068:(Ot,B,R)=>{R.d(B,{T:()=>q});var v=R(6805),V=R(4482),I=R(5403);function q(Ue=g){return(0,V.e)((P,Ce)=>{let Ee=!1;P.subscribe((0,I.x)(Ce,ae=>{Ee=!0,Ce.next(ae)},()=>Ee?Ce.complete():Ce.error(Ue())))})}function g(){return new v.K}},7414:(Ot,B,R)=>{R.d(B,{V:()=>Ee});var v=R(4986),V=R(1165),I=R(4482),q=R(8421),g=R(3888),Ue=R(5403),P=R(9672);const Ce=(0,g.d)(Me=>function(Oe=null){Me(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Oe});function Ee(Me,we){const{first:Oe,each:Le,with:st=ae,scheduler:gt=(null!=we?we:v.z),meta:Je=null}=(0,V.q)(Me)?{first:Me}:"number"==typeof Me?{each:Me}:Me;if(null==Oe&&null==Le)throw new TypeError("No timeout provided.");return(0,I.e)((ht,Xe)=>{let Nt,at,ke=null,Ke=0;const it=A=>{at=(0,P.f)(Xe,gt,()=>{try{Nt.unsubscribe(),(0,q.Xf)(st({meta:Je,lastValue:ke,seen:Ke})).subscribe(Xe)}catch(et){Xe.error(et)}},A)};Nt=ht.subscribe((0,Ue.x)(Xe,A=>{null==at||at.unsubscribe(),Ke++,Xe.next(ke=A),Le>0&&it(Le)},void 0,void 0,()=>{(null==at?void 0:at.closed)||null==at||at.unsubscribe(),ke=null})),!Ke&&it(null!=Oe?"number"==typeof Oe?Oe:+Oe-gt.now():Le)})}function ae(Me){throw new Ce(Me)}},1365:(Ot,B,R)=>{R.d(B,{M:()=>P});var v=R(4482),V=R(5403),I=R(8421),q=R(4671),g=R(5032),Ue=R(3269);function P(...Ce){const Ee=(0,Ue.jO)(Ce);return(0,v.e)((ae,Me)=>{const we=Ce.length,Oe=new Array(we);let Le=Ce.map(()=>!1),st=!1;for(let gt=0;gt<we;gt++)(0,I.Xf)(Ce[gt]).subscribe((0,V.x)(Me,Je=>{Oe[gt]=Je,!st&&!Le[gt]&&(Le[gt]=!0,(st=Le.every(q.y))&&(Le=null))},g.Z));ae.subscribe((0,V.x)(Me,gt=>{if(st){const Je=[gt,...Oe];Me.next(Ee?Ee(...Je):Je)}}))})}},4408:(Ot,B,R)=>{R.d(B,{o:()=>g});var v=R(727);class V extends v.w0{constructor(P,Ce){super()}schedule(P,Ce=0){return this}}const I={setInterval(Ue,P,...Ce){const{delegate:Ee}=I;return(null==Ee?void 0:Ee.setInterval)?Ee.setInterval(Ue,P,...Ce):setInterval(Ue,P,...Ce)},clearInterval(Ue){const{delegate:P}=I;return((null==P?void 0:P.clearInterval)||clearInterval)(Ue)},delegate:void 0};var q=R(8737);class g extends V{constructor(P,Ce){super(P,Ce),this.scheduler=P,this.work=Ce,this.pending=!1}schedule(P,Ce=0){if(this.closed)return this;this.state=P;const Ee=this.id,ae=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(ae,Ee,Ce)),this.pending=!0,this.delay=Ce,this.id=this.id||this.requestAsyncId(ae,this.id,Ce),this}requestAsyncId(P,Ce,Ee=0){return I.setInterval(P.flush.bind(P,this),Ee)}recycleAsyncId(P,Ce,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return Ce;I.clearInterval(Ce)}execute(P,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(P,Ce);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(P,Ce){let ae,Ee=!1;try{this.work(P)}catch(Me){Ee=!0,ae=Me||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:P,scheduler:Ce}=this,{actions:Ee}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,q.P)(Ee,this),null!=P&&(this.id=this.recycleAsyncId(Ce,P,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ot,B,R)=>{R.d(B,{v:()=>I});var v=R(6063);class V{constructor(g,Ue=V.now){this.schedulerActionCtor=g,this.now=Ue}schedule(g,Ue=0,P){return new this.schedulerActionCtor(this,g).schedule(P,Ue)}}V.now=v.l.now;class I extends V{constructor(g,Ue=V.now){super(g,Ue),this.actions=[],this._active=!1,this._scheduled=void 0}flush(g){const{actions:Ue}=this;if(this._active)return void Ue.push(g);let P;this._active=!0;do{if(P=g.execute(g.state,g.delay))break}while(g=Ue.shift());if(this._active=!1,P){for(;g=Ue.shift();)g.unsubscribe();throw P}}}},3101:(Ot,B,R)=>{R.d(B,{E:()=>Le});var v=R(4408);let I,V=1;const q={};function g(gt){return gt in q&&(delete q[gt],!0)}const Ue={setImmediate(gt){const Je=V++;return q[Je]=!0,I||(I=Promise.resolve()),I.then(()=>g(Je)&&gt()),Je},clearImmediate(gt){g(gt)}},{setImmediate:Ce,clearImmediate:Ee}=Ue,ae={setImmediate(...gt){const{delegate:Je}=ae;return((null==Je?void 0:Je.setImmediate)||Ce)(...gt)},clearImmediate(gt){const{delegate:Je}=ae;return((null==Je?void 0:Je.clearImmediate)||Ee)(gt)},delegate:void 0};var we=R(7565);const Le=new class Oe extends we.v{flush(Je){this._active=!0;const ht=this._scheduled;this._scheduled=void 0;const{actions:Xe}=this;let Nt;Je=Je||Xe.shift();do{if(Nt=Je.execute(Je.state,Je.delay))break}while((Je=Xe[0])&&Je.id===ht&&Xe.shift());if(this._active=!1,Nt){for(;(Je=Xe[0])&&Je.id===ht&&Xe.shift();)Je.unsubscribe();throw Nt}}}(class Me extends v.o{constructor(Je,ht){super(Je,ht),this.scheduler=Je,this.work=ht}requestAsyncId(Je,ht,Xe=0){return null!==Xe&&Xe>0?super.requestAsyncId(Je,ht,Xe):(Je.actions.push(this),Je._scheduled||(Je._scheduled=ae.setImmediate(Je.flush.bind(Je,void 0))))}recycleAsyncId(Je,ht,Xe=0){if(null!=Xe&&Xe>0||null==Xe&&this.delay>0)return super.recycleAsyncId(Je,ht,Xe);Je.actions.some(Nt=>Nt.id===ht)||(ae.clearImmediate(ht),Je._scheduled=void 0)}})},4986:(Ot,B,R)=>{R.d(B,{P:()=>q,z:()=>I});var v=R(4408);const I=new(R(7565).v)(v.o),q=I},6063:(Ot,B,R)=>{R.d(B,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},233:(Ot,B,R)=>{R.d(B,{N:()=>g});var v=R(4408),I=R(7565);const g=new class q extends I.v{}(class V extends v.o{constructor(Ce,Ee){super(Ce,Ee),this.scheduler=Ce,this.work=Ee}schedule(Ce,Ee=0){return Ee>0?super.schedule(Ce,Ee):(this.delay=Ee,this.state=Ce,this.scheduler.flush(this),this)}execute(Ce,Ee){return Ee>0||this.closed?super.execute(Ce,Ee):this._execute(Ce,Ee)}requestAsyncId(Ce,Ee,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(Ce,Ee,ae):Ce.flush(this)}})},3410:(Ot,B,R)=>{R.d(B,{z:()=>v});const v={setTimeout(V,I,...q){const{delegate:g}=v;return(null==g?void 0:g.setTimeout)?g.setTimeout(V,I,...q):setTimeout(V,I,...q)},clearTimeout(V){const{delegate:I}=v;return((null==I?void 0:I.clearTimeout)||clearTimeout)(V)},delegate:void 0}},2202:(Ot,B,R)=>{R.d(B,{h:()=>V});const V=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ot,B,R)=>{R.d(B,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ot,B,R)=>{R.d(B,{K:()=>V});const V=(0,R(3888).d)(I=>function(){I(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Ot,B,R)=>{R.d(B,{_6:()=>Ue,jO:()=>q,yG:()=>g});var v=R(576),V=R(3532);function I(P){return P[P.length-1]}function q(P){return(0,v.m)(I(P))?P.pop():void 0}function g(P){return(0,V.K)(I(P))?P.pop():void 0}function Ue(P,Ce){return"number"==typeof I(P)?P.pop():Ce}},4742:(Ot,B,R)=>{R.d(B,{D:()=>g});const{isArray:v}=Array,{getPrototypeOf:V,prototype:I,keys:q}=Object;function g(P){if(1===P.length){const Ce=P[0];if(v(Ce))return{args:Ce,keys:null};if(function Ue(P){return P&&"object"==typeof P&&V(P)===I}(Ce)){const Ee=q(Ce);return{args:Ee.map(ae=>Ce[ae]),keys:Ee}}}return{args:P,keys:null}}},8737:(Ot,B,R)=>{function v(V,I){if(V){const q=V.indexOf(I);0<=q&&V.splice(q,1)}}R.d(B,{P:()=>v})},3888:(Ot,B,R)=>{function v(V){const q=V(g=>{Error.call(g),g.stack=(new Error).stack});return q.prototype=Object.create(Error.prototype),q.prototype.constructor=q,q}R.d(B,{d:()=>v})},1810:(Ot,B,R)=>{function v(V,I){return V.reduce((q,g,Ue)=>(q[g]=I[Ue],q),{})}R.d(B,{n:()=>v})},2806:(Ot,B,R)=>{R.d(B,{O:()=>q,x:()=>I});var v=R(2416);let V=null;function I(g){if(v.v.useDeprecatedSynchronousErrorHandling){const Ue=!V;if(Ue&&(V={errorThrown:!1,error:null}),g(),Ue){const{errorThrown:P,error:Ce}=V;if(V=null,P)throw Ce}}else g()}function q(g){v.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=g)}},9672:(Ot,B,R)=>{function v(V,I,q,g=0,Ue=!1){const P=I.schedule(function(){q(),Ue?V.add(this.schedule(null,g)):this.unsubscribe()},g);if(V.add(P),!Ue)return P}R.d(B,{f:()=>v})},4671:(Ot,B,R)=>{function v(V){return V}R.d(B,{y:()=>v})},1144:(Ot,B,R)=>{R.d(B,{z:()=>v});const v=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(Ot,B,R)=>{R.d(B,{D:()=>V});var v=R(576);function V(I){return Symbol.asyncIterator&&(0,v.m)(null==I?void 0:I[Symbol.asyncIterator])}},1165:(Ot,B,R)=>{function v(V){return V instanceof Date&&!isNaN(V)}R.d(B,{q:()=>v})},576:(Ot,B,R)=>{function v(V){return"function"==typeof V}R.d(B,{m:()=>v})},3670:(Ot,B,R)=>{R.d(B,{c:()=>I});var v=R(8822),V=R(576);function I(q){return(0,V.m)(q[v.L])}},6495:(Ot,B,R)=>{R.d(B,{T:()=>I});var v=R(2202),V=R(576);function I(q){return(0,V.m)(null==q?void 0:q[v.h])}},8239:(Ot,B,R)=>{R.d(B,{t:()=>V});var v=R(576);function V(I){return(0,v.m)(null==I?void 0:I.then)}},3260:(Ot,B,R)=>{R.d(B,{L:()=>q,Q:()=>I});var v=R(655),V=R(576);function I(g){return(0,v.FC)(this,arguments,function*(){const P=g.getReader();try{for(;;){const{value:Ce,done:Ee}=yield(0,v.qq)(P.read());if(Ee)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(Ce)}}finally{P.releaseLock()}})}function q(g){return(0,V.m)(null==g?void 0:g.getReader)}},3532:(Ot,B,R)=>{R.d(B,{K:()=>V});var v=R(576);function V(I){return I&&(0,v.m)(I.schedule)}},4482:(Ot,B,R)=>{R.d(B,{A:()=>V,e:()=>I});var v=R(576);function V(q){return(0,v.m)(null==q?void 0:q.lift)}function I(q){return g=>{if(V(g))return g.lift(function(Ue){try{return q(Ue,this)}catch(P){this.error(P)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ot,B,R)=>{R.d(B,{Z:()=>q});var v=R(4004);const{isArray:V}=Array;function q(g){return(0,v.U)(Ue=>function I(g,Ue){return V(Ue)?g(...Ue):g(Ue)}(g,Ue))}},5032:(Ot,B,R)=>{function v(){}R.d(B,{Z:()=>v})},9635:(Ot,B,R)=>{R.d(B,{U:()=>I,z:()=>V});var v=R(4671);function V(...q){return I(q)}function I(q){return 0===q.length?v.y:1===q.length?q[0]:function(Ue){return q.reduce((P,Ce)=>Ce(P),Ue)}}},7849:(Ot,B,R)=>{R.d(B,{h:()=>I});var v=R(2416),V=R(3410);function I(q){V.z.setTimeout(()=>{const{onUnhandledError:g}=v.v;if(!g)throw q;g(q)})}},4532:(Ot,B,R)=>{function v(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(B,{z:()=>v})},655:(Ot,B,R)=>{function q(Be,At){var Ut={};for(var nn in Be)Object.prototype.hasOwnProperty.call(Be,nn)&&At.indexOf(nn)<0&&(Ut[nn]=Be[nn]);if(null!=Be&&"function"==typeof Object.getOwnPropertySymbols){var Qt=0;for(nn=Object.getOwnPropertySymbols(Be);Qt<nn.length;Qt++)At.indexOf(nn[Qt])<0&&Object.prototype.propertyIsEnumerable.call(Be,nn[Qt])&&(Ut[nn[Qt]]=Be[nn[Qt]])}return Ut}function Ce(Be,At,Ut,nn){return new(Ut||(Ut=Promise))(function(an,Bn){function ie(Zt){try{ut(nn.next(Zt))}catch(hn){Bn(hn)}}function Mt(Zt){try{ut(nn.throw(Zt))}catch(hn){Bn(hn)}}function ut(Zt){Zt.done?an(Zt.value):function Qt(an){return an instanceof Ut?an:new Ut(function(Bn){Bn(an)})}(Zt.value).then(ie,Mt)}ut((nn=nn.apply(Be,At||[])).next())})}function Je(Be){return this instanceof Je?(this.v=Be,this):new Je(Be)}function ht(Be,At,Ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qt,nn=Ut.apply(Be,At||[]),an=[];return Qt={},Bn("next"),Bn("throw"),Bn("return"),Qt[Symbol.asyncIterator]=function(){return this},Qt;function Bn(Kt){nn[Kt]&&(Qt[Kt]=function(gn){return new Promise(function(Lt,Bt){an.push([Kt,gn,Lt,Bt])>1||ie(Kt,gn)})})}function ie(Kt,gn){try{!function Mt(Kt){Kt.value instanceof Je?Promise.resolve(Kt.value.v).then(ut,Zt):hn(an[0][2],Kt)}(nn[Kt](gn))}catch(Lt){hn(an[0][3],Lt)}}function ut(Kt){ie("next",Kt)}function Zt(Kt){ie("throw",Kt)}function hn(Kt,gn){Kt(gn),an.shift(),an.length&&ie(an[0][0],an[0][1])}}function Nt(Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ut,At=Be[Symbol.asyncIterator];return At?At.call(Be):(Be=function we(Be){var At="function"==typeof Symbol&&Symbol.iterator,Ut=At&&Be[At],nn=0;if(Ut)return Ut.call(Be);if(Be&&"number"==typeof Be.length)return{next:function(){return Be&&nn>=Be.length&&(Be=void 0),{value:Be&&Be[nn++],done:!Be}}};throw new TypeError(At?"Object is not iterable.":"Symbol.iterator is not defined.")}(Be),Ut={},nn("next"),nn("throw"),nn("return"),Ut[Symbol.asyncIterator]=function(){return this},Ut);function nn(an){Ut[an]=Be[an]&&function(Bn){return new Promise(function(ie,Mt){!function Qt(an,Bn,ie,Mt){Promise.resolve(Mt).then(function(ut){an({value:ut,done:ie})},Bn)}(ie,Mt,(Bn=Be[an](Bn)).done,Bn.value)})}}}R.d(B,{FC:()=>ht,KL:()=>Nt,_T:()=>q,mG:()=>Ce,qq:()=>Je})},1777:(Ot,B,R)=>{R.d(B,{F4:()=>ae,IO:()=>st,LC:()=>V,SB:()=>Ee,X$:()=>q,ZE:()=>Xe,ZN:()=>ht,_j:()=>v,eR:()=>Me,jt:()=>g,k1:()=>Nt,l3:()=>I,oB:()=>Ce,pV:()=>Oe,vP:()=>P});class v{}class V{}const I="*";function q(at,ke){return{type:7,name:at,definitions:ke,options:{}}}function g(at,ke=null){return{type:4,styles:ke,timings:at}}function P(at,ke=null){return{type:2,steps:at,options:ke}}function Ce(at){return{type:6,styles:at,offset:null}}function Ee(at,ke,Ke){return{type:0,name:at,styles:ke,options:Ke}}function ae(at){return{type:5,steps:at}}function Me(at,ke,Ke=null){return{type:1,expr:at,animation:ke,options:Ke}}function Oe(at=null){return{type:9,options:at}}function st(at,ke,Ke=null){return{type:11,selector:at,animation:ke,options:Ke}}function Je(at){Promise.resolve(null).then(at)}class ht{constructor(ke=0,Ke=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ke+Ke}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ke=>ke()),this._onDoneFns=[])}onStart(ke){this._onStartFns.push(ke)}onDone(ke){this._onDoneFns.push(ke)}onDestroy(ke){this._onDestroyFns.push(ke)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Je(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ke=>ke()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ke=>ke()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ke){this._position=this.totalTime?ke*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ke){const Ke="start"==ke?this._onStartFns:this._onDoneFns;Ke.forEach(it=>it()),Ke.length=0}}class Xe{constructor(ke){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ke;let Ke=0,it=0,A=0;const et=this.players.length;0==et?Je(()=>this._onFinish()):this.players.forEach(en=>{en.onDone(()=>{++Ke==et&&this._onFinish()}),en.onDestroy(()=>{++it==et&&this._onDestroy()}),en.onStart(()=>{++A==et&&this._onStart()})}),this.totalTime=this.players.reduce((en,Be)=>Math.max(en,Be.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ke=>ke()),this._onDoneFns=[])}init(){this.players.forEach(ke=>ke.init())}onStart(ke){this._onStartFns.push(ke)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ke=>ke()),this._onStartFns=[])}onDone(ke){this._onDoneFns.push(ke)}onDestroy(ke){this._onDestroyFns.push(ke)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ke=>ke.play())}pause(){this.players.forEach(ke=>ke.pause())}restart(){this.players.forEach(ke=>ke.restart())}finish(){this._onFinish(),this.players.forEach(ke=>ke.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ke=>ke.destroy()),this._onDestroyFns.forEach(ke=>ke()),this._onDestroyFns=[])}reset(){this.players.forEach(ke=>ke.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ke){const Ke=ke*this.totalTime;this.players.forEach(it=>{const A=it.totalTime?Math.min(1,Ke/it.totalTime):1;it.setPosition(A)})}getPosition(){const ke=this.players.reduce((Ke,it)=>null===Ke||it.totalTime>Ke.totalTime?it:Ke,null);return null!=ke?ke.getPosition():0}beforeDestroy(){this.players.forEach(ke=>{ke.beforeDestroy&&ke.beforeDestroy()})}triggerCallback(ke){const Ke="start"==ke?this._onStartFns:this._onDoneFns;Ke.forEach(it=>it()),Ke.length=0}}const Nt="!"},5664:(Ot,B,R)=>{R.d(B,{$s:()=>en,Em:()=>Qt,Kd:()=>Qe,X6:()=>Rn,kH:()=>Oi,mK:()=>rt,qm:()=>ci,rt:()=>Dt,s1:()=>nn,tE:()=>ri,yG:()=>Ae});var v=R(9808),V=R(5e3),I=R(925),q=R(7579),g=R(727),Ue=R(1135),P=R(9646),Ce=R(1159),Ee=R(8505),ae=R(8372),Me=R(9300),we=R(4004),Oe=R(5698),Le=R(5684),st=R(1884),gt=R(2722),Je=R(3191),ht=R(7144);function ke($,O){return($.getAttribute(O)||"").match(/\S+/g)||[]}const it="cdk-describedby-message",A="cdk-describedby-host";let et=0,en=(()=>{class ${constructor(x,oe){this._platform=oe,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+et++,this._document=x}describe(x,oe,re){if(!this._canBeDescribed(x,oe))return;const de=Be(oe,re);"string"!=typeof oe?(At(oe),this._messageRegistry.set(de,{messageElement:oe,referenceCount:0})):this._messageRegistry.has(de)||this._createMessageElement(oe,re),this._isElementDescribedByMessage(x,de)||this._addMessageReference(x,de)}removeDescription(x,oe,re){var de;if(!oe||!this._isElementNode(x))return;const Se=Be(oe,re);if(this._isElementDescribedByMessage(x,Se)&&this._removeMessageReference(x,Se),"string"==typeof oe){const We=this._messageRegistry.get(Se);We&&0===We.referenceCount&&this._deleteMessageElement(Se)}0===(null===(de=this._messagesContainer)||void 0===de?void 0:de.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var x;const oe=this._document.querySelectorAll(`[${A}="${this._id}"]`);for(let re=0;re<oe.length;re++)this._removeCdkDescribedByReferenceIds(oe[re]),oe[re].removeAttribute(A);null===(x=this._messagesContainer)||void 0===x||x.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(x,oe){const re=this._document.createElement("div");At(re),re.textContent=x,oe&&re.setAttribute("role",oe),this._createMessagesContainer(),this._messagesContainer.appendChild(re),this._messageRegistry.set(Be(x,oe),{messageElement:re,referenceCount:0})}_deleteMessageElement(x){var oe,re;null===(re=null===(oe=this._messageRegistry.get(x))||void 0===oe?void 0:oe.messageElement)||void 0===re||re.remove(),this._messageRegistry.delete(x)}_createMessagesContainer(){if(this._messagesContainer)return;const x="cdk-describedby-message-container",oe=this._document.querySelectorAll(`.${x}[platform="server"]`);for(let de=0;de<oe.length;de++)oe[de].remove();const re=this._document.createElement("div");re.style.visibility="hidden",re.classList.add(x),re.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&re.setAttribute("platform","server"),this._document.body.appendChild(re),this._messagesContainer=re}_removeCdkDescribedByReferenceIds(x){const oe=ke(x,"aria-describedby").filter(re=>0!=re.indexOf(it));x.setAttribute("aria-describedby",oe.join(" "))}_addMessageReference(x,oe){const re=this._messageRegistry.get(oe);(function Nt($,O,x){const oe=ke($,O);oe.some(re=>re.trim()==x.trim())||(oe.push(x.trim()),$.setAttribute(O,oe.join(" ")))})(x,"aria-describedby",re.messageElement.id),x.setAttribute(A,this._id),re.referenceCount++}_removeMessageReference(x,oe){const re=this._messageRegistry.get(oe);re.referenceCount--,function at($,O,x){const re=ke($,O).filter(de=>de!=x.trim());re.length?$.setAttribute(O,re.join(" ")):$.removeAttribute(O)}(x,"aria-describedby",re.messageElement.id),x.removeAttribute(A)}_isElementDescribedByMessage(x,oe){const re=ke(x,"aria-describedby"),de=this._messageRegistry.get(oe),Se=de&&de.messageElement.id;return!!Se&&-1!=re.indexOf(Se)}_canBeDescribed(x,oe){if(!this._isElementNode(x))return!1;if(oe&&"object"==typeof oe)return!0;const re=null==oe?"":`${oe}`.trim(),de=x.getAttribute("aria-label");return!(!re||de&&de.trim()===re)}_isElementNode(x){return x.nodeType===this._document.ELEMENT_NODE}}return $.\u0275fac=function(x){return new(x||$)(V.LFG(v.K0),V.LFG(I.t4))},$.\u0275prov=V.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();function Be($,O){return"string"==typeof $?`${O||""}/${$}`:$}function At($){$.id||($.id=`${it}-${et++}`)}class Ut{constructor(O){this._items=O,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new q.x,this._typeaheadSubscription=g.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=x=>x.disabled,this._pressedLetters=[],this.tabOut=new q.x,this.change=new q.x,O instanceof V.n_E&&O.changes.subscribe(x=>{if(this._activeItem){const re=x.toArray().indexOf(this._activeItem);re>-1&&re!==this._activeItemIndex&&(this._activeItemIndex=re)}})}skipPredicate(O){return this._skipPredicateFn=O,this}withWrap(O=!0){return this._wrap=O,this}withVerticalOrientation(O=!0){return this._vertical=O,this}withHorizontalOrientation(O){return this._horizontal=O,this}withAllowedModifierKeys(O){return this._allowedModifierKeys=O,this}withTypeAhead(O=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ee.b)(x=>this._pressedLetters.push(x)),(0,ae.b)(O),(0,Me.h)(()=>this._pressedLetters.length>0),(0,we.U)(()=>this._pressedLetters.join(""))).subscribe(x=>{const oe=this._getItemsArray();for(let re=1;re<oe.length+1;re++){const de=(this._activeItemIndex+re)%oe.length,Se=oe[de];if(!this._skipPredicateFn(Se)&&0===Se.getLabel().toUpperCase().trim().indexOf(x)){this.setActiveItem(de);break}}this._pressedLetters=[]}),this}withHomeAndEnd(O=!0){return this._homeAndEnd=O,this}setActiveItem(O){const x=this._activeItem;this.updateActiveItem(O),this._activeItem!==x&&this.change.next(this._activeItemIndex)}onKeydown(O){const x=O.keyCode,re=["altKey","ctrlKey","metaKey","shiftKey"].every(de=>!O[de]||this._allowedModifierKeys.indexOf(de)>-1);switch(x){case Ce.Mf:return void this.tabOut.next();case Ce.JH:if(this._vertical&&re){this.setNextItemActive();break}return;case Ce.LH:if(this._vertical&&re){this.setPreviousItemActive();break}return;case Ce.SV:if(this._horizontal&&re){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Ce.oh:if(this._horizontal&&re){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Ce.Sd:if(this._homeAndEnd&&re){this.setFirstItemActive();break}return;case Ce.uR:if(this._homeAndEnd&&re){this.setLastItemActive();break}return;default:return void((re||(0,Ce.Vb)(O,"shiftKey"))&&(O.key&&1===O.key.length?this._letterKeyStream.next(O.key.toLocaleUpperCase()):(x>=Ce.A&&x<=Ce.Z||x>=Ce.xE&&x<=Ce.aO)&&this._letterKeyStream.next(String.fromCharCode(x))))}this._pressedLetters=[],O.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(O){const x=this._getItemsArray(),oe="number"==typeof O?O:x.indexOf(O),re=x[oe];this._activeItem=null==re?null:re,this._activeItemIndex=oe}_setActiveItemByDelta(O){this._wrap?this._setActiveInWrapMode(O):this._setActiveInDefaultMode(O)}_setActiveInWrapMode(O){const x=this._getItemsArray();for(let oe=1;oe<=x.length;oe++){const re=(this._activeItemIndex+O*oe+x.length)%x.length;if(!this._skipPredicateFn(x[re]))return void this.setActiveItem(re)}}_setActiveInDefaultMode(O){this._setActiveItemByIndex(this._activeItemIndex+O,O)}_setActiveItemByIndex(O,x){const oe=this._getItemsArray();if(oe[O]){for(;this._skipPredicateFn(oe[O]);)if(!oe[O+=x])return;this.setActiveItem(O)}}_getItemsArray(){return this._items instanceof V.n_E?this._items.toArray():this._items}}class nn extends Ut{setActiveItem(O){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(O),this.activeItem&&this.activeItem.setActiveStyles()}}class Qt extends Ut{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(O){return this._origin=O,this}setActiveItem(O){super.setActiveItem(O),this.activeItem&&this.activeItem.focus(this._origin)}}let Bn=(()=>{class ${constructor(x){this._platform=x}isDisabled(x){return x.hasAttribute("disabled")}isVisible(x){return function Mt($){return!!($.offsetWidth||$.offsetHeight||"function"==typeof $.getClientRects&&$.getClientRects().length)}(x)&&"visible"===getComputedStyle(x).visibility}isTabbable(x){if(!this._platform.isBrowser)return!1;const oe=function ie($){try{return $.frameElement}catch(O){return null}}(function ot($){return $.ownerDocument&&$.ownerDocument.defaultView||window}(x));if(oe&&(-1===Bt(oe)||!this.isVisible(oe)))return!1;let re=x.nodeName.toLowerCase(),de=Bt(x);return x.hasAttribute("contenteditable")?-1!==de:!("iframe"===re||"object"===re||this._platform.WEBKIT&&this._platform.IOS&&!function mt($){let O=$.nodeName.toLowerCase(),x="input"===O&&$.type;return"text"===x||"password"===x||"select"===O||"textarea"===O}(x))&&("audio"===re?!!x.hasAttribute("controls")&&-1!==de:"video"===re?-1!==de&&(null!==de||this._platform.FIREFOX||x.hasAttribute("controls")):x.tabIndex>=0)}isFocusable(x,oe){return function Vt($){return!function Zt($){return function Kt($){return"input"==$.nodeName.toLowerCase()}($)&&"hidden"==$.type}($)&&(function ut($){let O=$.nodeName.toLowerCase();return"input"===O||"select"===O||"button"===O||"textarea"===O}($)||function hn($){return function gn($){return"a"==$.nodeName.toLowerCase()}($)&&$.hasAttribute("href")}($)||$.hasAttribute("contenteditable")||Lt($))}(x)&&!this.isDisabled(x)&&((null==oe?void 0:oe.ignoreVisibility)||this.isVisible(x))}}return $.\u0275fac=function(x){return new(x||$)(V.LFG(I.t4))},$.\u0275prov=V.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();function Lt($){if(!$.hasAttribute("tabindex")||void 0===$.tabIndex)return!1;let O=$.getAttribute("tabindex");return!(!O||isNaN(parseInt(O,10)))}function Bt($){if(!Lt($))return null;const O=parseInt($.getAttribute("tabindex")||"",10);return isNaN(O)?-1:O}class je{constructor(O,x,oe,re,de=!1){this._element=O,this._checker=x,this._ngZone=oe,this._document=re,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,de||this.attachAnchors()}get enabled(){return this._enabled}set enabled(O){this._enabled=O,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(O,this._startAnchor),this._toggleAnchorTabIndex(O,this._endAnchor))}destroy(){const O=this._startAnchor,x=this._endAnchor;O&&(O.removeEventListener("focus",this.startAnchorListener),O.remove()),x&&(x.removeEventListener("focus",this.endAnchorListener),x.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(O){return new Promise(x=>{this._executeOnStable(()=>x(this.focusInitialElement(O)))})}focusFirstTabbableElementWhenReady(O){return new Promise(x=>{this._executeOnStable(()=>x(this.focusFirstTabbableElement(O)))})}focusLastTabbableElementWhenReady(O){return new Promise(x=>{this._executeOnStable(()=>x(this.focusLastTabbableElement(O)))})}_getRegionBoundary(O){const x=this._element.querySelectorAll(`[cdk-focus-region-${O}], [cdkFocusRegion${O}], [cdk-focus-${O}]`);return"start"==O?x.length?x[0]:this._getFirstTabbableElement(this._element):x.length?x[x.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(O){const x=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(x){if(!this._checker.isFocusable(x)){const oe=this._getFirstTabbableElement(x);return null==oe||oe.focus(O),!!oe}return x.focus(O),!0}return this.focusFirstTabbableElement(O)}focusFirstTabbableElement(O){const x=this._getRegionBoundary("start");return x&&x.focus(O),!!x}focusLastTabbableElement(O){const x=this._getRegionBoundary("end");return x&&x.focus(O),!!x}hasAttached(){return this._hasAttached}_getFirstTabbableElement(O){if(this._checker.isFocusable(O)&&this._checker.isTabbable(O))return O;const x=O.children;for(let oe=0;oe<x.length;oe++){const re=x[oe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(x[oe]):null;if(re)return re}return null}_getLastTabbableElement(O){if(this._checker.isFocusable(O)&&this._checker.isTabbable(O))return O;const x=O.children;for(let oe=x.length-1;oe>=0;oe--){const re=x[oe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(x[oe]):null;if(re)return re}return null}_createAnchor(){const O=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,O),O.classList.add("cdk-visually-hidden"),O.classList.add("cdk-focus-trap-anchor"),O.setAttribute("aria-hidden","true"),O}_toggleAnchorTabIndex(O,x){O?x.setAttribute("tabindex","0"):x.removeAttribute("tabindex")}toggleAnchors(O){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(O,this._startAnchor),this._toggleAnchorTabIndex(O,this._endAnchor))}_executeOnStable(O){this._ngZone.isStable?O():this._ngZone.onStable.pipe((0,Oe.q)(1)).subscribe(O)}}let Pt=(()=>{class ${constructor(x,oe,re){this._checker=x,this._ngZone=oe,this._document=re}create(x,oe=!1){return new je(x,this._checker,this._ngZone,this._document,oe)}}return $.\u0275fac=function(x){return new(x||$)(V.LFG(Bn),V.LFG(V.R0b),V.LFG(v.K0))},$.\u0275prov=V.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),rt=(()=>{class ${constructor(x,oe,re){this._elementRef=x,this._focusTrapFactory=oe,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(x){this.focusTrap.enabled=(0,Je.Ig)(x)}get autoCapture(){return this._autoCapture}set autoCapture(x){this._autoCapture=(0,Je.Ig)(x)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(x){const oe=x.autoCapture;oe&&!oe.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,I.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return $.\u0275fac=function(x){return new(x||$)(V.Y36(V.SBq),V.Y36(Pt),V.Y36(v.K0))},$.\u0275dir=V.lG2({type:$,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[V.TTD]}),$})();function Rn($){return 0===$.buttons||0===$.offsetX&&0===$.offsetY}function Ae($){const O=$.touches&&$.touches[0]||$.changedTouches&&$.changedTouches[0];return!(!O||-1!==O.identifier||null!=O.radiusX&&1!==O.radiusX||null!=O.radiusY&&1!==O.radiusY)}const D=new V.OlP("cdk-input-modality-detector-options"),te={ignoreKeys:[Ce.zL,Ce.jx,Ce.b2,Ce.MW,Ce.JU]},me=(0,I.i$)({passive:!0,capture:!0});let xe=(()=>{class ${constructor(x,oe,re,de){this._platform=x,this._mostRecentTarget=null,this._modality=new Ue.X(null),this._lastTouchMs=0,this._onKeydown=Se=>{var We,zt;(null===(zt=null===(We=this._options)||void 0===We?void 0:We.ignoreKeys)||void 0===zt?void 0:zt.some(Et=>Et===Se.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,I.sA)(Se))},this._onMousedown=Se=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Rn(Se)?"keyboard":"mouse"),this._mostRecentTarget=(0,I.sA)(Se))},this._onTouchstart=Se=>{Ae(Se)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,I.sA)(Se))},this._options=Object.assign(Object.assign({},te),de),this.modalityDetected=this._modality.pipe((0,Le.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,st.x)()),x.isBrowser&&oe.runOutsideAngular(()=>{re.addEventListener("keydown",this._onKeydown,me),re.addEventListener("mousedown",this._onMousedown,me),re.addEventListener("touchstart",this._onTouchstart,me)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,me),document.removeEventListener("mousedown",this._onMousedown,me),document.removeEventListener("touchstart",this._onTouchstart,me))}}return $.\u0275fac=function(x){return new(x||$)(V.LFG(I.t4),V.LFG(V.R0b),V.LFG(v.K0),V.LFG(D,8))},$.\u0275prov=V.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const pt=new V.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ft(){return null}}),rn=new V.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Qe=(()=>{class ${constructor(x,oe,re,de){this._ngZone=oe,this._defaultOptions=de,this._document=re,this._liveElement=x||this._createLiveElement()}announce(x,...oe){const re=this._defaultOptions;let de,Se;return 1===oe.length&&"number"==typeof oe[0]?Se=oe[0]:[de,Se]=oe,this.clear(),clearTimeout(this._previousTimeout),de||(de=re&&re.politeness?re.politeness:"polite"),null==Se&&re&&(Se=re.duration),this._liveElement.setAttribute("aria-live",de),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(We=>this._currentResolve=We)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=x,"number"==typeof Se&&(this._previousTimeout=setTimeout(()=>this.clear(),Se)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var x,oe;clearTimeout(this._previousTimeout),null===(x=this._liveElement)||void 0===x||x.remove(),this._liveElement=null,null===(oe=this._currentResolve)||void 0===oe||oe.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const x="cdk-live-announcer-element",oe=this._document.getElementsByClassName(x),re=this._document.createElement("div");for(let de=0;de<oe.length;de++)oe[de].remove();return re.classList.add(x),re.classList.add("cdk-visually-hidden"),re.setAttribute("aria-atomic","true"),re.setAttribute("aria-live","polite"),this._document.body.appendChild(re),re}}return $.\u0275fac=function(x){return new(x||$)(V.LFG(pt,8),V.LFG(V.R0b),V.LFG(v.K0),V.LFG(rn,8))},$.\u0275prov=V.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const xn=new V.OlP("cdk-focus-monitor-default-options"),ei=(0,I.i$)({passive:!0,capture:!0});let ri=(()=>{class ${constructor(x,oe,re,de,Se){this._ngZone=x,this._platform=oe,this._inputModalityDetector=re,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new q.x,this._rootNodeFocusAndBlurListener=We=>{const zt=(0,I.sA)(We),Et="focus"===We.type?this._onFocus:this._onBlur;for(let An=zt;An;An=An.parentElement)Et.call(this,We,An)},this._document=de,this._detectionMode=(null==Se?void 0:Se.detectionMode)||0}monitor(x,oe=!1){const re=(0,Je.fI)(x);if(!this._platform.isBrowser||1!==re.nodeType)return(0,P.of)(null);const de=(0,I.kV)(re)||this._getDocument(),Se=this._elementInfo.get(re);if(Se)return oe&&(Se.checkChildren=!0),Se.subject;const We={checkChildren:oe,subject:new q.x,rootNode:de};return this._elementInfo.set(re,We),this._registerGlobalListeners(We),We.subject}stopMonitoring(x){const oe=(0,Je.fI)(x),re=this._elementInfo.get(oe);re&&(re.subject.complete(),this._setClasses(oe),this._elementInfo.delete(oe),this._removeGlobalListeners(re))}focusVia(x,oe,re){const de=(0,Je.fI)(x);de===this._getDocument().activeElement?this._getClosestElementsInfo(de).forEach(([We,zt])=>this._originChanged(We,oe,zt)):(this._setOrigin(oe),"function"==typeof de.focus&&de.focus(re))}ngOnDestroy(){this._elementInfo.forEach((x,oe)=>this.stopMonitoring(oe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(x){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(x)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(x){return 1===this._detectionMode||!!(null==x?void 0:x.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(x,oe){x.classList.toggle("cdk-focused",!!oe),x.classList.toggle("cdk-touch-focused","touch"===oe),x.classList.toggle("cdk-keyboard-focused","keyboard"===oe),x.classList.toggle("cdk-mouse-focused","mouse"===oe),x.classList.toggle("cdk-program-focused","program"===oe)}_setOrigin(x,oe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=x,this._originFromTouchInteraction="touch"===x&&oe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(x,oe){const re=this._elementInfo.get(oe),de=(0,I.sA)(x);!re||!re.checkChildren&&oe!==de||this._originChanged(oe,this._getFocusOrigin(de),re)}_onBlur(x,oe){const re=this._elementInfo.get(oe);!re||re.checkChildren&&x.relatedTarget instanceof Node&&oe.contains(x.relatedTarget)||(this._setClasses(oe),this._emitOrigin(re.subject,null))}_emitOrigin(x,oe){this._ngZone.run(()=>x.next(oe))}_registerGlobalListeners(x){if(!this._platform.isBrowser)return;const oe=x.rootNode,re=this._rootNodeFocusListenerCount.get(oe)||0;re||this._ngZone.runOutsideAngular(()=>{oe.addEventListener("focus",this._rootNodeFocusAndBlurListener,ei),oe.addEventListener("blur",this._rootNodeFocusAndBlurListener,ei)}),this._rootNodeFocusListenerCount.set(oe,re+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,gt.R)(this._stopInputModalityDetector)).subscribe(de=>{this._setOrigin(de,!0)}))}_removeGlobalListeners(x){const oe=x.rootNode;if(this._rootNodeFocusListenerCount.has(oe)){const re=this._rootNodeFocusListenerCount.get(oe);re>1?this._rootNodeFocusListenerCount.set(oe,re-1):(oe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ei),oe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ei),this._rootNodeFocusListenerCount.delete(oe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(x,oe,re){this._setClasses(x,oe),this._emitOrigin(re.subject,oe),this._lastFocusOrigin=oe}_getClosestElementsInfo(x){const oe=[];return this._elementInfo.forEach((re,de)=>{(de===x||re.checkChildren&&de.contains(x))&&oe.push([de,re])}),oe}}return $.\u0275fac=function(x){return new(x||$)(V.LFG(V.R0b),V.LFG(I.t4),V.LFG(xe),V.LFG(v.K0,8),V.LFG(xn,8))},$.\u0275prov=V.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),Oi=(()=>{class ${constructor(x,oe){this._elementRef=x,this._focusMonitor=oe,this.cdkFocusChange=new V.vpe}ngAfterViewInit(){const x=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(x,1===x.nodeType&&x.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(oe=>this.cdkFocusChange.emit(oe))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return $.\u0275fac=function(x){return new(x||$)(V.Y36(V.SBq),V.Y36(ri))},$.\u0275dir=V.lG2({type:$,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),$})();const Si="cdk-high-contrast-black-on-white",mn="cdk-high-contrast-white-on-black",_i="cdk-high-contrast-active";let ci=(()=>{class ${constructor(x,oe){this._platform=x,this._document=oe}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const x=this._document.createElement("div");x.style.backgroundColor="rgb(1,2,3)",x.style.position="absolute",this._document.body.appendChild(x);const oe=this._document.defaultView||window,re=oe&&oe.getComputedStyle?oe.getComputedStyle(x):null,de=(re&&re.backgroundColor||"").replace(/ /g,"");switch(x.remove(),de){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const x=this._document.body.classList;x.remove(_i),x.remove(Si),x.remove(mn),this._hasCheckedHighContrastMode=!0;const oe=this.getHighContrastMode();1===oe?(x.add(_i),x.add(Si)):2===oe&&(x.add(_i),x.add(mn))}}}return $.\u0275fac=function(x){return new(x||$)(V.LFG(I.t4),V.LFG(v.K0))},$.\u0275prov=V.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),Dt=(()=>{class ${constructor(x){x._applyBodyHighContrastModeCssClasses()}}return $.\u0275fac=function(x){return new(x||$)(V.LFG(ci))},$.\u0275mod=V.oAB({type:$}),$.\u0275inj=V.cJS({imports:[[ht.Q8]]}),$})()},226:(Ot,B,R)=>{R.d(B,{Is:()=>P,vT:()=>Ee});var v=R(5e3),V=R(9808);const I=new v.OlP("cdk-dir-doc",{providedIn:"root",factory:function q(){return(0,v.f3M)(V.K0)}}),g=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let P=(()=>{class ae{constructor(we){if(this.value="ltr",this.change=new v.vpe,we){const Le=we.documentElement?we.documentElement.dir:null;this.value=function Ue(ae){const Me=(null==ae?void 0:ae.toLowerCase())||"";return"auto"===Me&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?g.test(navigator.language)?"rtl":"ltr":"rtl"===Me?"rtl":"ltr"}((we.body?we.body.dir:null)||Le||"ltr")}}ngOnDestroy(){this.change.complete()}}return ae.\u0275fac=function(we){return new(we||ae)(v.LFG(I,8))},ae.\u0275prov=v.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),Ee=(()=>{class ae{}return ae.\u0275fac=function(we){return new(we||ae)},ae.\u0275mod=v.oAB({type:ae}),ae.\u0275inj=v.cJS({}),ae})()},3191:(Ot,B,R)=>{R.d(B,{Eq:()=>g,HM:()=>Ue,Ig:()=>V,du:()=>Ce,fI:()=>P,su:()=>I});var v=R(5e3);function V(Ee){return null!=Ee&&"false"!=`${Ee}`}function I(Ee,ae=0){return function q(Ee){return!isNaN(parseFloat(Ee))&&!isNaN(Number(Ee))}(Ee)?Number(Ee):ae}function g(Ee){return Array.isArray(Ee)?Ee:[Ee]}function Ue(Ee){return null==Ee?"":"string"==typeof Ee?Ee:`${Ee}px`}function P(Ee){return Ee instanceof v.SBq?Ee.nativeElement:Ee}function Ce(Ee,ae=/\s+/){const Me=[];if(null!=Ee){const we=Array.isArray(Ee)?Ee:`${Ee}`.split(ae);for(const Oe of we){const Le=`${Oe}`.trim();Le&&Me.push(Le)}}return Me}},449:(Ot,B,R)=>{R.d(B,{A8:()=>ae,Ov:()=>Ce,Z9:()=>q,eX:()=>P,k:()=>Me,yy:()=>Ue});var v=R(7579),V=R(5e3);function q(we){return we&&"function"==typeof we.connect}class Ue{applyChanges(Oe,Le,st,gt,Je){Oe.forEachOperation((ht,Xe,Nt)=>{let at,ke;if(null==ht.previousIndex){const Ke=st(ht,Xe,Nt);at=Le.createEmbeddedView(Ke.templateRef,Ke.context,Ke.index),ke=1}else null==Nt?(Le.remove(Xe),ke=3):(at=Le.get(Xe),Le.move(at,Nt),ke=2);Je&&Je({context:null==at?void 0:at.context,operation:ke,record:ht})})}detach(){}}class P{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Oe,Le,st,gt,Je){Oe.forEachOperation((ht,Xe,Nt)=>{let at,ke;null==ht.previousIndex?(at=this._insertView(()=>st(ht,Xe,Nt),Nt,Le,gt(ht)),ke=at?1:0):null==Nt?(this._detachAndCacheView(Xe,Le),ke=3):(at=this._moveView(Xe,Nt,Le,gt(ht)),ke=2),Je&&Je({context:null==at?void 0:at.context,operation:ke,record:ht})})}detach(){for(const Oe of this._viewCache)Oe.destroy();this._viewCache=[]}_insertView(Oe,Le,st,gt){const Je=this._insertViewFromCache(Le,st);if(Je)return void(Je.context.$implicit=gt);const ht=Oe();return st.createEmbeddedView(ht.templateRef,ht.context,ht.index)}_detachAndCacheView(Oe,Le){const st=Le.detach(Oe);this._maybeCacheView(st,Le)}_moveView(Oe,Le,st,gt){const Je=st.get(Oe);return st.move(Je,Le),Je.context.$implicit=gt,Je}_maybeCacheView(Oe,Le){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Oe);else{const st=Le.indexOf(Oe);-1===st?Oe.destroy():Le.remove(st)}}_insertViewFromCache(Oe,Le){const st=this._viewCache.pop();return st&&Le.insert(st,Oe),st||null}}class Ce{constructor(Oe=!1,Le,st=!0){this._multiple=Oe,this._emitChanges=st,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new v.x,Le&&Le.length&&(Oe?Le.forEach(gt=>this._markSelected(gt)):this._markSelected(Le[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...Oe){this._verifyValueAssignment(Oe),Oe.forEach(Le=>this._markSelected(Le)),this._emitChangeEvent()}deselect(...Oe){this._verifyValueAssignment(Oe),Oe.forEach(Le=>this._unmarkSelected(Le)),this._emitChangeEvent()}toggle(Oe){this.isSelected(Oe)?this.deselect(Oe):this.select(Oe)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(Oe){return this._selection.has(Oe)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Oe){this._multiple&&this.selected&&this._selected.sort(Oe)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Oe){this.isSelected(Oe)||(this._multiple||this._unmarkAll(),this._selection.add(Oe),this._emitChanges&&this._selectedToEmit.push(Oe))}_unmarkSelected(Oe){this.isSelected(Oe)&&(this._selection.delete(Oe),this._emitChanges&&this._deselectedToEmit.push(Oe))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Oe=>this._unmarkSelected(Oe))}_verifyValueAssignment(Oe){}}let ae=(()=>{class we{constructor(){this._listeners=[]}notify(Le,st){for(let gt of this._listeners)gt(Le,st)}listen(Le){return this._listeners.push(Le),()=>{this._listeners=this._listeners.filter(st=>Le!==st)}}ngOnDestroy(){this._listeners=[]}}return we.\u0275fac=function(Le){return new(Le||we)},we.\u0275prov=V.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const Me=new V.OlP("_ViewRepeater")},1159:(Ot,B,R)=>{R.d(B,{A:()=>hn,JH:()=>Nt,JU:()=>Ue,K5:()=>g,Ku:()=>Oe,LH:()=>ht,L_:()=>we,MW:()=>Qe,Mf:()=>I,SV:()=>Xe,Sd:()=>gt,VM:()=>Le,Vb:()=>ni,Z:()=>rn,aO:()=>Bn,b2:()=>Zn,hY:()=>Me,jx:()=>P,oh:()=>Je,uR:()=>st,xE:()=>A,zL:()=>Ce});const I=9,g=13,Ue=16,P=17,Ce=18,Me=27,we=32,Oe=33,Le=34,st=35,gt=36,Je=37,ht=38,Xe=39,Nt=40,A=48,Bn=57,hn=65,rn=90,Qe=91,Zn=224;function ni(pi,...Dr){return Dr.length?Dr.some(Hr=>pi[Hr]):pi.altKey||pi.shiftKey||pi.ctrlKey||pi.metaKey}},7144:(Ot,B,R)=>{R.d(B,{Q8:()=>Ee,wD:()=>Ce});var v=R(3191),V=R(5e3),I=R(9751),q=R(7579),g=R(8372);let Ue=(()=>{class ae{create(we){return"undefined"==typeof MutationObserver?null:new MutationObserver(we)}}return ae.\u0275fac=function(we){return new(we||ae)},ae.\u0275prov=V.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),P=(()=>{class ae{constructor(we){this._mutationObserverFactory=we,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((we,Oe)=>this._cleanupObserver(Oe))}observe(we){const Oe=(0,v.fI)(we);return new I.y(Le=>{const gt=this._observeElement(Oe).subscribe(Le);return()=>{gt.unsubscribe(),this._unobserveElement(Oe)}})}_observeElement(we){if(this._observedElements.has(we))this._observedElements.get(we).count++;else{const Oe=new q.x,Le=this._mutationObserverFactory.create(st=>Oe.next(st));Le&&Le.observe(we,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(we,{observer:Le,stream:Oe,count:1})}return this._observedElements.get(we).stream}_unobserveElement(we){this._observedElements.has(we)&&(this._observedElements.get(we).count--,this._observedElements.get(we).count||this._cleanupObserver(we))}_cleanupObserver(we){if(this._observedElements.has(we)){const{observer:Oe,stream:Le}=this._observedElements.get(we);Oe&&Oe.disconnect(),Le.complete(),this._observedElements.delete(we)}}}return ae.\u0275fac=function(we){return new(we||ae)(V.LFG(Ue))},ae.\u0275prov=V.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),Ce=(()=>{class ae{constructor(we,Oe,Le){this._contentObserver=we,this._elementRef=Oe,this._ngZone=Le,this.event=new V.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(we){this._disabled=(0,v.Ig)(we),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(we){this._debounce=(0,v.su)(we),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const we=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?we.pipe((0,g.b)(this.debounce)):we).subscribe(this.event)})}_unsubscribe(){var we;null===(we=this._currentSubscription)||void 0===we||we.unsubscribe()}}return ae.\u0275fac=function(we){return new(we||ae)(V.Y36(P),V.Y36(V.SBq),V.Y36(V.R0b))},ae.\u0275dir=V.lG2({type:ae,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),ae})(),Ee=(()=>{class ae{}return ae.\u0275fac=function(we){return new(we||ae)},ae.\u0275mod=V.oAB({type:ae}),ae.\u0275inj=V.cJS({providers:[Ue]}),ae})()},9776:(Ot,B,R)=>{R.d(B,{pI:()=>En,xu:()=>bt,_G:()=>Mt,aV:()=>je,X_:()=>et,U8:()=>ft});var v=R(495),V=R(9808),I=R(5e3),q=R(3191),g=R(925),Ue=R(226),P=R(7429),Ce=R(7579),Ee=R(727),ae=R(6451),Me=R(4482),we=R(5403),Le=R(5698),st=R(2722),gt=R(1159);const Je=(0,g.Mq)();class ht{constructor(D,te){this._viewportRuler=D,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=te}attach(){}enable(){if(this._canBeEnabled()){const D=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=D.style.left||"",this._previousHTMLStyles.top=D.style.top||"",D.style.left=(0,q.HM)(-this._previousScrollPosition.left),D.style.top=(0,q.HM)(-this._previousScrollPosition.top),D.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const D=this._document.documentElement,ne=D.style,me=this._document.body.style,xe=ne.scrollBehavior||"",pt=me.scrollBehavior||"";this._isEnabled=!1,ne.left=this._previousHTMLStyles.left,ne.top=this._previousHTMLStyles.top,D.classList.remove("cdk-global-scrollblock"),Je&&(ne.scrollBehavior=me.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Je&&(ne.scrollBehavior=xe,me.scrollBehavior=pt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const te=this._document.body,ne=this._viewportRuler.getViewportSize();return te.scrollHeight>ne.height||te.scrollWidth>ne.width}}class Nt{constructor(D,te,ne,me){this._scrollDispatcher=D,this._ngZone=te,this._viewportRuler=ne,this._config=me,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(D){this._overlayRef=D}enable(){if(this._scrollSubscription)return;const D=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=D.subscribe(()=>{const te=this._viewportRuler.getViewportScrollPosition().top;Math.abs(te-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=D.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class at{enable(){}disable(){}attach(){}}function ke(Ae,D){return D.some(te=>Ae.bottom<te.top||Ae.top>te.bottom||Ae.right<te.left||Ae.left>te.right)}function Ke(Ae,D){return D.some(te=>Ae.top<te.top||Ae.bottom>te.bottom||Ae.left<te.left||Ae.right>te.right)}class it{constructor(D,te,ne,me){this._scrollDispatcher=D,this._viewportRuler=te,this._ngZone=ne,this._config=me,this._scrollSubscription=null}attach(D){this._overlayRef=D}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const te=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ne,height:me}=this._viewportRuler.getViewportSize();ke(te,[{width:ne,height:me,bottom:me,right:ne,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let A=(()=>{class Ae{constructor(te,ne,me,xe){this._scrollDispatcher=te,this._viewportRuler=ne,this._ngZone=me,this.noop=()=>new at,this.close=pt=>new Nt(this._scrollDispatcher,this._ngZone,this._viewportRuler,pt),this.block=()=>new ht(this._viewportRuler,this._document),this.reposition=pt=>new it(this._scrollDispatcher,this._viewportRuler,this._ngZone,pt),this._document=xe}}return Ae.\u0275fac=function(te){return new(te||Ae)(I.LFG(v.mF),I.LFG(v.rL),I.LFG(I.R0b),I.LFG(V.K0))},Ae.\u0275prov=I.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();class et{constructor(D){if(this.scrollStrategy=new at,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,D){const te=Object.keys(D);for(const ne of te)void 0!==D[ne]&&(this[ne]=D[ne])}}}class At{constructor(D,te){this.connectionPair=D,this.scrollableViewProperties=te}}class Qt{constructor(D,te,ne,me,xe,pt,Ft,rn,Qe){this._portalOutlet=D,this._host=te,this._pane=ne,this._config=me,this._ngZone=xe,this._keyboardDispatcher=pt,this._document=Ft,this._location=rn,this._outsideClickDispatcher=Qe,this._backdropElement=null,this._backdropClick=new Ce.x,this._attachments=new Ce.x,this._detachments=new Ce.x,this._locationChanges=Ee.w0.EMPTY,this._backdropClickHandler=Cn=>this._backdropClick.next(Cn),this._backdropTransitionendHandler=Cn=>{this._disposeBackdrop(Cn.target)},this._keydownEvents=new Ce.x,this._outsidePointerEvents=new Ce.x,me.scrollStrategy&&(this._scrollStrategy=me.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=me.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(D){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const te=this._portalOutlet.attach(D);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Le.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),te}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const D=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),D}dispose(){var D;const te=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(D=this._host)||void 0===D||D.remove(),this._previousHostParent=this._pane=this._host=null,te&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(D){D!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=D,this.hasAttached()&&(D.attach(this),this.updatePosition()))}updateSize(D){this._config=Object.assign(Object.assign({},this._config),D),this._updateElementSize()}setDirection(D){this._config=Object.assign(Object.assign({},this._config),{direction:D}),this._updateElementDirection()}addPanelClass(D){this._pane&&this._toggleClasses(this._pane,D,!0)}removePanelClass(D){this._pane&&this._toggleClasses(this._pane,D,!1)}getDirection(){const D=this._config.direction;return D?"string"==typeof D?D:D.value:"ltr"}updateScrollStrategy(D){D!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=D,this.hasAttached()&&(D.attach(this),D.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const D=this._pane.style;D.width=(0,q.HM)(this._config.width),D.height=(0,q.HM)(this._config.height),D.minWidth=(0,q.HM)(this._config.minWidth),D.minHeight=(0,q.HM)(this._config.minHeight),D.maxWidth=(0,q.HM)(this._config.maxWidth),D.maxHeight=(0,q.HM)(this._config.maxHeight)}_togglePointerEvents(D){this._pane.style.pointerEvents=D?"":"none"}_attachBackdrop(){const D="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(D)})}):this._backdropElement.classList.add(D)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const D=this._backdropElement;!D||(D.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{D.addEventListener("transitionend",this._backdropTransitionendHandler)}),D.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(D)},500)))}_toggleClasses(D,te,ne){const me=(0,q.Eq)(te||[]).filter(xe=>!!xe);me.length&&(ne?D.classList.add(...me):D.classList.remove(...me))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const D=this._ngZone.onStable.pipe((0,st.R)((0,ae.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),D.unsubscribe())})})}_disposeScrollStrategy(){const D=this._scrollStrategy;D&&(D.disable(),D.detach&&D.detach())}_disposeBackdrop(D){D&&(D.removeEventListener("click",this._backdropClickHandler),D.removeEventListener("transitionend",this._backdropTransitionendHandler),D.remove(),this._backdropElement===D&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let an=(()=>{class Ae{constructor(te,ne){this._platform=ne,this._document=te}ngOnDestroy(){var te;null===(te=this._containerElement)||void 0===te||te.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const te="cdk-overlay-container";if(this._platform.isBrowser||(0,g.Oy)()){const me=this._document.querySelectorAll(`.${te}[platform="server"], .${te}[platform="test"]`);for(let xe=0;xe<me.length;xe++)me[xe].remove()}const ne=this._document.createElement("div");ne.classList.add(te),(0,g.Oy)()?ne.setAttribute("platform","test"):this._platform.isBrowser||ne.setAttribute("platform","server"),this._document.body.appendChild(ne),this._containerElement=ne}}return Ae.\u0275fac=function(te){return new(te||Ae)(I.LFG(V.K0),I.LFG(g.t4))},Ae.\u0275prov=I.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();const Bn="cdk-overlay-connected-position-bounding-box",ie=/([A-Za-z%]+)$/;class Mt{constructor(D,te,ne,me,xe){this._viewportRuler=te,this._document=ne,this._platform=me,this._overlayContainer=xe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ce.x,this._resizeSubscription=Ee.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(D)}get positions(){return this._preferredPositions}attach(D){this._validatePositions(),D.hostElement.classList.add(Bn),this._overlayRef=D,this._boundingBox=D.hostElement,this._pane=D.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const D=this._originRect,te=this._overlayRect,ne=this._viewportRect,me=this._containerRect,xe=[];let pt;for(let Ft of this._preferredPositions){let rn=this._getOriginPoint(D,me,Ft),Qe=this._getOverlayPoint(rn,te,Ft),Cn=this._getOverlayFit(Qe,te,ne,Ft);if(Cn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ft,rn);this._canFitWithFlexibleDimensions(Cn,Qe,ne)?xe.push({position:Ft,origin:rn,overlayRect:te,boundingBoxRect:this._calculateBoundingBoxRect(rn,Ft)}):(!pt||pt.overlayFit.visibleArea<Cn.visibleArea)&&(pt={overlayFit:Cn,overlayPoint:Qe,originPoint:rn,position:Ft,overlayRect:te})}if(xe.length){let Ft=null,rn=-1;for(const Qe of xe){const Cn=Qe.boundingBoxRect.width*Qe.boundingBoxRect.height*(Qe.position.weight||1);Cn>rn&&(rn=Cn,Ft=Qe)}return this._isPushed=!1,void this._applyPosition(Ft.position,Ft.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(pt.position,pt.originPoint);this._applyPosition(pt.position,pt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ut(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Bn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const D=this._lastPosition;if(D){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const te=this._getOriginPoint(this._originRect,this._containerRect,D);this._applyPosition(D,te)}else this.apply()}withScrollableContainers(D){return this._scrollables=D,this}withPositions(D){return this._preferredPositions=D,-1===D.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(D){return this._viewportMargin=D,this}withFlexibleDimensions(D=!0){return this._hasFlexibleDimensions=D,this}withGrowAfterOpen(D=!0){return this._growAfterOpen=D,this}withPush(D=!0){return this._canPush=D,this}withLockedPosition(D=!0){return this._positionLocked=D,this}setOrigin(D){return this._origin=D,this}withDefaultOffsetX(D){return this._offsetX=D,this}withDefaultOffsetY(D){return this._offsetY=D,this}withTransformOriginOn(D){return this._transformOriginSelector=D,this}_getOriginPoint(D,te,ne){let me,xe;if("center"==ne.originX)me=D.left+D.width/2;else{const pt=this._isRtl()?D.right:D.left,Ft=this._isRtl()?D.left:D.right;me="start"==ne.originX?pt:Ft}return te.left<0&&(me-=te.left),xe="center"==ne.originY?D.top+D.height/2:"top"==ne.originY?D.top:D.bottom,te.top<0&&(xe-=te.top),{x:me,y:xe}}_getOverlayPoint(D,te,ne){let me,xe;return me="center"==ne.overlayX?-te.width/2:"start"===ne.overlayX?this._isRtl()?-te.width:0:this._isRtl()?0:-te.width,xe="center"==ne.overlayY?-te.height/2:"top"==ne.overlayY?0:-te.height,{x:D.x+me,y:D.y+xe}}_getOverlayFit(D,te,ne,me){const xe=hn(te);let{x:pt,y:Ft}=D,rn=this._getOffset(me,"x"),Qe=this._getOffset(me,"y");rn&&(pt+=rn),Qe&&(Ft+=Qe);let ei=0-Ft,ri=Ft+xe.height-ne.height,Oi=this._subtractOverflows(xe.width,0-pt,pt+xe.width-ne.width),Si=this._subtractOverflows(xe.height,ei,ri),mn=Oi*Si;return{visibleArea:mn,isCompletelyWithinViewport:xe.width*xe.height===mn,fitsInViewportVertically:Si===xe.height,fitsInViewportHorizontally:Oi==xe.width}}_canFitWithFlexibleDimensions(D,te,ne){if(this._hasFlexibleDimensions){const me=ne.bottom-te.y,xe=ne.right-te.x,pt=Zt(this._overlayRef.getConfig().minHeight),Ft=Zt(this._overlayRef.getConfig().minWidth),Qe=D.fitsInViewportHorizontally||null!=Ft&&Ft<=xe;return(D.fitsInViewportVertically||null!=pt&&pt<=me)&&Qe}return!1}_pushOverlayOnScreen(D,te,ne){if(this._previousPushAmount&&this._positionLocked)return{x:D.x+this._previousPushAmount.x,y:D.y+this._previousPushAmount.y};const me=hn(te),xe=this._viewportRect,pt=Math.max(D.x+me.width-xe.width,0),Ft=Math.max(D.y+me.height-xe.height,0),rn=Math.max(xe.top-ne.top-D.y,0),Qe=Math.max(xe.left-ne.left-D.x,0);let Cn=0,xn=0;return Cn=me.width<=xe.width?Qe||-pt:D.x<this._viewportMargin?xe.left-ne.left-D.x:0,xn=me.height<=xe.height?rn||-Ft:D.y<this._viewportMargin?xe.top-ne.top-D.y:0,this._previousPushAmount={x:Cn,y:xn},{x:D.x+Cn,y:D.y+xn}}_applyPosition(D,te){if(this._setTransformOrigin(D),this._setOverlayElementStyles(te,D),this._setBoundingBoxStyles(te,D),D.panelClass&&this._addPanelClasses(D.panelClass),this._lastPosition=D,this._positionChanges.observers.length){const ne=this._getScrollVisibility(),me=new At(D,ne);this._positionChanges.next(me)}this._isInitialRender=!1}_setTransformOrigin(D){if(!this._transformOriginSelector)return;const te=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ne,me=D.overlayY;ne="center"===D.overlayX?"center":this._isRtl()?"start"===D.overlayX?"right":"left":"start"===D.overlayX?"left":"right";for(let xe=0;xe<te.length;xe++)te[xe].style.transformOrigin=`${ne} ${me}`}_calculateBoundingBoxRect(D,te){const ne=this._viewportRect,me=this._isRtl();let xe,pt,Ft,Cn,xn,ei;if("top"===te.overlayY)pt=D.y,xe=ne.height-pt+this._viewportMargin;else if("bottom"===te.overlayY)Ft=ne.height-D.y+2*this._viewportMargin,xe=ne.height-Ft+this._viewportMargin;else{const ri=Math.min(ne.bottom-D.y+ne.top,D.y),Oi=this._lastBoundingBoxSize.height;xe=2*ri,pt=D.y-ri,xe>Oi&&!this._isInitialRender&&!this._growAfterOpen&&(pt=D.y-Oi/2)}if("end"===te.overlayX&&!me||"start"===te.overlayX&&me)ei=ne.width-D.x+this._viewportMargin,Cn=D.x-this._viewportMargin;else if("start"===te.overlayX&&!me||"end"===te.overlayX&&me)xn=D.x,Cn=ne.right-D.x;else{const ri=Math.min(ne.right-D.x+ne.left,D.x),Oi=this._lastBoundingBoxSize.width;Cn=2*ri,xn=D.x-ri,Cn>Oi&&!this._isInitialRender&&!this._growAfterOpen&&(xn=D.x-Oi/2)}return{top:pt,left:xn,bottom:Ft,right:ei,width:Cn,height:xe}}_setBoundingBoxStyles(D,te){const ne=this._calculateBoundingBoxRect(D,te);!this._isInitialRender&&!this._growAfterOpen&&(ne.height=Math.min(ne.height,this._lastBoundingBoxSize.height),ne.width=Math.min(ne.width,this._lastBoundingBoxSize.width));const me={};if(this._hasExactPosition())me.top=me.left="0",me.bottom=me.right=me.maxHeight=me.maxWidth="",me.width=me.height="100%";else{const xe=this._overlayRef.getConfig().maxHeight,pt=this._overlayRef.getConfig().maxWidth;me.height=(0,q.HM)(ne.height),me.top=(0,q.HM)(ne.top),me.bottom=(0,q.HM)(ne.bottom),me.width=(0,q.HM)(ne.width),me.left=(0,q.HM)(ne.left),me.right=(0,q.HM)(ne.right),me.alignItems="center"===te.overlayX?"center":"end"===te.overlayX?"flex-end":"flex-start",me.justifyContent="center"===te.overlayY?"center":"bottom"===te.overlayY?"flex-end":"flex-start",xe&&(me.maxHeight=(0,q.HM)(xe)),pt&&(me.maxWidth=(0,q.HM)(pt))}this._lastBoundingBoxSize=ne,ut(this._boundingBox.style,me)}_resetBoundingBoxStyles(){ut(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ut(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(D,te){const ne={},me=this._hasExactPosition(),xe=this._hasFlexibleDimensions,pt=this._overlayRef.getConfig();if(me){const Cn=this._viewportRuler.getViewportScrollPosition();ut(ne,this._getExactOverlayY(te,D,Cn)),ut(ne,this._getExactOverlayX(te,D,Cn))}else ne.position="static";let Ft="",rn=this._getOffset(te,"x"),Qe=this._getOffset(te,"y");rn&&(Ft+=`translateX(${rn}px) `),Qe&&(Ft+=`translateY(${Qe}px)`),ne.transform=Ft.trim(),pt.maxHeight&&(me?ne.maxHeight=(0,q.HM)(pt.maxHeight):xe&&(ne.maxHeight="")),pt.maxWidth&&(me?ne.maxWidth=(0,q.HM)(pt.maxWidth):xe&&(ne.maxWidth="")),ut(this._pane.style,ne)}_getExactOverlayY(D,te,ne){let me={top:"",bottom:""},xe=this._getOverlayPoint(te,this._overlayRect,D);return this._isPushed&&(xe=this._pushOverlayOnScreen(xe,this._overlayRect,ne)),"bottom"===D.overlayY?me.bottom=this._document.documentElement.clientHeight-(xe.y+this._overlayRect.height)+"px":me.top=(0,q.HM)(xe.y),me}_getExactOverlayX(D,te,ne){let pt,me={left:"",right:""},xe=this._getOverlayPoint(te,this._overlayRect,D);return this._isPushed&&(xe=this._pushOverlayOnScreen(xe,this._overlayRect,ne)),pt=this._isRtl()?"end"===D.overlayX?"left":"right":"end"===D.overlayX?"right":"left","right"===pt?me.right=this._document.documentElement.clientWidth-(xe.x+this._overlayRect.width)+"px":me.left=(0,q.HM)(xe.x),me}_getScrollVisibility(){const D=this._getOriginRect(),te=this._pane.getBoundingClientRect(),ne=this._scrollables.map(me=>me.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ke(D,ne),isOriginOutsideView:ke(D,ne),isOverlayClipped:Ke(te,ne),isOverlayOutsideView:ke(te,ne)}}_subtractOverflows(D,...te){return te.reduce((ne,me)=>ne-Math.max(me,0),D)}_getNarrowedViewportRect(){const D=this._document.documentElement.clientWidth,te=this._document.documentElement.clientHeight,ne=this._viewportRuler.getViewportScrollPosition();return{top:ne.top+this._viewportMargin,left:ne.left+this._viewportMargin,right:ne.left+D-this._viewportMargin,bottom:ne.top+te-this._viewportMargin,width:D-2*this._viewportMargin,height:te-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(D,te){return"x"===te?null==D.offsetX?this._offsetX:D.offsetX:null==D.offsetY?this._offsetY:D.offsetY}_validatePositions(){}_addPanelClasses(D){this._pane&&(0,q.Eq)(D).forEach(te=>{""!==te&&-1===this._appliedPanelClasses.indexOf(te)&&(this._appliedPanelClasses.push(te),this._pane.classList.add(te))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(D=>{this._pane.classList.remove(D)}),this._appliedPanelClasses=[])}_getOriginRect(){const D=this._origin;if(D instanceof I.SBq)return D.nativeElement.getBoundingClientRect();if(D instanceof Element)return D.getBoundingClientRect();const te=D.width||0,ne=D.height||0;return{top:D.y,bottom:D.y+ne,left:D.x,right:D.x+te,height:ne,width:te}}}function ut(Ae,D){for(let te in D)D.hasOwnProperty(te)&&(Ae[te]=D[te]);return Ae}function Zt(Ae){if("number"!=typeof Ae&&null!=Ae){const[D,te]=Ae.split(ie);return te&&"px"!==te?null:parseFloat(D)}return Ae||null}function hn(Ae){return{top:Math.floor(Ae.top),right:Math.floor(Ae.right),bottom:Math.floor(Ae.bottom),left:Math.floor(Ae.left),width:Math.floor(Ae.width),height:Math.floor(Ae.height)}}const Kt="cdk-global-overlay-wrapper";class gn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(D){const te=D.getConfig();this._overlayRef=D,this._width&&!te.width&&D.updateSize({width:this._width}),this._height&&!te.height&&D.updateSize({height:this._height}),D.hostElement.classList.add(Kt),this._isDisposed=!1}top(D=""){return this._bottomOffset="",this._topOffset=D,this._alignItems="flex-start",this}left(D=""){return this._rightOffset="",this._leftOffset=D,this._justifyContent="flex-start",this}bottom(D=""){return this._topOffset="",this._bottomOffset=D,this._alignItems="flex-end",this}right(D=""){return this._leftOffset="",this._rightOffset=D,this._justifyContent="flex-end",this}width(D=""){return this._overlayRef?this._overlayRef.updateSize({width:D}):this._width=D,this}height(D=""){return this._overlayRef?this._overlayRef.updateSize({height:D}):this._height=D,this}centerHorizontally(D=""){return this.left(D),this._justifyContent="center",this}centerVertically(D=""){return this.top(D),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const D=this._overlayRef.overlayElement.style,te=this._overlayRef.hostElement.style,ne=this._overlayRef.getConfig(),{width:me,height:xe,maxWidth:pt,maxHeight:Ft}=ne,rn=!("100%"!==me&&"100vw"!==me||pt&&"100%"!==pt&&"100vw"!==pt),Qe=!("100%"!==xe&&"100vh"!==xe||Ft&&"100%"!==Ft&&"100vh"!==Ft);D.position=this._cssPosition,D.marginLeft=rn?"0":this._leftOffset,D.marginTop=Qe?"0":this._topOffset,D.marginBottom=this._bottomOffset,D.marginRight=this._rightOffset,rn?te.justifyContent="flex-start":"center"===this._justifyContent?te.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?te.justifyContent="flex-end":"flex-end"===this._justifyContent&&(te.justifyContent="flex-start"):te.justifyContent=this._justifyContent,te.alignItems=Qe?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const D=this._overlayRef.overlayElement.style,te=this._overlayRef.hostElement,ne=te.style;te.classList.remove(Kt),ne.justifyContent=ne.alignItems=D.marginTop=D.marginBottom=D.marginLeft=D.marginRight=D.position="",this._overlayRef=null,this._isDisposed=!0}}let Lt=(()=>{class Ae{constructor(te,ne,me,xe){this._viewportRuler=te,this._document=ne,this._platform=me,this._overlayContainer=xe}global(){return new gn}flexibleConnectedTo(te){return new Mt(te,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Ae.\u0275fac=function(te){return new(te||Ae)(I.LFG(v.rL),I.LFG(V.K0),I.LFG(g.t4),I.LFG(an))},Ae.\u0275prov=I.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),Bt=(()=>{class Ae{constructor(te){this._attachedOverlays=[],this._document=te}ngOnDestroy(){this.detach()}add(te){this.remove(te),this._attachedOverlays.push(te)}remove(te){const ne=this._attachedOverlays.indexOf(te);ne>-1&&this._attachedOverlays.splice(ne,1),0===this._attachedOverlays.length&&this.detach()}}return Ae.\u0275fac=function(te){return new(te||Ae)(I.LFG(V.K0))},Ae.\u0275prov=I.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),mt=(()=>{class Ae extends Bt{constructor(te,ne){super(te),this._ngZone=ne,this._keydownListener=me=>{const xe=this._attachedOverlays;for(let pt=xe.length-1;pt>-1;pt--)if(xe[pt]._keydownEvents.observers.length>0){const Ft=xe[pt]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ft.next(me)):Ft.next(me);break}}}add(te){super.add(te),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Ae.\u0275fac=function(te){return new(te||Ae)(I.LFG(V.K0),I.LFG(I.R0b,8))},Ae.\u0275prov=I.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),Vt=(()=>{class Ae extends Bt{constructor(te,ne,me){super(te),this._platform=ne,this._ngZone=me,this._cursorStyleIsSet=!1,this._pointerDownListener=xe=>{this._pointerDownEventTarget=(0,g.sA)(xe)},this._clickListener=xe=>{const pt=(0,g.sA)(xe),Ft="click"===xe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:pt;this._pointerDownEventTarget=null;const rn=this._attachedOverlays.slice();for(let Qe=rn.length-1;Qe>-1;Qe--){const Cn=rn[Qe];if(Cn._outsidePointerEvents.observers.length<1||!Cn.hasAttached())continue;if(Cn.overlayElement.contains(pt)||Cn.overlayElement.contains(Ft))break;const xn=Cn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>xn.next(xe)):xn.next(xe)}}}add(te){if(super.add(te),!this._isAttached){const ne=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ne)):this._addEventListeners(ne),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ne.style.cursor,ne.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const te=this._document.body;te.removeEventListener("pointerdown",this._pointerDownListener,!0),te.removeEventListener("click",this._clickListener,!0),te.removeEventListener("auxclick",this._clickListener,!0),te.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(te.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(te){te.addEventListener("pointerdown",this._pointerDownListener,!0),te.addEventListener("click",this._clickListener,!0),te.addEventListener("auxclick",this._clickListener,!0),te.addEventListener("contextmenu",this._clickListener,!0)}}return Ae.\u0275fac=function(te){return new(te||Ae)(I.LFG(V.K0),I.LFG(g.t4),I.LFG(I.R0b,8))},Ae.\u0275prov=I.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),ot=0,je=(()=>{class Ae{constructor(te,ne,me,xe,pt,Ft,rn,Qe,Cn,xn,ei){this.scrollStrategies=te,this._overlayContainer=ne,this._componentFactoryResolver=me,this._positionBuilder=xe,this._keyboardDispatcher=pt,this._injector=Ft,this._ngZone=rn,this._document=Qe,this._directionality=Cn,this._location=xn,this._outsideClickDispatcher=ei}create(te){const ne=this._createHostElement(),me=this._createPaneElement(ne),xe=this._createPortalOutlet(me),pt=new et(te);return pt.direction=pt.direction||this._directionality.value,new Qt(xe,ne,me,pt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(te){const ne=this._document.createElement("div");return ne.id="cdk-overlay-"+ot++,ne.classList.add("cdk-overlay-pane"),te.appendChild(ne),ne}_createHostElement(){const te=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(te),te}_createPortalOutlet(te){return this._appRef||(this._appRef=this._injector.get(I.z2F)),new P.u0(te,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Ae.\u0275fac=function(te){return new(te||Ae)(I.LFG(A),I.LFG(an),I.LFG(I._Vd),I.LFG(Lt),I.LFG(mt),I.LFG(I.zs3),I.LFG(I.R0b),I.LFG(V.K0),I.LFG(Ue.Is),I.LFG(V.Ye),I.LFG(Vt))},Ae.\u0275prov=I.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const Pt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],rt=new I.OlP("cdk-connected-overlay-scroll-strategy");let bt=(()=>{class Ae{constructor(te){this.elementRef=te}}return Ae.\u0275fac=function(te){return new(te||Ae)(I.Y36(I.SBq))},Ae.\u0275dir=I.lG2({type:Ae,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),Ae})(),En=(()=>{class Ae{constructor(te,ne,me,xe,pt){this._overlay=te,this._dir=pt,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ee.w0.EMPTY,this._attachSubscription=Ee.w0.EMPTY,this._detachSubscription=Ee.w0.EMPTY,this._positionSubscription=Ee.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new I.vpe,this.positionChange=new I.vpe,this.attach=new I.vpe,this.detach=new I.vpe,this.overlayKeydown=new I.vpe,this.overlayOutsideClick=new I.vpe,this._templatePortal=new P.UE(ne,me),this._scrollStrategyFactory=xe,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(te){this._offsetX=te,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(te){this._offsetY=te,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(te){this._hasBackdrop=(0,q.Ig)(te)}get lockPosition(){return this._lockPosition}set lockPosition(te){this._lockPosition=(0,q.Ig)(te)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(te){this._flexibleDimensions=(0,q.Ig)(te)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(te){this._growAfterOpen=(0,q.Ig)(te)}get push(){return this._push}set push(te){this._push=(0,q.Ig)(te)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(te){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),te.origin&&this.open&&this._position.apply()),te.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Pt);const te=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=te.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=te.detachments().subscribe(()=>this.detach.emit()),te.keydownEvents().subscribe(ne=>{this.overlayKeydown.next(ne),ne.keyCode===gt.hY&&!this.disableClose&&!(0,gt.Vb)(ne)&&(ne.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(ne=>{this.overlayOutsideClick.next(ne)})}_buildConfig(){const te=this._position=this.positionStrategy||this._createPositionStrategy(),ne=new et({direction:this._dir,positionStrategy:te,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(ne.width=this.width),(this.height||0===this.height)&&(ne.height=this.height),(this.minWidth||0===this.minWidth)&&(ne.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(ne.minHeight=this.minHeight),this.backdropClass&&(ne.backdropClass=this.backdropClass),this.panelClass&&(ne.panelClass=this.panelClass),ne}_updatePositionStrategy(te){const ne=this.positions.map(me=>({originX:me.originX,originY:me.originY,overlayX:me.overlayX,overlayY:me.overlayY,offsetX:me.offsetX||this.offsetX,offsetY:me.offsetY||this.offsetY,panelClass:me.panelClass||void 0}));return te.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(ne).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const te=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(te),te}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof bt?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(te=>{this.backdropClick.emit(te)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Oe(Ae,D=!1){return(0,Me.e)((te,ne)=>{let me=0;te.subscribe((0,we.x)(ne,xe=>{const pt=Ae(xe,me++);(pt||D)&&ne.next(xe),!pt&&ne.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(te=>{this.positionChange.emit(te),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return Ae.\u0275fac=function(te){return new(te||Ae)(I.Y36(je),I.Y36(I.Rgc),I.Y36(I.s_b),I.Y36(rt),I.Y36(Ue.Is,8))},Ae.\u0275dir=I.lG2({type:Ae,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[I.TTD]}),Ae})();const Dn={provide:rt,deps:[je],useFactory:function Xn(Ae){return()=>Ae.scrollStrategies.reposition()}};let ft=(()=>{class Ae{}return Ae.\u0275fac=function(te){return new(te||Ae)},Ae.\u0275mod=I.oAB({type:Ae}),Ae.\u0275inj=I.cJS({providers:[je,Dn],imports:[[Ue.vT,P.eL,v.Cl],v.Cl]}),Ae})()},925:(Ot,B,R)=>{R.d(B,{Mq:()=>Le,Oy:()=>at,ht:()=>Xe,i$:()=>Me,kV:()=>ht,qK:()=>Ce,sA:()=>Nt,t4:()=>q});var v=R(5e3),V=R(9808);let I;try{I="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ke){I=!1}let Ue,q=(()=>{class ke{constructor(it){this._platformId=it,this.isBrowser=this._platformId?(0,V.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!I)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ke.\u0275fac=function(it){return new(it||ke)(v.LFG(v.Lbi))},ke.\u0275prov=v.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})();const P=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ce(){if(Ue)return Ue;if("object"!=typeof document||!document)return Ue=new Set(P),Ue;let ke=document.createElement("input");return Ue=new Set(P.filter(Ke=>(ke.setAttribute("type",Ke),ke.type===Ke))),Ue}let Ee,Oe,gt;function Me(ke){return function ae(){if(null==Ee&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ee=!0}))}finally{Ee=Ee||!1}return Ee}()?ke:!!ke.capture}function Le(){if(null==Oe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Oe=!1,Oe;if("scrollBehavior"in document.documentElement.style)Oe=!0;else{const ke=Element.prototype.scrollTo;Oe=!!ke&&!/\{\s*\[native code\]\s*\}/.test(ke.toString())}}return Oe}function ht(ke){if(function Je(){if(null==gt){const ke="undefined"!=typeof document?document.head:null;gt=!(!ke||!ke.createShadowRoot&&!ke.attachShadow)}return gt}()){const Ke=ke.getRootNode?ke.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&Ke instanceof ShadowRoot)return Ke}return null}function Xe(){let ke="undefined"!=typeof document&&document?document.activeElement:null;for(;ke&&ke.shadowRoot;){const Ke=ke.shadowRoot.activeElement;if(Ke===ke)break;ke=Ke}return ke}function Nt(ke){return ke.composedPath?ke.composedPath()[0]:ke.target}function at(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7429:(Ot,B,R)=>{R.d(B,{C5:()=>ae,Pl:()=>Xe,UE:()=>Me,eL:()=>at,en:()=>Oe,u0:()=>st});var v=R(5e3),V=R(9808);class Ee{attach(it){return this._attachedHost=it,it.attach(this)}detach(){let it=this._attachedHost;null!=it&&(this._attachedHost=null,it.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(it){this._attachedHost=it}}class ae extends Ee{constructor(it,A,et,en){super(),this.component=it,this.viewContainerRef=A,this.injector=et,this.componentFactoryResolver=en}}class Me extends Ee{constructor(it,A,et){super(),this.templateRef=it,this.viewContainerRef=A,this.context=et}get origin(){return this.templateRef.elementRef}attach(it,A=this.context){return this.context=A,super.attach(it)}detach(){return this.context=void 0,super.detach()}}class we extends Ee{constructor(it){super(),this.element=it instanceof v.SBq?it.nativeElement:it}}class Oe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(it){return it instanceof ae?(this._attachedPortal=it,this.attachComponentPortal(it)):it instanceof Me?(this._attachedPortal=it,this.attachTemplatePortal(it)):this.attachDomPortal&&it instanceof we?(this._attachedPortal=it,this.attachDomPortal(it)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(it){this._disposeFn=it}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class st extends Oe{constructor(it,A,et,en,Be){super(),this.outletElement=it,this._componentFactoryResolver=A,this._appRef=et,this._defaultInjector=en,this.attachDomPortal=At=>{const Ut=At.element,nn=this._document.createComment("dom-portal");Ut.parentNode.insertBefore(nn,Ut),this.outletElement.appendChild(Ut),this._attachedPortal=At,super.setDisposeFn(()=>{nn.parentNode&&nn.parentNode.replaceChild(Ut,nn)})},this._document=Be}attachComponentPortal(it){const et=(it.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(it.component);let en;return it.viewContainerRef?(en=it.viewContainerRef.createComponent(et,it.viewContainerRef.length,it.injector||it.viewContainerRef.injector),this.setDisposeFn(()=>en.destroy())):(en=et.create(it.injector||this._defaultInjector||v.zs3.NULL),this._appRef.attachView(en.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(en.hostView),en.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(en)),this._attachedPortal=it,en}attachTemplatePortal(it){let A=it.viewContainerRef,et=A.createEmbeddedView(it.templateRef,it.context);return et.rootNodes.forEach(en=>this.outletElement.appendChild(en)),et.detectChanges(),this.setDisposeFn(()=>{let en=A.indexOf(et);-1!==en&&A.remove(en)}),this._attachedPortal=it,et}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(it){return it.hostView.rootNodes[0]}}let Xe=(()=>{class Ke extends Oe{constructor(A,et,en){super(),this._componentFactoryResolver=A,this._viewContainerRef=et,this._isInitialized=!1,this.attached=new v.vpe,this.attachDomPortal=Be=>{const At=Be.element,Ut=this._document.createComment("dom-portal");Be.setAttachedHost(this),At.parentNode.insertBefore(Ut,At),this._getRootNode().appendChild(At),this._attachedPortal=Be,super.setDisposeFn(()=>{Ut.parentNode&&Ut.parentNode.replaceChild(At,Ut)})},this._document=en}get portal(){return this._attachedPortal}set portal(A){this.hasAttached()&&!A&&!this._isInitialized||(this.hasAttached()&&super.detach(),A&&super.attach(A),this._attachedPortal=A||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(A){A.setAttachedHost(this);const et=null!=A.viewContainerRef?A.viewContainerRef:this._viewContainerRef,Be=(A.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(A.component),At=et.createComponent(Be,et.length,A.injector||et.injector);return et!==this._viewContainerRef&&this._getRootNode().appendChild(At.hostView.rootNodes[0]),super.setDisposeFn(()=>At.destroy()),this._attachedPortal=A,this._attachedRef=At,this.attached.emit(At),At}attachTemplatePortal(A){A.setAttachedHost(this);const et=this._viewContainerRef.createEmbeddedView(A.templateRef,A.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=A,this._attachedRef=et,this.attached.emit(et),et}_getRootNode(){const A=this._viewContainerRef.element.nativeElement;return A.nodeType===A.ELEMENT_NODE?A:A.parentNode}}return Ke.\u0275fac=function(A){return new(A||Ke)(v.Y36(v._Vd),v.Y36(v.s_b),v.Y36(V.K0))},Ke.\u0275dir=v.lG2({type:Ke,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[v.qOj]}),Ke})(),at=(()=>{class Ke{}return Ke.\u0275fac=function(A){return new(A||Ke)},Ke.\u0275mod=v.oAB({type:Ke}),Ke.\u0275inj=v.cJS({}),Ke})()},495:(Ot,B,R)=>{R.d(B,{ZD:()=>Bt,mF:()=>Bn,Cl:()=>mt,rL:()=>ut});var v=R(3191),V=R(5e3),I=R(4408),q=R(727);const g={schedule(Vt){let ot=requestAnimationFrame,je=cancelAnimationFrame;const{delegate:Pt}=g;Pt&&(ot=Pt.requestAnimationFrame,je=Pt.cancelAnimationFrame);const rt=ot(bt=>{je=void 0,Vt(bt)});return new q.w0(()=>null==je?void 0:je(rt))},requestAnimationFrame(...Vt){const{delegate:ot}=g;return((null==ot?void 0:ot.requestAnimationFrame)||requestAnimationFrame)(...Vt)},cancelAnimationFrame(...Vt){const{delegate:ot}=g;return((null==ot?void 0:ot.cancelAnimationFrame)||cancelAnimationFrame)(...Vt)},delegate:void 0};var P=R(7565);new class Ce extends P.v{flush(ot){this._active=!0;const je=this._scheduled;this._scheduled=void 0;const{actions:Pt}=this;let rt;ot=ot||Pt.shift();do{if(rt=ot.execute(ot.state,ot.delay))break}while((ot=Pt[0])&&ot.id===je&&Pt.shift());if(this._active=!1,rt){for(;(ot=Pt[0])&&ot.id===je&&Pt.shift();)ot.unsubscribe();throw rt}}}(class Ue extends I.o{constructor(ot,je){super(ot,je),this.scheduler=ot,this.work=je}requestAsyncId(ot,je,Pt=0){return null!==Pt&&Pt>0?super.requestAsyncId(ot,je,Pt):(ot.actions.push(this),ot._scheduled||(ot._scheduled=g.requestAnimationFrame(()=>ot.flush(void 0))))}recycleAsyncId(ot,je,Pt=0){if(null!=Pt&&Pt>0||null==Pt&&this.delay>0)return super.recycleAsyncId(ot,je,Pt);ot.actions.some(rt=>rt.id===je)||(g.cancelAnimationFrame(je),ot._scheduled=void 0)}});var Me=R(7579),we=R(9646),Oe=R(9751),Le=R(4968),gt=(R(3101),R(4986)),Je=R(4482),ht=R(8421),Xe=R(5403),at=R(2805);function ke(Vt,ot=gt.z){return function Nt(Vt){return(0,Je.e)((ot,je)=>{let Pt=!1,rt=null,bt=null,En=!1;const Xn=()=>{if(null==bt||bt.unsubscribe(),bt=null,Pt){Pt=!1;const ft=rt;rt=null,je.next(ft)}En&&je.complete()},Dn=()=>{bt=null,En&&je.complete()};ot.subscribe((0,Xe.x)(je,ft=>{Pt=!0,rt=ft,bt||(0,ht.Xf)(Vt(ft)).subscribe(bt=(0,Xe.x)(je,Xn,Dn))},()=>{En=!0,(!Pt||!bt||bt.closed)&&je.complete()}))})}(()=>(0,at.H)(Vt,ot))}var Ke=R(9300),it=R(9808),A=R(925),et=R(226);let Bn=(()=>{class Vt{constructor(je,Pt,rt){this._ngZone=je,this._platform=Pt,this._scrolled=new Me.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=rt}register(je){this.scrollContainers.has(je)||this.scrollContainers.set(je,je.elementScrolled().subscribe(()=>this._scrolled.next(je)))}deregister(je){const Pt=this.scrollContainers.get(je);Pt&&(Pt.unsubscribe(),this.scrollContainers.delete(je))}scrolled(je=20){return this._platform.isBrowser?new Oe.y(Pt=>{this._globalSubscription||this._addGlobalListener();const rt=je>0?this._scrolled.pipe(ke(je)).subscribe(Pt):this._scrolled.subscribe(Pt);return this._scrolledCount++,()=>{rt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,we.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((je,Pt)=>this.deregister(Pt)),this._scrolled.complete()}ancestorScrolled(je,Pt){const rt=this.getAncestorScrollContainers(je);return this.scrolled(Pt).pipe((0,Ke.h)(bt=>!bt||rt.indexOf(bt)>-1))}getAncestorScrollContainers(je){const Pt=[];return this.scrollContainers.forEach((rt,bt)=>{this._scrollableContainsElement(bt,je)&&Pt.push(bt)}),Pt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(je,Pt){let rt=(0,v.fI)(Pt),bt=je.getElementRef().nativeElement;do{if(rt==bt)return!0}while(rt=rt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const je=this._getWindow();return(0,Le.R)(je.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Vt.\u0275fac=function(je){return new(je||Vt)(V.LFG(V.R0b),V.LFG(A.t4),V.LFG(it.K0,8))},Vt.\u0275prov=V.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"}),Vt})(),ut=(()=>{class Vt{constructor(je,Pt,rt){this._platform=je,this._change=new Me.x,this._changeListener=bt=>{this._change.next(bt)},this._document=rt,Pt.runOutsideAngular(()=>{if(je.isBrowser){const bt=this._getWindow();bt.addEventListener("resize",this._changeListener),bt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const je=this._getWindow();je.removeEventListener("resize",this._changeListener),je.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const je={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),je}getViewportRect(){const je=this.getViewportScrollPosition(),{width:Pt,height:rt}=this.getViewportSize();return{top:je.top,left:je.left,bottom:je.top+rt,right:je.left+Pt,height:rt,width:Pt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const je=this._document,Pt=this._getWindow(),rt=je.documentElement,bt=rt.getBoundingClientRect();return{top:-bt.top||je.body.scrollTop||Pt.scrollY||rt.scrollTop||0,left:-bt.left||je.body.scrollLeft||Pt.scrollX||rt.scrollLeft||0}}change(je=20){return je>0?this._change.pipe(ke(je)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const je=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:je.innerWidth,height:je.innerHeight}:{width:0,height:0}}}return Vt.\u0275fac=function(je){return new(je||Vt)(V.LFG(A.t4),V.LFG(V.R0b),V.LFG(it.K0,8))},Vt.\u0275prov=V.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"}),Vt})(),Bt=(()=>{class Vt{}return Vt.\u0275fac=function(je){return new(je||Vt)},Vt.\u0275mod=V.oAB({type:Vt}),Vt.\u0275inj=V.cJS({}),Vt})(),mt=(()=>{class Vt{}return Vt.\u0275fac=function(je){return new(je||Vt)},Vt.\u0275mod=V.oAB({type:Vt}),Vt.\u0275inj=V.cJS({imports:[[et.vT,Bt],et.vT,Bt]}),Vt})()},9808:(Ot,B,R)=>{R.d(B,{Do:()=>at,ED:()=>_o,EM:()=>es,HT:()=>g,JF:()=>Mr,JJ:()=>$o,K0:()=>P,Mx:()=>nt,NF:()=>mo,O5:()=>ni,Ov:()=>yn,PM:()=>vo,RF:()=>nr,S$:()=>Je,V_:()=>ae,Ye:()=>ke,b0:()=>Nt,bD:()=>Uo,ez:()=>Po,lw:()=>Ce,mk:()=>Xr,mr:()=>Xe,n9:()=>hr,q:()=>I,sg:()=>on,w_:()=>Ue});var v=R(5e3);let V=null;function I(){return V}function g(fe){V||(V=fe)}class Ue{}const P=new v.OlP("DocumentToken");let Ce=(()=>{class fe{historyGo(pe){throw new Error("Not implemented")}}return fe.\u0275fac=function(pe){return new(pe||fe)},fe.\u0275prov=v.Yz7({token:fe,factory:function(){return function Ee(){return(0,v.LFG)(Me)}()},providedIn:"platform"}),fe})();const ae=new v.OlP("Location Initialized");let Me=(()=>{class fe extends Ce{constructor(pe){super(),this._doc=pe,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return I().getBaseHref(this._doc)}onPopState(pe){const qe=I().getGlobalEventTarget(this._doc,"window");return qe.addEventListener("popstate",pe,!1),()=>qe.removeEventListener("popstate",pe)}onHashChange(pe){const qe=I().getGlobalEventTarget(this._doc,"window");return qe.addEventListener("hashchange",pe,!1),()=>qe.removeEventListener("hashchange",pe)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(pe){this.location.pathname=pe}pushState(pe,qe,$t){we()?this._history.pushState(pe,qe,$t):this.location.hash=$t}replaceState(pe,qe,$t){we()?this._history.replaceState(pe,qe,$t):this.location.hash=$t}forward(){this._history.forward()}back(){this._history.back()}historyGo(pe=0){this._history.go(pe)}getState(){return this._history.state}}return fe.\u0275fac=function(pe){return new(pe||fe)(v.LFG(P))},fe.\u0275prov=v.Yz7({token:fe,factory:function(){return function Oe(){return new Me((0,v.LFG)(P))}()},providedIn:"platform"}),fe})();function we(){return!!window.history.pushState}function Le(fe,Ge){if(0==fe.length)return Ge;if(0==Ge.length)return fe;let pe=0;return fe.endsWith("/")&&pe++,Ge.startsWith("/")&&pe++,2==pe?fe+Ge.substring(1):1==pe?fe+Ge:fe+"/"+Ge}function st(fe){const Ge=fe.match(/#|\?|$/),pe=Ge&&Ge.index||fe.length;return fe.slice(0,pe-("/"===fe[pe-1]?1:0))+fe.slice(pe)}function gt(fe){return fe&&"?"!==fe[0]?"?"+fe:fe}let Je=(()=>{class fe{historyGo(pe){throw new Error("Not implemented")}}return fe.\u0275fac=function(pe){return new(pe||fe)},fe.\u0275prov=v.Yz7({token:fe,factory:function(){return function ht(fe){const Ge=(0,v.LFG)(P).location;return new Nt((0,v.LFG)(Ce),Ge&&Ge.origin||"")}()},providedIn:"root"}),fe})();const Xe=new v.OlP("appBaseHref");let Nt=(()=>{class fe extends Je{constructor(pe,qe){if(super(),this._platformLocation=pe,this._removeListenerFns=[],null==qe&&(qe=this._platformLocation.getBaseHrefFromDOM()),null==qe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=qe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(pe){this._removeListenerFns.push(this._platformLocation.onPopState(pe),this._platformLocation.onHashChange(pe))}getBaseHref(){return this._baseHref}prepareExternalUrl(pe){return Le(this._baseHref,pe)}path(pe=!1){const qe=this._platformLocation.pathname+gt(this._platformLocation.search),$t=this._platformLocation.hash;return $t&&pe?`${qe}${$t}`:qe}pushState(pe,qe,$t,On){const Vn=this.prepareExternalUrl($t+gt(On));this._platformLocation.pushState(pe,qe,Vn)}replaceState(pe,qe,$t,On){const Vn=this.prepareExternalUrl($t+gt(On));this._platformLocation.replaceState(pe,qe,Vn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(pe=0){var qe,$t;null===($t=(qe=this._platformLocation).historyGo)||void 0===$t||$t.call(qe,pe)}}return fe.\u0275fac=function(pe){return new(pe||fe)(v.LFG(Ce),v.LFG(Xe,8))},fe.\u0275prov=v.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),at=(()=>{class fe extends Je{constructor(pe,qe){super(),this._platformLocation=pe,this._baseHref="",this._removeListenerFns=[],null!=qe&&(this._baseHref=qe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(pe){this._removeListenerFns.push(this._platformLocation.onPopState(pe),this._platformLocation.onHashChange(pe))}getBaseHref(){return this._baseHref}path(pe=!1){let qe=this._platformLocation.hash;return null==qe&&(qe="#"),qe.length>0?qe.substring(1):qe}prepareExternalUrl(pe){const qe=Le(this._baseHref,pe);return qe.length>0?"#"+qe:qe}pushState(pe,qe,$t,On){let Vn=this.prepareExternalUrl($t+gt(On));0==Vn.length&&(Vn=this._platformLocation.pathname),this._platformLocation.pushState(pe,qe,Vn)}replaceState(pe,qe,$t,On){let Vn=this.prepareExternalUrl($t+gt(On));0==Vn.length&&(Vn=this._platformLocation.pathname),this._platformLocation.replaceState(pe,qe,Vn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(pe=0){var qe,$t;null===($t=(qe=this._platformLocation).historyGo)||void 0===$t||$t.call(qe,pe)}}return fe.\u0275fac=function(pe){return new(pe||fe)(v.LFG(Ce),v.LFG(Xe,8))},fe.\u0275prov=v.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),ke=(()=>{class fe{constructor(pe,qe){this._subject=new v.vpe,this._urlChangeListeners=[],this._platformStrategy=pe;const $t=this._platformStrategy.getBaseHref();this._platformLocation=qe,this._baseHref=st(A($t)),this._platformStrategy.onPopState(On=>{this._subject.emit({url:this.path(!0),pop:!0,state:On.state,type:On.type})})}path(pe=!1){return this.normalize(this._platformStrategy.path(pe))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(pe,qe=""){return this.path()==this.normalize(pe+gt(qe))}normalize(pe){return fe.stripTrailingSlash(function it(fe,Ge){return fe&&Ge.startsWith(fe)?Ge.substring(fe.length):Ge}(this._baseHref,A(pe)))}prepareExternalUrl(pe){return pe&&"/"!==pe[0]&&(pe="/"+pe),this._platformStrategy.prepareExternalUrl(pe)}go(pe,qe="",$t=null){this._platformStrategy.pushState($t,"",pe,qe),this._notifyUrlChangeListeners(this.prepareExternalUrl(pe+gt(qe)),$t)}replaceState(pe,qe="",$t=null){this._platformStrategy.replaceState($t,"",pe,qe),this._notifyUrlChangeListeners(this.prepareExternalUrl(pe+gt(qe)),$t)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(pe=0){var qe,$t;null===($t=(qe=this._platformStrategy).historyGo)||void 0===$t||$t.call(qe,pe)}onUrlChange(pe){this._urlChangeListeners.push(pe),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(qe=>{this._notifyUrlChangeListeners(qe.url,qe.state)}))}_notifyUrlChangeListeners(pe="",qe){this._urlChangeListeners.forEach($t=>$t(pe,qe))}subscribe(pe,qe,$t){return this._subject.subscribe({next:pe,error:qe,complete:$t})}}return fe.normalizeQueryParams=gt,fe.joinWithSlash=Le,fe.stripTrailingSlash=st,fe.\u0275fac=function(pe){return new(pe||fe)(v.LFG(Je),v.LFG(Ce))},fe.\u0275prov=v.Yz7({token:fe,factory:function(){return function Ke(){return new ke((0,v.LFG)(Je),(0,v.LFG)(Ce))}()},providedIn:"root"}),fe})();function A(fe){return fe.replace(/\/index.html$/,"")}var en=(()=>((en=en||{})[en.Decimal=0]="Decimal",en[en.Percent=1]="Percent",en[en.Currency=2]="Currency",en[en.Scientific=3]="Scientific",en))(),Qt=(()=>((Qt=Qt||{})[Qt.Decimal=0]="Decimal",Qt[Qt.Group=1]="Group",Qt[Qt.List=2]="List",Qt[Qt.PercentSign=3]="PercentSign",Qt[Qt.PlusSign=4]="PlusSign",Qt[Qt.MinusSign=5]="MinusSign",Qt[Qt.Exponential=6]="Exponential",Qt[Qt.SuperscriptingExponent=7]="SuperscriptingExponent",Qt[Qt.PerMille=8]="PerMille",Qt[Qt.Infinity=9]="Infinity",Qt[Qt.NaN=10]="NaN",Qt[Qt.TimeSeparator=11]="TimeSeparator",Qt[Qt.CurrencyDecimal=12]="CurrencyDecimal",Qt[Qt.CurrencyGroup=13]="CurrencyGroup",Qt))();function mt(fe,Ge){const pe=(0,v.cg1)(fe),qe=pe[v.wAp.NumberSymbols][Ge];if(void 0===qe){if(Ge===Qt.CurrencyDecimal)return pe[v.wAp.NumberSymbols][Qt.Decimal];if(Ge===Qt.CurrencyGroup)return pe[v.wAp.NumberSymbols][Qt.Group]}return qe}const dn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function he(fe){const Ge=parseInt(fe);if(isNaN(Ge))throw new Error("Invalid integer literal when parsing "+fe);return Ge}function nt(fe,Ge){Ge=encodeURIComponent(Ge);for(const pe of fe.split(";")){const qe=pe.indexOf("="),[$t,On]=-1==qe?[pe,""]:[pe.slice(0,qe),pe.slice(qe+1)];if($t.trim()===Ge)return decodeURIComponent(On)}return null}let Xr=(()=>{class fe{constructor(pe,qe,$t,On){this._iterableDiffers=pe,this._keyValueDiffers=qe,this._ngEl=$t,this._renderer=On,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(pe){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof pe?pe.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(pe){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof pe?pe.split(/\s+/):pe,this._rawClass&&((0,v.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const pe=this._iterableDiffer.diff(this._rawClass);pe&&this._applyIterableChanges(pe)}else if(this._keyValueDiffer){const pe=this._keyValueDiffer.diff(this._rawClass);pe&&this._applyKeyValueChanges(pe)}}_applyKeyValueChanges(pe){pe.forEachAddedItem(qe=>this._toggleClass(qe.key,qe.currentValue)),pe.forEachChangedItem(qe=>this._toggleClass(qe.key,qe.currentValue)),pe.forEachRemovedItem(qe=>{qe.previousValue&&this._toggleClass(qe.key,!1)})}_applyIterableChanges(pe){pe.forEachAddedItem(qe=>{if("string"!=typeof qe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,v.AaK)(qe.item)}`);this._toggleClass(qe.item,!0)}),pe.forEachRemovedItem(qe=>this._toggleClass(qe.item,!1))}_applyClasses(pe){pe&&(Array.isArray(pe)||pe instanceof Set?pe.forEach(qe=>this._toggleClass(qe,!0)):Object.keys(pe).forEach(qe=>this._toggleClass(qe,!!pe[qe])))}_removeClasses(pe){pe&&(Array.isArray(pe)||pe instanceof Set?pe.forEach(qe=>this._toggleClass(qe,!1)):Object.keys(pe).forEach(qe=>this._toggleClass(qe,!1)))}_toggleClass(pe,qe){(pe=pe.trim())&&pe.split(/\s+/g).forEach($t=>{qe?this._renderer.addClass(this._ngEl.nativeElement,$t):this._renderer.removeClass(this._ngEl.nativeElement,$t)})}}return fe.\u0275fac=function(pe){return new(pe||fe)(v.Y36(v.ZZ4),v.Y36(v.aQg),v.Y36(v.SBq),v.Y36(v.Qsj))},fe.\u0275dir=v.lG2({type:fe,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),fe})();class un{constructor(Ge,pe,qe,$t){this.$implicit=Ge,this.ngForOf=pe,this.index=qe,this.count=$t}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let on=(()=>{class fe{constructor(pe,qe,$t){this._viewContainer=pe,this._template=qe,this._differs=$t,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(pe){this._ngForOf=pe,this._ngForOfDirty=!0}set ngForTrackBy(pe){this._trackByFn=pe}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(pe){pe&&(this._template=pe)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const pe=this._ngForOf;!this._differ&&pe&&(this._differ=this._differs.find(pe).create(this.ngForTrackBy))}if(this._differ){const pe=this._differ.diff(this._ngForOf);pe&&this._applyChanges(pe)}}_applyChanges(pe){const qe=this._viewContainer;pe.forEachOperation(($t,On,Vn)=>{if(null==$t.previousIndex)qe.createEmbeddedView(this._template,new un($t.item,this._ngForOf,-1,-1),null===Vn?void 0:Vn);else if(null==Vn)qe.remove(null===On?void 0:On);else if(null!==On){const ui=qe.get(On);qe.move(ui,Vn),Sn(ui,$t)}});for(let $t=0,On=qe.length;$t<On;$t++){const ui=qe.get($t).context;ui.index=$t,ui.count=On,ui.ngForOf=this._ngForOf}pe.forEachIdentityChange($t=>{Sn(qe.get($t.currentIndex),$t)})}static ngTemplateContextGuard(pe,qe){return!0}}return fe.\u0275fac=function(pe){return new(pe||fe)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},fe.\u0275dir=v.lG2({type:fe,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),fe})();function Sn(fe,Ge){fe.context.$implicit=Ge.item}let ni=(()=>{class fe{constructor(pe,qe){this._viewContainer=pe,this._context=new pi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=qe}set ngIf(pe){this._context.$implicit=this._context.ngIf=pe,this._updateView()}set ngIfThen(pe){Dr("ngIfThen",pe),this._thenTemplateRef=pe,this._thenViewRef=null,this._updateView()}set ngIfElse(pe){Dr("ngIfElse",pe),this._elseTemplateRef=pe,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(pe,qe){return!0}}return fe.\u0275fac=function(pe){return new(pe||fe)(v.Y36(v.s_b),v.Y36(v.Rgc))},fe.\u0275dir=v.lG2({type:fe,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),fe})();class pi{constructor(){this.$implicit=null,this.ngIf=null}}function Dr(fe,Ge){if(Ge&&!Ge.createEmbeddedView)throw new Error(`${fe} must be a TemplateRef, but received '${(0,v.AaK)(Ge)}'.`)}class Hr{constructor(Ge,pe){this._viewContainerRef=Ge,this._templateRef=pe,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Ge){Ge&&!this._created?this.create():!Ge&&this._created&&this.destroy()}}let nr=(()=>{class fe{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(pe){this._ngSwitch=pe,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(pe){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(pe)}_matchCase(pe){const qe=pe==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||qe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),qe}_updateDefaultCases(pe){if(this._defaultViews&&pe!==this._defaultUsed){this._defaultUsed=pe;for(let qe=0;qe<this._defaultViews.length;qe++)this._defaultViews[qe].enforceState(pe)}}}return fe.\u0275fac=function(pe){return new(pe||fe)},fe.\u0275dir=v.lG2({type:fe,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),fe})(),hr=(()=>{class fe{constructor(pe,qe,$t){this.ngSwitch=$t,$t._addCase(),this._view=new Hr(pe,qe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return fe.\u0275fac=function(pe){return new(pe||fe)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(nr,9))},fe.\u0275dir=v.lG2({type:fe,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),fe})(),_o=(()=>{class fe{constructor(pe,qe,$t){$t._addDefault(new Hr(pe,qe))}}return fe.\u0275fac=function(pe){return new(pe||fe)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(nr,9))},fe.\u0275dir=v.lG2({type:fe,selectors:[["","ngSwitchDefault",""]]}),fe})();function zr(fe,Ge){return new v.vHH(2100,"")}class ia{createSubscription(Ge,pe){return Ge.subscribe({next:pe,error:qe=>{throw qe}})}dispose(Ge){Ge.unsubscribe()}onDestroy(Ge){Ge.unsubscribe()}}class Ws{createSubscription(Ge,pe){return Ge.then(pe,qe=>{throw qe})}dispose(Ge){}onDestroy(Ge){}}const tn=new Ws,Xt=new ia;let yn=(()=>{class fe{constructor(pe){this._ref=pe,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(pe){return this._obj?pe!==this._obj?(this._dispose(),this.transform(pe)):this._latestValue:(pe&&this._subscribe(pe),this._latestValue)}_subscribe(pe){this._obj=pe,this._strategy=this._selectStrategy(pe),this._subscription=this._strategy.createSubscription(pe,qe=>this._updateLatestValue(pe,qe))}_selectStrategy(pe){if((0,v.QGY)(pe))return tn;if((0,v.F4k)(pe))return Xt;throw zr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(pe,qe){pe===this._obj&&(this._latestValue=qe,this._ref.markForCheck())}}return fe.\u0275fac=function(pe){return new(pe||fe)(v.Y36(v.sBO,16))},fe.\u0275pipe=v.Yjl({name:"async",type:fe,pure:!1}),fe})(),$o=(()=>{class fe{constructor(pe){this._locale=pe}transform(pe,qe,$t){if(!function Do(fe){return!(null==fe||""===fe||fe!=fe)}(pe))return null;$t=$t||this._locale;try{return function Hi(fe,Ge,pe){return function yi(fe,Ge,pe,qe,$t,On,Vn=!1){let ui="",Kr=!1;if(isFinite(fe)){let Pr=function ln(fe){let qe,$t,On,Vn,ui,Ge=Math.abs(fe)+"",pe=0;for(($t=Ge.indexOf("."))>-1&&(Ge=Ge.replace(".","")),(On=Ge.search(/e/i))>0?($t<0&&($t=On),$t+=+Ge.slice(On+1),Ge=Ge.substring(0,On)):$t<0&&($t=Ge.length),On=0;"0"===Ge.charAt(On);On++);if(On===(ui=Ge.length))qe=[0],$t=1;else{for(ui--;"0"===Ge.charAt(ui);)ui--;for($t-=On,qe=[],Vn=0;On<=ui;On++,Vn++)qe[Vn]=Number(Ge.charAt(On))}return $t>22&&(qe=qe.splice(0,21),pe=$t-1,$t=1),{digits:qe,exponent:pe,integerLen:$t}}(fe);Vn&&(Pr=function Tt(fe){if(0===fe.digits[0])return fe;const Ge=fe.digits.length-fe.integerLen;return fe.exponent?fe.exponent+=2:(0===Ge?fe.digits.push(0,0):1===Ge&&fe.digits.push(0),fe.integerLen+=2),fe}(Pr));let Mi=Ge.minInt,br=Ge.minFrac,Jr=Ge.maxFrac;if(On){const $e=On.match(dn);if(null===$e)throw new Error(`${On} is not a valid digit info`);const Mn=$e[1],Ai=$e[3],Br=$e[5];null!=Mn&&(Mi=he(Mn)),null!=Ai&&(br=he(Ai)),null!=Br?Jr=he(Br):null!=Ai&&br>Jr&&(Jr=br)}!function j(fe,Ge,pe){if(Ge>pe)throw new Error(`The minimum number of digits after fraction (${Ge}) is higher than the maximum (${pe}).`);let qe=fe.digits,$t=qe.length-fe.integerLen;const On=Math.min(Math.max(Ge,$t),pe);let Vn=On+fe.integerLen,ui=qe[Vn];if(Vn>0){qe.splice(Math.max(fe.integerLen,Vn));for(let br=Vn;br<qe.length;br++)qe[br]=0}else{$t=Math.max(0,$t),fe.integerLen=1,qe.length=Math.max(1,Vn=On+1),qe[0]=0;for(let br=1;br<Vn;br++)qe[br]=0}if(ui>=5)if(Vn-1<0){for(let br=0;br>Vn;br--)qe.unshift(0),fe.integerLen++;qe.unshift(1),fe.integerLen++}else qe[Vn-1]++;for(;$t<Math.max(0,On);$t++)qe.push(0);let Kr=0!==On;const Pr=Ge+fe.integerLen,Mi=qe.reduceRight(function(br,Jr,Fr,Lr){return Lr[Fr]=(Jr+=br)<10?Jr:Jr-10,Kr&&(0===Lr[Fr]&&Fr>=Pr?Lr.pop():Kr=!1),Jr>=10?1:0},0);Mi&&(qe.unshift(Mi),fe.integerLen++)}(Pr,br,Jr);let Fr=Pr.digits,Lr=Pr.integerLen;const _e=Pr.exponent;let ue=[];for(Kr=Fr.every($e=>!$e);Lr<Mi;Lr++)Fr.unshift(0);for(;Lr<0;Lr++)Fr.unshift(0);Lr>0?ue=Fr.splice(Lr,Fr.length):(ue=Fr,Fr=[0]);const Q=[];for(Fr.length>=Ge.lgSize&&Q.unshift(Fr.splice(-Ge.lgSize,Fr.length).join(""));Fr.length>Ge.gSize;)Q.unshift(Fr.splice(-Ge.gSize,Fr.length).join(""));Fr.length&&Q.unshift(Fr.join("")),ui=Q.join(mt(pe,qe)),ue.length&&(ui+=mt(pe,$t)+ue.join("")),_e&&(ui+=mt(pe,Qt.Exponential)+"+"+_e)}else ui=mt(pe,Qt.Infinity);return ui=fe<0&&!Kr?Ge.negPre+ui+Ge.negSuf:Ge.posPre+ui+Ge.posSuf,ui}(fe,function Ui(fe,Ge="-"){const pe={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},qe=fe.split(";"),$t=qe[0],On=qe[1],Vn=-1!==$t.indexOf(".")?$t.split("."):[$t.substring(0,$t.lastIndexOf("0")+1),$t.substring($t.lastIndexOf("0")+1)],ui=Vn[0],Kr=Vn[1]||"";pe.posPre=ui.substr(0,ui.indexOf("#"));for(let Mi=0;Mi<Kr.length;Mi++){const br=Kr.charAt(Mi);"0"===br?pe.minFrac=pe.maxFrac=Mi+1:"#"===br?pe.maxFrac=Mi+1:pe.posSuf+=br}const Pr=ui.split(",");if(pe.gSize=Pr[1]?Pr[1].length:0,pe.lgSize=Pr[2]||Pr[1]?(Pr[2]||Pr[1]).length:0,On){const Mi=$t.length-pe.posPre.length-pe.posSuf.length,br=On.indexOf("#");pe.negPre=On.substr(0,br).replace(/'/g,""),pe.negSuf=On.substr(br+Mi).replace(/'/g,"")}else pe.negPre=Ge+pe.posPre,pe.negSuf=pe.posSuf;return pe}(function Vt(fe,Ge){return(0,v.cg1)(fe)[v.wAp.NumberFormats][Ge]}(Ge,en.Decimal),mt(Ge,Qt.MinusSign)),Ge,Qt.Group,Qt.Decimal,pe)}(function Io(fe){if("string"==typeof fe&&!isNaN(Number(fe)-parseFloat(fe)))return Number(fe);if("number"!=typeof fe)throw new Error(`${fe} is not a number`);return fe}(pe),$t,qe)}catch(On){throw zr()}}}return fe.\u0275fac=function(pe){return new(pe||fe)(v.Y36(v.soG,16))},fe.\u0275pipe=v.Yjl({name:"number",type:fe,pure:!0}),fe})();let Po=(()=>{class fe{}return fe.\u0275fac=function(pe){return new(pe||fe)},fe.\u0275mod=v.oAB({type:fe}),fe.\u0275inj=v.cJS({}),fe})();const Uo="browser";function mo(fe){return fe===Uo}function vo(fe){return"server"===fe}let es=(()=>{class fe{}return fe.\u0275prov=(0,v.Yz7)({token:fe,providedIn:"root",factory:()=>new Ko((0,v.LFG)(P),window)}),fe})();class Ko{constructor(Ge,pe){this.document=Ge,this.window=pe,this.offset=()=>[0,0]}setOffset(Ge){this.offset=Array.isArray(Ge)?()=>Ge:Ge}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Ge){this.supportsScrolling()&&this.window.scrollTo(Ge[0],Ge[1])}scrollToAnchor(Ge){if(!this.supportsScrolling())return;const pe=function ns(fe,Ge){const pe=fe.getElementById(Ge)||fe.getElementsByName(Ge)[0];if(pe)return pe;if("function"==typeof fe.createTreeWalker&&fe.body&&(fe.body.createShadowRoot||fe.body.attachShadow)){const qe=fe.createTreeWalker(fe.body,NodeFilter.SHOW_ELEMENT);let $t=qe.currentNode;for(;$t;){const On=$t.shadowRoot;if(On){const Vn=On.getElementById(Ge)||On.querySelector(`[name="${Ge}"]`);if(Vn)return Vn}$t=qe.nextNode()}}return null}(this.document,Ge);pe&&(this.scrollToElement(pe),pe.focus())}setHistoryScrollRestoration(Ge){if(this.supportScrollRestoration()){const pe=this.window.history;pe&&pe.scrollRestoration&&(pe.scrollRestoration=Ge)}}scrollToElement(Ge){const pe=Ge.getBoundingClientRect(),qe=pe.left+this.window.pageXOffset,$t=pe.top+this.window.pageYOffset,On=this.offset();this.window.scrollTo(qe-On[0],$t-On[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Ge=Bo(this.window.history)||Bo(Object.getPrototypeOf(this.window.history));return!(!Ge||!Ge.writable&&!Ge.set)}catch(Ge){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ge){return!1}}}function Bo(fe){return Object.getOwnPropertyDescriptor(fe,"scrollRestoration")}class Mr{}},520:(Ot,B,R)=>{R.d(B,{JF:()=>Ae,eN:()=>Qt});var v=R(9808),V=R(5e3),I=R(9646),q=R(9751),g=R(4351),Ue=R(9300),P=R(4004);class Ce{}class Ee{}class ae{constructor(me){this.normalizedNames=new Map,this.lazyUpdate=null,me?this.lazyInit="string"==typeof me?()=>{this.headers=new Map,me.split("\n").forEach(xe=>{const pt=xe.indexOf(":");if(pt>0){const Ft=xe.slice(0,pt),rn=Ft.toLowerCase(),Qe=xe.slice(pt+1).trim();this.maybeSetNormalizedName(Ft,rn),this.headers.has(rn)?this.headers.get(rn).push(Qe):this.headers.set(rn,[Qe])}})}:()=>{this.headers=new Map,Object.keys(me).forEach(xe=>{let pt=me[xe];const Ft=xe.toLowerCase();"string"==typeof pt&&(pt=[pt]),pt.length>0&&(this.headers.set(Ft,pt),this.maybeSetNormalizedName(xe,Ft))})}:this.headers=new Map}has(me){return this.init(),this.headers.has(me.toLowerCase())}get(me){this.init();const xe=this.headers.get(me.toLowerCase());return xe&&xe.length>0?xe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(me){return this.init(),this.headers.get(me.toLowerCase())||null}append(me,xe){return this.clone({name:me,value:xe,op:"a"})}set(me,xe){return this.clone({name:me,value:xe,op:"s"})}delete(me,xe){return this.clone({name:me,value:xe,op:"d"})}maybeSetNormalizedName(me,xe){this.normalizedNames.has(xe)||this.normalizedNames.set(xe,me)}init(){this.lazyInit&&(this.lazyInit instanceof ae?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(me=>this.applyUpdate(me)),this.lazyUpdate=null))}copyFrom(me){me.init(),Array.from(me.headers.keys()).forEach(xe=>{this.headers.set(xe,me.headers.get(xe)),this.normalizedNames.set(xe,me.normalizedNames.get(xe))})}clone(me){const xe=new ae;return xe.lazyInit=this.lazyInit&&this.lazyInit instanceof ae?this.lazyInit:this,xe.lazyUpdate=(this.lazyUpdate||[]).concat([me]),xe}applyUpdate(me){const xe=me.name.toLowerCase();switch(me.op){case"a":case"s":let pt=me.value;if("string"==typeof pt&&(pt=[pt]),0===pt.length)return;this.maybeSetNormalizedName(me.name,xe);const Ft=("a"===me.op?this.headers.get(xe):void 0)||[];Ft.push(...pt),this.headers.set(xe,Ft);break;case"d":const rn=me.value;if(rn){let Qe=this.headers.get(xe);if(!Qe)return;Qe=Qe.filter(Cn=>-1===rn.indexOf(Cn)),0===Qe.length?(this.headers.delete(xe),this.normalizedNames.delete(xe)):this.headers.set(xe,Qe)}else this.headers.delete(xe),this.normalizedNames.delete(xe)}}forEach(me){this.init(),Array.from(this.normalizedNames.keys()).forEach(xe=>me(this.normalizedNames.get(xe),this.headers.get(xe)))}}class Me{encodeKey(me){return st(me)}encodeValue(me){return st(me)}decodeKey(me){return decodeURIComponent(me)}decodeValue(me){return decodeURIComponent(me)}}const Oe=/%(\d[a-f0-9])/gi,Le={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function st(ne){return encodeURIComponent(ne).replace(Oe,(me,xe)=>{var pt;return null!==(pt=Le[xe])&&void 0!==pt?pt:me})}function gt(ne){return`${ne}`}class Je{constructor(me={}){if(this.updates=null,this.cloneFrom=null,this.encoder=me.encoder||new Me,me.fromString){if(me.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function we(ne,me){const xe=new Map;return ne.length>0&&ne.replace(/^\?/,"").split("&").forEach(Ft=>{const rn=Ft.indexOf("="),[Qe,Cn]=-1==rn?[me.decodeKey(Ft),""]:[me.decodeKey(Ft.slice(0,rn)),me.decodeValue(Ft.slice(rn+1))],xn=xe.get(Qe)||[];xn.push(Cn),xe.set(Qe,xn)}),xe}(me.fromString,this.encoder)}else me.fromObject?(this.map=new Map,Object.keys(me.fromObject).forEach(xe=>{const pt=me.fromObject[xe];this.map.set(xe,Array.isArray(pt)?pt:[pt])})):this.map=null}has(me){return this.init(),this.map.has(me)}get(me){this.init();const xe=this.map.get(me);return xe?xe[0]:null}getAll(me){return this.init(),this.map.get(me)||null}keys(){return this.init(),Array.from(this.map.keys())}append(me,xe){return this.clone({param:me,value:xe,op:"a"})}appendAll(me){const xe=[];return Object.keys(me).forEach(pt=>{const Ft=me[pt];Array.isArray(Ft)?Ft.forEach(rn=>{xe.push({param:pt,value:rn,op:"a"})}):xe.push({param:pt,value:Ft,op:"a"})}),this.clone(xe)}set(me,xe){return this.clone({param:me,value:xe,op:"s"})}delete(me,xe){return this.clone({param:me,value:xe,op:"d"})}toString(){return this.init(),this.keys().map(me=>{const xe=this.encoder.encodeKey(me);return this.map.get(me).map(pt=>xe+"="+this.encoder.encodeValue(pt)).join("&")}).filter(me=>""!==me).join("&")}clone(me){const xe=new Je({encoder:this.encoder});return xe.cloneFrom=this.cloneFrom||this,xe.updates=(this.updates||[]).concat(me),xe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(me=>this.map.set(me,this.cloneFrom.map.get(me))),this.updates.forEach(me=>{switch(me.op){case"a":case"s":const xe=("a"===me.op?this.map.get(me.param):void 0)||[];xe.push(gt(me.value)),this.map.set(me.param,xe);break;case"d":if(void 0===me.value){this.map.delete(me.param);break}{let pt=this.map.get(me.param)||[];const Ft=pt.indexOf(gt(me.value));-1!==Ft&&pt.splice(Ft,1),pt.length>0?this.map.set(me.param,pt):this.map.delete(me.param)}}}),this.cloneFrom=this.updates=null)}}class Xe{constructor(){this.map=new Map}set(me,xe){return this.map.set(me,xe),this}get(me){return this.map.has(me)||this.map.set(me,me.defaultValue()),this.map.get(me)}delete(me){return this.map.delete(me),this}has(me){return this.map.has(me)}keys(){return this.map.keys()}}function at(ne){return"undefined"!=typeof ArrayBuffer&&ne instanceof ArrayBuffer}function ke(ne){return"undefined"!=typeof Blob&&ne instanceof Blob}function Ke(ne){return"undefined"!=typeof FormData&&ne instanceof FormData}class A{constructor(me,xe,pt,Ft){let rn;if(this.url=xe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=me.toUpperCase(),function Nt(ne){switch(ne){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ft?(this.body=void 0!==pt?pt:null,rn=Ft):rn=pt,rn&&(this.reportProgress=!!rn.reportProgress,this.withCredentials=!!rn.withCredentials,rn.responseType&&(this.responseType=rn.responseType),rn.headers&&(this.headers=rn.headers),rn.context&&(this.context=rn.context),rn.params&&(this.params=rn.params)),this.headers||(this.headers=new ae),this.context||(this.context=new Xe),this.params){const Qe=this.params.toString();if(0===Qe.length)this.urlWithParams=xe;else{const Cn=xe.indexOf("?");this.urlWithParams=xe+(-1===Cn?"?":Cn<xe.length-1?"&":"")+Qe}}else this.params=new Je,this.urlWithParams=xe}serializeBody(){return null===this.body?null:at(this.body)||ke(this.body)||Ke(this.body)||function it(ne){return"undefined"!=typeof URLSearchParams&&ne instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:ke(this.body)?this.body.type||null:at(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(me={}){var xe;const pt=me.method||this.method,Ft=me.url||this.url,rn=me.responseType||this.responseType,Qe=void 0!==me.body?me.body:this.body,Cn=void 0!==me.withCredentials?me.withCredentials:this.withCredentials,xn=void 0!==me.reportProgress?me.reportProgress:this.reportProgress;let ei=me.headers||this.headers,ri=me.params||this.params;const Oi=null!==(xe=me.context)&&void 0!==xe?xe:this.context;return void 0!==me.setHeaders&&(ei=Object.keys(me.setHeaders).reduce((Si,mn)=>Si.set(mn,me.setHeaders[mn]),ei)),me.setParams&&(ri=Object.keys(me.setParams).reduce((Si,mn)=>Si.set(mn,me.setParams[mn]),ri)),new A(pt,Ft,Qe,{params:ri,headers:ei,context:Oi,reportProgress:xn,responseType:rn,withCredentials:Cn})}}var et=(()=>((et=et||{})[et.Sent=0]="Sent",et[et.UploadProgress=1]="UploadProgress",et[et.ResponseHeader=2]="ResponseHeader",et[et.DownloadProgress=3]="DownloadProgress",et[et.Response=4]="Response",et[et.User=5]="User",et))();class en{constructor(me,xe=200,pt="OK"){this.headers=me.headers||new ae,this.status=void 0!==me.status?me.status:xe,this.statusText=me.statusText||pt,this.url=me.url||null,this.ok=this.status>=200&&this.status<300}}class Be extends en{constructor(me={}){super(me),this.type=et.ResponseHeader}clone(me={}){return new Be({headers:me.headers||this.headers,status:void 0!==me.status?me.status:this.status,statusText:me.statusText||this.statusText,url:me.url||this.url||void 0})}}class At extends en{constructor(me={}){super(me),this.type=et.Response,this.body=void 0!==me.body?me.body:null}clone(me={}){return new At({body:void 0!==me.body?me.body:this.body,headers:me.headers||this.headers,status:void 0!==me.status?me.status:this.status,statusText:me.statusText||this.statusText,url:me.url||this.url||void 0})}}class Ut extends en{constructor(me){super(me,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${me.url||"(unknown url)"}`:`Http failure response for ${me.url||"(unknown url)"}: ${me.status} ${me.statusText}`,this.error=me.error||null}}function nn(ne,me){return{body:me,headers:ne.headers,context:ne.context,observe:ne.observe,params:ne.params,reportProgress:ne.reportProgress,responseType:ne.responseType,withCredentials:ne.withCredentials}}let Qt=(()=>{class ne{constructor(xe){this.handler=xe}request(xe,pt,Ft={}){let rn;if(xe instanceof A)rn=xe;else{let xn,ei;xn=Ft.headers instanceof ae?Ft.headers:new ae(Ft.headers),Ft.params&&(ei=Ft.params instanceof Je?Ft.params:new Je({fromObject:Ft.params})),rn=new A(xe,pt,void 0!==Ft.body?Ft.body:null,{headers:xn,context:Ft.context,params:ei,reportProgress:Ft.reportProgress,responseType:Ft.responseType||"json",withCredentials:Ft.withCredentials})}const Qe=(0,I.of)(rn).pipe((0,g.b)(xn=>this.handler.handle(xn)));if(xe instanceof A||"events"===Ft.observe)return Qe;const Cn=Qe.pipe((0,Ue.h)(xn=>xn instanceof At));switch(Ft.observe||"body"){case"body":switch(rn.responseType){case"arraybuffer":return Cn.pipe((0,P.U)(xn=>{if(null!==xn.body&&!(xn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xn.body}));case"blob":return Cn.pipe((0,P.U)(xn=>{if(null!==xn.body&&!(xn.body instanceof Blob))throw new Error("Response is not a Blob.");return xn.body}));case"text":return Cn.pipe((0,P.U)(xn=>{if(null!==xn.body&&"string"!=typeof xn.body)throw new Error("Response is not a string.");return xn.body}));default:return Cn.pipe((0,P.U)(xn=>xn.body))}case"response":return Cn;default:throw new Error(`Unreachable: unhandled observe type ${Ft.observe}}`)}}delete(xe,pt={}){return this.request("DELETE",xe,pt)}get(xe,pt={}){return this.request("GET",xe,pt)}head(xe,pt={}){return this.request("HEAD",xe,pt)}jsonp(xe,pt){return this.request("JSONP",xe,{params:(new Je).append(pt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(xe,pt={}){return this.request("OPTIONS",xe,pt)}patch(xe,pt,Ft={}){return this.request("PATCH",xe,nn(Ft,pt))}post(xe,pt,Ft={}){return this.request("POST",xe,nn(Ft,pt))}put(xe,pt,Ft={}){return this.request("PUT",xe,nn(Ft,pt))}}return ne.\u0275fac=function(xe){return new(xe||ne)(V.LFG(Ce))},ne.\u0275prov=V.Yz7({token:ne,factory:ne.\u0275fac}),ne})();class an{constructor(me,xe){this.next=me,this.interceptor=xe}handle(me){return this.interceptor.intercept(me,this.next)}}const Bn=new V.OlP("HTTP_INTERCEPTORS");let ie=(()=>{class ne{intercept(xe,pt){return pt.handle(xe)}}return ne.\u0275fac=function(xe){return new(xe||ne)},ne.\u0275prov=V.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const mt=/^\)\]\}',?\n/;let ot=(()=>{class ne{constructor(xe){this.xhrFactory=xe}handle(xe){if("JSONP"===xe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new q.y(pt=>{const Ft=this.xhrFactory.build();if(Ft.open(xe.method,xe.urlWithParams),xe.withCredentials&&(Ft.withCredentials=!0),xe.headers.forEach((mn,_i)=>Ft.setRequestHeader(mn,_i.join(","))),xe.headers.has("Accept")||Ft.setRequestHeader("Accept","application/json, text/plain, */*"),!xe.headers.has("Content-Type")){const mn=xe.detectContentTypeHeader();null!==mn&&Ft.setRequestHeader("Content-Type",mn)}if(xe.responseType){const mn=xe.responseType.toLowerCase();Ft.responseType="json"!==mn?mn:"text"}const rn=xe.serializeBody();let Qe=null;const Cn=()=>{if(null!==Qe)return Qe;const mn=Ft.statusText||"OK",_i=new ae(Ft.getAllResponseHeaders()),ci=function Vt(ne){return"responseURL"in ne&&ne.responseURL?ne.responseURL:/^X-Request-URL:/m.test(ne.getAllResponseHeaders())?ne.getResponseHeader("X-Request-URL"):null}(Ft)||xe.url;return Qe=new Be({headers:_i,status:Ft.status,statusText:mn,url:ci}),Qe},xn=()=>{let{headers:mn,status:_i,statusText:ci,url:Dt}=Cn(),$=null;204!==_i&&($=void 0===Ft.response?Ft.responseText:Ft.response),0===_i&&(_i=$?200:0);let O=_i>=200&&_i<300;if("json"===xe.responseType&&"string"==typeof $){const x=$;$=$.replace(mt,"");try{$=""!==$?JSON.parse($):null}catch(oe){$=x,O&&(O=!1,$={error:oe,text:$})}}O?(pt.next(new At({body:$,headers:mn,status:_i,statusText:ci,url:Dt||void 0})),pt.complete()):pt.error(new Ut({error:$,headers:mn,status:_i,statusText:ci,url:Dt||void 0}))},ei=mn=>{const{url:_i}=Cn(),ci=new Ut({error:mn,status:Ft.status||0,statusText:Ft.statusText||"Unknown Error",url:_i||void 0});pt.error(ci)};let ri=!1;const Oi=mn=>{ri||(pt.next(Cn()),ri=!0);let _i={type:et.DownloadProgress,loaded:mn.loaded};mn.lengthComputable&&(_i.total=mn.total),"text"===xe.responseType&&!!Ft.responseText&&(_i.partialText=Ft.responseText),pt.next(_i)},Si=mn=>{let _i={type:et.UploadProgress,loaded:mn.loaded};mn.lengthComputable&&(_i.total=mn.total),pt.next(_i)};return Ft.addEventListener("load",xn),Ft.addEventListener("error",ei),Ft.addEventListener("timeout",ei),Ft.addEventListener("abort",ei),xe.reportProgress&&(Ft.addEventListener("progress",Oi),null!==rn&&Ft.upload&&Ft.upload.addEventListener("progress",Si)),Ft.send(rn),pt.next({type:et.Sent}),()=>{Ft.removeEventListener("error",ei),Ft.removeEventListener("abort",ei),Ft.removeEventListener("load",xn),Ft.removeEventListener("timeout",ei),xe.reportProgress&&(Ft.removeEventListener("progress",Oi),null!==rn&&Ft.upload&&Ft.upload.removeEventListener("progress",Si)),Ft.readyState!==Ft.DONE&&Ft.abort()}})}}return ne.\u0275fac=function(xe){return new(xe||ne)(V.LFG(v.JF))},ne.\u0275prov=V.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const je=new V.OlP("XSRF_COOKIE_NAME"),Pt=new V.OlP("XSRF_HEADER_NAME");class rt{}let bt=(()=>{class ne{constructor(xe,pt,Ft){this.doc=xe,this.platform=pt,this.cookieName=Ft,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const xe=this.doc.cookie||"";return xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,v.Mx)(xe,this.cookieName),this.lastCookieString=xe),this.lastToken}}return ne.\u0275fac=function(xe){return new(xe||ne)(V.LFG(v.K0),V.LFG(V.Lbi),V.LFG(je))},ne.\u0275prov=V.Yz7({token:ne,factory:ne.\u0275fac}),ne})(),En=(()=>{class ne{constructor(xe,pt){this.tokenService=xe,this.headerName=pt}intercept(xe,pt){const Ft=xe.url.toLowerCase();if("GET"===xe.method||"HEAD"===xe.method||Ft.startsWith("http://")||Ft.startsWith("https://"))return pt.handle(xe);const rn=this.tokenService.getToken();return null!==rn&&!xe.headers.has(this.headerName)&&(xe=xe.clone({headers:xe.headers.set(this.headerName,rn)})),pt.handle(xe)}}return ne.\u0275fac=function(xe){return new(xe||ne)(V.LFG(rt),V.LFG(Pt))},ne.\u0275prov=V.Yz7({token:ne,factory:ne.\u0275fac}),ne})(),Xn=(()=>{class ne{constructor(xe,pt){this.backend=xe,this.injector=pt,this.chain=null}handle(xe){if(null===this.chain){const pt=this.injector.get(Bn,[]);this.chain=pt.reduceRight((Ft,rn)=>new an(Ft,rn),this.backend)}return this.chain.handle(xe)}}return ne.\u0275fac=function(xe){return new(xe||ne)(V.LFG(Ee),V.LFG(V.zs3))},ne.\u0275prov=V.Yz7({token:ne,factory:ne.\u0275fac}),ne})(),Rn=(()=>{class ne{static disable(){return{ngModule:ne,providers:[{provide:En,useClass:ie}]}}static withOptions(xe={}){return{ngModule:ne,providers:[xe.cookieName?{provide:je,useValue:xe.cookieName}:[],xe.headerName?{provide:Pt,useValue:xe.headerName}:[]]}}}return ne.\u0275fac=function(xe){return new(xe||ne)},ne.\u0275mod=V.oAB({type:ne}),ne.\u0275inj=V.cJS({providers:[En,{provide:Bn,useExisting:En,multi:!0},{provide:rt,useClass:bt},{provide:je,useValue:"XSRF-TOKEN"},{provide:Pt,useValue:"X-XSRF-TOKEN"}]}),ne})(),Ae=(()=>{class ne{}return ne.\u0275fac=function(xe){return new(xe||ne)},ne.\u0275mod=V.oAB({type:ne}),ne.\u0275inj=V.cJS({providers:[Qt,{provide:Ce,useClass:Xn},ot,{provide:Ee,useExisting:ot}],imports:[[Rn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ne})()},5e3:(Ot,B,R)=>{R.d(B,{$8M:()=>Bl,$Z:()=>sc,AFp:()=>hw,ALo:()=>FC,AaK:()=>Ce,AcB:()=>xu,B6R:()=>de,BQk:()=>ac,CHM:()=>Ha,CRH:()=>zC,CZH:()=>x_,CqO:()=>hv,EJc:()=>CE,EiD:()=>Wl,EpF:()=>Vg,F$t:()=>Ff,F4k:()=>Hg,FYo:()=>yC,FiY:()=>Ka,G48:()=>WE,Gf:()=>WC,GfV:()=>_C,GkF:()=>xd,Gpc:()=>Me,Gre:()=>p,Hsn:()=>jg,IIB:()=>gE,Ikx:()=>Sh,JOm:()=>Ln,JVY:()=>Nh,L6k:()=>Hd,LAX:()=>Lh,LFG:()=>mr,LSH:()=>Wd,Lbi:()=>vE,MAs:()=>kg,NdJ:()=>_h,O4$:()=>Vo,OlP:()=>bo,Oqu:()=>Zg,PXZ:()=>NE,PiD:()=>Nu,Q6J:()=>ru,QGY:()=>yh,Qsj:()=>fb,R0b:()=>kd,RDi:()=>Bo,Rgc:()=>Dy,SBq:()=>Cy,Sil:()=>bE,Suo:()=>jC,TTD:()=>Do,TgZ:()=>vh,Udp:()=>Eh,VKq:()=>TC,VLi:()=>xE,WFA:()=>bp,WLB:()=>AC,X6Q:()=>UE,XFs:()=>Dn,Xpm:()=>re,Y36:()=>_p,YKP:()=>EC,YNc:()=>nu,Yjl:()=>ct,Yz7:()=>gn,ZZ4:()=>$_,_Bn:()=>gC,_UZ:()=>Mf,_Vd:()=>$y,_c5:()=>s0,_uU:()=>Dh,aQg:()=>K_,c2e:()=>yE,cJS:()=>Bt,cg1:()=>my,d8E:()=>gy,dDg:()=>yw,deG:()=>fl,dqk:()=>ei,eBb:()=>xp,eFA:()=>ww,ekj:()=>Sp,f3M:()=>Dl,g9A:()=>fw,h0i:()=>Mv,hGG:()=>a0,hij:()=>kf,iGM:()=>UC,ifc:()=>Ft,ip1:()=>dw,kL8:()=>Gy,kYT:()=>An,kcU:()=>hs,lG2:()=>_t,lcZ:()=>NC,mCW:()=>zo,n5z:()=>od,n_E:()=>Yy,oAB:()=>Et,oJD:()=>Ud,oxw:()=>Ep,pB0:()=>wc,q3G:()=>ys,q4F:()=>CC,qLn:()=>is,qOj:()=>Ed,qZA:()=>Cp,qzn:()=>Hl,r_U:()=>mE,sBO:()=>jE,sIi:()=>Sd,s_b:()=>qy,soG:()=>F_,tBr:()=>pu,tb:()=>gw,tp0:()=>gl,uIk:()=>Ng,vHH:()=>st,vpe:()=>Ah,wAp:()=>sr,xi3:()=>LC,xp6:()=>mm,yhl:()=>Cc,ynx:()=>Mu,z2F:()=>V_,z3N:()=>La,zSh:()=>up,zs3:()=>dl});var v=R(7579),V=R(727),I=R(9751),q=R(6451),g=R(3099);function Ue(a){for(let u in a)if(a[u]===Ue)return u;throw Error("Could not find renamed property on target object.")}function P(a,u){for(const h in u)u.hasOwnProperty(h)&&!a.hasOwnProperty(h)&&(a[h]=u[h])}function Ce(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Ce).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const u=a.toString();if(null==u)return""+u;const h=u.indexOf("\n");return-1===h?u:u.substring(0,h)}function Ee(a,u){return null==a||""===a?null===u?"":u:null==u||""===u?a:a+" "+u}const ae=Ue({__forward_ref__:Ue});function Me(a){return a.__forward_ref__=Me,a.toString=function(){return Ce(this())},a}function we(a){return Oe(a)?a():a}function Oe(a){return"function"==typeof a&&a.hasOwnProperty(ae)&&a.__forward_ref__===Me}class st extends Error{constructor(u,h){super(function gt(a,u){return`NG0${Math.abs(a)}${u?": "+u:""}`}(u,h)),this.code=u}}function Je(a){return"string"==typeof a?a:null==a?"":String(a)}function ht(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Je(a)}function ke(a,u){const h=u?` in ${u}`:"";throw new st(-201,`No provider for ${ht(a)} found${h}`)}function Mt(a,u){null==a&&function ut(a,u,h,m){throw new Error(`ASSERTION ERROR: ${a}`+(null==m?"":` [Expected=> ${h} ${m} ${u} <=Actual]`))}(u,a,null,"!=")}function gn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Bt(a){return{providers:a.providers||[],imports:a.imports||[]}}function mt(a){return Vt(a,rt)||Vt(a,En)}function Vt(a,u){return a.hasOwnProperty(u)?a[u]:null}function Pt(a){return a&&(a.hasOwnProperty(bt)||a.hasOwnProperty(Xn))?a[bt]:null}const rt=Ue({\u0275prov:Ue}),bt=Ue({\u0275inj:Ue}),En=Ue({ngInjectableDef:Ue}),Xn=Ue({ngInjectorDef:Ue});var Dn=(()=>((Dn=Dn||{})[Dn.Default=0]="Default",Dn[Dn.Host=1]="Host",Dn[Dn.Self=2]="Self",Dn[Dn.SkipSelf=4]="SkipSelf",Dn[Dn.Optional=8]="Optional",Dn))();let ft;function Ae(a){const u=ft;return ft=a,u}function D(a,u,h){const m=mt(a);return m&&"root"==m.providedIn?void 0===m.value?m.value=m.factory():m.value:h&Dn.Optional?null:void 0!==u?u:void ke(Ce(a),"Injector")}function ne(a){return{toString:a}.toString()}var me=(()=>((me=me||{})[me.OnPush=0]="OnPush",me[me.Default=1]="Default",me))(),Ft=(()=>{return(a=Ft||(Ft={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Ft;var a})();const rn="undefined"!=typeof globalThis&&globalThis,Qe="undefined"!=typeof window&&window,Cn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ei=rn||"undefined"!=typeof global&&global||Qe||Cn,Si={},mn=[],_i=Ue({\u0275cmp:Ue}),ci=Ue({\u0275dir:Ue}),Dt=Ue({\u0275pipe:Ue}),$=Ue({\u0275mod:Ue}),O=Ue({\u0275fac:Ue}),x=Ue({__NG_ELEMENT_ID__:Ue});let oe=0;function re(a){return ne(()=>{const h={},m={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===me.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||mn,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Ft.Emulated,id:"c",styles:a.styles||mn,_:null,setInput:null,schemas:a.schemas||null,tView:null},_=a.directives,b=a.features,k=a.pipes;return m.id+=oe++,m.inputs=Gt(a.inputs,h),m.outputs=Gt(a.outputs),b&&b.forEach(z=>z(m)),m.directiveDefs=_?()=>("function"==typeof _?_():_).map(Se):null,m.pipeDefs=k?()=>("function"==typeof k?k():k).map(We):null,m})}function de(a,u,h){const m=a.\u0275cmp;m.directiveDefs=()=>u.map(Se),m.pipeDefs=()=>h.map(We)}function Se(a){return wt(a)||function dn(a){return a[ci]||null}(a)}function We(a){return function Kn(a){return a[Dt]||null}(a)}const zt={};function Et(a){return ne(()=>{const u={type:a.type,bootstrap:a.bootstrap||mn,declarations:a.declarations||mn,imports:a.imports||mn,exports:a.exports||mn,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(zt[a.id]=a.type),u})}function An(a,u){return ne(()=>{const h=vi(a,!0);h.declarations=u.declarations||mn,h.imports=u.imports||mn,h.exports=u.exports||mn})}function Gt(a,u){if(null==a)return Si;const h={};for(const m in a)if(a.hasOwnProperty(m)){let _=a[m],b=_;Array.isArray(_)&&(b=_[1],_=_[0]),h[_]=m,u&&(u[_]=b)}return h}const _t=re;function ct(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function wt(a){return a[_i]||null}function vi(a,u){const h=a[$]||null;if(!h&&!0===u)throw new Error(`Type ${Ce(a)} does not have '\u0275mod' property.`);return h}function nr(a){return Array.isArray(a)&&"object"==typeof a[1]}function hr(a){return Array.isArray(a)&&!0===a[1]}function _o(a){return 0!=(8&a.flags)}function Eo(a){return 2==(2&a.flags)}function Xo(a){return 1==(1&a.flags)}function vr(a){return null!==a.template}function Is(a){return 0!=(512&a[2])}function xo(a,u){return a.hasOwnProperty(O)?a[O]:null}class zs{constructor(u,h,m){this.previousValue=u,this.currentValue=h,this.firstChange=m}isFirstChange(){return this.firstChange}}function Do(){return Io}function Io(a){return a.type.prototype.ngOnChanges&&(a.setInput=Ea),ws}function ws(){const a=Uo(this),u=null==a?void 0:a.current;if(u){const h=a.previous;if(h===Si)a.previous=u;else for(let m in u)h[m]=u[m];a.current=null,this.ngOnChanges(u)}}function Ea(a,u,h,m){const _=Uo(a)||function Rr(a,u){return a[Po]=u}(a,{previous:Si,current:null}),b=_.current||(_.current={}),k=_.previous,z=this.declaredInputs[h],ee=k[z];b[z]=new zs(ee&&ee.currentValue,u,k===Si),a[m]=u}Do.ngInherit=!0;const Po="__ngSimpleChanges__";function Uo(a){return a[Po]||null}let Ko;function Bo(a){Ko=a}function ns(){return void 0!==Ko?Ko:"undefined"!=typeof document?document:void 0}function Mr(a){return!!a.listen}const fe={createRenderer:(a,u)=>ns()};function pe(a){for(;Array.isArray(a);)a=a[0];return a}function On(a,u){return pe(u[a])}function Vn(a,u){return pe(u[a.index])}function Kr(a,u){return a.data[u]}function Pr(a,u){return a[u]}function Mi(a,u){const h=u[a];return nr(h)?h:h[0]}function br(a){return 4==(4&a[2])}function Jr(a){return 128==(128&a[2])}function Lr(a,u){return null==u?null:a[u]}function _e(a){a[18]=0}function ue(a,u){a[5]+=u;let h=a,m=a[3];for(;null!==m&&(1===u&&1===h[5]||-1===u&&0===h[5]);)m[5]+=u,h=m,m=m[3]}const Q={lFrame:Ni(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function co(){return Q.bindingsEnabled}function Yn(){return Q.lFrame.lView}function Ri(){return Q.lFrame.tView}function Ha(a){return Q.lFrame.contextLView=a,a[8]}function Oo(){let a=xa();for(;null!==a&&64===a.type;)a=a.parent;return a}function xa(){return Q.lFrame.currentTNode}function Wo(a,u){const h=Q.lFrame;h.currentTNode=a,h.isParent=u}function Pa(){return Q.lFrame.isParent}function Ks(){Q.lFrame.isParent=!1}function ma(){return Q.isInCheckNoChangesMode}function Yo(a){Q.isInCheckNoChangesMode=a}function ao(){const a=Q.lFrame;let u=a.bindingRootIndex;return-1===u&&(u=a.bindingRootIndex=a.tView.bindingStartIndex),u}function Ie(){return Q.lFrame.bindingIndex++}function N(a){const u=Q.lFrame,h=u.bindingIndex;return u.bindingIndex=u.bindingIndex+a,h}function Fe(a,u){const h=Q.lFrame;h.bindingIndex=h.bindingRootIndex=a,kt(u)}function kt(a){Q.lFrame.currentDirectiveIndex=a}function jt(a){const u=Q.lFrame.currentDirectiveIndex;return-1===u?null:a[u]}function pn(){return Q.lFrame.currentQueryIndex}function Fn(a){Q.lFrame.currentQueryIndex=a}function Ti(a){const u=a[1];return 2===u.type?u.declTNode:1===u.type?a[6]:null}function Bi(a,u,h){if(h&Dn.SkipSelf){let _=u,b=a;for(;!(_=_.parent,null!==_||h&Dn.Host||(_=Ti(b),null===_||(b=b[15],10&_.type))););if(null===_)return!1;u=_,a=b}const m=Q.lFrame=_r();return m.currentTNode=u,m.lView=a,!0}function Ki(a){const u=_r(),h=a[1];Q.lFrame=u,u.currentTNode=h.firstChild,u.lView=a,u.tView=h,u.contextLView=a,u.bindingIndex=h.bindingStartIndex,u.inI18n=!1}function _r(){const a=Q.lFrame,u=null===a?null:a.child;return null===u?Ni(a):u}function Ni(a){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=u),u}function ir(){const a=Q.lFrame;return Q.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Gr=ir;function yr(){const a=ir();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function cr(){return Q.lFrame.selectedIndex}function Ds(a){Q.lFrame.selectedIndex=a}function eo(){const a=Q.lFrame;return Kr(a.tView,a.selectedIndex)}function Vo(){Q.lFrame.currentNamespace="svg"}function hs(){!function ps(){Q.lFrame.currentNamespace=null}()}function Co(a,u){for(let h=u.directiveStart,m=u.directiveEnd;h<m;h++){const b=a.data[h].type.prototype,{ngAfterContentInit:k,ngAfterContentChecked:z,ngAfterViewInit:ee,ngAfterViewChecked:Re,ngOnDestroy:Ve}=b;k&&(a.contentHooks||(a.contentHooks=[])).push(-h,k),z&&((a.contentHooks||(a.contentHooks=[])).push(h,z),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(h,z)),ee&&(a.viewHooks||(a.viewHooks=[])).push(-h,ee),Re&&((a.viewHooks||(a.viewHooks=[])).push(h,Re),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(h,Re)),null!=Ve&&(a.destroyHooks||(a.destroyHooks=[])).push(h,Ve)}}function xs(a,u,h){Vi(a,u,3,h)}function Fo(a,u,h,m){(3&a[2])===h&&Vi(a,u,h,m)}function fi(a,u){let h=a[2];(3&h)===u&&(h&=2047,h+=1,a[2]=h)}function Vi(a,u,h,m){const b=null!=m?m:-1,k=u.length-1;let z=0;for(let ee=void 0!==m?65535&a[18]:0;ee<k;ee++)if("number"==typeof u[ee+1]){if(z=u[ee],null!=m&&z>=m)break}else u[ee]<0&&(a[18]+=65536),(z<b||-1==b)&&(Qi(a,h,u,ee),a[18]=(4294901760&a[18])+ee+2),ee++}function Qi(a,u,h,m){const _=h[m]<0,b=h[m+1],z=a[_?-h[m]:h[m]];if(_){if(a[2]>>11<a[18]>>16&&(3&a[2])===u){a[2]+=2048;try{b.call(z)}finally{}}}else try{b.call(z)}finally{}}class po{constructor(u,h,m){this.factory=u,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=m}}function fs(a,u,h){const m=Mr(a);let _=0;for(;_<h.length;){const b=h[_];if("number"==typeof b){if(0!==b)break;_++;const k=h[_++],z=h[_++],ee=h[_++];m?a.setAttribute(u,z,ee,k):u.setAttributeNS(k,z,ee)}else{const k=b,z=h[++_];xi(k)?m&&a.setProperty(u,k,z):m?a.setAttribute(u,k,z):u.setAttribute(k,z),_++}}return _}function Ho(a){return 3===a||4===a||6===a}function xi(a){return 64===a.charCodeAt(0)}function Xi(a,u){if(null!==u&&0!==u.length)if(null===a||0===a.length)a=u.slice();else{let h=-1;for(let m=0;m<u.length;m++){const _=u[m];"number"==typeof _?h=_:0===h||Wa(a,h,_,null,-1===h||2===h?u[++m]:null)}}return a}function Wa(a,u,h,m,_){let b=0,k=a.length;if(-1===u)k=-1;else for(;b<a.length;){const z=a[b++];if("number"==typeof z){if(z===u){k=-1;break}if(z>u){k=b-1;break}}}for(;b<a.length;){const z=a[b];if("number"==typeof z)break;if(z===h){if(null===m)return void(null!==_&&(a[b+1]=_));if(m===a[b+1])return void(a[b+2]=_)}b++,null!==m&&b++,null!==_&&b++}-1!==k&&(a.splice(k,0,u),b=k+1),a.splice(b++,0,h),null!==m&&a.splice(b++,0,m),null!==_&&a.splice(b++,0,_)}function bi(a){return-1!==a}function vn(a){return 32767&a}function fo(a,u){let h=function ti(a){return a>>16}(a),m=u;for(;h>0;)m=m[15],h--;return m}let Ja=!0;function Da(a){const u=Ja;return Ja=a,u}let ge=0;function Ye(a,u){const h=Wt(a,u);if(-1!==h)return h;const m=u[1];m.firstCreatePass&&(a.injectorIndex=u.length,Ct(m.data,a),Ct(u,null),Ct(m.blueprint,null));const _=Pn(a,u),b=a.injectorIndex;if(bi(_)){const k=vn(_),z=fo(_,u),ee=z[1].data;for(let Re=0;Re<8;Re++)u[b+Re]=z[k+Re]|ee[k+Re]}return u[b+8]=_,b}function Ct(a,u){a.push(0,0,0,0,0,0,0,0,u)}function Wt(a,u){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===u[a.injectorIndex+8]?-1:a.injectorIndex}function Pn(a,u){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let h=0,m=null,_=u;for(;null!==_;){const b=_[1],k=b.type;if(m=2===k?b.declTNode:1===k?_[6]:null,null===m)return-1;if(h++,_=_[15],-1!==m.injectorIndex)return m.injectorIndex|h<<16}return-1}function Ii(a,u,h){!function be(a,u,h){let m;"string"==typeof h?m=h.charCodeAt(0)||0:h.hasOwnProperty(x)&&(m=h[x]),null==m&&(m=h[x]=ge++);const _=255&m;u.data[a+(_>>5)]|=1<<_}(a,u,h)}function mi(a,u,h){if(h&Dn.Optional)return a;ke(u,"NodeInjector")}function Zr(a,u,h,m){if(h&Dn.Optional&&void 0===m&&(m=null),0==(h&(Dn.Self|Dn.Host))){const _=a[9],b=Ae(void 0);try{return _?_.get(u,m,h&Dn.Optional):D(u,m,h&Dn.Optional)}finally{Ae(b)}}return mi(m,u,h)}function Ji(a,u,h,m=Dn.Default,_){if(null!==a){const b=function jr(a){if("string"==typeof a)return a.charCodeAt(0)||0;const u=a.hasOwnProperty(x)?a[x]:void 0;return"number"==typeof u?u>=0?255&u:ya:u}(h);if("function"==typeof b){if(!Bi(u,a,m))return m&Dn.Host?mi(_,h,m):Zr(u,h,m,_);try{const k=b(m);if(null!=k||m&Dn.Optional)return k;ke(h)}finally{Gr()}}else if("number"==typeof b){let k=null,z=Wt(a,u),ee=-1,Re=m&Dn.Host?u[16][6]:null;for((-1===z||m&Dn.SkipSelf)&&(ee=-1===z?Pn(a,u):u[z+8],-1!==ee&&gs(m,!1)?(k=u[1],z=vn(ee),u=fo(ee,u)):z=-1);-1!==z;){const Ve=u[1];if(kl(b,z,Ve.data)){const yt=_a(z,u,h,k,m,Re);if(yt!==Gi)return yt}ee=u[z+8],-1!==ee&&gs(m,u[1].data[z+8]===Re)&&kl(b,z,u)?(k=Ve,z=vn(ee),u=fo(ee,u)):z=-1}}}return Zr(u,h,m,_)}const Gi={};function ya(){return new Ys(Oo(),Yn())}function _a(a,u,h,m,_,b){const k=u[1],z=k.data[a+8],Ve=hl(z,k,h,null==m?Eo(z)&&Ja:m!=k&&0!=(3&z.type),_&Dn.Host&&b===z);return null!==Ve?us(u,k,Ve,z):Gi}function hl(a,u,h,m,_){const b=a.providerIndexes,k=u.data,z=1048575&b,ee=a.directiveStart,Ve=b>>20,Jt=_?z+Ve:a.directiveEnd;for(let _n=m?z:z+Ve;_n<Jt;_n++){const Qn=k[_n];if(_n<ee&&h===Qn||_n>=ee&&Qn.type===h)return _n}if(_){const _n=k[ee];if(_n&&vr(_n)&&_n.type===h)return ee}return null}function us(a,u,h,m){let _=a[h];const b=u.data;if(function ts(a){return a instanceof po}(_)){const k=_;k.resolving&&function Xe(a,u){const h=u?`. Dependency path: ${u.join(" > ")} > ${a}`:"";throw new st(-200,`Circular dependency in DI detected for ${a}${h}`)}(ht(b[h]));const z=Da(k.canSeeViewProviders);k.resolving=!0;const ee=k.injectImpl?Ae(k.injectImpl):null;Bi(a,m,Dn.Default);try{_=a[h]=k.factory(void 0,b,a,m),u.firstCreatePass&&h>=m.directiveStart&&function Gs(a,u,h){const{ngOnChanges:m,ngOnInit:_,ngDoCheck:b}=u.type.prototype;if(m){const k=Io(u);(h.preOrderHooks||(h.preOrderHooks=[])).push(a,k),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(a,k)}_&&(h.preOrderHooks||(h.preOrderHooks=[])).push(0-a,_),b&&((h.preOrderHooks||(h.preOrderHooks=[])).push(a,b),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(a,b))}(h,b[h],u)}finally{null!==ee&&Ae(ee),Da(z),k.resolving=!1,Gr()}}return _}function kl(a,u,h){return!!(h[u+(a>>5)]&1<<a)}function gs(a,u){return!(a&Dn.Self||a&Dn.Host&&u)}class Ys{constructor(u,h){this._tNode=u,this._lView=h}get(u,h,m){return Ji(this._tNode,this._lView,u,m,h)}}function od(a){return ne(()=>{const u=a.prototype.constructor,h=u[O]||jo(u),m=Object.prototype;let _=Object.getPrototypeOf(a.prototype).constructor;for(;_&&_!==m;){const b=_[O]||jo(_);if(b&&b!==h)return b;_=Object.getPrototypeOf(_)}return b=>new b})}function jo(a){return Oe(a)?()=>{const u=jo(we(a));return u&&u()}:xo(a)}function Bl(a){return function di(a,u){if("class"===u)return a.classes;if("style"===u)return a.styles;const h=a.attrs;if(h){const m=h.length;let _=0;for(;_<m;){const b=h[_];if(Ho(b))break;if(0===b)_+=2;else if("number"==typeof b)for(_++;_<m&&"string"==typeof h[_];)_++;else{if(b===u)return h[_+1];_+=2}}}return null}(Oo(),a)}const Cr="__parameters__",ms="__prop__metadata__";function ja(a){return function(...h){if(a){const m=a(...h);for(const _ in m)this[_]=m[_]}}}function Zo(a,u,h){return ne(()=>{const m=ja(u);function _(...b){if(this instanceof _)return m.apply(this,b),this;const k=new _(...b);return z.annotation=k,z;function z(ee,Re,Ve){const yt=ee.hasOwnProperty(Cr)?ee[Cr]:Object.defineProperty(ee,Cr,{value:[]})[Cr];for(;yt.length<=Ve;)yt.push(null);return(yt[Ve]=yt[Ve]||[]).push(k),ee}}return h&&(_.prototype=Object.create(h.prototype)),_.prototype.ngMetadataName=a,_.annotationCls=_,_})}function bl(a,u,h,m){return ne(()=>{const _=ja(u);function b(...k){if(this instanceof b)return _.apply(this,k),this;const z=new b(...k);return function ee(Re,Ve){const yt=Re.constructor,Jt=yt.hasOwnProperty(ms)?yt[ms]:Object.defineProperty(yt,ms,{value:{}})[ms];Jt[Ve]=Jt.hasOwnProperty(Ve)&&Jt[Ve]||[],Jt[Ve].unshift(z),m&&m(Re,Ve,...k)}}return h&&(b.prototype=Object.create(h.prototype)),b.prototype.ngMetadataName=a,b.annotationCls=b,b})}class bo{constructor(u,h){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=gn({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fl=new bo("AnalyzeForEntryComponents");class Ci{}const xu=bl("ContentChildren",(a,u={})=>Object.assign({selector:a,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},u),Ci);function X(a,u){void 0===u&&(u=a);for(let h=0;h<a.length;h++){let m=a[h];Array.isArray(m)?(u===a&&(u=a.slice(0,h)),X(m,u)):u!==a&&u.push(m)}return u}function ze(a,u){a.forEach(h=>Array.isArray(h)?ze(h,u):u(h))}function Ht(a,u,h){u>=a.length?a.push(h):a.splice(u,0,h)}function jn(a,u){return u>=a.length-1?a.pop():a.splice(u,1)[0]}function Pi(a,u){const h=[];for(let m=0;m<a;m++)h.push(u);return h}function vs(a,u,h){let m=No(a,u);return m>=0?a[1|m]=h:(m=~m,function oo(a,u,h,m){let _=a.length;if(_==u)a.push(h,m);else if(1===_)a.push(m,a[0]),a[0]=h;else{for(_--,a.push(a[_-1],a[_]);_>u;)a[_]=a[_-2],_--;a[u]=h,a[u+1]=m}}(a,m,u,h)),m}function qr(a,u){const h=No(a,u);if(h>=0)return a[1|h]}function No(a,u){return function El(a,u,h){let m=0,_=a.length>>h;for(;_!==m;){const b=m+(_-m>>1),k=a[b<<h];if(u===k)return b<<h;k>u?_=b:m=b+1}return~(_<<h)}(a,u,1)}const Ze={},Rt="__NG_DI_FLAG__",fn="ngTempTokenPath",li=/\n/gm,qi="__source",dr=Ue({provide:String,useValue:Ue});let fr;function Wi(a){const u=fr;return fr=a,u}function sa(a,u=Dn.Default){if(void 0===fr)throw new st(203,"");return null===fr?D(a,void 0,u):fr.get(a,u&Dn.Optional?null:void 0,u)}function mr(a,u=Dn.Default){return(function Rn(){return ft}()||sa)(we(a),u)}const Dl=mr;function $a(a){const u=[];for(let h=0;h<a.length;h++){const m=we(a[h]);if(Array.isArray(m)){if(0===m.length)throw new st(900,"");let _,b=Dn.Default;for(let k=0;k<m.length;k++){const z=m[k],ee=aa(z);"number"==typeof ee?-1===ee?_=z.token:b|=ee:_=z}u.push(mr(_,b))}else u.push(mr(m))}return u}function cs(a,u){return a[Rt]=u,a.prototype[Rt]=u,a}function aa(a){return a[Rt]}const pu=cs(Zo("Inject",a=>({token:a})),-1),Ka=cs(Zo("Optional"),8),Nu=cs(Zo("Self"),2),gl=cs(Zo("SkipSelf"),4);let wa,Sl;function Aa(a){var u;return(null===(u=function yc(){if(void 0===wa&&(wa=null,ei.trustedTypes))try{wa=ei.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return wa}())||void 0===u?void 0:u.createHTML(a))||a}function Ya(a){var u;return(null===(u=function Vd(){if(void 0===Sl&&(Sl=null,ei.trustedTypes))try{Sl=ei.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Sl}())||void 0===u?void 0:u.createHTML(a))||a}class Vl{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mp extends Vl{getTypeName(){return"HTML"}}class _c extends Vl{getTypeName(){return"Style"}}class Ph extends Vl{getTypeName(){return"Script"}}class Fh extends Vl{getTypeName(){return"URL"}}class Ss extends Vl{getTypeName(){return"ResourceURL"}}function La(a){return a instanceof Vl?a.changingThisBreaksApplicationSecurity:a}function Hl(a,u){const h=Cc(a);if(null!=h&&h!==u){if("ResourceURL"===h&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${h} (see https://g.co/ng/security#xss)`)}return h===u}function Cc(a){return a instanceof Vl&&a.getTypeName()||null}function Nh(a){return new Mp(a)}function Hd(a){return new _c(a)}function xp(a){return new Ph(a)}function Lh(a){return new Fh(a)}function wc(a){return new Ss(a)}class kh{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const h=(new window.DOMParser).parseFromString(Aa(u),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(u):(h.removeChild(h.firstChild),h)}catch(h){return null}}}class Pp{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const h=this.inertDocument.createElement("html");this.inertDocument.appendChild(h);const m=this.inertDocument.createElement("body");h.appendChild(m)}}getInertBodyElement(u){const h=this.inertDocument.createElement("template");if("content"in h)return h.innerHTML=Aa(u),h;const m=this.inertDocument.createElement("body");return m.innerHTML=Aa(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(m),m}stripCustomNsAttrs(u){const h=u.attributes;for(let _=h.length-1;0<_;_--){const k=h.item(_).name;("xmlns:ns1"===k||0===k.indexOf("ns1:"))&&u.removeAttribute(k)}let m=u.firstChild;for(;m;)m.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(m),m=m.nextSibling}}const rl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zo(a){return(a=String(a)).match(rl)||a.match(zf)?a:"unsafe:"+a}function Za(a){const u={};for(const h of a.split(","))u[h]=!0;return u}function ol(...a){const u={};for(const h of a)for(const m in h)h.hasOwnProperty(m)&&(u[m]=!0);return u}const Rl=Za("area,br,col,hr,img,wbr"),to=Za("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yu=Za("rp,rt"),_u=ol(Rl,ol(to,Za("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ol(yu,Za("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ol(yu,to)),Bh=Za("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ka=Za("srcset"),Ul=ol(Bh,ka,Za("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Za("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$f=Za("script,style,template");class ud{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let h=u.firstChild,m=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?m=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,m&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let _=this.checkClobberedElement(h,h.nextSibling);if(_){h=_;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(u){const h=u.nodeName.toLowerCase();if(!_u.hasOwnProperty(h))return this.sanitizedSomething=!0,!$f.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const m=u.attributes;for(let _=0;_<m.length;_++){const b=m.item(_),k=b.name,z=k.toLowerCase();if(!Ul.hasOwnProperty(z)){this.sanitizedSomething=!0;continue}let ee=b.value;Bh[z]&&(ee=zo(ee)),ka[z]&&(a=ee,ee=(a=String(a)).split(",").map(u=>zo(u.trim())).join(", ")),this.buf.push(" ",k,'="',bc(ee),'"')}var a;return this.buf.push(">"),!0}endElement(u){const h=u.nodeName.toLowerCase();_u.hasOwnProperty(h)&&!Rl.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(u){this.buf.push(bc(u))}checkClobberedElement(u,h){if(h&&(u.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return h}}const go=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vh=/([^\#-~ |!])/g;function bc(a){return a.replace(/&/g,"&amp;").replace(go,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(Vh,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cu;function Wl(a,u){let h=null;try{Cu=Cu||function vu(a){const u=new Pp(a);return function jf(){try{return!!(new window.DOMParser).parseFromString(Aa(""),"text/html")}catch(a){return!1}}()?new kh(u):u}(a);let m=u?String(u):"";h=Cu.getInertBodyElement(m);let _=5,b=m;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,m=b,b=h.innerHTML,h=Cu.getInertBodyElement(m)}while(m!==b);return Aa((new ud).sanitizeChildren(Ec(h)||h))}finally{if(h){const m=Ec(h)||h;for(;m.firstChild;)m.removeChild(m.firstChild)}}}function Ec(a){return"content"in a&&function Np(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var ys=(()=>((ys=ys||{})[ys.NONE=0]="NONE",ys[ys.HTML=1]="HTML",ys[ys.STYLE=2]="STYLE",ys[ys.SCRIPT=3]="SCRIPT",ys[ys.URL=4]="URL",ys[ys.RESOURCE_URL=5]="RESOURCE_URL",ys))();function Ud(a){const u=Gu();return u?Ya(u.sanitize(ys.HTML,a)||""):Hl(a,"HTML")?Ya(La(a)):Wl(ns(),Je(a))}function Wd(a){const u=Gu();return u?u.sanitize(ys.URL,a)||"":Hl(a,"URL")?La(a):zo(Je(a))}function Gu(){const a=Yn();return a&&a[12]}const cd="__ngContext__";function ua(a,u){a[cd]=u}function zd(a){const u=function ml(a){return a[cd]||null}(a);return u?Array.isArray(u)?u:u.lView:null}function al(a){return a.ngOriginalError}function Vu(a,...u){a.error(...u)}class is{constructor(){this._console=console}handleError(u){const h=this._findOriginalError(u),m=function Gp(a){return a&&a.ngErrorLogger||Vu}(u);m(this._console,"ERROR",u),h&&m(this._console,"ORIGINAL ERROR",h)}_findOriginalError(u){let h=u&&al(u);for(;h&&al(h);)h=al(h);return h||null}}const Hp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ei))();function w(a){return a instanceof Function?a():a}var Ln=(()=>((Ln=Ln||{})[Ln.Important=1]="Important",Ln[Ln.DashCase=2]="DashCase",Ln))();function zi(a,u){return undefined(a,u)}function rs(a){const u=a[3];return hr(u)?u[3]:u}function Qs(a){return Yd(a[13])}function hd(a){return Yd(a[4])}function Yd(a){for(;null!==a&&!hr(a);)a=a[4];return a}function kn(a,u,h,m,_){if(null!=m){let b,k=!1;hr(m)?b=m:nr(m)&&(k=!0,m=m[0]);const z=pe(m);0===a&&null!==h?null==_?Oc(u,h,z):Du(u,h,z,_||null,!0):1===a&&null!==h?Du(u,h,z,_||null,!0):2===a?function cm(a,u,h){const m=Ru(a,u);m&&function xr(a,u,h,m){Mr(a)?a.removeChild(u,h,m):u.removeChild(h)}(a,m,u,h)}(u,z,k):3===a&&u.destroyNode(z),null!=b&&function Qd(a,u,h,m,_){const b=h[7];b!==pe(h)&&kn(u,a,m,b,_);for(let z=10;z<h.length;z++){const ee=h[z];Zh(ee[1],ee,a,u,m,b)}}(u,a,b,h,_)}}function zl(a,u,h){if(Mr(a))return a.createElement(u,h);{const m=null!==h?function es(a){const u=a.toLowerCase();return"svg"===u?"http://www.w3.org/2000/svg":"math"===u?"http://www.w3.org/1998/MathML/":null}(h):null;return null===m?a.createElement(u):a.createElementNS(m,u)}}function ca(a,u){const h=a[9],m=h.indexOf(u),_=u[3];1024&u[2]&&(u[2]&=-1025,ue(_,-1)),h.splice(m,1)}function $h(a,u){if(a.length<=10)return;const h=10+u,m=a[h];if(m){const _=m[17];null!==_&&_!==a&&ca(_,m),u>0&&(a[h-1][4]=m[4]);const b=jn(a,10+u);!function Eu(a,u){Zh(a,u,u[11],2,null,null),u[0]=null,u[6]=null}(m[1],m);const k=b[19];null!==k&&k.detachView(b[1]),m[3]=null,m[4]=null,m[2]&=-129}return m}function Wp(a,u){if(!(256&u[2])){const h=u[11];Mr(h)&&h.destroyNode&&Zh(a,u,h,3,null,null),function om(a){let u=a[13];if(!u)return Kh(a[1],a);for(;u;){let h=null;if(nr(u))h=u[13];else{const m=u[10];m&&(h=m)}if(!h){for(;u&&!u[4]&&u!==a;)nr(u)&&Kh(u[1],u),u=u[3];null===u&&(u=a),nr(u)&&Kh(u[1],u),h=u&&u[4]}u=h}}(u)}}function Kh(a,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function am(a,u){let h;if(null!=a&&null!=(h=a.destroyHooks))for(let m=0;m<h.length;m+=2){const _=u[h[m]];if(!(_ instanceof po)){const b=h[m+1];if(Array.isArray(b))for(let k=0;k<b.length;k+=2){const z=_[b[k]],ee=b[k+1];try{ee.call(z)}finally{}}else try{b.call(_)}finally{}}}}(a,u),function Ic(a,u){const h=a.cleanup,m=u[7];let _=-1;if(null!==h)for(let b=0;b<h.length-1;b+=2)if("string"==typeof h[b]){const k=h[b+1],z="function"==typeof k?k(u):pe(u[k]),ee=m[_=h[b+2]],Re=h[b+3];"boolean"==typeof Re?z.removeEventListener(h[b],ee,Re):Re>=0?m[_=Re]():m[_=-Re].unsubscribe(),b+=2}else{const k=m[_=h[b+1]];h[b].call(k)}if(null!==m){for(let b=_+1;b<m.length;b++)m[b]();u[7]=null}}(a,u),1===u[1].type&&Mr(u[11])&&u[11].destroy();const h=u[17];if(null!==h&&hr(u[3])){h!==u[3]&&ca(h,u);const m=u[19];null!==m&&m.detachView(a)}}}function lm(a,u,h){return function Xf(a,u,h){let m=u;for(;null!==m&&40&m.type;)m=(u=m).parent;if(null===m)return h[0];if(2&m.flags){const _=a.data[m.directiveStart].encapsulation;if(_===Ft.None||_===Ft.Emulated)return null}return Vn(m,h)}(a,u.parent,h)}function Du(a,u,h,m,_){Mr(a)?a.insertBefore(u,h,m,_):u.insertBefore(h,m,_)}function Oc(a,u,h){Mr(a)?a.appendChild(u,h):u.appendChild(h)}function Su(a,u,h,m,_){null!==m?Du(a,u,h,m,_):Oc(a,u,h)}function Ru(a,u){return Mr(a)?a.parentNode(u):u.parentNode}function jp(a,u,h){return Jf(a,u,h)}let Jf=function zp(a,u,h){return 40&a.type?Vn(a,h):null};function Yh(a,u,h,m){const _=lm(a,m,u),b=u[11],z=jp(m.parent||u[6],m,u);if(null!=_)if(Array.isArray(h))for(let ee=0;ee<h.length;ee++)Su(b,_,h[ee],z,!1);else Su(b,_,h,z,!1)}function qd(a,u){if(null!==u){const h=u.type;if(3&h)return Vn(u,a);if(4&h)return zu(-1,a[u.index]);if(8&h){const m=u.child;if(null!==m)return qd(a,m);{const _=a[u.index];return hr(_)?zu(-1,_):pe(_)}}if(32&h)return zi(u,a)()||pe(a[u.index]);{const m=ju(a,u);return null!==m?Array.isArray(m)?m[0]:qd(rs(a[16]),m):qd(a,u.next)}}return null}function ju(a,u){return null!==u?a[16][6].projection[u.projection]:null}function zu(a,u){const h=10+a+1;if(h<u.length){const m=u[h],_=m[1].firstChild;if(null!==_)return qd(m,_)}return u[7]}function $p(a,u,h,m,_,b,k){for(;null!=h;){const z=m[h.index],ee=h.type;if(k&&0===u&&(z&&ua(pe(z),m),h.flags|=4),64!=(64&h.flags))if(8&ee)$p(a,u,h.child,m,_,b,!1),kn(u,a,_,z,b);else if(32&ee){const Re=zi(h,m);let Ve;for(;Ve=Re();)kn(u,a,_,Ve,b);kn(u,a,_,z,b)}else 16&ee?dm(a,u,m,h,_,b):kn(u,a,_,z,b);h=k?h.projectionNext:h.next}}function Zh(a,u,h,m,_,b){$p(h,m,a.firstChild,u,_,b,!1)}function dm(a,u,h,m,_,b){const k=h[16],ee=k[6].projection[m.projection];if(Array.isArray(ee))for(let Re=0;Re<ee.length;Re++)kn(u,a,_,ee[Re],b);else $p(a,u,ee,k[3],_,b,!0)}function xc(a,u,h){Mr(a)?a.setAttribute(u,"style",h):u.style.cssText=h}function Kp(a,u,h){Mr(a)?""===h?a.removeAttribute(u,"class"):a.setAttribute(u,"class",h):u.className=h}function hm(a,u,h){let m=a.length;for(;;){const _=a.indexOf(u,h);if(-1===_)return _;if(0===_||a.charCodeAt(_-1)<=32){const b=u.length;if(_+b===m||a.charCodeAt(_+b)<=32)return _}h=_+1}}const $l="ng-template";function Xd(a,u,h){let m=0;for(;m<a.length;){let _=a[m++];if(h&&"class"===_){if(_=a[m],-1!==hm(_.toLowerCase(),u,0))return!0}else if(1===_){for(;m<a.length&&"string"==typeof(_=a[m++]);)if(_.toLowerCase()===u)return!0;return!1}}return!1}function pm(a){return 4===a.type&&a.value!==$l}function fm(a,u,h){return u===(4!==a.type||h?a.value:$l)}function da(a,u,h){let m=4;const _=a.attrs||[],b=function gm(a){for(let u=0;u<a.length;u++)if(Ho(a[u]))return u;return a.length}(_);let k=!1;for(let z=0;z<u.length;z++){const ee=u[z];if("number"!=typeof ee){if(!k)if(4&m){if(m=2|1&m,""!==ee&&!fm(a,ee,h)||""===ee&&1===u.length){if(ll(m))return!1;k=!0}}else{const Re=8&m?ee:u[++z];if(8&m&&null!==a.attrs){if(!Xd(a.attrs,Re,h)){if(ll(m))return!1;k=!0}continue}const yt=Kl(8&m?"class":ee,_,pm(a),h);if(-1===yt){if(ll(m))return!1;k=!0;continue}if(""!==Re){let Jt;Jt=yt>b?"":_[yt+1].toLowerCase();const _n=8&m?Jt:null;if(_n&&-1!==hm(_n,Re,0)||2&m&&Re!==Jt){if(ll(m))return!1;k=!0}}}}else{if(!k&&!ll(m)&&!ll(ee))return!1;if(k&&ll(ee))continue;k=!1,m=ee|1&m}}return ll(m)||k}function ll(a){return 0==(1&a)}function Kl(a,u,h,m){if(null===u)return-1;let _=0;if(m||!h){let b=!1;for(;_<u.length;){const k=u[_];if(k===a)return _;if(3===k||6===k)b=!0;else{if(1===k||2===k){let z=u[++_];for(;"string"==typeof z;)z=u[++_];continue}if(4===k)break;if(0===k){_+=4;continue}}_+=b?1:2}return-1}return function Yp(a,u){let h=a.indexOf(4);if(h>-1)for(h++;h<a.length;){const m=a[h];if("number"==typeof m)return-1;if(m===u)return h;h++}return-1}(u,a)}function ng(a,u,h=!1){for(let m=0;m<u.length;m++)if(da(a,u[m],h))return!0;return!1}function ig(a,u){e:for(let h=0;h<u.length;h++){const m=u[h];if(a.length===m.length){for(let _=0;_<a.length;_++)if(a[_]!==m[_])continue e;return!0}}return!1}function Pc(a,u){return a?":not("+u.trim()+")":u}function Fc(a){let u=a[0],h=1,m=2,_="",b=!1;for(;h<a.length;){let k=a[h];if("string"==typeof k)if(2&m){const z=a[++h];_+="["+k+(z.length>0?'="'+z+'"':"")+"]"}else 8&m?_+="."+k:4&m&&(_+=" "+k);else""!==_&&!ll(k)&&(u+=Pc(b,_),_=""),m=k,b=b||!ll(m);h++}return""!==_&&(u+=Pc(b,_)),u}const Or={};function mm(a){Nc(Ri(),Yn(),cr()+a,ma())}function Nc(a,u,h,m){if(!m)if(3==(3&u[2])){const b=a.preOrderCheckHooks;null!==b&&xs(u,b,h)}else{const b=a.preOrderHooks;null!==b&&Fo(u,b,0,h)}Ds(h)}function Yl(a,u){return a<<17|u<<2}function ba(a){return a>>17&32767}function qh(a){return 2|a}function $u(a){return(131068&a)>>2}function sg(a,u){return-131069&a|u<<2}function Lc(a){return 1|a}function Jp(a,u){const h=a.contentQueries;if(null!==h)for(let m=0;m<h.length;m+=2){const _=h[m],b=h[m+1];if(-1!==b){const k=a.data[b];Fn(_),k.contentQueries(2,u[b],b)}}}function ep(a,u,h,m,_,b,k,z,ee,Re){const Ve=u.blueprint.slice();return Ve[0]=_,Ve[2]=140|m,_e(Ve),Ve[3]=Ve[15]=a,Ve[8]=h,Ve[10]=k||a&&a[10],Ve[11]=z||a&&a[11],Ve[12]=ee||a&&a[12]||null,Ve[9]=Re||a&&a[9]||null,Ve[6]=b,Ve[16]=2==u.type?a[16]:Ve,Ve}function Vc(a,u,h,m,_){let b=a.data[u];if(null===b)b=function rh(a,u,h,m,_){const b=xa(),k=Pa(),ee=a.data[u]=function rp(a,u,h,m,_,b){return{type:h,index:m,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,k?b:b&&b.parent,h,u,m,_);return null===a.firstChild&&(a.firstChild=ee),null!==b&&(k?null==b.child&&null!==ee.parent&&(b.child=ee):null===b.next&&(b.next=ee)),ee}(a,u,h,m,_),function G(){return Q.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=h,b.value=m,b.attrs=_;const k=function $s(){const a=Q.lFrame,u=a.currentTNode;return a.isParent?u:u.parent}();b.injectorIndex=null===k?-1:k.injectorIndex}return Wo(b,!0),b}function gd(a,u,h,m){if(0===h)return-1;const _=u.length;for(let b=0;b<h;b++)u.push(m),a.blueprint.push(m),a.data.push(null);return _}function md(a,u,h){Ki(u);try{const m=a.viewQuery;null!==m&&lh(1,m,h);const _=a.template;null!==_&&tp(a,u,_,1,h),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Jp(a,u),a.staticViewQueries&&lh(2,a.viewQuery,h);const b=a.components;null!==b&&function gg(a,u){for(let h=0;h<u.length;h++)lf(a,u[h])}(u,b)}catch(m){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),m}finally{u[2]&=-5,yr()}}function Tu(a,u,h,m){const _=u[2];if(256==(256&_))return;Ki(u);const b=ma();try{_e(u),function va(a){return Q.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==h&&tp(a,u,h,2,m);const k=3==(3&_);if(!b)if(k){const Re=a.preOrderCheckHooks;null!==Re&&xs(u,Re,null)}else{const Re=a.preOrderHooks;null!==Re&&Fo(u,Re,0,null),fi(u,0)}if(function Wv(a){for(let u=Qs(a);null!==u;u=hd(u)){if(!u[2])continue;const h=u[9];for(let m=0;m<h.length;m++){const _=h[m],b=_[3];0==(1024&_[2])&&ue(b,1),_[2]|=1024}}}(u),function wg(a){for(let u=Qs(a);null!==u;u=hd(u))for(let h=10;h<u.length;h++){const m=u[h],_=m[1];Jr(m)&&Tu(_,m,_.template,m[8])}}(u),null!==a.contentQueries&&Jp(a,u),!b)if(k){const Re=a.contentCheckHooks;null!==Re&&xs(u,Re)}else{const Re=a.contentHooks;null!==Re&&Fo(u,Re,1),fi(u,1)}!function Bv(a,u){const h=a.hostBindingOpCodes;if(null!==h)try{for(let m=0;m<h.length;m++){const _=h[m];if(_<0)Ds(~_);else{const b=_,k=h[++m],z=h[++m];Fe(k,b),z(2,u[b])}}}finally{Ds(-1)}}(a,u);const z=a.components;null!==z&&function Gv(a,u){for(let h=0;h<u.length;h++)Om(a,u[h])}(u,z);const ee=a.viewQuery;if(null!==ee&&lh(2,ee,m),!b)if(k){const Re=a.viewCheckHooks;null!==Re&&xs(u,Re)}else{const Re=a.viewHooks;null!==Re&&Fo(u,Re,2),fi(u,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),b||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,ue(u[3],-1))}finally{yr()}}function oh(a,u,h,m){const _=u[10],b=!ma(),k=br(u);try{b&&!k&&_.begin&&_.begin(),k&&md(a,u,m),Tu(a,u,h,m)}finally{b&&!k&&_.end&&_.end()}}function tp(a,u,h,m,_){const b=cr(),k=2&m;try{Ds(-1),k&&u.length>20&&Nc(a,u,20,ma()),h(m,_)}finally{Ds(b)}}function ef(a,u,h){if(_o(u)){const _=u.directiveEnd;for(let b=u.directiveStart;b<_;b++){const k=a.data[b];k.contentQueries&&k.contentQueries(1,h[b],b)}}}function np(a,u,h){!co()||(function tf(a,u,h,m){const _=h.directiveStart,b=h.directiveEnd;a.firstCreatePass||Ye(h,u),ua(m,u);const k=h.initialInputs;for(let z=_;z<b;z++){const ee=a.data[z],Re=vr(ee);Re&&rf(u,h,ee);const Ve=us(u,a,z,h);ua(Ve,u),null!==k&&sf(0,z-_,Ve,ee,0,k),Re&&(Mi(h.index,u)[8]=Ve)}}(a,u,h,Vn(h,u)),128==(128&h.flags)&&function Am(a,u,h){const m=h.directiveStart,_=h.directiveEnd,k=h.index,z=function lt(){return Q.lFrame.currentDirectiveIndex}();try{Ds(k);for(let ee=m;ee<_;ee++){const Re=a.data[ee],Ve=u[ee];kt(ee),(null!==Re.hostBindings||0!==Re.hostVars||null!==Re.hostAttrs)&&yd(Re,Ve)}}finally{Ds(-1),kt(z)}}(a,u,h))}function qu(a,u,h=Vn){const m=u.localNames;if(null!==m){let _=u.index+1;for(let b=0;b<m.length;b+=2){const k=m[b+1],z=-1===k?h(u,a):a[k];a[_++]=z}}}function lo(a){const u=a.tView;return null===u||u.incompleteFirstPass?a.tView=Au(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):u}function Au(a,u,h,m,_,b,k,z,ee,Re){const Ve=20+m,yt=Ve+_,Jt=function mg(a,u){const h=[];for(let m=0;m<u;m++)h.push(m<a?null:Or);return h}(Ve,yt),_n="function"==typeof Re?Re():Re;return Jt[1]={type:a,blueprint:Jt,template:h,queries:null,viewQuery:z,declTNode:u,data:Jt.slice().fill(null,Ve),bindingStartIndex:Ve,expandoStartIndex:yt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof k?k():k,firstChild:null,schemas:ee,consts:_n,incompleteFirstPass:!1}}function vg(a,u,h,m){const _=jc(u);null===h?_.push(m):(_.push(h),a.firstCreatePass&&Ju(a).push(m,_.length-1))}function Hc(a,u,h){for(let m in a)if(a.hasOwnProperty(m)){const _=a[m];(h=null===h?{}:h).hasOwnProperty(m)?h[m].push(u,_):h[m]=[u,_]}return h}function ul(a,u,h,m,_,b,k,z){const ee=Vn(u,h);let Ve,Re=u.inputs;!z&&null!=Re&&(Ve=Re[m])?(wd(a,h,Ve,m,_),Eo(u)&&function Vv(a,u){const h=Mi(u,a);16&h[2]||(h[2]|=64)}(h,u.index)):3&u.type&&(m=function vd(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(m),_=null!=k?k(_,u.value||"",m):_,Mr(b)?b.setProperty(ee,m,_):xi(m)||(ee.setProperty?ee.setProperty(m,_):ee[m]=_))}function op(a,u,h,m){let _=!1;if(co()){const b=function Cg(a,u,h){const m=a.directiveRegistry;let _=null;if(m)for(let b=0;b<m.length;b++){const k=m[b];ng(h,k.selectors,!1)&&(_||(_=[]),Ii(Ye(h,u),a,k.type),vr(k)?(Xu(a,h),_.unshift(k)):_.push(k))}return _}(a,u,h),k=null===m?null:{"":-1};if(null!==b){_=!0,nf(h,a.data.length,b.length);for(let Ve=0;Ve<b.length;Ve++){const yt=b[Ve];yt.providersResolver&&yt.providersResolver(yt)}let z=!1,ee=!1,Re=gd(a,u,b.length,null);for(let Ve=0;Ve<b.length;Ve++){const yt=b[Ve];h.mergedAttrs=Xi(h.mergedAttrs,yt.hostAttrs),_d(a,h,u,Re,yt),Hv(Re,yt,k),null!==yt.contentQueries&&(h.flags|=8),(null!==yt.hostBindings||null!==yt.hostAttrs||0!==yt.hostVars)&&(h.flags|=128);const Jt=yt.type.prototype;!z&&(Jt.ngOnChanges||Jt.ngOnInit||Jt.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(h.index),z=!0),!ee&&(Jt.ngOnChanges||Jt.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(h.index),ee=!0),Re++}!function yg(a,u){const m=u.directiveEnd,_=a.data,b=u.attrs,k=[];let z=null,ee=null;for(let Re=u.directiveStart;Re<m;Re++){const Ve=_[Re],yt=Ve.inputs,Jt=null===b||pm(u)?null:sh(yt,b);k.push(Jt),z=Hc(yt,Re,z),ee=Hc(Ve.outputs,Re,ee)}null!==z&&(z.hasOwnProperty("class")&&(u.flags|=16),z.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=k,u.inputs=z,u.outputs=ee}(a,h)}k&&function Im(a,u,h){if(u){const m=a.localNames=[];for(let _=0;_<u.length;_+=2){const b=h[u[_+1]];if(null==b)throw new st(-301,!1);m.push(u[_],b)}}}(h,m,k)}return h.mergedAttrs=Xi(h.mergedAttrs,h.attrs),_}function sp(a,u,h,m,_,b){const k=b.hostBindings;if(k){let z=a.hostBindingOpCodes;null===z&&(z=a.hostBindingOpCodes=[]);const ee=~u.index;(function cl(a){let u=a.length;for(;u>0;){const h=a[--u];if("number"==typeof h&&h<0)return h}return 0})(z)!=ee&&z.push(ee),z.push(m,_,k)}}function yd(a,u){null!==a.hostBindings&&a.hostBindings(1,u)}function Xu(a,u){u.flags|=2,(a.components||(a.components=[])).push(u.index)}function Hv(a,u,h){if(h){if(u.exportAs)for(let m=0;m<u.exportAs.length;m++)h[u.exportAs[m]]=a;vr(u)&&(h[""]=a)}}function nf(a,u,h){a.flags|=1,a.directiveStart=u,a.directiveEnd=u+h,a.providerIndexes=u}function _d(a,u,h,m,_){a.data[m]=_;const b=_.factory||(_.factory=xo(_.type)),k=new po(b,vr(_),null);a.blueprint[m]=k,h[m]=k,sp(a,u,0,m,gd(a,h,_.hostVars,Or),_)}function rf(a,u,h){const m=Vn(u,a),_=lo(h),b=a[10],k=ah(a,ep(a,_,null,h.onPush?64:16,m,u,b,b.createRenderer(m,h),null,null));a[u.index]=k}function Iu(a,u,h,m,_,b){const k=Vn(a,u);!function Cd(a,u,h,m,_,b,k){if(null==b)Mr(a)?a.removeAttribute(u,_,h):u.removeAttribute(_);else{const z=null==k?Je(b):k(b,m||"",_);Mr(a)?a.setAttribute(u,_,z,h):h?u.setAttributeNS(h,_,z):u.setAttribute(_,z)}}(u[11],k,b,a.value,h,m,_)}function sf(a,u,h,m,_,b){const k=b[u];if(null!==k){const z=m.setInput;for(let ee=0;ee<k.length;){const Re=k[ee++],Ve=k[ee++],yt=k[ee++];null!==z?m.setInput(h,yt,Re,Ve):h[Ve]=yt}}}function sh(a,u){let h=null,m=0;for(;m<u.length;){const _=u[m];if(0!==_)if(5!==_){if("number"==typeof _)break;a.hasOwnProperty(_)&&(null===h&&(h=[]),h.push(_,a[_],u[m+1])),m+=2}else m+=2;else m+=4}return h}function Xl(a,u,h,m){return new Array(a,!0,!1,u,null,0,m,h,null,null)}function Om(a,u){const h=Mi(u,a);if(Jr(h)){const m=h[1];80&h[2]?Tu(m,h,m.template,h[8]):h[5]>0&&af(h)}}function af(a){for(let m=Qs(a);null!==m;m=hd(m))for(let _=10;_<m.length;_++){const b=m[_];if(1024&b[2]){const k=b[1];Tu(k,b,k.template,b[8])}else b[5]>0&&af(b)}const h=a[1].components;if(null!==h)for(let m=0;m<h.length;m++){const _=Mi(h[m],a);Jr(_)&&_[5]>0&&af(_)}}function lf(a,u){const h=Mi(u,a),m=h[1];(function uf(a,u){for(let h=u.length;h<a.blueprint.length;h++)u.push(a.blueprint[h])})(m,h),md(m,h,h[8])}function ah(a,u){return a[13]?a[14][4]=u:a[13]=u,a[14]=u,u}function Uc(a){for(;a;){a[2]|=64;const u=rs(a);if(Is(a)&&!u)return a;a=u}return null}function Wc(a,u,h){const m=u[10];m.begin&&m.begin();try{Tu(a,u,a.template,h)}catch(_){throw $c(u,_),_}finally{m.end&&m.end()}}function Eg(a){!function bg(a){for(let u=0;u<a.components.length;u++){const h=a.components[u],m=zd(h),_=m[1];oh(_,m,_.template,h)}}(a[8])}function lh(a,u,h){Fn(0),u(a,h)}const ap=(()=>Promise.resolve(null))();function jc(a){return a[7]||(a[7]=[])}function Ju(a){return a.cleanup||(a.cleanup=[])}function zc(a,u,h){return(null===a||vr(a))&&(h=function qe(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(h[u.index])),h[11]}function $c(a,u){const h=a[9],m=h?h.get(is,null):null;m&&m.handleError(u)}function wd(a,u,h,m,_){for(let b=0;b<h.length;){const k=h[b++],z=h[b++],ee=u[k],Re=a.data[k];null!==Re.setInput?Re.setInput(ee,_,m,z):ee[z]=_}}function yl(a,u,h){const m=On(u,a);!function Ga(a,u,h){Mr(a)?a.setValue(u,h):u.textContent=h}(a[11],m,h)}function ec(a,u,h){let m=h?a.styles:null,_=h?a.classes:null,b=0;if(null!==u)for(let k=0;k<u.length;k++){const z=u[k];"number"==typeof z?b=z:1==b?_=Ee(_,z):2==b&&(m=Ee(m,z+": "+u[++k]+";"))}h?a.styles=m:a.stylesWithoutHost=m,h?a.classes=_:a.classesWithoutHost=_}const uh=new bo("INJECTOR",-1);class lp{get(u,h=Ze){if(h===Ze){const m=new Error(`NullInjectorError: No provider for ${Ce(u)}!`);throw m.name="NullInjectorError",m}return h}}const up=new bo("Set Injector scope."),bd={},Fm={};let cp;function dp(){return void 0===cp&&(cp=new lp),cp}function Sg(a,u=null,h=null,m){const _=Rg(a,u,h,m);return _._resolveInjectorDefTypes(),_}function Rg(a,u=null,h=null,m){return new Nm(a,h,u||dp(),m)}class Nm{constructor(u,h,m,_=null){this.parent=m,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const b=[];h&&ze(h,z=>this.processProvider(z,u,h)),ze([u],z=>this.processInjectorType(z,[],b)),this.records.set(uh,Ma(void 0,this));const k=this.records.get(up);this.scope=null!=k?k.value:null,this.source=_||("object"==typeof u?null:Ce(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,h=Ze,m=Dn.Default){this.assertNotDestroyed();const _=Wi(this),b=Ae(void 0);try{if(!(m&Dn.SkipSelf)){let z=this.records.get(u);if(void 0===z){const ee=function Og(a){return"function"==typeof a||"object"==typeof a&&a instanceof bo}(u)&&mt(u);z=ee&&this.injectableDefInScope(ee)?Ma(df(u),bd):null,this.records.set(u,z)}if(null!=z)return this.hydrate(u,z)}return(m&Dn.Self?dp():this.parent).get(u,h=m&Dn.Optional&&h===Ze?null:h)}catch(k){if("NullInjectorError"===k.name){if((k[fn]=k[fn]||[]).unshift(Ce(u)),_)throw k;return function hu(a,u,h,m){const _=a[fn];throw u[qi]&&_.unshift(u[qi]),a.message=function Ih(a,u,h,m=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let _=Ce(u);if(Array.isArray(u))_=u.map(Ce).join(" -> ");else if("object"==typeof u){let b=[];for(let k in u)if(u.hasOwnProperty(k)){let z=u[k];b.push(k+":"+("string"==typeof z?JSON.stringify(z):Ce(z)))}_=`{${b.join(", ")}}`}return`${h}${m?"("+m+")":""}[${_}]: ${a.replace(li,"\n  ")}`}("\n"+a.message,_,h,m),a.ngTokenPath=_,a[fn]=null,a}(k,u,"R3InjectorError",this.source)}throw k}finally{Ae(b),Wi(_)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((m,_)=>u.push(Ce(_))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new st(205,!1)}processInjectorType(u,h,m){if(!(u=we(u)))return!1;let _=Pt(u);const b=null==_&&u.ngModule||void 0,k=void 0===b?u:b,z=-1!==m.indexOf(k);if(void 0!==b&&(_=Pt(b)),null==_)return!1;if(null!=_.imports&&!z){let Ve;m.push(k);try{ze(_.imports,yt=>{this.processInjectorType(yt,h,m)&&(void 0===Ve&&(Ve=[]),Ve.push(yt))})}finally{}if(void 0!==Ve)for(let yt=0;yt<Ve.length;yt++){const{ngModule:Jt,providers:_n}=Ve[yt];ze(_n,Qn=>this.processProvider(Qn,Jt,_n||mn))}}this.injectorDefTypes.add(k);const ee=xo(k)||(()=>new k);this.records.set(k,Ma(ee,bd));const Re=_.providers;if(null!=Re&&!z){const Ve=u;ze(Re,yt=>this.processProvider(yt,Ve,Re))}return void 0!==b&&void 0!==u.providers}processProvider(u,h,m){let _=Kc(u=we(u))?u:we(u&&u.provide);const b=function Tg(a,u,h){return Lm(a)?Ma(void 0,a.useValue):Ma(Ag(a),bd)}(u);if(Kc(u)||!0!==u.multi)this.records.get(_);else{let k=this.records.get(_);k||(k=Ma(void 0,bd,!0),k.factory=()=>$a(k.multi),this.records.set(_,k)),_=u,k.multi.push(u)}this.records.set(_,b)}hydrate(u,h){return h.value===bd&&(h.value=Fm,h.value=h.factory()),"object"==typeof h.value&&h.value&&function Gm(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(h.value)&&this.onDestroy.add(h.value),h.value}injectableDefInScope(u){if(!u.providedIn)return!1;const h=we(u.providedIn);return"string"==typeof h?"any"===h||h===this.scope:this.injectorDefTypes.has(h)}}function df(a){const u=mt(a),h=null!==u?u.factory:xo(a);if(null!==h)return h;if(a instanceof bo)throw new st(204,!1);if(a instanceof Function)return function ch(a){const u=a.length;if(u>0)throw Pi(u,"?"),new st(204,!1);const h=function ot(a){const u=a&&(a[rt]||a[En]);if(u){const h=function je(a){if(a.hasOwnProperty("name"))return a.name;const u=(""+a).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${h}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${h}" class.`),u}return null}(a);return null!==h?()=>h.factory(a):()=>new a}(a);throw new st(204,!1)}function Ag(a,u,h){let m;if(Kc(a)){const _=we(a);return xo(_)||df(_)}if(Lm(a))m=()=>we(a.useValue);else if(function Bm(a){return!(!a||!a.useFactory)}(a))m=()=>a.useFactory(...$a(a.deps||[]));else if(function km(a){return!(!a||!a.useExisting)}(a))m=()=>mr(we(a.useExisting));else{const _=we(a&&(a.useClass||a.provide));if(!function hf(a){return!!a.deps}(a))return xo(_)||df(_);m=()=>new _(...$a(a.deps))}return m}function Ma(a,u,h=!1){return{factory:a,value:u,multi:h?[]:void 0}}function Lm(a){return null!==a&&"object"==typeof a&&dr in a}function Kc(a){return"function"==typeof a}let dl=(()=>{class a{static create(h,m){var _;if(Array.isArray(h))return Sg({name:""},m,h,"");{const b=null!==(_=h.name)&&void 0!==_?_:"";return Sg({name:b},h.parent,h.providers,b)}}}return a.THROW_IF_NOT_FOUND=Ze,a.NULL=new lp,a.\u0275prov=gn({token:a,providedIn:"any",factory:()=>mr(uh)}),a.__NG_ELEMENT_ID__=-1,a})();function fh(a,u){Co(zd(a)[1],Oo())}function Ed(a){let u=function _f(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),h=!0;const m=[a];for(;u;){let _;if(vr(a))_=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new st(903,"");_=u.\u0275dir}if(_){if(h){m.push(_);const k=a;k.inputs=wf(a.inputs),k.declaredInputs=wf(a.declaredInputs),k.outputs=wf(a.outputs);const z=_.hostBindings;z&&Qv(a,z);const ee=_.viewQuery,Re=_.contentQueries;if(ee&&Jl(a,ee),Re&&Km(a,Re),P(a.inputs,_.inputs),P(a.declaredInputs,_.declaredInputs),P(a.outputs,_.outputs),vr(_)&&_.data.animation){const Ve=a.data;Ve.animation=(Ve.animation||[]).concat(_.data.animation)}}const b=_.features;if(b)for(let k=0;k<b.length;k++){const z=b[k];z&&z.ngInherit&&z(a),z===Ed&&(h=!1)}}u=Object.getPrototypeOf(u)}!function Cf(a){let u=0,h=null;for(let m=a.length-1;m>=0;m--){const _=a[m];_.hostVars=u+=_.hostVars,_.hostAttrs=Xi(_.hostAttrs,h=Xi(h,_.hostAttrs))}}(m)}function wf(a){return a===Si?{}:a===mn?[]:a}function Jl(a,u){const h=a.viewQuery;a.viewQuery=h?(m,_)=>{u(m,_),h(m,_)}:u}function Km(a,u){const h=a.contentQueries;a.contentQueries=h?(m,_,b)=>{u(m,_,b),h(m,_,b)}:u}function Qv(a,u){const h=a.hostBindings;a.hostBindings=h?(m,_)=>{u(m,_),h(m,_)}:u}let gh=null;function eu(){if(!gh){const a=ei.Symbol;if(a&&a.iterator)gh=a.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let h=0;h<u.length;++h){const m=u[h];"entries"!==m&&"size"!==m&&Map.prototype[m]===Map.prototype.entries&&(gh=m)}}}return gh}function Sd(a){return!!Fg(a)&&(Array.isArray(a)||!(a instanceof Map)&&eu()in a)}function Fg(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function pa(a,u,h){return a[u]=h}function fa(a,u,h){return!Object.is(a[u],h)&&(a[u]=h,!0)}function Ng(a,u,h,m){const _=Yn();return fa(_,Ie(),u)&&(Ri(),Iu(eo(),_,a,u,h,m)),Ng}function Pl(a,u,h,m){return fa(a,Ie(),h)?u+Je(h)+m:Or}function nu(a,u,h,m,_,b,k,z){const ee=Yn(),Re=Ri(),Ve=a+20,yt=Re.firstCreatePass?function vp(a,u,h,m,_,b,k,z,ee){const Re=u.consts,Ve=Vc(u,a,4,k||null,Lr(Re,z));op(u,h,Ve,Lr(Re,ee)),Co(u,Ve);const yt=Ve.tViews=Au(2,Ve,m,_,b,u.directiveRegistry,u.pipeRegistry,null,u.schemas,Re);return null!==u.queries&&(u.queries.template(u,Ve),yt.queries=u.queries.embeddedTView(Ve)),Ve}(Ve,Re,ee,u,h,m,_,b,k):Re.data[Ve];Wo(yt,!1);const Jt=ee[11].createComment("");Yh(Re,ee,Jt,yt),ua(Jt,ee),ah(ee,ee[Ve]=Xl(Jt,ee,Jt,yt)),Xo(yt)&&np(Re,ee,yt),null!=k&&qu(ee,yt,z)}function kg(a){return Pr(function Ms(){return Q.lFrame.contextLView}(),20+a)}function _p(a,u=Dn.Default){const h=Yn();return null===h?mr(a,u):Ji(Oo(),h,we(a),u)}function sc(){throw new Error("invalid")}function ru(a,u,h){const m=Yn();return fa(m,Ie(),u)&&ul(Ri(),eo(),m,a,u,m[11],h,!1),ru}function mh(a,u,h,m,_){const k=_?"class":"style";wd(a,h,u.inputs[k],k,m)}function vh(a,u,h,m){const _=Yn(),b=Ri(),k=20+a,z=_[11],ee=_[k]=zl(z,u,function oa(){return Q.lFrame.currentNamespace}()),Re=b.firstCreatePass?function ry(a,u,h,m,_,b,k){const z=u.consts,Re=Vc(u,a,2,_,Lr(z,b));return op(u,h,Re,Lr(z,k)),null!==Re.attrs&&ec(Re,Re.attrs,!1),null!==Re.mergedAttrs&&ec(Re,Re.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,Re),Re}(k,b,_,0,u,h,m):b.data[k];Wo(Re,!0);const Ve=Re.mergedAttrs;null!==Ve&&fs(z,ee,Ve);const yt=Re.classes;null!==yt&&Kp(z,ee,yt);const Jt=Re.styles;return null!==Jt&&xc(z,ee,Jt),64!=(64&Re.flags)&&Yh(b,_,ee,Re),0===function Mn(){return Q.lFrame.elementDepthCount}()&&ua(ee,_),function Ai(){Q.lFrame.elementDepthCount++}(),Xo(Re)&&(np(b,_,Re),ef(b,Re,_)),null!==m&&qu(_,Re),vh}function Cp(){let a=Oo();Pa()?Ks():(a=a.parent,Wo(a,!1));const u=a;!function Br(){Q.lFrame.elementDepthCount--}();const h=Ri();return h.firstCreatePass&&(Co(h,a),_o(a)&&h.queries.elementEnd(a)),null!=u.classesWithoutHost&&function Ua(a){return 0!=(16&a.flags)}(u)&&mh(h,u,Yn(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function wl(a){return 0!=(32&a.flags)}(u)&&mh(h,u,Yn(),u.stylesWithoutHost,!1),Cp}function Mf(a,u,h,m){return vh(a,u,h,m),Cp(),Mf}function Mu(a,u,h){const m=Yn(),_=Ri(),b=a+20,k=_.firstCreatePass?function oy(a,u,h,m,_){const b=u.consts,k=Lr(b,m),z=Vc(u,a,8,"ng-container",k);return null!==k&&ec(z,k,!0),op(u,h,z,Lr(b,_)),null!==u.queries&&u.queries.elementStart(u,z),z}(b,_,m,u,h):_.data[b];Wo(k,!0);const z=m[b]=m[11].createComment("");return Yh(_,m,z,k),ua(z,m),Xo(k)&&(np(_,m,k),ef(_,k,m)),null!=h&&qu(m,k),Mu}function ac(){let a=Oo();const u=Ri();return Pa()?Ks():(a=a.parent,Wo(a,!1)),u.firstCreatePass&&(Co(u,a),_o(a)&&u.queries.elementEnd(a)),ac}function xd(a,u,h){return Mu(a,u,h),ac(),xd}function Vg(){return Yn()}function yh(a){return!!a&&"function"==typeof a.then}function Hg(a){return!!a&&"function"==typeof a.subscribe}const hv=Hg;function _h(a,u,h,m){const _=Yn(),b=Ri(),k=Oo();return xf(b,_,_[11],k,a,u,!!h,m),_h}function bp(a,u){const h=Oo(),m=Yn(),_=Ri();return xf(_,m,zc(jt(_.data),h,m),h,a,u,!1),bp}function xf(a,u,h,m,_,b,k,z){const ee=Xo(m),Ve=a.firstCreatePass&&Ju(a),yt=u[8],Jt=jc(u);let _n=!0;if(3&m.type||z){const Li=Vn(m,u),tr=z?z(Li):Li,si=Jt.length,Ar=z?To=>z(pe(To[m.index])):m.index;if(Mr(h)){let To=null;if(!z&&ee&&(To=function Ug(a,u,h,m){const _=a.cleanup;if(null!=_)for(let b=0;b<_.length-1;b+=2){const k=_[b];if(k===h&&_[b+1]===m){const z=u[7],ee=_[b+2];return z.length>ee?z[ee]:null}"string"==typeof k&&(b+=2)}return null}(a,u,_,m.index)),null!==To)(To.__ngLastListenerFn__||To).__ngNextListenerFn__=b,To.__ngLastListenerFn__=b,_n=!1;else{b=Pf(m,u,yt,b,!1);const ss=h.listen(tr,_,b);Jt.push(b,ss),Ve&&Ve.push(_,Ar,si,si+1)}}else b=Pf(m,u,yt,b,!0),tr.addEventListener(_,b,k),Jt.push(b),Ve&&Ve.push(_,Ar,si,k)}else b=Pf(m,u,yt,b,!1);const Qn=m.outputs;let wi;if(_n&&null!==Qn&&(wi=Qn[_])){const Li=wi.length;if(Li)for(let tr=0;tr<Li;tr+=2){const hc=u[wi[tr]][wi[tr+1]].subscribe(b),im=Jt.length;Jt.push(b,hc),Ve&&Ve.push(_,m.index,im,-(im+1))}}}function td(a,u,h,m){try{return!1!==h(m)}catch(_){return $c(a,_),!1}}function Pf(a,u,h,m,_){return function b(k){if(k===Function)return m;const z=2&a.flags?Mi(a.index,u):u;0==(32&u[2])&&Uc(z);let ee=td(u,0,m,k),Re=b.__ngNextListenerFn__;for(;Re;)ee=td(u,0,Re,k)&&ee,Re=Re.__ngNextListenerFn__;return _&&!1===ee&&(k.preventDefault(),k.returnValue=!1),ee}}function Ep(a=1){return function Ur(a){return(Q.lFrame.contextLView=function Go(a,u){for(;a>0;)u=u[15],a--;return u}(a,Q.lFrame.contextLView))[8]}(a)}function Wg(a,u){let h=null;const m=function os(a){const u=a.attrs;if(null!=u){const h=u.indexOf(5);if(0==(1&h))return u[h+1]}return null}(a);for(let _=0;_<u.length;_++){const b=u[_];if("*"!==b){if(null===m?ng(a,b,!0):ig(m,b))return _}else h=_}return h}function Ff(a){const u=Yn()[16][6];if(!u.projection){const m=u.projection=Pi(a?a.length:1,null),_=m.slice();let b=u.child;for(;null!==b;){const k=a?Wg(b,a):0;null!==k&&(_[k]?_[k].projectionNext=b:m[k]=b,_[k]=b),b=b.next}}}function jg(a,u=0,h){const m=Yn(),_=Ri(),b=Vc(_,20+a,16,null,h||null);null===b.projection&&(b.projection=u),Ks(),64!=(64&b.flags)&&function Fv(a,u,h){dm(u[11],0,u,h,lm(a,h,u),jp(h.parent||u[6],h,u))}(_,m,b)}function Fd(a,u,h,m,_){const b=a[h+1],k=null===u;let z=m?ba(b):$u(b),ee=!1;for(;0!==z&&(!1===ee||k);){const Ve=a[z+1];gv(a[z],u)&&(ee=!0,a[z+1]=m?Lc(Ve):qh(Ve)),z=m?ba(Ve):$u(Ve)}ee&&(a[h+1]=m?qh(b):Lc(b))}function gv(a,u){return null===a||null==u||(Array.isArray(a)?a[1]:a)===u||!(!Array.isArray(a)||"string"!=typeof u)&&No(a,u)>=0}const ga={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _l(a){return a.substring(ga.key,ga.keyEnd)}function id(a,u){const h=ga.textEnd;return h===u?-1:(u=ga.keyEnd=function vv(a,u,h){for(;u<h&&a.charCodeAt(u)>32;)u++;return u}(a,ga.key=u,h),uc(a,u,h))}function uc(a,u,h){for(;u<h&&a.charCodeAt(u)<=32;)u++;return u}function Eh(a,u,h){return ea(a,u,h,!1),Eh}function Sp(a,u){return ea(a,u,null,!0),Sp}function au(a,u){for(let h=function ly(a){return function zg(a){ga.key=0,ga.keyEnd=0,ga.value=0,ga.valueEnd=0,ga.textEnd=a.length}(a),id(a,uc(a,0,ga.textEnd))}(u);h>=0;h=id(u,h))vs(a,_l(u),!0)}function ea(a,u,h,m){const _=Yn(),b=Ri(),k=N(2);b.firstUpdatePass&&wv(b,a,k,m),u!==Or&&fa(_,k,u)&&Sv(b,b.data[cr()],_,_[11],a,_[k+1]=function hy(a,u){return null==a||("string"==typeof u?a+=u:"object"==typeof a&&(a=Ce(La(a)))),a}(u,h),m,k)}function rd(a,u){return u>=a.expandoStartIndex}function wv(a,u,h,m){const _=a.data;if(null===_[h+1]){const b=_[cr()],k=rd(a,h);Rv(b,m)&&null===u&&!k&&(u=!1),u=function Kg(a,u,h,m){const _=jt(a);let b=m?u.residualClasses:u.residualStyles;if(null===_)0===(m?u.classBindings:u.styleBindings)&&(h=Rp(h=Yg(null,a,u,h,m),u.attrs,m),b=null);else{const k=u.directiveStylingLast;if(-1===k||a[k]!==_)if(h=Yg(_,a,u,h,m),null===b){let ee=function cy(a,u,h){const m=h?u.classBindings:u.styleBindings;if(0!==$u(m))return a[ba(m)]}(a,u,m);void 0!==ee&&Array.isArray(ee)&&(ee=Yg(null,a,u,ee[1],m),ee=Rp(ee,u.attrs,m),function Lf(a,u,h,m){a[ba(h?u.classBindings:u.styleBindings)]=m}(a,u,m,ee))}else b=function bv(a,u,h){let m;const _=u.directiveEnd;for(let b=1+u.directiveStylingLast;b<_;b++)m=Rp(m,a[b].hostAttrs,h);return Rp(m,u.attrs,h)}(a,u,m)}return void 0!==b&&(m?u.residualClasses=b:u.residualStyles=b),h}(_,b,u,m),function sy(a,u,h,m,_,b){let k=b?u.classBindings:u.styleBindings,z=ba(k),ee=$u(k);a[m]=h;let Ve,Re=!1;if(Array.isArray(h)){const yt=h;Ve=yt[1],(null===Ve||No(yt,Ve)>0)&&(Re=!0)}else Ve=h;if(_)if(0!==ee){const Jt=ba(a[z+1]);a[m+1]=Yl(Jt,z),0!==Jt&&(a[Jt+1]=sg(a[Jt+1],m)),a[z+1]=function vm(a,u){return 131071&a|u<<17}(a[z+1],m)}else a[m+1]=Yl(z,0),0!==z&&(a[z+1]=sg(a[z+1],m)),z=m;else a[m+1]=Yl(ee,0),0===z?z=m:a[ee+1]=sg(a[ee+1],m),ee=m;Re&&(a[m+1]=qh(a[m+1])),Fd(a,Ve,m,!0),Fd(a,Ve,m,!1),function fv(a,u,h,m,_){const b=_?a.residualClasses:a.residualStyles;null!=b&&"string"==typeof u&&No(b,u)>=0&&(h[m+1]=Lc(h[m+1]))}(u,Ve,a,m,b),k=Yl(z,ee),b?u.classBindings=k:u.styleBindings=k}(_,b,u,h,k,m)}}function Yg(a,u,h,m,_){let b=null;const k=h.directiveEnd;let z=h.directiveStylingLast;for(-1===z?z=h.directiveStart:z++;z<k&&(b=u[z],m=Rp(m,b.hostAttrs,_),b!==a);)z++;return null!==a&&(h.directiveStylingLast=z),m}function Rp(a,u,h){const m=h?1:2;let _=-1;if(null!==u)for(let b=0;b<u.length;b++){const k=u[b];"number"==typeof k?_=k:_===m&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),vs(a,k,!!h||u[++b]))}return void 0===a?null:a}function Sv(a,u,h,m,_,b,k,z){if(!(3&u.type))return;const ee=a.data,Re=ee[z+1];cc(function ag(a){return 1==(1&a)}(Re)?Ld(ee,u,h,_,$u(Re),k):void 0)||(cc(b)||function Zp(a){return 2==(2&a)}(Re)&&(b=Ld(ee,null,h,_,z,k)),function Mc(a,u,h,m,_){const b=Mr(a);if(u)_?b?a.addClass(h,m):h.classList.add(m):b?a.removeClass(h,m):h.classList.remove(m);else{let k=-1===m.indexOf("-")?void 0:Ln.DashCase;if(null==_)b?a.removeStyle(h,m,k):h.style.removeProperty(m);else{const z="string"==typeof _&&_.endsWith("!important");z&&(_=_.slice(0,-10),k|=Ln.Important),b?a.setStyle(h,m,_,k):h.style.setProperty(m,_,z?"important":"")}}}(m,k,On(cr(),h),_,b))}function Ld(a,u,h,m,_,b){const k=null===u;let z;for(;_>0;){const ee=a[_],Re=Array.isArray(ee),Ve=Re?ee[1]:ee,yt=null===Ve;let Jt=h[_+1];Jt===Or&&(Jt=yt?mn:void 0);let _n=yt?qr(Jt,m):Ve===m?Jt:void 0;if(Re&&!cc(_n)&&(_n=qr(ee,m)),cc(_n)&&(z=_n,k))return z;const Qn=a[_+1];_=k?ba(Qn):$u(Qn)}if(null!==u){let ee=b?u.residualClasses:u.residualStyles;null!=ee&&(z=qr(ee,m))}return z}function cc(a){return void 0!==a}function Rv(a,u){return 0!=(a.flags&(u?16:32))}function Dh(a,u=""){const h=Yn(),m=Ri(),_=a+20,b=m.firstCreatePass?Vc(m,_,1,u,null):m.data[_],k=h[_]=function Xs(a,u){return Mr(a)?a.createText(u):a.createTextNode(u)}(h[11],u);Yh(m,h,k,b),Wo(b,!1)}function Zg(a){return kf("",a,""),Zg}function kf(a,u,h){const m=Yn(),_=Pl(m,a,u,h);return _!==Or&&yl(m,cr(),_),kf}function p(a,u,h){!function Ll(a,u,h,m){const _=Ri(),b=N(2);_.firstUpdatePass&&wv(_,null,b,m);const k=Yn();if(h!==Or&&fa(k,b,h)){const z=_.data[cr()];if(Rv(z,m)&&!rd(_,b)){let ee=m?z.classesWithoutHost:z.stylesWithoutHost;null!==ee&&(h=Ee(ee,h||"")),mh(_,z,k,h,m)}else!function dy(a,u,h,m,_,b,k,z){_===Or&&(_=mn);let ee=0,Re=0,Ve=0<_.length?_[0]:null,yt=0<b.length?b[0]:null;for(;null!==Ve||null!==yt;){const Jt=ee<_.length?_[ee+1]:void 0,_n=Re<b.length?b[Re+1]:void 0;let wi,Qn=null;Ve===yt?(ee+=2,Re+=2,Jt!==_n&&(Qn=yt,wi=_n)):null===yt||null!==Ve&&Ve<yt?(ee+=2,Qn=Ve):(Re+=2,Qn=yt,wi=_n),null!==Qn&&Sv(a,u,h,m,Qn,wi,k,z),Ve=ee<_.length?_[ee]:null,yt=Re<b.length?b[Re]:null}}(_,z,k,k[11],k[b+1],k[b+1]=function Ev(a,u,h){if(null==h||""===h)return mn;const m=[],_=La(h);if(Array.isArray(_))for(let b=0;b<_.length;b++)a(m,_[b],!0);else if("object"==typeof _)for(const b in _)_.hasOwnProperty(b)&&a(m,b,_[b]);else"string"==typeof _&&u(m,_);return m}(a,u,h),m,b)}}(vs,au,Pl(Yn(),a,u,h),!0)}function Sh(a,u,h){const m=Yn();return fa(m,Ie(),u)&&ul(Ri(),eo(),m,a,u,m[11],h,!0),Sh}function gy(a,u,h){const m=Yn();if(fa(m,Ie(),u)){const b=Ri(),k=eo();ul(b,k,m,a,u,zc(jt(b.data),k,m),h,!0)}return gy}const Tp=void 0;var i_=["en",[["a","p"],["AM","PM"],Tp],[["AM","PM"],Tp,Tp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tp,"{1} 'at' {0}",Tp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function n_(a){const h=Math.floor(Math.abs(a)),m=a.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===m?1:5}];let Rh={};function my(a){const u=function o_(a){return a.toLowerCase().replace(/_/g,"-")}(a);let h=Vy(u);if(h)return h;const m=u.split("-")[0];if(h=Vy(m),h)return h;if("en"===m)return i_;throw new Error(`Missing locale data for the locale "${a}".`)}function Gy(a){return my(a)[sr.PluralCase]}function Vy(a){return a in Rh||(Rh[a]=ei.ng&&ei.ng.common&&ei.ng.common.locales&&ei.ng.common.locales[a]),Rh[a]}var sr=(()=>((sr=sr||{})[sr.LocaleId=0]="LocaleId",sr[sr.DayPeriodsFormat=1]="DayPeriodsFormat",sr[sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",sr[sr.DaysFormat=3]="DaysFormat",sr[sr.DaysStandalone=4]="DaysStandalone",sr[sr.MonthsFormat=5]="MonthsFormat",sr[sr.MonthsStandalone=6]="MonthsStandalone",sr[sr.Eras=7]="Eras",sr[sr.FirstDayOfWeek=8]="FirstDayOfWeek",sr[sr.WeekendRange=9]="WeekendRange",sr[sr.DateFormat=10]="DateFormat",sr[sr.TimeFormat=11]="TimeFormat",sr[sr.DateTimeFormat=12]="DateTimeFormat",sr[sr.NumberSymbols=13]="NumberSymbols",sr[sr.NumberFormats=14]="NumberFormats",sr[sr.CurrencyCode=15]="CurrencyCode",sr[sr.CurrencySymbol=16]="CurrencySymbol",sr[sr.CurrencyName=17]="CurrencyName",sr[sr.Currencies=18]="Currencies",sr[sr.Directionality=19]="Directionality",sr[sr.PluralCase=20]="PluralCase",sr[sr.ExtraData=21]="ExtraData",sr))();const Qg="en-US";let Ap=Qg;function p_(a,u,h,m,_){if(a=we(a),Array.isArray(a))for(let b=0;b<a.length;b++)p_(a[b],u,h,m,_);else{const b=Ri(),k=Yn();let z=Kc(a)?a:we(a.provide),ee=Ag(a);const Re=Oo(),Ve=1048575&Re.providerIndexes,yt=Re.directiveStart,Jt=Re.providerIndexes>>20;if(Kc(a)||!a.multi){const _n=new po(ee,_,_p),Qn=g_(z,u,_?Ve:Ve+Jt,yt);-1===Qn?(Ii(Ye(Re,k),b,z),f_(b,a,u.length),u.push(z),Re.directiveStart++,Re.directiveEnd++,_&&(Re.providerIndexes+=1048576),h.push(_n),k.push(_n)):(h[Qn]=_n,k[Qn]=_n)}else{const _n=g_(z,u,Ve+Jt,yt),Qn=g_(z,u,Ve,Ve+Jt),wi=_n>=0&&h[_n],Li=Qn>=0&&h[Qn];if(_&&!Li||!_&&!wi){Ii(Ye(Re,k),b,z);const tr=function lb(a,u,h,m,_){const b=new po(a,h,_p);return b.multi=[],b.index=u,b.componentProviders=0,fC(b,_,m&&!h),b}(_?ab:sb,h.length,_,m,ee);!_&&Li&&(h[Qn].providerFactory=tr),f_(b,a,u.length,0),u.push(z),Re.directiveStart++,Re.directiveEnd++,_&&(Re.providerIndexes+=1048576),h.push(tr),k.push(tr)}else f_(b,a,_n>-1?_n:Qn,fC(h[_?Qn:_n],ee,!_&&m));!_&&m&&Li&&h[Qn].componentProviders++}}}function f_(a,u,h,m){const _=Kc(u),b=function Ig(a){return!!a.useClass}(u);if(_||b){const ee=(b?we(u.useClass):u).prototype.ngOnDestroy;if(ee){const Re=a.destroyHooks||(a.destroyHooks=[]);if(!_&&u.multi){const Ve=Re.indexOf(h);-1===Ve?Re.push(h,[m,ee]):Re[Ve+1].push(m,ee)}else Re.push(h,ee)}}}function fC(a,u,h){return h&&a.componentProviders++,a.multi.push(u)-1}function g_(a,u,h,m){for(let _=h;_<m;_++)if(u[_]===a)return _;return-1}function sb(a,u,h,m){return m_(this.multi,[])}function ab(a,u,h,m){const _=this.multi;let b;if(this.providerFactory){const k=this.providerFactory.componentProviders,z=us(h,h[1],this.providerFactory.index,m);b=z.slice(0,k),m_(_,b);for(let ee=k;ee<z.length;ee++)b.push(z[ee])}else b=[],m_(_,b);return b}function m_(a,u){for(let h=0;h<a.length;h++)u.push((0,a[h])());return u}function gC(a,u=[]){return h=>{h.providersResolver=(m,_)=>function ob(a,u,h){const m=Ri();if(m.firstCreatePass){const _=vr(a);p_(h,m.data,m.blueprint,_,!0),p_(u,m.data,m.blueprint,_,!1)}}(m,_?_(a):a,u)}}class mC{}class db{resolveComponentFactory(u){throw function cb(a){const u=Error(`No component factory found for ${Ce(a)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=a,u}(u)}}let $y=(()=>{class a{}return a.NULL=new db,a})();function hb(){return Ov(Oo(),Yn())}function Ov(a,u){return new Cy(Vn(a,u))}let Cy=(()=>{class a{constructor(h){this.nativeElement=h}}return a.__NG_ELEMENT_ID__=hb,a})();function pb(a){return a instanceof Cy?a.nativeElement:a}class yC{}let fb=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function mb(){const a=Yn(),h=Mi(Oo().index,a);return function gb(a){return a[11]}(nr(h)?h:a)}(),a})(),vb=(()=>{class a{}return a.\u0275prov=gn({token:a,providedIn:"root",factory:()=>null}),a})();class _C{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const CC=new _C("13.3.5"),v_={};function Ky(a,u,h,m,_=!1){for(;null!==h;){const b=u[h.index];if(null!==b&&m.push(pe(b)),hr(b))for(let z=10;z<b.length;z++){const ee=b[z],Re=ee[1].firstChild;null!==Re&&Ky(ee[1],ee,Re,m)}const k=h.type;if(8&k)Ky(a,u,h.child,m);else if(32&k){const z=zi(h,u);let ee;for(;ee=z();)m.push(ee)}else if(16&k){const z=ju(u,h);if(Array.isArray(z))m.push(...z);else{const ee=rs(u[16]);Ky(ee[1],ee,z,m,!0)}}h=_?h.projectionNext:h.next}return m}class wy{constructor(u,h){this._lView=u,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,h=u[1];return Ky(h,u,h.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(hr(u)){const h=u[8],m=h?h.indexOf(this):-1;m>-1&&($h(u,m),jn(h,m))}this._attachedToViewContainer=!1}Wp(this._lView[1],this._lView)}onDestroy(u){vg(this._lView[1],this._lView,null,u)}markForCheck(){Uc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Dg(a,u,h){Yo(!0);try{Wc(a,u,h)}finally{Yo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new st(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wu(a,u){Zh(a,u,u[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new st(902,"");this._appRef=u}}class yb extends wy{constructor(u){super(u),this._view=u}detectChanges(){Eg(this._view)}checkNoChanges(){!function Mm(a){Yo(!0);try{Eg(a)}finally{Yo(!1)}}(this._view)}get context(){return null}}class wC extends $y{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const h=wt(u);return new y_(h,this.ngModule)}}function bC(a){const u=[];for(let h in a)a.hasOwnProperty(h)&&u.push({propName:a[h],templateName:h});return u}class y_ extends mC{constructor(u,h){super(),this.componentDef=u,this.ngModule=h,this.componentType=u.type,this.selector=function Jd(a){return a.map(Fc).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!h}get inputs(){return bC(this.componentDef.inputs)}get outputs(){return bC(this.componentDef.outputs)}create(u,h,m,_){const b=(_=_||this.ngModule)?function Cb(a,u){return{get:(h,m,_)=>{const b=a.get(h,v_,_);return b!==v_||m===v_?b:u.get(h,m,_)}}}(u,_.injector):u,k=b.get(yC,fe),z=b.get(vb,null),ee=k.createRenderer(null,this.componentDef),Re=this.componentDef.selectors[0][0]||"div",Ve=m?function ip(a,u,h){if(Mr(a))return a.selectRootElement(u,h===Ft.ShadowDom);let m="string"==typeof u?a.querySelector(u):u;return m.textContent="",m}(ee,m,this.componentDef.encapsulation):zl(k.createRenderer(null,this.componentDef),Re,function _b(a){const u=a.toLowerCase();return"svg"===u?"svg":"math"===u?"math":null}(Re)),yt=this.componentDef.onPush?576:528,Jt=function $m(a,u){return{components:[],scheduler:a||Hp,clean:ap,playerHandler:u||null,flags:0}}(),_n=Au(0,null,null,1,0,null,null,null,null,null),Qn=ep(null,_n,Jt,yt,null,null,k,ee,z,b);let wi,Li;Ki(Qn);try{const tr=function zm(a,u,h,m,_,b){const k=h[1];h[20]=a;const ee=Vc(k,20,2,"#host",null),Re=ee.mergedAttrs=u.hostAttrs;null!==Re&&(ec(ee,Re,!0),null!==a&&(fs(_,a,Re),null!==ee.classes&&Kp(_,a,ee.classes),null!==ee.styles&&xc(_,a,ee.styles)));const Ve=m.createRenderer(a,u),yt=ep(h,lo(u),null,u.onPush?64:16,h[20],ee,m,Ve,b||null,null);return k.firstCreatePass&&(Ii(Ye(ee,h),k,u.type),Xu(k,ee),nf(ee,h.length,1)),ah(h,yt),h[20]=yt}(Ve,this.componentDef,Qn,k,ee);if(Ve)if(m)fs(ee,Ve,["ng-version",CC.full]);else{const{attrs:si,classes:Ar}=function rg(a){const u=[],h=[];let m=1,_=2;for(;m<a.length;){let b=a[m];if("string"==typeof b)2===_?""!==b&&u.push(b,a[++m]):8===_&&h.push(b);else{if(!ll(_))break;_=b}m++}return{attrs:u,classes:h}}(this.componentDef.selectors[0]);si&&fs(ee,Ve,si),Ar&&Ar.length>0&&Kp(ee,Ve,Ar.join(" "))}if(Li=Kr(_n,20),void 0!==h){const si=Li.projection=[];for(let Ar=0;Ar<this.ngContentSelectors.length;Ar++){const To=h[Ar];si.push(null!=To?Array.from(To):null)}}wi=function gp(a,u,h,m,_){const b=h[1],k=function Qu(a,u,h){const m=Oo();a.firstCreatePass&&(h.providersResolver&&h.providersResolver(h),_d(a,m,u,gd(a,u,1,null),h));const _=us(u,a,m.directiveStart,m);ua(_,u);const b=Vn(m,u);return b&&ua(b,u),_}(b,h,u);if(m.components.push(k),a[8]=k,_&&_.forEach(ee=>ee(k,u)),u.contentQueries){const ee=Oo();u.contentQueries(1,k,ee.directiveStart)}const z=Oo();return!b.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(Ds(z.index),sp(h[1],z,0,z.directiveStart,z.directiveEnd,u),yd(u,k)),k}(tr,this.componentDef,Qn,Jt,[fh]),md(_n,Qn,null)}finally{yr()}return new bb(this.componentType,wi,Ov(Li,Qn),Qn,Li)}}class bb extends class ub{}{constructor(u,h,m,_,b){super(),this.location=m,this._rootLView=_,this._tNode=b,this.instance=h,this.hostView=this.changeDetectorRef=new yb(_),this.componentType=u}get injector(){return new Ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}class Mv{}class EC{}const xv=new Map;class RC extends Mv{constructor(u,h){super(),this._parent=h,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wC(this);const m=vi(u);this._bootstrapComponents=w(m.bootstrap),this._r3Injector=Rg(u,h,[{provide:Mv,useValue:this},{provide:$y,useValue:this.componentFactoryResolver}],Ce(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,h=dl.THROW_IF_NOT_FOUND,m=Dn.Default){return u===dl||u===Mv||u===uh?this:this._r3Injector.get(u,h,m)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class __ extends EC{constructor(u){super(),this.moduleType=u,null!==vi(u)&&function Db(a){const u=new Set;!function h(m){const _=vi(m,!0),b=_.id;null!==b&&(function DC(a,u,h){if(u&&u!==h)throw new Error(`Duplicate module registered for ${a} - ${Ce(u)} vs ${Ce(u.name)}`)}(b,xv.get(b),m),xv.set(b,m));const k=w(_.imports);for(const z of k)u.has(z)||(u.add(z),h(z))}(a)}(u)}create(u){return new RC(this.moduleType,u)}}function TC(a,u,h,m){return IC(Yn(),ao(),a,u,h,m)}function AC(a,u,h,m,_){return OC(Yn(),ao(),a,u,h,m,_)}function by(a,u){const h=a[u];return h===Or?void 0:h}function IC(a,u,h,m,_,b){const k=u+h;return fa(a,k,_)?pa(a,k+1,b?m.call(b,_):m(_)):by(a,k+1)}function OC(a,u,h,m,_,b,k){const z=u+h;return function Zc(a,u,h,m){const _=fa(a,u,h);return fa(a,u+1,m)||_}(a,z,_,b)?pa(a,z+2,k?m.call(k,_,b):m(_,b)):by(a,z+2)}function FC(a,u){const h=Ri();let m;const _=a+20;h.firstCreatePass?(m=function Pb(a,u){if(u)for(let h=u.length-1;h>=0;h--){const m=u[h];if(a===m.name)return m}}(u,h.pipeRegistry),h.data[_]=m,m.onDestroy&&(h.destroyHooks||(h.destroyHooks=[])).push(_,m.onDestroy)):m=h.data[_];const b=m.factory||(m.factory=xo(m.type)),k=Ae(_p);try{const z=Da(!1),ee=b();return Da(z),function Jv(a,u,h,m){h>=a.data.length&&(a.data[h]=null,a.blueprint[h]=null),u[h]=m}(h,Yn(),_,ee),ee}finally{Ae(k)}}function NC(a,u,h){const m=a+20,_=Yn(),b=Pr(_,m);return Ey(_,m)?IC(_,ao(),u,b.transform,h,b):b.transform(h)}function LC(a,u,h,m){const _=a+20,b=Yn(),k=Pr(b,_);return Ey(b,_)?OC(b,ao(),u,k.transform,h,m,k):k.transform(h,m)}function Ey(a,u){return a[1].data[u].pure}function C_(a){return u=>{setTimeout(a,void 0,u)}}const Ah=class kb extends v.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,h,m){var _,b,k;let z=u,ee=h||(()=>null),Re=m;if(u&&"object"==typeof u){const yt=u;z=null===(_=yt.next)||void 0===_?void 0:_.bind(yt),ee=null===(b=yt.error)||void 0===b?void 0:b.bind(yt),Re=null===(k=yt.complete)||void 0===k?void 0:k.bind(yt)}this.__isAsync&&(ee=C_(ee),z&&(z=C_(z)),Re&&(Re=C_(Re)));const Ve=super.subscribe({next:z,error:ee,complete:Re});return u instanceof V.w0&&u.add(Ve),Ve}};function Bb(){return this._results[eu()]()}class Yy{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=eu(),m=Yy.prototype;m[h]||(m[h]=Bb)}get changes(){return this._changes||(this._changes=new Ah)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,h){return this._results.reduce(u,h)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,h){const m=this;m.dirty=!1;const _=X(u);(this._changesDetected=!function T(a,u,h){if(a.length!==u.length)return!1;for(let m=0;m<a.length;m++){let _=a[m],b=u[m];if(h&&(_=h(_),b=h(b)),b!==_)return!1}return!0}(m._results,_,h))&&(m._results=_,m.length=_.length,m.last=_[this.length-1],m.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Dy=(()=>{class a{}return a.__NG_ELEMENT_ID__=Hb,a})();const Gb=Dy,Vb=class extends Gb{constructor(u,h,m){super(),this._declarationLView=u,this._declarationTContainer=h,this.elementRef=m}createEmbeddedView(u){const h=this._declarationTContainer.tViews,m=ep(this._declarationLView,h,u,16,null,h.declTNode,null,null,null,null);m[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(m[19]=b.createEmbeddedView(h)),md(h,m,u),new wy(m)}};function Hb(){return Zy(Oo(),Yn())}function Zy(a,u){return 4&a.type?new Vb(u,a,Ov(a,u)):null}let qy=(()=>{class a{}return a.__NG_ELEMENT_ID__=Ub,a})();function Ub(){return GC(Oo(),Yn())}const Wb=qy,kC=class extends Wb{constructor(u,h,m){super(),this._lContainer=u,this._hostTNode=h,this._hostLView=m}get element(){return Ov(this._hostTNode,this._hostLView)}get injector(){return new Ys(this._hostTNode,this._hostLView)}get parentInjector(){const u=Pn(this._hostTNode,this._hostLView);if(bi(u)){const h=fo(u,this._hostLView),m=vn(u);return new Ys(h[1].data[m+8],h)}return new Ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const h=BC(this._lContainer);return null!==h&&h[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,h,m){const _=u.createEmbeddedView(h||{});return this.insert(_,m),_}createComponent(u,h,m,_,b){const k=u&&!function Y(a){return"function"==typeof a}(u);let z;if(k)z=h;else{const yt=h||{};z=yt.index,m=yt.injector,_=yt.projectableNodes,b=yt.ngModuleRef}const ee=k?u:new y_(wt(u)),Re=m||this.parentInjector;if(!b&&null==ee.ngModule){const Jt=(k?Re:this.parentInjector).get(Mv,null);Jt&&(b=Jt)}const Ve=ee.create(Re,_,void 0,b);return this.insert(Ve.hostView,z),Ve}insert(u,h){const m=u._lView,_=m[1];if(function Fr(a){return hr(a[3])}(m)){const Ve=this.indexOf(u);if(-1!==Ve)this.detach(Ve);else{const yt=m[3],Jt=new kC(yt,yt[6],yt[3]);Jt.detach(Jt.indexOf(u))}}const b=this._adjustIndex(h),k=this._lContainer;!function Qf(a,u,h,m){const _=10+m,b=h.length;m>0&&(h[_-1][4]=u),m<b-10?(u[4]=h[_],Ht(h,10+m,u)):(h.push(u),u[4]=null),u[3]=h;const k=u[17];null!==k&&h!==k&&function sm(a,u){const h=a[9];u[16]!==u[3][3][16]&&(a[2]=!0),null===h?a[9]=[u]:h.push(u)}(k,u);const z=u[19];null!==z&&z.insertView(a),u[2]|=128}(_,m,k,b);const z=zu(b,k),ee=m[11],Re=Ru(ee,k[7]);return null!==Re&&function Uu(a,u,h,m,_,b){m[0]=_,m[6]=u,Zh(a,m,h,1,_,b)}(_,k[6],ee,m,Re,z),u.attachToViewContainerRef(),Ht(w_(k),b,u),u}move(u,h){return this.insert(u,h)}indexOf(u){const h=BC(this._lContainer);return null!==h?h.indexOf(u):-1}remove(u){const h=this._adjustIndex(u,-1),m=$h(this._lContainer,h);m&&(jn(w_(this._lContainer),h),Wp(m[1],m))}detach(u){const h=this._adjustIndex(u,-1),m=$h(this._lContainer,h);return m&&null!=jn(w_(this._lContainer),h)?new wy(m):null}_adjustIndex(u,h=0){return null==u?this.length+h:u}};function BC(a){return a[8]}function w_(a){return a[8]||(a[8]=[])}function GC(a,u){let h;const m=u[a.index];if(hr(m))h=m;else{let _;if(8&a.type)_=pe(m);else{const b=u[11];_=b.createComment("");const k=Vn(a,u);Du(b,Ru(b,k),_,function um(a,u){return Mr(a)?a.nextSibling(u):u.nextSibling}(b,k),!1)}u[a.index]=h=Xl(m,u,_,a),ah(u,h)}return new kC(h,a,u)}class b_{constructor(u){this.queryList=u,this.matches=null}clone(){return new b_(this.queryList)}setDirty(){this.queryList.setDirty()}}class E_{constructor(u=[]){this.queries=u}createEmbeddedView(u){const h=u.queries;if(null!==h){const m=null!==u.contentQueries?u.contentQueries[0]:h.length,_=[];for(let b=0;b<m;b++){const k=h.getByIndex(b);_.push(this.queries[k.indexInDeclarationView].clone())}return new E_(_)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let h=0;h<this.queries.length;h++)null!==YC(u,h).matches&&this.queries[h].setDirty()}}class VC{constructor(u,h,m=null){this.predicate=u,this.flags=h,this.read=m}}class D_{constructor(u=[]){this.queries=u}elementStart(u,h){for(let m=0;m<this.queries.length;m++)this.queries[m].elementStart(u,h)}elementEnd(u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(u)}embeddedTView(u){let h=null;for(let m=0;m<this.length;m++){const _=null!==h?h.length:0,b=this.getByIndex(m).embeddedTView(u,_);b&&(b.indexInDeclarationView=m,null!==h?h.push(b):h=[b])}return null!==h?new D_(h):null}template(u,h){for(let m=0;m<this.queries.length;m++)this.queries[m].template(u,h)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class S_{constructor(u,h=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(u,h){this.isApplyingToNode(h)&&this.matchTNode(u,h)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,h){this.elementStart(u,h)}embeddedTView(u,h){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,h),new S_(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let m=u.parent;for(;null!==m&&8&m.type&&m.index!==h;)m=m.parent;return h===(null!==m?m.index:-1)}return this._appliesToNextNode}matchTNode(u,h){const m=this.metadata.predicate;if(Array.isArray(m))for(let _=0;_<m.length;_++){const b=m[_];this.matchTNodeWithReadOption(u,h,$b(h,b)),this.matchTNodeWithReadOption(u,h,hl(h,u,b,!1,!1))}else m===Dy?4&h.type&&this.matchTNodeWithReadOption(u,h,-1):this.matchTNodeWithReadOption(u,h,hl(h,u,m,!1,!1))}matchTNodeWithReadOption(u,h,m){if(null!==m){const _=this.metadata.read;if(null!==_)if(_===Cy||_===qy||_===Dy&&4&h.type)this.addMatch(h.index,-2);else{const b=hl(h,u,_,!1,!1);null!==b&&this.addMatch(h.index,b)}else this.addMatch(h.index,m)}}addMatch(u,h){null===this.matches?this.matches=[u,h]:this.matches.push(u,h)}}function $b(a,u){const h=a.localNames;if(null!==h)for(let m=0;m<h.length;m+=2)if(h[m]===u)return h[m+1];return null}function Yb(a,u,h,m){return-1===h?function Kb(a,u){return 11&a.type?Ov(a,u):4&a.type?Zy(a,u):null}(u,a):-2===h?function Zb(a,u,h){return h===Cy?Ov(u,a):h===Dy?Zy(u,a):h===qy?GC(u,a):void 0}(a,u,m):us(a,a[1],h,u)}function HC(a,u,h,m){const _=u[19].queries[m];if(null===_.matches){const b=a.data,k=h.matches,z=[];for(let ee=0;ee<k.length;ee+=2){const Re=k[ee];z.push(Re<0?null:Yb(u,b[Re],k[ee+1],h.metadata.read))}_.matches=z}return _.matches}function R_(a,u,h,m){const _=a.queries.getByIndex(h),b=_.matches;if(null!==b){const k=HC(a,u,_,h);for(let z=0;z<b.length;z+=2){const ee=b[z];if(ee>0)m.push(k[z/2]);else{const Re=b[z+1],Ve=u[-ee];for(let yt=10;yt<Ve.length;yt++){const Jt=Ve[yt];Jt[17]===Jt[3]&&R_(Jt[1],Jt,Re,m)}if(null!==Ve[9]){const yt=Ve[9];for(let Jt=0;Jt<yt.length;Jt++){const _n=yt[Jt];R_(_n[1],_n,Re,m)}}}}}return m}function UC(a){const u=Yn(),h=Ri(),m=pn();Fn(m+1);const _=YC(h,m);if(a.dirty&&br(u)===(2==(2&_.metadata.flags))){if(null===_.matches)a.reset([]);else{const b=_.crossesNgTemplate?R_(h,u,m,[]):HC(h,u,_,m);a.reset(b,pb),a.notifyOnChanges()}return!0}return!1}function WC(a,u,h){const m=Ri();m.firstCreatePass&&(KC(m,new VC(a,u,h),-1),2==(2&u)&&(m.staticViewQueries=!0)),$C(m,Yn(),u)}function jC(a,u,h,m){const _=Ri();if(_.firstCreatePass){const b=Oo();KC(_,new VC(u,h,m),b.index),function Qb(a,u){const h=a.contentQueries||(a.contentQueries=[]);u!==(h.length?h[h.length-1]:-1)&&h.push(a.queries.length-1,u)}(_,a),2==(2&h)&&(_.staticContentQueries=!0)}$C(_,Yn(),h)}function zC(){return function qb(a,u){return a[19].queries[u].queryList}(Yn(),pn())}function $C(a,u,h){const m=new Yy(4==(4&h));vg(a,u,m,m.destroy),null===u[19]&&(u[19]=new E_),u[19].queries.push(new b_(m))}function KC(a,u,h){null===a.queries&&(a.queries=new D_),a.queries.track(new S_(u,h))}function YC(a,u){return a.queries.getByIndex(u)}const gE=bl("Input",a=>({bindingPropertyName:a})),mE=bl("Output",a=>({bindingPropertyName:a}));function Jy(...a){}const dw=new bo("Application Initializer");let x_=(()=>{class a{constructor(h){this.appInits=h,this.resolve=Jy,this.reject=Jy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((m,_)=>{this.resolve=m,this.reject=_})}runInitializers(){if(this.initialized)return;const h=[],m=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let _=0;_<this.appInits.length;_++){const b=this.appInits[_]();if(yh(b))h.push(b);else if(hv(b)){const k=new Promise((z,ee)=>{b.subscribe({complete:z,error:ee})});h.push(k)}}Promise.all(h).then(()=>{m()}).catch(_=>{this.reject(_)}),0===h.length&&m(),this.initialized=!0}}return a.\u0275fac=function(h){return new(h||a)(mr(dw,8))},a.\u0275prov=gn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const hw=new bo("AppId",{providedIn:"root",factory:function pw(){return`${P_()}${P_()}${P_()}`}});function P_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fw=new bo("Platform Initializer"),vE=new bo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gw=new bo("appBootstrapListener");let yE=(()=>{class a{log(h){console.log(h)}warn(h){console.warn(h)}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=gn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const F_=new bo("LocaleId",{providedIn:"root",factory:()=>Dl(F_,Dn.Optional|Dn.SkipSelf)||function _E(){return"undefined"!=typeof $localize&&$localize.locale||Qg}()}),CE=new bo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wE{constructor(u,h){this.ngModuleFactory=u,this.componentFactories=h}}let bE=(()=>{class a{compileModuleSync(h){return new __(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const m=this.compileModuleSync(h),b=w(vi(h).declarations).reduce((k,z)=>{const ee=wt(z);return ee&&k.push(new y_(ee)),k},[]);return new wE(m,b)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=gn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const DE=(()=>Promise.resolve(0))();function N_(a){"undefined"==typeof Zone?DE.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class kd{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:m=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ah(!1),this.onMicrotaskEmpty=new Ah(!1),this.onStable=new Ah(!1),this.onError=new Ah(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!m&&h,_.shouldCoalesceRunChangeDetection=m,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function SE(){let a=ei.requestAnimationFrame,u=ei.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&u){const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h);const m=u[Zone.__symbol__("OriginalDelegate")];m&&(u=m)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function AE(a){const u=()=>{!function TE(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(ei,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,k_(a),a.isCheckStableRunning=!0,L_(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),k_(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,m,_,b,k,z)=>{try{return mw(a),h.invokeTask(_,b,k,z)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||a.shouldCoalesceRunChangeDetection)&&u(),vw(a)}},onInvoke:(h,m,_,b,k,z,ee)=>{try{return mw(a),h.invoke(_,b,k,z,ee)}finally{a.shouldCoalesceRunChangeDetection&&u(),vw(a)}},onHasTask:(h,m,_,b)=>{h.hasTask(_,b),m===_&&("microTask"==b.change?(a._hasPendingMicrotasks=b.microTask,k_(a),L_(a)):"macroTask"==b.change&&(a.hasPendingMacrotasks=b.macroTask))},onHandleError:(h,m,_,b)=>(h.handleError(_,b),a.runOutsideAngular(()=>a.onError.emit(b)),!1)})}(_)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(kd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,h,m){return this._inner.run(u,h,m)}runTask(u,h,m,_){const b=this._inner,k=b.scheduleEventTask("NgZoneEvent: "+_,u,RE,Jy,Jy);try{return b.runTask(k,h,m)}finally{b.cancelTask(k)}}runGuarded(u,h,m){return this._inner.runGuarded(u,h,m)}runOutsideAngular(u){return this._outer.run(u)}}const RE={};function L_(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function k_(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function mw(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function vw(a){a._nesting--,L_(a)}class IE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ah,this.onMicrotaskEmpty=new Ah,this.onStable=new Ah,this.onError=new Ah}run(u,h,m){return u.apply(h,m)}runGuarded(u,h,m){return u.apply(h,m)}runOutsideAngular(u){return u()}runTask(u,h,m,_){return u.apply(h,m)}}let yw=(()=>{class a{constructor(h){this._ngZone=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kd.assertNotInAngularZone(),N_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())N_(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(m=>!m.updateCb||!m.updateCb(h)||(clearTimeout(m.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,m,_){let b=-1;m&&m>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(k=>k.timeoutId!==b),h(this._didWork,this.getPendingTasks())},m)),this._callbacks.push({doneCb:h,timeoutId:b,updateCb:_})}whenStable(h,m,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,m,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(h,m,_){return[]}}return a.\u0275fac=function(h){return new(h||a)(mr(kd))},a.\u0275prov=gn({token:a,factory:a.\u0275fac}),a})(),OE=(()=>{class a{constructor(){this._applications=new Map,B_.addToWindow(this)}registerApplication(h,m){this._applications.set(h,m)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,m=!0){return B_.findTestabilityInTree(this,h,m)}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=gn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class ME{addToWindow(u){}findTestabilityInTree(u,h,m){return null}}function xE(a){B_=a}let B_=new ME,tm=null;const _w=new bo("AllowMultipleToken"),Cw=new bo("PlatformOnDestroy");class NE{constructor(u,h){this.name=u,this.token=h}}function ww(a,u,h=[]){const m=`Platform: ${u}`,_=new bo(m);return(b=[])=>{let k=G_();if(!k||k.injector.get(_w,!1)){const z=[...h,...b,{provide:_,useValue:!0}];a?a(z):function LE(a){if(tm&&!tm.get(_w,!1))throw new st(400,"");tm=a;const u=a.get(bw),h=a.get(fw,null);h&&h.forEach(m=>m())}(function BE(a=[],u){return dl.create({name:u,providers:[{provide:up,useValue:"platform"},{provide:Cw,useValue:()=>tm=null},...a]})}(z,m))}return function kE(a){const u=G_();if(!u)throw new st(401,"");return u}()}}function G_(){var a;return null!==(a=null==tm?void 0:tm.get(bw))&&void 0!==a?a:null}let bw=(()=>{class a{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,m){const z=function GE(a,u){let h;return h="noop"===a?new IE:("zone.js"===a?void 0:a)||new kd({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),h}(m?m.ngZone:void 0,{ngZoneEventCoalescing:m&&m.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:m&&m.ngZoneRunCoalescing||!1}),ee=[{provide:kd,useValue:z}];return z.run(()=>{const Re=dl.create({providers:ee,parent:this.injector,name:h.moduleType.name}),Ve=h.create(Re),yt=Ve.injector.get(is,null);if(!yt)throw new st(402,"");return z.runOutsideAngular(()=>{const Jt=z.onError.subscribe({next:_n=>{yt.handleError(_n)}});Ve.onDestroy(()=>{H_(this._modules,Ve),Jt.unsubscribe()})}),function VE(a,u,h){try{const m=h();return yh(m)?m.catch(_=>{throw u.runOutsideAngular(()=>a.handleError(_)),_}):m}catch(m){throw u.runOutsideAngular(()=>a.handleError(m)),m}}(yt,z,()=>{const Jt=Ve.injector.get(x_);return Jt.runInitializers(),Jt.donePromise.then(()=>(function Wy(a){Mt(a,"Expected localeId to be defined"),"string"==typeof a&&(Ap=a.toLowerCase().replace(/_/g,"-"))}(Ve.injector.get(F_,Qg)||Qg),this._moduleDoBootstrap(Ve),Ve))})})}bootstrapModule(h,m=[]){const _=Ew({},m);return function PE(a,u,h){const m=new __(h);return Promise.resolve(m)}(0,0,h).then(b=>this.bootstrapModuleFactory(b,_))}_moduleDoBootstrap(h){const m=h.injector.get(V_);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(_=>m.bootstrap(_));else{if(!h.instance.ngDoBootstrap)throw new st(403,"");h.instance.ngDoBootstrap(m)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new st(404,"");this._modules.slice().forEach(m=>m.destroy()),this._destroyListeners.forEach(m=>m());const h=this._injector.get(Cw,null);null==h||h(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(h){return new(h||a)(mr(dl))},a.\u0275prov=gn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Ew(a,u){return Array.isArray(u)?u.reduce(Ew,a):Object.assign(Object.assign({},a),u)}let V_=(()=>{class a{constructor(h,m,_,b){this._zone=h,this._injector=m,this._exceptionHandler=_,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const k=new I.y(ee=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ee.next(this._stable),ee.complete()})}),z=new I.y(ee=>{let Re;this._zone.runOutsideAngular(()=>{Re=this._zone.onStable.subscribe(()=>{kd.assertNotInAngularZone(),N_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ee.next(!0))})})});const Ve=this._zone.onUnstable.subscribe(()=>{kd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ee.next(!1)}))});return()=>{Re.unsubscribe(),Ve.unsubscribe()}});this.isStable=(0,q.T)(k,z.pipe((0,g.B)()))}bootstrap(h,m){if(!this._initStatus.done)throw new st(405,"");let _;_=h instanceof mC?h:this._injector.get($y).resolveComponentFactory(h),this.componentTypes.push(_.componentType);const b=function FE(a){return a.isBoundToModule}(_)?void 0:this._injector.get(Mv),z=_.create(dl.NULL,[],m||_.selector,b),ee=z.location.nativeElement,Re=z.injector.get(yw,null),Ve=Re&&z.injector.get(OE);return Re&&Ve&&Ve.registerApplication(ee,Re),z.onDestroy(()=>{this.detachView(z.hostView),H_(this.components,z),Ve&&Ve.unregisterApplication(ee)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new st(101,"");try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const m=h;this._views.push(m),m.attachToAppRef(this)}detachView(h){const m=h;H_(this._views,m),m.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h),this._injector.get(gw,[]).concat(this._bootstrapListeners).forEach(_=>_(h))}ngOnDestroy(){this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(h){return new(h||a)(mr(kd),mr(dl),mr(is),mr(x_))},a.\u0275prov=gn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function H_(a,u){const h=a.indexOf(u);h>-1&&a.splice(h,1)}let Sw=!0,Rw=!1;function UE(){return Rw=!0,Sw}function WE(){if(Rw)throw new Error("Cannot enable prod mode after platform setup.");Sw=!1}let jE=(()=>{class a{}return a.__NG_ELEMENT_ID__=zE,a})();function zE(a){return function $E(a,u,h){if(Eo(a)&&!h){const m=Mi(a.index,u);return new wy(m,m)}return 47&a.type?new wy(u[16],u):null}(Oo(),Yn(),16==(16&a))}class Ow{constructor(){}supports(u){return Sd(u)}create(u){return new XE(u)}}const QE=(a,u)=>u;class XE{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||QE}forEachItem(u){let h;for(h=this._itHead;null!==h;h=h._next)u(h)}forEachOperation(u){let h=this._itHead,m=this._removalsHead,_=0,b=null;for(;h||m;){const k=!m||h&&h.currentIndex<xw(m,_,b)?h:m,z=xw(k,_,b),ee=k.currentIndex;if(k===m)_--,m=m._nextRemoved;else if(h=h._next,null==k.previousIndex)_++;else{b||(b=[]);const Re=z-_,Ve=ee-_;if(Re!=Ve){for(let Jt=0;Jt<Re;Jt++){const _n=Jt<b.length?b[Jt]:b[Jt]=0,Qn=_n+Jt;Ve<=Qn&&Qn<Re&&(b[Jt]=_n+1)}b[k.previousIndex]=Ve-Re}}z!==ee&&u(k,z,ee)}}forEachPreviousItem(u){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachMovedItem(u){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}forEachIdentityChange(u){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)u(h)}diff(u){if(null==u&&(u=[]),!Sd(u))throw new st(900,"");return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let _,b,k,h=this._itHead,m=!1;if(Array.isArray(u)){this.length=u.length;for(let z=0;z<this.length;z++)b=u[z],k=this._trackByFn(z,b),null!==h&&Object.is(h.trackById,k)?(m&&(h=this._verifyReinsertion(h,b,k,z)),Object.is(h.item,b)||this._addIdentityChange(h,b)):(h=this._mismatch(h,b,k,z),m=!0),h=h._next}else _=0,function Pg(a,u){if(Array.isArray(a))for(let h=0;h<a.length;h++)u(a[h]);else{const h=a[eu()]();let m;for(;!(m=h.next()).done;)u(m.value)}}(u,z=>{k=this._trackByFn(_,z),null!==h&&Object.is(h.trackById,k)?(m&&(h=this._verifyReinsertion(h,z,k,_)),Object.is(h.item,z)||this._addIdentityChange(h,z)):(h=this._mismatch(h,z,k,_),m=!0),h=h._next,_++}),this.length=_;return this._truncate(h),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,h,m,_){let b;return null===u?b=this._itTail:(b=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._reinsertAfter(u,b,_)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(m,_))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._moveAfter(u,b,_)):u=this._addAfter(new JE(h,m),b,_),u}_verifyReinsertion(u,h,m,_){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null);return null!==b?u=this._reinsertAfter(b,u._prev,_):u.currentIndex!=_&&(u.currentIndex=_,this._addToMoves(u,_)),u}_truncate(u){for(;null!==u;){const h=u._next;this._addToRemovals(this._unlink(u)),u=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,h,m){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const _=u._prevRemoved,b=u._nextRemoved;return null===_?this._removalsHead=b:_._nextRemoved=b,null===b?this._removalsTail=_:b._prevRemoved=_,this._insertAfter(u,h,m),this._addToMoves(u,m),u}_moveAfter(u,h,m){return this._unlink(u),this._insertAfter(u,h,m),this._addToMoves(u,m),u}_addAfter(u,h,m){return this._insertAfter(u,h,m),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,h,m){const _=null===h?this._itHead:h._next;return u._next=_,u._prev=h,null===_?this._itTail=u:_._prev=u,null===h?this._itHead=u:h._next=u,null===this._linkedRecords&&(this._linkedRecords=new Mw),this._linkedRecords.put(u),u.currentIndex=m,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const h=u._prev,m=u._next;return null===h?this._itHead=m:h._next=m,null===m?this._itTail=h:m._prev=h,u}_addToMoves(u,h){return u.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mw),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,h){return u.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class JE{constructor(u,h){this.item=u,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class e0{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,h){let m;for(m=this._head;null!==m;m=m._nextDup)if((null===h||h<=m.currentIndex)&&Object.is(m.trackById,u))return m;return null}remove(u){const h=u._prevDup,m=u._nextDup;return null===h?this._head=m:h._nextDup=m,null===m?this._tail=h:m._prevDup=h,null===this._head}}class Mw{constructor(){this.map=new Map}put(u){const h=u.trackById;let m=this.map.get(h);m||(m=new e0,this.map.set(h,m)),m.add(u)}get(u,h){const _=this.map.get(u);return _?_.get(u,h):null}remove(u){const h=u.trackById;return this.map.get(h).remove(u)&&this.map.delete(h),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xw(a,u,h){const m=a.previousIndex;if(null===m)return m;let _=0;return h&&m<h.length&&(_=h[m]),m+u+_}class Pw{constructor(){}supports(u){return u instanceof Map||Fg(u)}create(){return new t0}}class t0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let h;for(h=this._mapHead;null!==h;h=h._next)u(h)}forEachPreviousItem(u){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)u(h)}forEachChangedItem(u){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}diff(u){if(u){if(!(u instanceof Map||Fg(u)))throw new st(900,"")}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(u,(m,_)=>{if(h&&h.key===_)this._maybeAddToChanges(h,m),this._appendAfter=h,h=h._next;else{const b=this._getOrCreateRecordForKey(_,m);h=this._insertBeforeOrAppend(h,b)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let m=h;null!==m;m=m._nextRemoved)m===this._mapHead&&(this._mapHead=null),this._records.delete(m.key),m._nextRemoved=m._next,m.previousValue=m.currentValue,m.currentValue=null,m._prev=null,m._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,h){if(u){const m=u._prev;return h._next=u,h._prev=m,u._prev=h,m&&(m._next=h),u===this._mapHead&&(this._mapHead=h),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(u,h){if(this._records.has(u)){const _=this._records.get(u);this._maybeAddToChanges(_,h);const b=_._prev,k=_._next;return b&&(b._next=k),k&&(k._prev=b),_._next=null,_._prev=null,_}const m=new n0(u);return this._records.set(u,m),m.currentValue=h,this._addToAdditions(m),m}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,h){Object.is(h,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=h,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,h){u instanceof Map?u.forEach(h):Object.keys(u).forEach(m=>h(u[m],m))}}class n0{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fw(){return new $_([new Ow])}let $_=(()=>{class a{constructor(h){this.factories=h}static create(h,m){if(null!=m){const _=m.factories.slice();h=h.concat(_)}return new a(h)}static extend(h){return{provide:a,useFactory:m=>a.create(h,m||Fw()),deps:[[a,new gl,new Ka]]}}find(h){const m=this.factories.find(_=>_.supports(h));if(null!=m)return m;throw new st(901,"")}}return a.\u0275prov=gn({token:a,providedIn:"root",factory:Fw}),a})();function Nw(){return new K_([new Pw])}let K_=(()=>{class a{constructor(h){this.factories=h}static create(h,m){if(m){const _=m.factories.slice();h=h.concat(_)}return new a(h)}static extend(h){return{provide:a,useFactory:m=>a.create(h,m||Nw()),deps:[[a,new gl,new Ka]]}}find(h){const m=this.factories.find(b=>b.supports(h));if(m)return m;throw new st(901,"")}}return a.\u0275prov=gn({token:a,providedIn:"root",factory:Nw}),a})();const s0=ww(null,"core",[]);let a0=(()=>{class a{constructor(h){}}return a.\u0275fac=function(h){return new(h||a)(mr(V_))},a.\u0275mod=Et({type:a}),a.\u0275inj=Bt({}),a})()},3075:(Ot,B,R)=>{R.d(B,{Cf:()=>Je,F:()=>on,Fj:()=>Le,JJ:()=>Dn,JL:()=>ft,JU:()=>Ce,NI:()=>gi,UX:()=>br,Zs:()=>ns,_Y:()=>Xo,a5:()=>Pt,cw:()=>nt,kI:()=>Nt,sg:()=>wr,u:()=>Ao,wV:()=>Is});var v=R(5e3),V=R(9808),I=R(8996),q=R(4128),g=R(4004);let Ue=(()=>{class _e{constructor(Q,$e){this._renderer=Q,this._elementRef=$e,this.onChange=Mn=>{},this.onTouched=()=>{}}setProperty(Q,$e){this._renderer.setProperty(this._elementRef.nativeElement,Q,$e)}registerOnTouched(Q){this.onTouched=Q}registerOnChange(Q){this.onChange=Q}setDisabledState(Q){this.setProperty("disabled",Q)}}return _e.\u0275fac=function(Q){return new(Q||_e)(v.Y36(v.Qsj),v.Y36(v.SBq))},_e.\u0275dir=v.lG2({type:_e}),_e})(),P=(()=>{class _e extends Ue{}return _e.\u0275fac=function(){let ue;return function($e){return(ue||(ue=v.n5z(_e)))($e||_e)}}(),_e.\u0275dir=v.lG2({type:_e,features:[v.qOj]}),_e})();const Ce=new v.OlP("NgValueAccessor"),Me={provide:Ce,useExisting:(0,v.Gpc)(()=>Le),multi:!0},Oe=new v.OlP("CompositionEventMode");let Le=(()=>{class _e extends Ue{constructor(Q,$e,Mn){super(Q,$e),this._compositionMode=Mn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function we(){const _e=(0,V.q)()?(0,V.q)().getUserAgent():"";return/android (\d+)/.test(_e.toLowerCase())}())}writeValue(Q){this.setProperty("value",null==Q?"":Q)}_handleInput(Q){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Q)}_compositionStart(){this._composing=!0}_compositionEnd(Q){this._composing=!1,this._compositionMode&&this.onChange(Q)}}return _e.\u0275fac=function(Q){return new(Q||_e)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(Oe,8))},_e.\u0275dir=v.lG2({type:_e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Q,$e){1&Q&&v.NdJ("input",function(Ai){return $e._handleInput(Ai.target.value)})("blur",function(){return $e.onTouched()})("compositionstart",function(){return $e._compositionStart()})("compositionend",function(Ai){return $e._compositionEnd(Ai.target.value)})},features:[v._Bn([Me]),v.qOj]}),_e})();function st(_e){return null==_e||0===_e.length}function gt(_e){return null!=_e&&"number"==typeof _e.length}const Je=new v.OlP("NgValidators"),ht=new v.OlP("NgAsyncValidators"),Xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nt{static min(ue){return function at(_e){return ue=>{if(st(ue.value)||st(_e))return null;const Q=parseFloat(ue.value);return!isNaN(Q)&&Q<_e?{min:{min:_e,actual:ue.value}}:null}}(ue)}static max(ue){return function ke(_e){return ue=>{if(st(ue.value)||st(_e))return null;const Q=parseFloat(ue.value);return!isNaN(Q)&&Q>_e?{max:{max:_e,actual:ue.value}}:null}}(ue)}static required(ue){return Ke(ue)}static requiredTrue(ue){return it(ue)}static email(ue){return function A(_e){return st(_e.value)||Xe.test(_e.value)?null:{email:!0}}(ue)}static minLength(ue){return function et(_e){return ue=>st(ue.value)||!gt(ue.value)?null:ue.value.length<_e?{minlength:{requiredLength:_e,actualLength:ue.value.length}}:null}(ue)}static maxLength(ue){return function en(_e){return ue=>gt(ue.value)&&ue.value.length>_e?{maxlength:{requiredLength:_e,actualLength:ue.value.length}}:null}(ue)}static pattern(ue){return function Be(_e){if(!_e)return At;let ue,Q;return"string"==typeof _e?(Q="","^"!==_e.charAt(0)&&(Q+="^"),Q+=_e,"$"!==_e.charAt(_e.length-1)&&(Q+="$"),ue=new RegExp(Q)):(Q=_e.toString(),ue=_e),$e=>{if(st($e.value))return null;const Mn=$e.value;return ue.test(Mn)?null:{pattern:{requiredPattern:Q,actualValue:Mn}}}}(ue)}static nullValidator(ue){return null}static compose(ue){return Mt(ue)}static composeAsync(ue){return Zt(ue)}}function Ke(_e){return st(_e.value)?{required:!0}:null}function it(_e){return!0===_e.value?null:{required:!0}}function At(_e){return null}function Ut(_e){return null!=_e}function nn(_e){const ue=(0,v.QGY)(_e)?(0,I.D)(_e):_e;return(0,v.CqO)(ue),ue}function Qt(_e){let ue={};return _e.forEach(Q=>{ue=null!=Q?Object.assign(Object.assign({},ue),Q):ue}),0===Object.keys(ue).length?null:ue}function an(_e,ue){return ue.map(Q=>Q(_e))}function ie(_e){return _e.map(ue=>function Bn(_e){return!_e.validate}(ue)?ue:Q=>ue.validate(Q))}function Mt(_e){if(!_e)return null;const ue=_e.filter(Ut);return 0==ue.length?null:function(Q){return Qt(an(Q,ue))}}function ut(_e){return null!=_e?Mt(ie(_e)):null}function Zt(_e){if(!_e)return null;const ue=_e.filter(Ut);return 0==ue.length?null:function(Q){const $e=an(Q,ue).map(nn);return(0,q.D)($e).pipe((0,g.U)(Qt))}}function hn(_e){return null!=_e?Zt(ie(_e)):null}function Kt(_e,ue){return null===_e?[ue]:Array.isArray(_e)?[..._e,ue]:[_e,ue]}function gn(_e){return _e._rawValidators}function Lt(_e){return _e._rawAsyncValidators}function Bt(_e){return _e?Array.isArray(_e)?_e:[_e]:[]}function mt(_e,ue){return Array.isArray(_e)?_e.includes(ue):_e===ue}function Vt(_e,ue){const Q=Bt(ue);return Bt(_e).forEach(Mn=>{mt(Q,Mn)||Q.push(Mn)}),Q}function ot(_e,ue){return Bt(ue).filter(Q=>!mt(_e,Q))}class je{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ue){this._rawValidators=ue||[],this._composedValidatorFn=ut(this._rawValidators)}_setAsyncValidators(ue){this._rawAsyncValidators=ue||[],this._composedAsyncValidatorFn=hn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ue){this._onDestroyCallbacks.push(ue)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ue=>ue()),this._onDestroyCallbacks=[]}reset(ue){this.control&&this.control.reset(ue)}hasError(ue,Q){return!!this.control&&this.control.hasError(ue,Q)}getError(ue,Q){return this.control?this.control.getError(ue,Q):null}}class Pt extends je{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rt extends je{get formDirective(){return null}get path(){return null}}class bt{constructor(ue){this._cd=ue}is(ue){var Q,$e,Mn;return"submitted"===ue?!!(null===(Q=this._cd)||void 0===Q?void 0:Q.submitted):!!(null===(Mn=null===($e=this._cd)||void 0===$e?void 0:$e.control)||void 0===Mn?void 0:Mn[ue])}}let Dn=(()=>{class _e extends bt{constructor(Q){super(Q)}}return _e.\u0275fac=function(Q){return new(Q||_e)(v.Y36(Pt,2))},_e.\u0275dir=v.lG2({type:_e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Q,$e){2&Q&&v.ekj("ng-untouched",$e.is("untouched"))("ng-touched",$e.is("touched"))("ng-pristine",$e.is("pristine"))("ng-dirty",$e.is("dirty"))("ng-valid",$e.is("valid"))("ng-invalid",$e.is("invalid"))("ng-pending",$e.is("pending"))},features:[v.qOj]}),_e})(),ft=(()=>{class _e extends bt{constructor(Q){super(Q)}}return _e.\u0275fac=function(Q){return new(Q||_e)(v.Y36(rt,10))},_e.\u0275dir=v.lG2({type:_e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Q,$e){2&Q&&v.ekj("ng-untouched",$e.is("untouched"))("ng-touched",$e.is("touched"))("ng-pristine",$e.is("pristine"))("ng-dirty",$e.is("dirty"))("ng-valid",$e.is("valid"))("ng-invalid",$e.is("invalid"))("ng-pending",$e.is("pending"))("ng-submitted",$e.is("submitted"))},features:[v.qOj]}),_e})();function mn(_e,ue){$(_e,ue),ue.valueAccessor.writeValue(_e.value),function x(_e,ue){ue.valueAccessor.registerOnChange(Q=>{_e._pendingValue=Q,_e._pendingChange=!0,_e._pendingDirty=!0,"change"===_e.updateOn&&re(_e,ue)})}(_e,ue),function de(_e,ue){const Q=($e,Mn)=>{ue.valueAccessor.writeValue($e),Mn&&ue.viewToModelUpdate($e)};_e.registerOnChange(Q),ue._registerOnDestroy(()=>{_e._unregisterOnChange(Q)})}(_e,ue),function oe(_e,ue){ue.valueAccessor.registerOnTouched(()=>{_e._pendingTouched=!0,"blur"===_e.updateOn&&_e._pendingChange&&re(_e,ue),"submit"!==_e.updateOn&&_e.markAsTouched()})}(_e,ue),function Dt(_e,ue){if(ue.valueAccessor.setDisabledState){const Q=$e=>{ue.valueAccessor.setDisabledState($e)};_e.registerOnDisabledChange(Q),ue._registerOnDestroy(()=>{_e._unregisterOnDisabledChange(Q)})}}(_e,ue)}function _i(_e,ue,Q=!0){const $e=()=>{};ue.valueAccessor&&(ue.valueAccessor.registerOnChange($e),ue.valueAccessor.registerOnTouched($e)),O(_e,ue),_e&&(ue._invokeOnDestroyCallbacks(),_e._registerOnCollectionChange(()=>{}))}function ci(_e,ue){_e.forEach(Q=>{Q.registerOnValidatorChange&&Q.registerOnValidatorChange(ue)})}function $(_e,ue){const Q=gn(_e);null!==ue.validator?_e.setValidators(Kt(Q,ue.validator)):"function"==typeof Q&&_e.setValidators([Q]);const $e=Lt(_e);null!==ue.asyncValidator?_e.setAsyncValidators(Kt($e,ue.asyncValidator)):"function"==typeof $e&&_e.setAsyncValidators([$e]);const Mn=()=>_e.updateValueAndValidity();ci(ue._rawValidators,Mn),ci(ue._rawAsyncValidators,Mn)}function O(_e,ue){let Q=!1;if(null!==_e){if(null!==ue.validator){const Mn=gn(_e);if(Array.isArray(Mn)&&Mn.length>0){const Ai=Mn.filter(Br=>Br!==ue.validator);Ai.length!==Mn.length&&(Q=!0,_e.setValidators(Ai))}}if(null!==ue.asyncValidator){const Mn=Lt(_e);if(Array.isArray(Mn)&&Mn.length>0){const Ai=Mn.filter(Br=>Br!==ue.asyncValidator);Ai.length!==Mn.length&&(Q=!0,_e.setAsyncValidators(Ai))}}}const $e=()=>{};return ci(ue._rawValidators,$e),ci(ue._rawAsyncValidators,$e),Q}function re(_e,ue){_e._pendingDirty&&_e.markAsDirty(),_e.setValue(_e._pendingValue,{emitModelToViewChange:!1}),ue.viewToModelUpdate(_e._pendingValue),_e._pendingChange=!1}function Se(_e,ue){$(_e,ue)}function wt(_e,ue){_e._syncPendingControls(),ue.forEach(Q=>{const $e=Q.control;"submit"===$e.updateOn&&$e._pendingChange&&(Q.viewToModelUpdate($e._pendingValue),$e._pendingChange=!1)})}function Kn(_e,ue){const Q=_e.indexOf(ue);Q>-1&&_e.splice(Q,1)}const gr="VALID",Ir="INVALID",qt="PENDING",Hn="DISABLED";function yi(_e){return(Ui(_e)?_e.validators:_e)||null}function Zi(_e){return Array.isArray(_e)?ut(_e):_e||null}function $n(_e,ue){return(Ui(ue)?ue.asyncValidators:_e)||null}function Hi(_e){return Array.isArray(_e)?hn(_e):_e||null}function Ui(_e){return null!=_e&&!Array.isArray(_e)&&"object"==typeof _e}const Tt=_e=>_e instanceof gi,ln=_e=>_e instanceof nt;function he(_e){return Tt(_e)?_e.value:_e.getRawValue()}function tt(_e,ue){const Q=ln(_e),$e=_e.controls;if(!(Q?Object.keys($e):$e).length)throw new v.vHH(1e3,"");if(!$e[ue])throw new v.vHH(1001,"")}function xt(_e,ue){ln(_e),_e._forEachChild(($e,Mn)=>{if(void 0===ue[Mn])throw new v.vHH(1002,"")})}class hi{constructor(ue,Q){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=ue,this._rawAsyncValidators=Q,this._composedValidatorFn=Zi(this._rawValidators),this._composedAsyncValidatorFn=Hi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(ue){this._rawValidators=this._composedValidatorFn=ue}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ue){this._rawAsyncValidators=this._composedAsyncValidatorFn=ue}get parent(){return this._parent}get valid(){return this.status===gr}get invalid(){return this.status===Ir}get pending(){return this.status==qt}get disabled(){return this.status===Hn}get enabled(){return this.status!==Hn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ue){this._rawValidators=ue,this._composedValidatorFn=Zi(ue)}setAsyncValidators(ue){this._rawAsyncValidators=ue,this._composedAsyncValidatorFn=Hi(ue)}addValidators(ue){this.setValidators(Vt(ue,this._rawValidators))}addAsyncValidators(ue){this.setAsyncValidators(Vt(ue,this._rawAsyncValidators))}removeValidators(ue){this.setValidators(ot(ue,this._rawValidators))}removeAsyncValidators(ue){this.setAsyncValidators(ot(ue,this._rawAsyncValidators))}hasValidator(ue){return mt(this._rawValidators,ue)}hasAsyncValidator(ue){return mt(this._rawAsyncValidators,ue)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ue={}){this.touched=!0,this._parent&&!ue.onlySelf&&this._parent.markAsTouched(ue)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ue=>ue.markAllAsTouched())}markAsUntouched(ue={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Q=>{Q.markAsUntouched({onlySelf:!0})}),this._parent&&!ue.onlySelf&&this._parent._updateTouched(ue)}markAsDirty(ue={}){this.pristine=!1,this._parent&&!ue.onlySelf&&this._parent.markAsDirty(ue)}markAsPristine(ue={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Q=>{Q.markAsPristine({onlySelf:!0})}),this._parent&&!ue.onlySelf&&this._parent._updatePristine(ue)}markAsPending(ue={}){this.status=qt,!1!==ue.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ue.onlySelf&&this._parent.markAsPending(ue)}disable(ue={}){const Q=this._parentMarkedDirty(ue.onlySelf);this.status=Hn,this.errors=null,this._forEachChild($e=>{$e.disable(Object.assign(Object.assign({},ue),{onlySelf:!0}))}),this._updateValue(),!1!==ue.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},ue),{skipPristineCheck:Q})),this._onDisabledChange.forEach($e=>$e(!0))}enable(ue={}){const Q=this._parentMarkedDirty(ue.onlySelf);this.status=gr,this._forEachChild($e=>{$e.enable(Object.assign(Object.assign({},ue),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ue.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},ue),{skipPristineCheck:Q})),this._onDisabledChange.forEach($e=>$e(!1))}_updateAncestors(ue){this._parent&&!ue.onlySelf&&(this._parent.updateValueAndValidity(ue),ue.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ue){this._parent=ue}updateValueAndValidity(ue={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gr||this.status===qt)&&this._runAsyncValidator(ue.emitEvent)),!1!==ue.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ue.onlySelf&&this._parent.updateValueAndValidity(ue)}_updateTreeValidity(ue={emitEvent:!0}){this._forEachChild(Q=>Q._updateTreeValidity(ue)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ue.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hn:gr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ue){if(this.asyncValidator){this.status=qt,this._hasOwnPendingAsyncValidator=!0;const Q=nn(this.asyncValidator(this));this._asyncValidationSubscription=Q.subscribe($e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($e,{emitEvent:ue})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ue,Q={}){this.errors=ue,this._updateControlsErrors(!1!==Q.emitEvent)}get(ue){return function bn(_e,ue,Q){if(null==ue||(Array.isArray(ue)||(ue=ue.split(Q)),Array.isArray(ue)&&0===ue.length))return null;let $e=_e;return ue.forEach(Mn=>{$e=ln($e)?$e.controls.hasOwnProperty(Mn)?$e.controls[Mn]:null:(_e=>_e instanceof Xr)($e)&&$e.at(Mn)||null}),$e}(this,ue,".")}getError(ue,Q){const $e=Q?this.get(Q):this;return $e&&$e.errors?$e.errors[ue]:null}hasError(ue,Q){return!!this.getError(ue,Q)}get root(){let ue=this;for(;ue._parent;)ue=ue._parent;return ue}_updateControlsErrors(ue){this.status=this._calculateStatus(),ue&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ue)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?Hn:this.errors?Ir:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qt)?qt:this._anyControlsHaveStatus(Ir)?Ir:gr}_anyControlsHaveStatus(ue){return this._anyControls(Q=>Q.status===ue)}_anyControlsDirty(){return this._anyControls(ue=>ue.dirty)}_anyControlsTouched(){return this._anyControls(ue=>ue.touched)}_updatePristine(ue={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ue.onlySelf&&this._parent._updatePristine(ue)}_updateTouched(ue={}){this.touched=this._anyControlsTouched(),this._parent&&!ue.onlySelf&&this._parent._updateTouched(ue)}_isBoxedValue(ue){return"object"==typeof ue&&null!==ue&&2===Object.keys(ue).length&&"value"in ue&&"disabled"in ue}_registerOnCollectionChange(ue){this._onCollectionChange=ue}_setUpdateStrategy(ue){Ui(ue)&&null!=ue.updateOn&&(this._updateOn=ue.updateOn)}_parentMarkedDirty(ue){return!ue&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gi extends hi{constructor(ue=null,Q,$e){super(yi(Q),$n($e,Q)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ue),this._setUpdateStrategy(Q),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ui(Q)&&Q.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(ue)?ue.value:ue)}setValue(ue,Q={}){this.value=this._pendingValue=ue,this._onChange.length&&!1!==Q.emitModelToViewChange&&this._onChange.forEach($e=>$e(this.value,!1!==Q.emitViewToModelChange)),this.updateValueAndValidity(Q)}patchValue(ue,Q={}){this.setValue(ue,Q)}reset(ue=this.defaultValue,Q={}){this._applyFormState(ue),this.markAsPristine(Q),this.markAsUntouched(Q),this.setValue(this.value,Q),this._pendingChange=!1}_updateValue(){}_anyControls(ue){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ue){this._onChange.push(ue)}_unregisterOnChange(ue){Kn(this._onChange,ue)}registerOnDisabledChange(ue){this._onDisabledChange.push(ue)}_unregisterOnDisabledChange(ue){Kn(this._onDisabledChange,ue)}_forEachChild(ue){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ue){this._isBoxedValue(ue)?(this.value=this._pendingValue=ue.value,ue.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ue}}class nt extends hi{constructor(ue,Q,$e){super(yi(Q),$n($e,Q)),this.controls=ue,this._initObservables(),this._setUpdateStrategy(Q),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ue,Q){return this.controls[ue]?this.controls[ue]:(this.controls[ue]=Q,Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange),Q)}addControl(ue,Q,$e={}){this.registerControl(ue,Q),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}removeControl(ue,Q={}){this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),delete this.controls[ue],this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}setControl(ue,Q,$e={}){this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),delete this.controls[ue],Q&&this.registerControl(ue,Q),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}contains(ue){return this.controls.hasOwnProperty(ue)&&this.controls[ue].enabled}setValue(ue,Q={}){xt(this,ue),Object.keys(ue).forEach($e=>{tt(this,$e),this.controls[$e].setValue(ue[$e],{onlySelf:!0,emitEvent:Q.emitEvent})}),this.updateValueAndValidity(Q)}patchValue(ue,Q={}){null!=ue&&(Object.keys(ue).forEach($e=>{this.controls[$e]&&this.controls[$e].patchValue(ue[$e],{onlySelf:!0,emitEvent:Q.emitEvent})}),this.updateValueAndValidity(Q))}reset(ue={},Q={}){this._forEachChild(($e,Mn)=>{$e.reset(ue[Mn],{onlySelf:!0,emitEvent:Q.emitEvent})}),this._updatePristine(Q),this._updateTouched(Q),this.updateValueAndValidity(Q)}getRawValue(){return this._reduceChildren({},(ue,Q,$e)=>(ue[$e]=he(Q),ue))}_syncPendingControls(){let ue=this._reduceChildren(!1,(Q,$e)=>!!$e._syncPendingControls()||Q);return ue&&this.updateValueAndValidity({onlySelf:!0}),ue}_forEachChild(ue){Object.keys(this.controls).forEach(Q=>{const $e=this.controls[Q];$e&&ue($e,Q)})}_setUpControls(){this._forEachChild(ue=>{ue.setParent(this),ue._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ue){for(const Q of Object.keys(this.controls)){const $e=this.controls[Q];if(this.contains(Q)&&ue($e))return!0}return!1}_reduceValue(){return this._reduceChildren({},(ue,Q,$e)=>((Q.enabled||this.disabled)&&(ue[$e]=Q.value),ue))}_reduceChildren(ue,Q){let $e=ue;return this._forEachChild((Mn,Ai)=>{$e=Q($e,Mn,Ai)}),$e}_allControlsDisabled(){for(const ue of Object.keys(this.controls))if(this.controls[ue].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Xr extends hi{constructor(ue,Q,$e){super(yi(Q),$n($e,Q)),this.controls=ue,this._initObservables(),this._setUpdateStrategy(Q),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ue){return this.controls[ue]}push(ue,Q={}){this.controls.push(ue),this._registerControl(ue),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}insert(ue,Q,$e={}){this.controls.splice(ue,0,Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:$e.emitEvent})}removeAt(ue,Q={}){this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:Q.emitEvent})}setControl(ue,Q,$e={}){this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),Q&&(this.controls.splice(ue,0,Q),this._registerControl(Q)),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ue,Q={}){xt(this,ue),ue.forEach(($e,Mn)=>{tt(this,Mn),this.at(Mn).setValue($e,{onlySelf:!0,emitEvent:Q.emitEvent})}),this.updateValueAndValidity(Q)}patchValue(ue,Q={}){null!=ue&&(ue.forEach(($e,Mn)=>{this.at(Mn)&&this.at(Mn).patchValue($e,{onlySelf:!0,emitEvent:Q.emitEvent})}),this.updateValueAndValidity(Q))}reset(ue=[],Q={}){this._forEachChild(($e,Mn)=>{$e.reset(ue[Mn],{onlySelf:!0,emitEvent:Q.emitEvent})}),this._updatePristine(Q),this._updateTouched(Q),this.updateValueAndValidity(Q)}getRawValue(){return this.controls.map(ue=>he(ue))}clear(ue={}){this.controls.length<1||(this._forEachChild(Q=>Q._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ue.emitEvent}))}_syncPendingControls(){let ue=this.controls.reduce((Q,$e)=>!!$e._syncPendingControls()||Q,!1);return ue&&this.updateValueAndValidity({onlySelf:!0}),ue}_forEachChild(ue){this.controls.forEach((Q,$e)=>{ue(Q,$e)})}_updateValue(){this.value=this.controls.filter(ue=>ue.enabled||this.disabled).map(ue=>ue.value)}_anyControls(ue){return this.controls.some(Q=>Q.enabled&&ue(Q))}_setUpControls(){this._forEachChild(ue=>this._registerControl(ue))}_allControlsDisabled(){for(const ue of this.controls)if(ue.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ue){ue.setParent(this),ue._registerOnCollectionChange(this._onCollectionChange)}}const St={provide:rt,useExisting:(0,v.Gpc)(()=>on)},un=(()=>Promise.resolve(null))();let on=(()=>{class _e extends rt{constructor(Q,$e){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new v.vpe,this.form=new nt({},ut(Q),hn($e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Q){un.then(()=>{const $e=this._findContainer(Q.path);Q.control=$e.registerControl(Q.name,Q.control),mn(Q.control,Q),Q.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Q)})}getControl(Q){return this.form.get(Q.path)}removeControl(Q){un.then(()=>{const $e=this._findContainer(Q.path);$e&&$e.removeControl(Q.name),this._directives.delete(Q)})}addFormGroup(Q){un.then(()=>{const $e=this._findContainer(Q.path),Mn=new nt({});Se(Mn,Q),$e.registerControl(Q.name,Mn),Mn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Q){un.then(()=>{const $e=this._findContainer(Q.path);$e&&$e.removeControl(Q.name)})}getFormGroup(Q){return this.form.get(Q.path)}updateModel(Q,$e){un.then(()=>{this.form.get(Q.path).setValue($e)})}setValue(Q){this.control.setValue(Q)}onSubmit(Q){return this.submitted=!0,wt(this.form,this._directives),this.ngSubmit.emit(Q),!1}onReset(){this.resetForm()}resetForm(Q){this.form.reset(Q),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Q){return Q.pop(),Q.length?this.form.get(Q):this.form}}return _e.\u0275fac=function(Q){return new(Q||_e)(v.Y36(Je,10),v.Y36(ht,10))},_e.\u0275dir=v.lG2({type:_e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Q,$e){1&Q&&v.NdJ("submit",function(Ai){return $e.onSubmit(Ai)})("reset",function(){return $e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([St]),v.qOj]}),_e})(),Xo=(()=>{class _e{}return _e.\u0275fac=function(Q){return new(Q||_e)},_e.\u0275dir=v.lG2({type:_e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),_e})();const vr={provide:Ce,useExisting:(0,v.Gpc)(()=>Is),multi:!0};let Is=(()=>{class _e extends P{writeValue(Q){this.setProperty("value",null==Q?"":Q)}registerOnChange(Q){this.onChange=$e=>{Q(""==$e?null:parseFloat($e))}}}return _e.\u0275fac=function(){let ue;return function($e){return(ue||(ue=v.n5z(_e)))($e||_e)}}(),_e.\u0275dir=v.lG2({type:_e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Q,$e){1&Q&&v.NdJ("input",function(Ai){return $e.onChange(Ai.target.value)})("blur",function(){return $e.onTouched()})},features:[v._Bn([vr]),v.qOj]}),_e})(),zr=(()=>{class _e{}return _e.\u0275fac=function(Q){return new(Q||_e)},_e.\u0275mod=v.oAB({type:_e}),_e.\u0275inj=v.cJS({}),_e})();const yn=new v.OlP("NgModelWithFormControlWarning"),ki={provide:rt,useExisting:(0,v.Gpc)(()=>wr)};let wr=(()=>{class _e extends rt{constructor(Q,$e){super(),this.validators=Q,this.asyncValidators=$e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(Q),this._setAsyncValidators($e)}ngOnChanges(Q){this._checkFormPresent(),Q.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(O(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Q){const $e=this.form.get(Q.path);return mn($e,Q),$e.updateValueAndValidity({emitEvent:!1}),this.directives.push(Q),$e}getControl(Q){return this.form.get(Q.path)}removeControl(Q){_i(Q.control||null,Q,!1),Kn(this.directives,Q)}addFormGroup(Q){this._setUpFormContainer(Q)}removeFormGroup(Q){this._cleanUpFormContainer(Q)}getFormGroup(Q){return this.form.get(Q.path)}addFormArray(Q){this._setUpFormContainer(Q)}removeFormArray(Q){this._cleanUpFormContainer(Q)}getFormArray(Q){return this.form.get(Q.path)}updateModel(Q,$e){this.form.get(Q.path).setValue($e)}onSubmit(Q){return this.submitted=!0,wt(this.form,this.directives),this.ngSubmit.emit(Q),!1}onReset(){this.resetForm()}resetForm(Q){this.form.reset(Q),this.submitted=!1}_updateDomValue(){this.directives.forEach(Q=>{const $e=Q.control,Mn=this.form.get(Q.path);$e!==Mn&&(_i($e||null,Q),Tt(Mn)&&(mn(Mn,Q),Q.control=Mn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Q){const $e=this.form.get(Q.path);Se($e,Q),$e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Q){if(this.form){const $e=this.form.get(Q.path);$e&&function We(_e,ue){return O(_e,ue)}($e,Q)&&$e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$(this.form,this),this._oldForm&&O(this._oldForm,this)}_checkFormPresent(){}}return _e.\u0275fac=function(Q){return new(Q||_e)(v.Y36(Je,10),v.Y36(ht,10))},_e.\u0275dir=v.lG2({type:_e,selectors:[["","formGroup",""]],hostBindings:function(Q,$e){1&Q&&v.NdJ("submit",function(Ai){return $e.onSubmit(Ai)})("reset",function(){return $e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([ki]),v.qOj,v.TTD]}),_e})();const ks={provide:Pt,useExisting:(0,v.Gpc)(()=>Ao)};let Ao=(()=>{class _e extends Pt{constructor(Q,$e,Mn,Ai,Br){super(),this._ngModelWarningConfig=Br,this._added=!1,this.update=new v.vpe,this._ngModelWarningSent=!1,this._parent=Q,this._setValidators($e),this._setAsyncValidators(Mn),this.valueAccessor=function dn(_e,ue){if(!ue)return null;let Q,$e,Mn;return Array.isArray(ue),ue.forEach(Ai=>{Ai.constructor===Le?Q=Ai:function ct(_e){return Object.getPrototypeOf(_e.constructor)===P}(Ai)?$e=Ai:Mn=Ai}),Mn||$e||Q||null}(0,Ai)}set isDisabled(Q){}ngOnChanges(Q){this._added||this._setUpControl(),function _t(_e,ue){if(!_e.hasOwnProperty("model"))return!1;const Q=_e.model;return!!Q.isFirstChange()||!Object.is(ue,Q.currentValue)}(Q,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Q){this.viewModel=Q,this.update.emit(Q)}get path(){return function Si(_e,ue){return[...ue.path,_e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return _e._ngModelWarningSentOnce=!1,_e.\u0275fac=function(Q){return new(Q||_e)(v.Y36(rt,13),v.Y36(Je,10),v.Y36(ht,10),v.Y36(Ce,10),v.Y36(yn,8))},_e.\u0275dir=v.lG2({type:_e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[v._Bn([ks]),v.qOj,v.TTD]}),_e})(),mo=(()=>{class _e{constructor(){this._validator=At}ngOnChanges(Q){if(this.inputName in Q){const $e=this.normalizeInput(Q[this.inputName].currentValue);this._enabled=this.enabled($e),this._validator=this._enabled?this.createValidator($e):At,this._onChange&&this._onChange()}}validate(Q){return this._validator(Q)}registerOnValidatorChange(Q){this._onChange=Q}enabled(Q){return null!=Q}}return _e.\u0275fac=function(Q){return new(Q||_e)},_e.\u0275dir=v.lG2({type:_e,features:[v.TTD]}),_e})();const es={provide:Je,useExisting:(0,v.Gpc)(()=>Bo),multi:!0},Ko={provide:Je,useExisting:(0,v.Gpc)(()=>ns),multi:!0};let Bo=(()=>{class _e extends mo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Q=>function bs(_e){return null!=_e&&!1!==_e&&"false"!=`${_e}`}(Q),this.createValidator=Q=>Ke}enabled(Q){return Q}}return _e.\u0275fac=function(){let ue;return function($e){return(ue||(ue=v.n5z(_e)))($e||_e)}}(),_e.\u0275dir=v.lG2({type:_e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Q,$e){2&Q&&v.uIk("required",$e._enabled?"":null)},inputs:{required:"required"},features:[v._Bn([es]),v.qOj]}),_e})(),ns=(()=>{class _e extends Bo{constructor(){super(...arguments),this.createValidator=Q=>it}}return _e.\u0275fac=function(){let ue;return function($e){return(ue||(ue=v.n5z(_e)))($e||_e)}}(),_e.\u0275dir=v.lG2({type:_e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Q,$e){2&Q&&v.uIk("required",$e._enabled?"":null)},features:[v._Bn([Ko]),v.qOj]}),_e})(),Pr=(()=>{class _e{}return _e.\u0275fac=function(Q){return new(Q||_e)},_e.\u0275mod=v.oAB({type:_e}),_e.\u0275inj=v.cJS({imports:[[zr]]}),_e})(),br=(()=>{class _e{static withConfig(Q){return{ngModule:_e,providers:[{provide:yn,useValue:Q.warnOnNgModelWithFormControl}]}}}return _e.\u0275fac=function(Q){return new(Q||_e)},_e.\u0275mod=v.oAB({type:_e}),_e.\u0275inj=v.cJS({imports:[Pr]}),_e})()},1079:(Ot,B,R)=>{R.d(B,{Bb:()=>ot,XC:()=>Mt,ZL:()=>Bt});var v=R(5664),V=R(3191),I=R(5e3),q=R(508),g=R(727),Ue=R(7579),P=R(9770),Ce=R(6451),Ee=R(9646),ae=R(4968),Me=R(925),we=R(9808),Oe=R(9776),Le=R(495),st=R(1159),gt=R(7429),Je=R(3075),ht=R(7322),Xe=R(8675),Nt=R(3900),at=R(5698),ke=R(9300),Ke=R(4004),it=R(8505),A=R(8537),et=R(226);const en=["panel"];function Be(je,Pt){if(1&je&&(I.TgZ(0,"div",0,1),I.Hsn(2),I.qZA()),2&je){const rt=Pt.id,bt=I.oxw();I.Q6J("id",bt.id)("ngClass",bt._classList),I.uIk("aria-label",bt.ariaLabel||null)("aria-labelledby",bt._getPanelAriaLabelledby(rt))}}const At=["*"];let Ut=0;class nn{constructor(Pt,rt){this.source=Pt,this.option=rt}}const Qt=(0,q.Kr)(class{}),an=new I.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function Bn(){return{autoActiveFirstOption:!1}}});let ie=(()=>{class je extends Qt{constructor(rt,bt,En,Xn){super(),this._changeDetectorRef=rt,this._elementRef=bt,this._activeOptionChanges=g.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new I.vpe,this.opened=new I.vpe,this.closed=new I.vpe,this.optionActivated=new I.vpe,this._classList={},this.id="mat-autocomplete-"+Ut++,this.inertGroups=(null==Xn?void 0:Xn.SAFARI)||!1,this._autoActiveFirstOption=!!En.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(rt){this._autoActiveFirstOption=(0,V.Ig)(rt)}set classList(rt){this._classList=rt&&rt.length?(0,V.du)(rt).reduce((bt,En)=>(bt[En]=!0,bt),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new v.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(rt=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[rt]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(rt){this.panel&&(this.panel.nativeElement.scrollTop=rt)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(rt){const bt=new nn(this,rt);this.optionSelected.emit(bt)}_getPanelAriaLabelledby(rt){return this.ariaLabel?null:this.ariaLabelledby?(rt?rt+" ":"")+this.ariaLabelledby:rt}_setVisibilityClasses(rt){rt[this._visibleClass]=this.showPanel,rt[this._hiddenClass]=!this.showPanel}}return je.\u0275fac=function(rt){return new(rt||je)(I.Y36(I.sBO),I.Y36(I.SBq),I.Y36(an),I.Y36(Me.t4))},je.\u0275dir=I.lG2({type:je,viewQuery:function(rt,bt){if(1&rt&&(I.Gf(I.Rgc,7),I.Gf(en,5)),2&rt){let En;I.iGM(En=I.CRH())&&(bt.template=En.first),I.iGM(En=I.CRH())&&(bt.panel=En.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[I.qOj]}),je})(),Mt=(()=>{class je extends ie{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return je.\u0275fac=function(){let Pt;return function(bt){return(Pt||(Pt=I.n5z(je)))(bt||je)}}(),je.\u0275cmp=I.Xpm({type:je,selectors:[["mat-autocomplete"]],contentQueries:function(rt,bt,En){if(1&rt&&(I.Suo(En,q.K7,5),I.Suo(En,q.ey,5)),2&rt){let Xn;I.iGM(Xn=I.CRH())&&(bt.optionGroups=Xn),I.iGM(Xn=I.CRH())&&(bt.options=Xn)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[I._Bn([{provide:q.HF,useExisting:je}]),I.qOj],ngContentSelectors:At,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(rt,bt){1&rt&&(I.F$t(),I.YNc(0,Be,3,4,"ng-template"))},directives:[we.mk],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),je})();const ut=new I.OlP("mat-autocomplete-scroll-strategy"),hn={provide:ut,deps:[Oe.aV],useFactory:function Zt(je){return()=>je.scrollStrategies.reposition()}},Kt={provide:Je.JU,useExisting:(0,I.Gpc)(()=>Bt),multi:!0};let Lt=(()=>{class je{constructor(rt,bt,En,Xn,Dn,ft,Rn,Ae,D,te,ne){this._element=rt,this._overlay=bt,this._viewContainerRef=En,this._zone=Xn,this._changeDetectorRef=Dn,this._dir=Rn,this._formField=Ae,this._document=D,this._viewportRuler=te,this._defaults=ne,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=g.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Ue.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,P.P)(()=>{const me=this.autocomplete?this.autocomplete.options:null;return me?me.changes.pipe((0,Xe.O)(me),(0,Nt.w)(()=>(0,Ce.T)(...me.map(xe=>xe.onSelectionChange)))):this._zone.onStable.pipe((0,at.q)(1),(0,Nt.w)(()=>this.optionSelections))}),this._scrollStrategy=ft}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(rt){this._autocompleteDisabled=(0,V.Ig)(rt)}ngAfterViewInit(){const rt=this._getWindow();void 0!==rt&&this._zone.runOutsideAngular(()=>rt.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(rt){rt.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const rt=this._getWindow();void 0!==rt&&rt.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,Ce.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,ke.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,ke.h)(()=>this._overlayAttached)):(0,Ee.of)()).pipe((0,Ke.U)(rt=>rt instanceof q.rN?rt:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,Ce.T)((0,ae.R)(this._document,"click"),(0,ae.R)(this._document,"auxclick"),(0,ae.R)(this._document,"touchend")).pipe((0,ke.h)(rt=>{const bt=(0,Me.sA)(rt),En=this._formField?this._formField._elementRef.nativeElement:null,Xn=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&bt!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!En||!En.contains(bt))&&(!Xn||!Xn.contains(bt))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(bt)}))}writeValue(rt){Promise.resolve().then(()=>this._setTriggerValue(rt))}registerOnChange(rt){this._onChange=rt}registerOnTouched(rt){this._onTouched=rt}setDisabledState(rt){this._element.nativeElement.disabled=rt}_handleKeydown(rt){const bt=rt.keyCode,En=(0,st.Vb)(rt);if(bt===st.hY&&!En&&rt.preventDefault(),this.activeOption&&bt===st.K5&&this.panelOpen&&!En)this.activeOption._selectViaInteraction(),this._resetActiveItem(),rt.preventDefault();else if(this.autocomplete){const Xn=this.autocomplete._keyManager.activeItem,Dn=bt===st.LH||bt===st.JH;bt===st.Mf||Dn&&!En&&this.panelOpen?this.autocomplete._keyManager.onKeydown(rt):Dn&&this._canOpen()&&this.openPanel(),(Dn||this.autocomplete._keyManager.activeItem!==Xn)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(rt){let bt=rt.target,En=bt.value;"number"===bt.type&&(En=""==En?null:parseFloat(En)),this._previousValue!==En&&(this._previousValue=En,this._onChange(En),this._canOpen()&&this._document.activeElement===rt.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(rt=!1){this._formField&&"auto"===this._formField.floatLabel&&(rt?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const rt=this._zone.onStable.pipe((0,at.q)(1)),bt=this.autocomplete.options.changes.pipe((0,it.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,A.g)(0));return(0,Ce.T)(rt,bt).pipe((0,Nt.w)(()=>(this._zone.run(()=>{const En=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&(this._overlayRef.updatePosition(),En!==this.panelOpen&&this.autocomplete.opened.emit())}),this.panelClosingActions)),(0,at.q)(1)).subscribe(En=>this._setValueAndClose(En))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(rt){const bt=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(rt):rt,En=null!=bt?bt:"";this._formField?this._formField._control.value=En:this._element.nativeElement.value=En,this._previousValue=En}_setValueAndClose(rt){const bt=rt&&rt.source;bt&&(this._clearPreviousSelectedOption(bt),this._setTriggerValue(bt.value),this._onChange(bt.value),this.autocomplete._emitSelectEvent(bt),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(rt){this.autocomplete.options.forEach(bt=>{bt!==rt&&bt.selected&&bt.deselect()})}_attachOverlay(){var rt;let bt=this._overlayRef;bt?(this._positionStrategy.setOrigin(this._getConnectedElement()),bt.updateSize({width:this._getPanelWidth()})):(this._portal=new gt.UE(this.autocomplete.template,this._viewContainerRef,{id:null===(rt=this._formField)||void 0===rt?void 0:rt.getLabelId()}),bt=this._overlay.create(this._getOverlayConfig()),this._overlayRef=bt,bt.keydownEvents().subscribe(Xn=>{(Xn.keyCode===st.hY&&!(0,st.Vb)(Xn)||Xn.keyCode===st.LH&&(0,st.Vb)(Xn,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),Xn.stopPropagation(),Xn.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&bt&&bt.updateSize({width:this._getPanelWidth()})})),bt&&!bt.hasAttached()&&(bt.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const En=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&En!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var rt;return new Oe.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(rt=this._defaults)||void 0===rt?void 0:rt.overlayPanelClass})}_getOverlayPosition(){const rt=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(rt),this._positionStrategy=rt,rt}_setStrategyPositions(rt){const bt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],En=this._aboveClass,Xn=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:En},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:En}];let Dn;Dn="above"===this.position?Xn:"below"===this.position?bt:[...bt,...Xn],rt.withPositions(Dn)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const rt=this.autocomplete;rt.autoActiveFirstOption?rt._keyManager.setFirstItemActive():rt._keyManager.setActiveItem(-1)}_canOpen(){const rt=this._element.nativeElement;return!rt.readOnly&&!rt.disabled&&!this._autocompleteDisabled}_getWindow(){var rt;return(null===(rt=this._document)||void 0===rt?void 0:rt.defaultView)||window}_scrollToOption(rt){const bt=this.autocomplete,En=(0,q.CB)(rt,bt.options,bt.optionGroups);if(0===rt&&1===En)bt._setScrollTop(0);else if(bt.panel){const Xn=bt.options.toArray()[rt];if(Xn){const Dn=Xn._getHostElement(),ft=(0,q.jH)(Dn.offsetTop,Dn.offsetHeight,bt._getScrollTop(),bt.panel.nativeElement.offsetHeight);bt._setScrollTop(ft)}}}}return je.\u0275fac=function(rt){return new(rt||je)(I.Y36(I.SBq),I.Y36(Oe.aV),I.Y36(I.s_b),I.Y36(I.R0b),I.Y36(I.sBO),I.Y36(ut),I.Y36(et.Is,8),I.Y36(ht.G_,9),I.Y36(we.K0,8),I.Y36(Le.rL),I.Y36(an,8))},je.\u0275dir=I.lG2({type:je,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[I.TTD]}),je})(),Bt=(()=>{class je extends Lt{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return je.\u0275fac=function(){let Pt;return function(bt){return(Pt||(Pt=I.n5z(je)))(bt||je)}}(),je.\u0275dir=I.lG2({type:je,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(rt,bt){1&rt&&I.NdJ("focusin",function(){return bt._handleFocus()})("blur",function(){return bt._onTouched()})("input",function(Xn){return bt._handleInput(Xn)})("keydown",function(Xn){return bt._handleKeydown(Xn)})("click",function(){return bt._handleClick()}),2&rt&&I.uIk("autocomplete",bt.autocompleteAttribute)("role",bt.autocompleteDisabled?null:"combobox")("aria-autocomplete",bt.autocompleteDisabled?null:"list")("aria-activedescendant",bt.panelOpen&&bt.activeOption?bt.activeOption.id:null)("aria-expanded",bt.autocompleteDisabled?null:bt.panelOpen.toString())("aria-owns",bt.autocompleteDisabled||!bt.panelOpen||null==bt.autocomplete?null:bt.autocomplete.id)("aria-haspopup",bt.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[I._Bn([Kt]),I.qOj]}),je})(),ot=(()=>{class je{}return je.\u0275fac=function(rt){return new(rt||je)},je.\u0275mod=I.oAB({type:je}),je.\u0275inj=I.cJS({providers:[hn],imports:[[Oe.U8,q.Ng,q.BQ,we.ez],Le.ZD,q.Ng,q.BQ]}),je})()},7544:(Ot,B,R)=>{R.d(B,{g:()=>ae,k:()=>Ee});var v=R(5e3),V=R(508),I=R(5664),q=R(3191),g=R(6360);let Ue=0;const P=(0,V.Id)(class{}),Ce="mat-badge-content";let Ee=(()=>{class Me extends P{constructor(Oe,Le,st,gt,Je){super(),this._ngZone=Oe,this._elementRef=Le,this._ariaDescriber=st,this._renderer=gt,this._animationMode=Je,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=Ue++,this._isInitialized=!1}get color(){return this._color}set color(Oe){this._setColor(Oe),this._color=Oe}get overlap(){return this._overlap}set overlap(Oe){this._overlap=(0,q.Ig)(Oe)}get content(){return this._content}set content(Oe){this._updateRenderedContent(Oe)}get description(){return this._description}set description(Oe){this._updateHostAriaDescription(Oe)}get hidden(){return this._hidden}set hidden(Oe){this._hidden=(0,q.Ig)(Oe)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const Oe=this._renderer.createElement("span"),Le="mat-badge-active";return Oe.setAttribute("id",`mat-badge-content-${this._id}`),Oe.setAttribute("aria-hidden","true"),Oe.classList.add(Ce),"NoopAnimations"===this._animationMode&&Oe.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(Oe),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{Oe.classList.add(Le)})}):Oe.classList.add(Le),Oe}_updateRenderedContent(Oe){const Le=`${null!=Oe?Oe:""}`.trim();this._isInitialized&&Le&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=Le),this._content=Le}_updateHostAriaDescription(Oe){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),Oe&&this._ariaDescriber.describe(this._elementRef.nativeElement,Oe),this._description=Oe}_setColor(Oe){const Le=this._elementRef.nativeElement.classList;Le.remove(`mat-badge-${this._color}`),Oe&&Le.add(`mat-badge-${Oe}`)}_clearExistingBadges(){const Oe=this._elementRef.nativeElement.querySelectorAll(`:scope > .${Ce}`);for(const Le of Array.from(Oe))Le!==this._badgeElement&&Le.remove()}}return Me.\u0275fac=function(Oe){return new(Oe||Me)(v.Y36(v.R0b),v.Y36(v.SBq),v.Y36(I.$s),v.Y36(v.Qsj),v.Y36(g.Qb,8))},Me.\u0275dir=v.lG2({type:Me,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(Oe,Le){2&Oe&&v.ekj("mat-badge-overlap",Le.overlap)("mat-badge-above",Le.isAbove())("mat-badge-below",!Le.isAbove())("mat-badge-before",!Le.isAfter())("mat-badge-after",Le.isAfter())("mat-badge-small","small"===Le.size)("mat-badge-medium","medium"===Le.size)("mat-badge-large","large"===Le.size)("mat-badge-hidden",Le.hidden||!Le.content)("mat-badge-disabled",Le.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[v.qOj]}),Me})(),ae=(()=>{class Me{}return Me.\u0275fac=function(Oe){return new(Oe||Me)},Me.\u0275mod=v.oAB({type:Me}),Me.\u0275inj=v.cJS({imports:[[I.rt,V.BQ],V.BQ]}),Me})()},7423:(Ot,B,R)=>{R.d(B,{lW:()=>Me,ot:()=>Oe});var v=R(5e3),V=R(508),I=R(6360),q=R(5664);const g=["mat-button",""],Ue=["*"],Ee=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ae=(0,V.pj)((0,V.Id)((0,V.Kr)(class{constructor(Le){this._elementRef=Le}})));let Me=(()=>{class Le extends ae{constructor(gt,Je,ht){super(gt),this._focusMonitor=Je,this._animationMode=ht,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Xe of Ee)this._hasHostAttributes(Xe)&&this._getHostElement().classList.add(Xe);gt.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(gt,Je){gt?this._focusMonitor.focusVia(this._getHostElement(),gt,Je):this._getHostElement().focus(Je)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...gt){return gt.some(Je=>this._getHostElement().hasAttribute(Je))}}return Le.\u0275fac=function(gt){return new(gt||Le)(v.Y36(v.SBq),v.Y36(q.tE),v.Y36(I.Qb,8))},Le.\u0275cmp=v.Xpm({type:Le,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(gt,Je){if(1&gt&&v.Gf(V.wG,5),2&gt){let ht;v.iGM(ht=v.CRH())&&(Je.ripple=ht.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(gt,Je){2&gt&&(v.uIk("disabled",Je.disabled||null),v.ekj("_mat-animation-noopable","NoopAnimations"===Je._animationMode)("mat-button-disabled",Je.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[v.qOj],attrs:g,ngContentSelectors:Ue,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(gt,Je){1&gt&&(v.F$t(),v.TgZ(0,"span",0),v.Hsn(1),v.qZA(),v._UZ(2,"span",1)(3,"span",2)),2&gt&&(v.xp6(2),v.ekj("mat-button-ripple-round",Je.isRoundButton||Je.isIconButton),v.Q6J("matRippleDisabled",Je._isRippleDisabled())("matRippleCentered",Je.isIconButton)("matRippleTrigger",Je._getHostElement()))},directives:[V.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),Le})(),Oe=(()=>{class Le{}return Le.\u0275fac=function(gt){return new(gt||Le)},Le.\u0275mod=v.oAB({type:Le}),Le.\u0275inj=v.cJS({imports:[[V.si,V.BQ],V.BQ]}),Le})()},9224:(Ot,B,R)=>{R.d(B,{$j:()=>we,C1:()=>Ke,QW:()=>it,a8:()=>at,dk:()=>ke,dn:()=>ae,hq:()=>Oe,n5:()=>Me,rt:()=>Le,vP:()=>gt});var v=R(5e3),V=R(6360),I=R(508);const q=["*",[["mat-card-footer"]]],g=["*","mat-card-footer"],Ue=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],P=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Ce=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],Ee=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let ae=(()=>{class A{}return A.\u0275fac=function(en){return new(en||A)},A.\u0275dir=v.lG2({type:A,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),A})(),Me=(()=>{class A{}return A.\u0275fac=function(en){return new(en||A)},A.\u0275dir=v.lG2({type:A,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),A})(),we=(()=>{class A{}return A.\u0275fac=function(en){return new(en||A)},A.\u0275dir=v.lG2({type:A,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),A})(),Oe=(()=>{class A{constructor(){this.align="start"}}return A.\u0275fac=function(en){return new(en||A)},A.\u0275dir=v.lG2({type:A,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(en,Be){2&en&&v.ekj("mat-card-actions-align-end","end"===Be.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),A})(),Le=(()=>{class A{}return A.\u0275fac=function(en){return new(en||A)},A.\u0275dir=v.lG2({type:A,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),A})(),gt=(()=>{class A{}return A.\u0275fac=function(en){return new(en||A)},A.\u0275dir=v.lG2({type:A,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-card-sm-image"]}),A})(),at=(()=>{class A{constructor(en){this._animationMode=en}}return A.\u0275fac=function(en){return new(en||A)(v.Y36(V.Qb,8))},A.\u0275cmp=v.Xpm({type:A,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(en,Be){2&en&&v.ekj("_mat-animation-noopable","NoopAnimations"===Be._animationMode)},exportAs:["matCard"],ngContentSelectors:g,decls:2,vars:0,template:function(en,Be){1&en&&(v.F$t(q),v.Hsn(0),v.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),A})(),ke=(()=>{class A{}return A.\u0275fac=function(en){return new(en||A)},A.\u0275cmp=v.Xpm({type:A,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:P,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(en,Be){1&en&&(v.F$t(Ue),v.Hsn(0),v.TgZ(1,"div",0),v.Hsn(2,1),v.qZA(),v.Hsn(3,2))},encapsulation:2,changeDetection:0}),A})(),Ke=(()=>{class A{}return A.\u0275fac=function(en){return new(en||A)},A.\u0275cmp=v.Xpm({type:A,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:Ee,decls:4,vars:0,template:function(en,Be){1&en&&(v.F$t(Ce),v.TgZ(0,"div"),v.Hsn(1),v.qZA(),v.Hsn(2,1),v.Hsn(3,2))},encapsulation:2,changeDetection:0}),A})(),it=(()=>{class A{}return A.\u0275fac=function(en){return new(en||A)},A.\u0275mod=v.oAB({type:A}),A.\u0275inj=v.cJS({imports:[[I.BQ],I.BQ]}),A})()},508:(Ot,B,R)=>{R.d(B,{_A:()=>Bn,rD:()=>Bt,sG:()=>ie,Ad:()=>Qt,K7:()=>Cn,HF:()=>pt,Y2:()=>D,BQ:()=>ke,X2:()=>mt,uc:()=>je,XK:()=>gn,ey:()=>Si,Ng:()=>ci,rN:()=>ri,nP:()=>me,us:()=>xe,wG:()=>te,si:()=>ne,IR:()=>ft,CB:()=>mn,jH:()=>_i,pj:()=>en,Kr:()=>Be,Id:()=>et,FD:()=>Ut,sb:()=>At,E0:()=>Vt});var v=R(5e3),V=R(226),q=R(9808),g=R(925),Ue=R(5664),P=R(3191),Ce=R(7579),Ee=R(8675),ae=R(6360),Me=R(1159);function Le(Dt,$){if(1&Dt&&v._UZ(0,"mat-pseudo-checkbox",4),2&Dt){const O=v.oxw();v.Q6J("state",O.selected?"checked":"unchecked")("disabled",O.disabled)}}function st(Dt,$){if(1&Dt&&(v.TgZ(0,"span",5),v._uU(1),v.qZA()),2&Dt){const O=v.oxw();v.xp6(1),v.hij("(",O.group.label,")")}}const gt=["*"],at=new v.OlP("mat-sanity-checks",{providedIn:"root",factory:function Nt(){return!0}});let ke=(()=>{class Dt{constructor(O,x,oe){this._sanityChecks=x,this._document=oe,this._hasDoneGlobalChecks=!1,O._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(O){return!(0,g.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[O])}}return Dt.\u0275fac=function(O){return new(O||Dt)(v.LFG(Ue.qm),v.LFG(at,8),v.LFG(q.K0))},Dt.\u0275mod=v.oAB({type:Dt}),Dt.\u0275inj=v.cJS({imports:[[V.vT],V.vT]}),Dt})();function et(Dt){return class extends Dt{constructor(...$){super(...$),this._disabled=!1}get disabled(){return this._disabled}set disabled($){this._disabled=(0,P.Ig)($)}}}function en(Dt,$){return class extends Dt{constructor(...O){super(...O),this.defaultColor=$,this.color=$}get color(){return this._color}set color(O){const x=O||this.defaultColor;x!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),x&&this._elementRef.nativeElement.classList.add(`mat-${x}`),this._color=x)}}}function Be(Dt){return class extends Dt{constructor(...$){super(...$),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple($){this._disableRipple=(0,P.Ig)($)}}}function At(Dt,$=0){return class extends Dt{constructor(...O){super(...O),this._tabIndex=$,this.defaultTabIndex=$}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(O){this._tabIndex=null!=O?(0,P.su)(O):this.defaultTabIndex}}}function Ut(Dt){return class extends Dt{constructor(...$){super(...$),this.stateChanges=new Ce.x,this.errorState=!1}updateErrorState(){const $=this.errorState,re=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);re!==$&&(this.errorState=re,this.stateChanges.next())}}}const Qt=new v.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function an(){return(0,v.f3M)(v.soG)}});class Bn{constructor(){this._localeChanges=new Ce.x,this.localeChanges=this._localeChanges}getValidDateOrNull($){return this.isDateInstance($)&&this.isValid($)?$:null}deserialize($){return null==$||this.isDateInstance($)&&this.isValid($)?$:this.invalid()}setLocale($){this.locale=$,this._localeChanges.next()}compareDate($,O){return this.getYear($)-this.getYear(O)||this.getMonth($)-this.getMonth(O)||this.getDate($)-this.getDate(O)}sameDate($,O){if($&&O){let x=this.isValid($),oe=this.isValid(O);return x&&oe?!this.compareDate($,O):x==oe}return $==O}clampDate($,O,x){return O&&this.compareDate($,O)<0?O:x&&this.compareDate($,x)>0?x:$}}const ie=new v.OlP("mat-date-formats"),Mt=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ut(Dt,$){const O=Array(Dt);for(let x=0;x<Dt;x++)O[x]=$(x);return O}let Zt=(()=>{class Dt extends Bn{constructor(O,x){super(),this.useUtcForDisplay=!1,super.setLocale(O)}getYear(O){return O.getFullYear()}getMonth(O){return O.getMonth()}getDate(O){return O.getDate()}getDayOfWeek(O){return O.getDay()}getMonthNames(O){const x=new Intl.DateTimeFormat(this.locale,{month:O,timeZone:"utc"});return ut(12,oe=>this._format(x,new Date(2017,oe,1)))}getDateNames(){const O=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ut(31,x=>this._format(O,new Date(2017,0,x+1)))}getDayOfWeekNames(O){const x=new Intl.DateTimeFormat(this.locale,{weekday:O,timeZone:"utc"});return ut(7,oe=>this._format(x,new Date(2017,0,oe+1)))}getYearName(O){const x=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(x,O)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(O){return this.getDate(this._createDateWithOverflow(this.getYear(O),this.getMonth(O)+1,0))}clone(O){return new Date(O.getTime())}createDate(O,x,oe){let re=this._createDateWithOverflow(O,x,oe);return re.getMonth(),re}today(){return new Date}parse(O){return"number"==typeof O?new Date(O):O?new Date(Date.parse(O)):null}format(O,x){if(!this.isValid(O))throw Error("NativeDateAdapter: Cannot format invalid date.");const oe=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},x),{timeZone:"utc"}));return this._format(oe,O)}addCalendarYears(O,x){return this.addCalendarMonths(O,12*x)}addCalendarMonths(O,x){let oe=this._createDateWithOverflow(this.getYear(O),this.getMonth(O)+x,this.getDate(O));return this.getMonth(oe)!=((this.getMonth(O)+x)%12+12)%12&&(oe=this._createDateWithOverflow(this.getYear(oe),this.getMonth(oe),0)),oe}addCalendarDays(O,x){return this._createDateWithOverflow(this.getYear(O),this.getMonth(O),this.getDate(O)+x)}toIso8601(O){return[O.getUTCFullYear(),this._2digit(O.getUTCMonth()+1),this._2digit(O.getUTCDate())].join("-")}deserialize(O){if("string"==typeof O){if(!O)return null;if(Mt.test(O)){let x=new Date(O);if(this.isValid(x))return x}}return super.deserialize(O)}isDateInstance(O){return O instanceof Date}isValid(O){return!isNaN(O.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(O,x,oe){const re=new Date;return re.setFullYear(O,x,oe),re.setHours(0,0,0,0),re}_2digit(O){return("00"+O).slice(-2)}_format(O,x){const oe=new Date;return oe.setUTCFullYear(x.getFullYear(),x.getMonth(),x.getDate()),oe.setUTCHours(x.getHours(),x.getMinutes(),x.getSeconds(),x.getMilliseconds()),O.format(oe)}}return Dt.\u0275fac=function(O){return new(O||Dt)(v.LFG(Qt,8),v.LFG(g.t4))},Dt.\u0275prov=v.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();const hn={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Kt=(()=>{class Dt{}return Dt.\u0275fac=function(O){return new(O||Dt)},Dt.\u0275mod=v.oAB({type:Dt}),Dt.\u0275inj=v.cJS({providers:[{provide:Bn,useClass:Zt}]}),Dt})(),gn=(()=>{class Dt{}return Dt.\u0275fac=function(O){return new(O||Dt)},Dt.\u0275mod=v.oAB({type:Dt}),Dt.\u0275inj=v.cJS({providers:[{provide:ie,useValue:hn}],imports:[[Kt]]}),Dt})(),Bt=(()=>{class Dt{isErrorState(O,x){return!!(O&&O.invalid&&(O.touched||x&&x.submitted))}}return Dt.\u0275fac=function(O){return new(O||Dt)},Dt.\u0275prov=v.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})(),mt=(()=>{class Dt{}return Dt.\u0275fac=function(O){return new(O||Dt)},Dt.\u0275dir=v.lG2({type:Dt,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),Dt})();function Vt(Dt,$,O="mat"){Dt.changes.pipe((0,Ee.O)(Dt)).subscribe(({length:x})=>{ot($,`${O}-2-line`,!1),ot($,`${O}-3-line`,!1),ot($,`${O}-multi-line`,!1),2===x||3===x?ot($,`${O}-${x}-line`,!0):x>3&&ot($,`${O}-multi-line`,!0)})}function ot(Dt,$,O){Dt.nativeElement.classList.toggle($,O)}let je=(()=>{class Dt{}return Dt.\u0275fac=function(O){return new(O||Dt)},Dt.\u0275mod=v.oAB({type:Dt}),Dt.\u0275inj=v.cJS({imports:[[ke],ke]}),Dt})();class Pt{constructor($,O,x){this._renderer=$,this.element=O,this.config=x,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rt={enterDuration:225,exitDuration:150},En=(0,g.i$)({passive:!0}),Xn=["mousedown","touchstart"],Dn=["mouseup","mouseleave","touchend","touchcancel"];class ft{constructor($,O,x,oe){this._target=$,this._ngZone=O,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,oe.isBrowser&&(this._containerElement=(0,P.fI)(x))}fadeInRipple($,O,x={}){const oe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),re=Object.assign(Object.assign({},rt),x.animation);x.centered&&($=oe.left+oe.width/2,O=oe.top+oe.height/2);const de=x.radius||function Ae(Dt,$,O){const x=Math.max(Math.abs(Dt-O.left),Math.abs(Dt-O.right)),oe=Math.max(Math.abs($-O.top),Math.abs($-O.bottom));return Math.sqrt(x*x+oe*oe)}($,O,oe),Se=$-oe.left,We=O-oe.top,zt=re.enterDuration,Et=document.createElement("div");Et.classList.add("mat-ripple-element"),Et.style.left=Se-de+"px",Et.style.top=We-de+"px",Et.style.height=2*de+"px",Et.style.width=2*de+"px",null!=x.color&&(Et.style.backgroundColor=x.color),Et.style.transitionDuration=`${zt}ms`,this._containerElement.appendChild(Et),function Rn(Dt){window.getComputedStyle(Dt).getPropertyValue("opacity")}(Et),Et.style.transform="scale(1)";const An=new Pt(this,Et,x);return An.state=0,this._activeRipples.add(An),x.persistent||(this._mostRecentTransientRipple=An),this._runTimeoutOutsideZone(()=>{const Gt=An===this._mostRecentTransientRipple;An.state=1,!x.persistent&&(!Gt||!this._isPointerDown)&&An.fadeOut()},zt),An}fadeOutRipple($){const O=this._activeRipples.delete($);if($===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!O)return;const x=$.element,oe=Object.assign(Object.assign({},rt),$.config.animation);x.style.transitionDuration=`${oe.exitDuration}ms`,x.style.opacity="0",$.state=2,this._runTimeoutOutsideZone(()=>{$.state=3,x.remove()},oe.exitDuration)}fadeOutAll(){this._activeRipples.forEach($=>$.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach($=>{$.config.persistent||$.fadeOut()})}setupTriggerEvents($){const O=(0,P.fI)($);!O||O===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=O,this._registerEvents(Xn))}handleEvent($){"mousedown"===$.type?this._onMousedown($):"touchstart"===$.type?this._onTouchStart($):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Dn),this._pointerUpEventsRegistered=!0)}_onMousedown($){const O=(0,Ue.X6)($),x=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!O&&!x&&(this._isPointerDown=!0,this.fadeInRipple($.clientX,$.clientY,this._target.rippleConfig))}_onTouchStart($){if(!this._target.rippleDisabled&&!(0,Ue.yG)($)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const O=$.changedTouches;for(let x=0;x<O.length;x++)this.fadeInRipple(O[x].clientX,O[x].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach($=>{!$.config.persistent&&(1===$.state||$.config.terminateOnPointerUp&&0===$.state)&&$.fadeOut()}))}_runTimeoutOutsideZone($,O=0){this._ngZone.runOutsideAngular(()=>setTimeout($,O))}_registerEvents($){this._ngZone.runOutsideAngular(()=>{$.forEach(O=>{this._triggerElement.addEventListener(O,this,En)})})}_removeTriggerEvents(){this._triggerElement&&(Xn.forEach($=>{this._triggerElement.removeEventListener($,this,En)}),this._pointerUpEventsRegistered&&Dn.forEach($=>{this._triggerElement.removeEventListener($,this,En)}))}}const D=new v.OlP("mat-ripple-global-options");let te=(()=>{class Dt{constructor(O,x,oe,re,de){this._elementRef=O,this._animationMode=de,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=re||{},this._rippleRenderer=new ft(this,x,O,oe)}get disabled(){return this._disabled}set disabled(O){O&&this.fadeOutAllNonPersistent(),this._disabled=O,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(O){this._trigger=O,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(O,x=0,oe){return"number"==typeof O?this._rippleRenderer.fadeInRipple(O,x,Object.assign(Object.assign({},this.rippleConfig),oe)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),O))}}return Dt.\u0275fac=function(O){return new(O||Dt)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(g.t4),v.Y36(D,8),v.Y36(ae.Qb,8))},Dt.\u0275dir=v.lG2({type:Dt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(O,x){2&O&&v.ekj("mat-ripple-unbounded",x.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Dt})(),ne=(()=>{class Dt{}return Dt.\u0275fac=function(O){return new(O||Dt)},Dt.\u0275mod=v.oAB({type:Dt}),Dt.\u0275inj=v.cJS({imports:[[ke],ke]}),Dt})(),me=(()=>{class Dt{constructor(O){this._animationMode=O,this.state="unchecked",this.disabled=!1}}return Dt.\u0275fac=function(O){return new(O||Dt)(v.Y36(ae.Qb,8))},Dt.\u0275cmp=v.Xpm({type:Dt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(O,x){2&O&&v.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===x.state)("mat-pseudo-checkbox-checked","checked"===x.state)("mat-pseudo-checkbox-disabled",x.disabled)("_mat-animation-noopable","NoopAnimations"===x._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(O,x){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),Dt})(),xe=(()=>{class Dt{}return Dt.\u0275fac=function(O){return new(O||Dt)},Dt.\u0275mod=v.oAB({type:Dt}),Dt.\u0275inj=v.cJS({imports:[[ke]]}),Dt})();const pt=new v.OlP("MAT_OPTION_PARENT_COMPONENT"),Cn=new v.OlP("MatOptgroup");let ei=0;class ri{constructor($,O=!1){this.source=$,this.isUserInput=O}}let Oi=(()=>{class Dt{constructor(O,x,oe,re){this._element=O,this._changeDetectorRef=x,this._parent=oe,this.group=re,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+ei++,this.onSelectionChange=new v.vpe,this._stateChanges=new Ce.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(O){this._disabled=(0,P.Ig)(O)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(O,x){const oe=this._getHostElement();"function"==typeof oe.focus&&oe.focus(x)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(O){(O.keyCode===Me.K5||O.keyCode===Me.L_)&&!(0,Me.Vb)(O)&&(this._selectViaInteraction(),O.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const O=this.viewValue;O!==this._mostRecentViewValue&&(this._mostRecentViewValue=O,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(O=!1){this.onSelectionChange.emit(new ri(this,O))}}return Dt.\u0275fac=function(O){v.$Z()},Dt.\u0275dir=v.lG2({type:Dt,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),Dt})(),Si=(()=>{class Dt extends Oi{constructor(O,x,oe,re){super(O,x,oe,re)}}return Dt.\u0275fac=function(O){return new(O||Dt)(v.Y36(v.SBq),v.Y36(v.sBO),v.Y36(pt,8),v.Y36(Cn,8))},Dt.\u0275cmp=v.Xpm({type:Dt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(O,x){1&O&&v.NdJ("click",function(){return x._selectViaInteraction()})("keydown",function(re){return x._handleKeydown(re)}),2&O&&(v.Ikx("id",x.id),v.uIk("tabindex",x._getTabIndex())("aria-selected",x._getAriaSelected())("aria-disabled",x.disabled.toString()),v.ekj("mat-selected",x.selected)("mat-option-multiple",x.multiple)("mat-active",x.active)("mat-option-disabled",x.disabled))},exportAs:["matOption"],features:[v.qOj],ngContentSelectors:gt,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(O,x){1&O&&(v.F$t(),v.YNc(0,Le,1,2,"mat-pseudo-checkbox",0),v.TgZ(1,"span",1),v.Hsn(2),v.qZA(),v.YNc(3,st,2,1,"span",2),v._UZ(4,"div",3)),2&O&&(v.Q6J("ngIf",x.multiple),v.xp6(3),v.Q6J("ngIf",x.group&&x.group._inert),v.xp6(1),v.Q6J("matRippleTrigger",x._getHostElement())("matRippleDisabled",x.disabled||x.disableRipple))},directives:[me,q.O5,te],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),Dt})();function mn(Dt,$,O){if(O.length){let x=$.toArray(),oe=O.toArray(),re=0;for(let de=0;de<Dt+1;de++)x[de].group&&x[de].group===oe[re]&&re++;return re}return 0}function _i(Dt,$,O,x){return Dt<O?Dt:Dt+$>O+x?Math.max(0,Dt-x+$):O}let ci=(()=>{class Dt{}return Dt.\u0275fac=function(O){return new(O||Dt)},Dt.\u0275mod=v.oAB({type:Dt}),Dt.\u0275inj=v.cJS({imports:[[ne,q.ez,ke,xe]]}),Dt})()},6856:(Ot,B,R)=>{R.d(B,{FA:()=>Ui,Mq:()=>zt,hl:()=>wt,nW:()=>Kn});var v=R(5664),V=R(9776),I=R(7429),q=R(9808),g=R(5e3),Ue=R(7423),P=R(495),Ce=R(508),Ee=R(7579),ae=R(727),Me=R(6451),we=R(9646),Oe=R(1159),Le=R(5698),st=R(8675),gt=R(9300),Je=R(226),ht=R(3191),Xe=R(925),Nt=R(1777),at=R(3075),ke=R(7322),Ke=R(7531);const it=["mat-calendar-body",""];function A(Tt,ln){if(1&Tt&&(g.TgZ(0,"tr",2)(1,"td",3),g._uU(2),g.qZA()()),2&Tt){const j=g.oxw();g.xp6(1),g.Udp("padding-top",j._cellPadding)("padding-bottom",j._cellPadding),g.uIk("colspan",j.numCols),g.xp6(1),g.hij(" ",j.label," ")}}function et(Tt,ln){if(1&Tt&&(g.TgZ(0,"td",3),g._uU(1),g.qZA()),2&Tt){const j=g.oxw(2);g.Udp("padding-top",j._cellPadding)("padding-bottom",j._cellPadding),g.uIk("colspan",j._firstRowOffset),g.xp6(1),g.hij(" ",j._firstRowOffset>=j.labelMinRequiredCells?j.label:""," ")}}function en(Tt,ln){if(1&Tt){const j=g.EpF();g.TgZ(0,"td",7)(1,"button",8),g.NdJ("click",function(tt){const hi=g.CHM(j).$implicit;return g.oxw(2)._cellClicked(hi,tt)}),g.TgZ(2,"div",9),g._uU(3),g.qZA(),g._UZ(4,"div",10),g.qZA()()}if(2&Tt){const j=ln.$implicit,he=ln.index,tt=g.oxw().index,xt=g.oxw();g.Udp("width",xt._cellWidth)("padding-top",xt._cellPadding)("padding-bottom",xt._cellPadding),g.uIk("data-mat-row",tt)("data-mat-col",he),g.xp6(1),g.ekj("mat-calendar-body-disabled",!j.enabled)("mat-calendar-body-active",xt._isActiveCell(tt,he))("mat-calendar-body-range-start",xt._isRangeStart(j.compareValue))("mat-calendar-body-range-end",xt._isRangeEnd(j.compareValue))("mat-calendar-body-in-range",xt._isInRange(j.compareValue))("mat-calendar-body-comparison-bridge-start",xt._isComparisonBridgeStart(j.compareValue,tt,he))("mat-calendar-body-comparison-bridge-end",xt._isComparisonBridgeEnd(j.compareValue,tt,he))("mat-calendar-body-comparison-start",xt._isComparisonStart(j.compareValue))("mat-calendar-body-comparison-end",xt._isComparisonEnd(j.compareValue))("mat-calendar-body-in-comparison-range",xt._isInComparisonRange(j.compareValue))("mat-calendar-body-preview-start",xt._isPreviewStart(j.compareValue))("mat-calendar-body-preview-end",xt._isPreviewEnd(j.compareValue))("mat-calendar-body-in-preview",xt._isInPreview(j.compareValue)),g.Q6J("ngClass",j.cssClasses)("tabindex",xt._isActiveCell(tt,he)?0:-1),g.uIk("aria-label",j.ariaLabel)("aria-disabled",!j.enabled||null)("aria-pressed",xt._isSelected(j.compareValue))("aria-current",xt.todayValue===j.compareValue?"date":null),g.xp6(1),g.ekj("mat-calendar-body-selected",xt._isSelected(j.compareValue))("mat-calendar-body-comparison-identical",xt._isComparisonIdentical(j.compareValue))("mat-calendar-body-today",xt.todayValue===j.compareValue),g.xp6(1),g.hij(" ",j.displayValue," ")}}function Be(Tt,ln){if(1&Tt&&(g.TgZ(0,"tr",4),g.YNc(1,et,2,6,"td",5),g.YNc(2,en,5,47,"td",6),g.qZA()),2&Tt){const j=ln.$implicit,he=ln.index,tt=g.oxw();g.xp6(1),g.Q6J("ngIf",0===he&&tt._firstRowOffset),g.xp6(1),g.Q6J("ngForOf",j)}}function At(Tt,ln){if(1&Tt&&(g.TgZ(0,"th",5)(1,"span",6),g._uU(2),g.qZA(),g.TgZ(3,"span",7),g._uU(4),g.qZA()()),2&Tt){const j=ln.$implicit;g.xp6(2),g.Oqu(j.long),g.xp6(2),g.Oqu(j.narrow)}}const Ut=["*"];function nn(Tt,ln){}function Qt(Tt,ln){if(1&Tt){const j=g.EpF();g.TgZ(0,"mat-month-view",5),g.NdJ("activeDateChange",function(tt){return g.CHM(j),g.oxw().activeDate=tt})("_userSelection",function(tt){return g.CHM(j),g.oxw()._dateSelected(tt)}),g.qZA()}if(2&Tt){const j=g.oxw();g.Q6J("activeDate",j.activeDate)("selected",j.selected)("dateFilter",j.dateFilter)("maxDate",j.maxDate)("minDate",j.minDate)("dateClass",j.dateClass)("comparisonStart",j.comparisonStart)("comparisonEnd",j.comparisonEnd)}}function an(Tt,ln){if(1&Tt){const j=g.EpF();g.TgZ(0,"mat-year-view",6),g.NdJ("activeDateChange",function(tt){return g.CHM(j),g.oxw().activeDate=tt})("monthSelected",function(tt){return g.CHM(j),g.oxw()._monthSelectedInYearView(tt)})("selectedChange",function(tt){return g.CHM(j),g.oxw()._goToDateInView(tt,"month")}),g.qZA()}if(2&Tt){const j=g.oxw();g.Q6J("activeDate",j.activeDate)("selected",j.selected)("dateFilter",j.dateFilter)("maxDate",j.maxDate)("minDate",j.minDate)("dateClass",j.dateClass)}}function Bn(Tt,ln){if(1&Tt){const j=g.EpF();g.TgZ(0,"mat-multi-year-view",7),g.NdJ("activeDateChange",function(tt){return g.CHM(j),g.oxw().activeDate=tt})("yearSelected",function(tt){return g.CHM(j),g.oxw()._yearSelectedInMultiYearView(tt)})("selectedChange",function(tt){return g.CHM(j),g.oxw()._goToDateInView(tt,"year")}),g.qZA()}if(2&Tt){const j=g.oxw();g.Q6J("activeDate",j.activeDate)("selected",j.selected)("dateFilter",j.dateFilter)("maxDate",j.maxDate)("minDate",j.minDate)("dateClass",j.dateClass)}}function ie(Tt,ln){}const Mt=["button"];function ut(Tt,ln){1&Tt&&(g.O4$(),g.TgZ(0,"svg",3),g._UZ(1,"path",4),g.qZA())}const Zt=[[["","matDatepickerToggleIcon",""]]],hn=["[matDatepickerToggleIcon]"];class mt{constructor(ln,j,he,tt,xt={},hi=ln,gi){this.value=ln,this.displayValue=j,this.ariaLabel=he,this.enabled=tt,this.cssClasses=xt,this.compareValue=hi,this.rawValue=gi}}let Vt=(()=>{class Tt{constructor(j,he){this._elementRef=j,this._ngZone=he,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new g.vpe,this.previewChange=new g.vpe,this._enterHandler=tt=>{if(this._skipNextFocus&&"focus"===tt.type)this._skipNextFocus=!1;else if(tt.target&&this.isRange){const xt=this._getCellFromElement(tt.target);xt&&this._ngZone.run(()=>this.previewChange.emit({value:xt.enabled?xt:null,event:tt}))}},this._leaveHandler=tt=>{null!==this.previewEnd&&this.isRange&&tt.target&&this._getCellFromElement(tt.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:tt}))},he.runOutsideAngular(()=>{const tt=j.nativeElement;tt.addEventListener("mouseenter",this._enterHandler,!0),tt.addEventListener("focus",this._enterHandler,!0),tt.addEventListener("mouseleave",this._leaveHandler,!0),tt.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(j,he){j.enabled&&this.selectedValueChange.emit({value:j.value,event:he})}_isSelected(j){return this.startValue===j||this.endValue===j}ngOnChanges(j){const he=j.numCols,{rows:tt,numCols:xt}=this;(j.rows||he)&&(this._firstRowOffset=tt&&tt.length&&tt[0].length?xt-tt[0].length:0),(j.cellAspectRatio||he||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/xt+"%"),(he||!this._cellWidth)&&(this._cellWidth=100/xt+"%")}ngOnDestroy(){const j=this._elementRef.nativeElement;j.removeEventListener("mouseenter",this._enterHandler,!0),j.removeEventListener("focus",this._enterHandler,!0),j.removeEventListener("mouseleave",this._leaveHandler,!0),j.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(j,he){let tt=j*this.numCols+he;return j&&(tt-=this._firstRowOffset),tt==this.activeCell}_focusActiveCell(j=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Le.q)(1)).subscribe(()=>{setTimeout(()=>{const he=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");he&&(j||(this._skipNextFocus=!0),he.focus())})})})}_isRangeStart(j){return je(j,this.startValue,this.endValue)}_isRangeEnd(j){return Pt(j,this.startValue,this.endValue)}_isInRange(j){return rt(j,this.startValue,this.endValue,this.isRange)}_isComparisonStart(j){return je(j,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(j,he,tt){if(!this._isComparisonStart(j)||this._isRangeStart(j)||!this._isInRange(j))return!1;let xt=this.rows[he][tt-1];if(!xt){const hi=this.rows[he-1];xt=hi&&hi[hi.length-1]}return xt&&!this._isRangeEnd(xt.compareValue)}_isComparisonBridgeEnd(j,he,tt){if(!this._isComparisonEnd(j)||this._isRangeEnd(j)||!this._isInRange(j))return!1;let xt=this.rows[he][tt+1];if(!xt){const hi=this.rows[he+1];xt=hi&&hi[0]}return xt&&!this._isRangeStart(xt.compareValue)}_isComparisonEnd(j){return Pt(j,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(j){return rt(j,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(j){return this.comparisonStart===this.comparisonEnd&&j===this.comparisonStart}_isPreviewStart(j){return je(j,this.previewStart,this.previewEnd)}_isPreviewEnd(j){return Pt(j,this.previewStart,this.previewEnd)}_isInPreview(j){return rt(j,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(j){let he;if(ot(j)?he=j:ot(j.parentNode)&&(he=j.parentNode),he){const tt=he.getAttribute("data-mat-row"),xt=he.getAttribute("data-mat-col");if(tt&&xt)return this.rows[parseInt(tt)][parseInt(xt)]}return null}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.Y36(g.SBq),g.Y36(g.R0b))},Tt.\u0275cmp=g.Xpm({type:Tt,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[g.TTD],attrs:it,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(j,he){1&j&&(g.YNc(0,A,3,6,"tr",0),g.YNc(1,Be,3,2,"tr",1)),2&j&&(g.Q6J("ngIf",he._firstRowOffset<he.labelMinRequiredCells),g.xp6(1),g.Q6J("ngForOf",he.rows))},directives:[q.O5,q.sg,q.mk],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),Tt})();function ot(Tt){return"TD"===Tt.nodeName}function je(Tt,ln,j){return null!==j&&ln!==j&&Tt<j&&Tt===ln}function Pt(Tt,ln,j){return null!==ln&&ln!==j&&Tt>=ln&&Tt===j}function rt(Tt,ln,j,he){return he&&null!==ln&&null!==j&&ln!==j&&Tt>=ln&&Tt<=j}class bt{constructor(ln,j){this.start=ln,this.end=j}}let En=(()=>{class Tt{constructor(j,he){this.selection=j,this._adapter=he,this._selectionChanged=new Ee.x,this.selectionChanged=this._selectionChanged,this.selection=j}updateSelection(j,he){const tt=this.selection;this.selection=j,this._selectionChanged.next({selection:j,source:he,oldValue:tt})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(j){return this._adapter.isDateInstance(j)&&this._adapter.isValid(j)}}return Tt.\u0275fac=function(j){g.$Z()},Tt.\u0275prov=g.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})(),Xn=(()=>{class Tt extends En{constructor(j){super(null,j)}add(j){super.updateSelection(j,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const j=new Tt(this._adapter);return j.updateSelection(this.selection,this),j}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.LFG(Ce._A))},Tt.\u0275prov=g.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})();const Rn={provide:En,deps:[[new g.FiY,new g.tp0,En],Ce._A],useFactory:function ft(Tt,ln){return Tt||new Xn(ln)}},te=new g.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Ft=(()=>{class Tt{constructor(j,he,tt,xt,hi){this._changeDetectorRef=j,this._dateFormats=he,this._dateAdapter=tt,this._dir=xt,this._rangeStrategy=hi,this._rerenderSubscription=ae.w0.EMPTY,this.selectedChange=new g.vpe,this._userSelection=new g.vpe,this.activeDateChange=new g.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(j){const he=this._activeDate,tt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(tt,this.minDate,this.maxDate),this._hasSameMonthAndYear(he,this._activeDate)||this._init()}get selected(){return this._selected}set selected(j){this._selected=j instanceof bt?j:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(j){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))}get maxDate(){return this._maxDate}set maxDate(j){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,st.O)(null)).subscribe(()=>this._init())}ngOnChanges(j){const he=j.comparisonStart||j.comparisonEnd;he&&!he.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(j){const he=j.value,tt=this._dateAdapter.getYear(this.activeDate),xt=this._dateAdapter.getMonth(this.activeDate),hi=this._dateAdapter.createDate(tt,xt,he);let gi,nt;this._selected instanceof bt?(gi=this._getDateInCurrentMonth(this._selected.start),nt=this._getDateInCurrentMonth(this._selected.end)):gi=nt=this._getDateInCurrentMonth(this._selected),(gi!==he||nt!==he)&&this.selectedChange.emit(hi),this._userSelection.emit({value:hi,event:j.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(j){const he=this._activeDate,tt=this._isRtl();switch(j.keyCode){case Oe.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,tt?1:-1);break;case Oe.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,tt?-1:1);break;case Oe.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Oe.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Oe.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Oe.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Oe.Ku:this.activeDate=j.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Oe.VM:this.activeDate=j.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Oe.K5:case Oe.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&j.preventDefault());case Oe.hY:return void(null!=this._previewEnd&&!(0,Oe.Vb)(j)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:j}),j.preventDefault(),j.stopPropagation()));default:return}this._dateAdapter.compareDate(he,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),j.preventDefault()}_handleCalendarBodyKeyup(j){(j.keyCode===Oe.L_||j.keyCode===Oe.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:j}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let j=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(j)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(j){this._matCalendarBody._focusActiveCell(j)}_previewChanged({event:j,value:he}){if(this._rangeStrategy){const xt=this._rangeStrategy.createPreview(he?he.rawValue:null,this.selected,j);this._previewStart=this._getCellCompareValue(xt.start),this._previewEnd=this._getCellCompareValue(xt.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const j=this._dateAdapter.getFirstDayOfWeek(),he=this._dateAdapter.getDayOfWeekNames("narrow");let xt=this._dateAdapter.getDayOfWeekNames("long").map((hi,gi)=>({long:hi,narrow:he[gi]}));this._weekdays=xt.slice(j).concat(xt.slice(0,j))}_createWeekCells(){const j=this._dateAdapter.getNumDaysInMonth(this.activeDate),he=this._dateAdapter.getDateNames();this._weeks=[[]];for(let tt=0,xt=this._firstWeekOffset;tt<j;tt++,xt++){7==xt&&(this._weeks.push([]),xt=0);const hi=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),tt+1),gi=this._shouldEnableDate(hi),nt=this._dateAdapter.format(hi,this._dateFormats.display.dateA11yLabel),Xr=this.dateClass?this.dateClass(hi,"month"):void 0;this._weeks[this._weeks.length-1].push(new mt(tt+1,he[tt],nt,gi,Xr,this._getCellCompareValue(hi),hi))}}_shouldEnableDate(j){return!!j&&(!this.minDate||this._dateAdapter.compareDate(j,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(j,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(j))}_getDateInCurrentMonth(j){return j&&this._hasSameMonthAndYear(j,this.activeDate)?this._dateAdapter.getDate(j):null}_hasSameMonthAndYear(j,he){return!(!j||!he||this._dateAdapter.getMonth(j)!=this._dateAdapter.getMonth(he)||this._dateAdapter.getYear(j)!=this._dateAdapter.getYear(he))}_getCellCompareValue(j){if(j){const he=this._dateAdapter.getYear(j),tt=this._dateAdapter.getMonth(j),xt=this._dateAdapter.getDate(j);return new Date(he,tt,xt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(j){j instanceof bt?(this._rangeStart=this._getCellCompareValue(j.start),this._rangeEnd=this._getCellCompareValue(j.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(j),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(j){return!this.dateFilter||this.dateFilter(j)}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.Y36(g.sBO),g.Y36(Ce.sG,8),g.Y36(Ce._A,8),g.Y36(Je.Is,8),g.Y36(te,8))},Tt.\u0275cmp=g.Xpm({type:Tt,selectors:[["mat-month-view"]],viewQuery:function(j,he){if(1&j&&g.Gf(Vt,5),2&j){let tt;g.iGM(tt=g.CRH())&&(he._matCalendarBody=tt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[g.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(j,he){1&j&&(g.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),g.YNc(3,At,5,2,"th",2),g.qZA(),g.TgZ(4,"tr"),g._UZ(5,"th",3),g.qZA()(),g.TgZ(6,"tbody",4),g.NdJ("selectedValueChange",function(xt){return he._dateSelected(xt)})("previewChange",function(xt){return he._previewChanged(xt)})("keyup",function(xt){return he._handleCalendarBodyKeyup(xt)})("keydown",function(xt){return he._handleCalendarBodyKeydown(xt)}),g.qZA()()),2&j&&(g.xp6(3),g.Q6J("ngForOf",he._weekdays),g.xp6(3),g.Q6J("label",he._monthLabel)("rows",he._weeks)("todayValue",he._todayDate)("startValue",he._rangeStart)("endValue",he._rangeEnd)("comparisonStart",he._comparisonRangeStart)("comparisonEnd",he._comparisonRangeEnd)("previewStart",he._previewStart)("previewEnd",he._previewEnd)("isRange",he._isRange)("labelMinRequiredCells",3)("activeCell",he._dateAdapter.getDate(he.activeDate)-1))},directives:[Vt,q.sg],encapsulation:2,changeDetection:0}),Tt})(),Cn=(()=>{class Tt{constructor(j,he,tt){this._changeDetectorRef=j,this._dateAdapter=he,this._dir=tt,this._rerenderSubscription=ae.w0.EMPTY,this.selectedChange=new g.vpe,this.yearSelected=new g.vpe,this.activeDateChange=new g.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(j){let he=this._activeDate;const tt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(tt,this.minDate,this.maxDate),xn(this._dateAdapter,he,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(j){this._selected=j instanceof bt?j:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j)),this._setSelectedYear(j)}get minDate(){return this._minDate}set minDate(j){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))}get maxDate(){return this._maxDate}set maxDate(j){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,st.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const he=this._dateAdapter.getYear(this._activeDate)-ei(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let tt=0,xt=[];tt<24;tt++)xt.push(he+tt),4==xt.length&&(this._years.push(xt.map(hi=>this._createCellForYear(hi))),xt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(j){const he=j.value;this.yearSelected.emit(this._dateAdapter.createDate(he,0,1));let tt=this._dateAdapter.getMonth(this.activeDate),xt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(he,tt,1));this.selectedChange.emit(this._dateAdapter.createDate(he,tt,Math.min(this._dateAdapter.getDate(this.activeDate),xt)))}_handleCalendarBodyKeydown(j){const he=this._activeDate,tt=this._isRtl();switch(j.keyCode){case Oe.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,tt?1:-1);break;case Oe.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,tt?-1:1);break;case Oe.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Oe.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Oe.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ei(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case Oe.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-ei(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case Oe.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,j.altKey?-240:-24);break;case Oe.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,j.altKey?240:24);break;case Oe.K5:case Oe.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(he,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),j.preventDefault()}_handleCalendarBodyKeyup(j){(j.keyCode===Oe.L_||j.keyCode===Oe.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:j}),this._selectionKeyPressed=!1)}_getActiveCell(){return ei(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(j){const he=this._dateAdapter.createDate(j,0,1),tt=this._dateAdapter.getYearName(he),xt=this.dateClass?this.dateClass(he,"multi-year"):void 0;return new mt(j,tt,tt,this._shouldEnableYear(j),xt)}_shouldEnableYear(j){if(null==j||this.maxDate&&j>this._dateAdapter.getYear(this.maxDate)||this.minDate&&j<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let tt=this._dateAdapter.createDate(j,0,1);this._dateAdapter.getYear(tt)==j;tt=this._dateAdapter.addCalendarDays(tt,1))if(this.dateFilter(tt))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(j){if(this._selectedYear=null,j instanceof bt){const he=j.start||j.end;he&&(this._selectedYear=this._dateAdapter.getYear(he))}else j&&(this._selectedYear=this._dateAdapter.getYear(j))}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.Y36(g.sBO),g.Y36(Ce._A,8),g.Y36(Je.Is,8))},Tt.\u0275cmp=g.Xpm({type:Tt,selectors:[["mat-multi-year-view"]],viewQuery:function(j,he){if(1&j&&g.Gf(Vt,5),2&j){let tt;g.iGM(tt=g.CRH())&&(he._matCalendarBody=tt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(j,he){1&j&&(g.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),g._UZ(3,"th",2),g.qZA()(),g.TgZ(4,"tbody",3),g.NdJ("selectedValueChange",function(xt){return he._yearSelected(xt)})("keyup",function(xt){return he._handleCalendarBodyKeyup(xt)})("keydown",function(xt){return he._handleCalendarBodyKeydown(xt)}),g.qZA()()),2&j&&(g.xp6(4),g.Q6J("rows",he._years)("todayValue",he._todayYear)("startValue",he._selectedYear)("endValue",he._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",he._getActiveCell()))},directives:[Vt],encapsulation:2,changeDetection:0}),Tt})();function xn(Tt,ln,j,he,tt){const xt=Tt.getYear(ln),hi=Tt.getYear(j),gi=ri(Tt,he,tt);return Math.floor((xt-gi)/24)===Math.floor((hi-gi)/24)}function ei(Tt,ln,j,he){return function Oi(Tt,ln){return(Tt%ln+ln)%ln}(Tt.getYear(ln)-ri(Tt,j,he),24)}function ri(Tt,ln,j){let he=0;return j?he=Tt.getYear(j)-24+1:ln&&(he=Tt.getYear(ln)),he}let Si=(()=>{class Tt{constructor(j,he,tt,xt){this._changeDetectorRef=j,this._dateFormats=he,this._dateAdapter=tt,this._dir=xt,this._rerenderSubscription=ae.w0.EMPTY,this.selectedChange=new g.vpe,this.monthSelected=new g.vpe,this.activeDateChange=new g.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(j){let he=this._activeDate;const tt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(tt,this.minDate,this.maxDate),this._dateAdapter.getYear(he)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(j){this._selected=j instanceof bt?j:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j)),this._setSelectedMonth(j)}get minDate(){return this._minDate}set minDate(j){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))}get maxDate(){return this._maxDate}set maxDate(j){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,st.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(j){const he=j.value,tt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),he,1);this.monthSelected.emit(tt);const xt=this._dateAdapter.getNumDaysInMonth(tt);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),he,Math.min(this._dateAdapter.getDate(this.activeDate),xt)))}_handleCalendarBodyKeydown(j){const he=this._activeDate,tt=this._isRtl();switch(j.keyCode){case Oe.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,tt?1:-1);break;case Oe.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,tt?-1:1);break;case Oe.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Oe.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Oe.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Oe.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Oe.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,j.altKey?-10:-1);break;case Oe.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,j.altKey?10:1);break;case Oe.K5:case Oe.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(he,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),j.preventDefault()}_handleCalendarBodyKeyup(j){(j.keyCode===Oe.L_||j.keyCode===Oe.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:j}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let j=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(he=>he.map(tt=>this._createCellForMonth(tt,j[tt]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(j){return j&&this._dateAdapter.getYear(j)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(j):null}_createCellForMonth(j,he){const tt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),j,1),xt=this._dateAdapter.format(tt,this._dateFormats.display.monthYearA11yLabel),hi=this.dateClass?this.dateClass(tt,"year"):void 0;return new mt(j,he.toLocaleUpperCase(),xt,this._shouldEnableMonth(j),hi)}_shouldEnableMonth(j){const he=this._dateAdapter.getYear(this.activeDate);if(null==j||this._isYearAndMonthAfterMaxDate(he,j)||this._isYearAndMonthBeforeMinDate(he,j))return!1;if(!this.dateFilter)return!0;for(let xt=this._dateAdapter.createDate(he,j,1);this._dateAdapter.getMonth(xt)==j;xt=this._dateAdapter.addCalendarDays(xt,1))if(this.dateFilter(xt))return!0;return!1}_isYearAndMonthAfterMaxDate(j,he){if(this.maxDate){const tt=this._dateAdapter.getYear(this.maxDate),xt=this._dateAdapter.getMonth(this.maxDate);return j>tt||j===tt&&he>xt}return!1}_isYearAndMonthBeforeMinDate(j,he){if(this.minDate){const tt=this._dateAdapter.getYear(this.minDate),xt=this._dateAdapter.getMonth(this.minDate);return j<tt||j===tt&&he<xt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(j){this._selectedMonth=j instanceof bt?this._getMonthInCurrentYear(j.start)||this._getMonthInCurrentYear(j.end):this._getMonthInCurrentYear(j)}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.Y36(g.sBO),g.Y36(Ce.sG,8),g.Y36(Ce._A,8),g.Y36(Je.Is,8))},Tt.\u0275cmp=g.Xpm({type:Tt,selectors:[["mat-year-view"]],viewQuery:function(j,he){if(1&j&&g.Gf(Vt,5),2&j){let tt;g.iGM(tt=g.CRH())&&(he._matCalendarBody=tt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(j,he){1&j&&(g.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),g._UZ(3,"th",2),g.qZA()(),g.TgZ(4,"tbody",3),g.NdJ("selectedValueChange",function(xt){return he._monthSelected(xt)})("keyup",function(xt){return he._handleCalendarBodyKeyup(xt)})("keydown",function(xt){return he._handleCalendarBodyKeydown(xt)}),g.qZA()()),2&j&&(g.xp6(4),g.Q6J("label",he._yearLabel)("rows",he._months)("todayValue",he._todayMonth)("startValue",he._selectedMonth)("endValue",he._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",he._dateAdapter.getMonth(he.activeDate)))},directives:[Vt],encapsulation:2,changeDetection:0}),Tt})(),mn=(()=>{class Tt{constructor(){this.changes=new Ee.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(j,he){return`${j} \u2013 ${he}`}}return Tt.\u0275fac=function(j){return new(j||Tt)},Tt.\u0275prov=g.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})(),_i=0,ci=(()=>{class Tt{constructor(j,he,tt,xt,hi){this._intl=j,this.calendar=he,this._dateAdapter=tt,this._dateFormats=xt,this._buttonDescriptionId="mat-calendar-button-"+_i++,this.calendar.stateChanges.subscribe(()=>hi.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const he=this._dateAdapter.getYear(this.calendar.activeDate)-ei(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),tt=he+24-1,xt=this._dateAdapter.getYearName(this._dateAdapter.createDate(he,0,1)),hi=this._dateAdapter.getYearName(this._dateAdapter.createDate(tt,0,1));return this._intl.formatYearRange(xt,hi)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(j,he){return"month"==this.calendar.currentView?this._dateAdapter.getYear(j)==this._dateAdapter.getYear(he)&&this._dateAdapter.getMonth(j)==this._dateAdapter.getMonth(he):"year"==this.calendar.currentView?this._dateAdapter.getYear(j)==this._dateAdapter.getYear(he):xn(this._dateAdapter,j,he,this.calendar.minDate,this.calendar.maxDate)}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.Y36(mn),g.Y36((0,g.Gpc)(()=>Dt)),g.Y36(Ce._A,8),g.Y36(Ce.sG,8),g.Y36(g.sBO))},Tt.\u0275cmp=g.Xpm({type:Tt,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Ut,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(j,he){1&j&&(g.F$t(),g.TgZ(0,"div",0)(1,"div",1)(2,"button",2),g.NdJ("click",function(){return he.currentPeriodClicked()}),g.TgZ(3,"span"),g._uU(4),g.qZA(),g.O4$(),g.TgZ(5,"svg",3),g._UZ(6,"polygon",4),g.qZA()(),g.kcU(),g._UZ(7,"div",5),g.Hsn(8),g.TgZ(9,"button",6),g.NdJ("click",function(){return he.previousClicked()}),g.qZA(),g.TgZ(10,"button",7),g.NdJ("click",function(){return he.nextClicked()}),g.qZA()()()),2&j&&(g.xp6(2),g.uIk("aria-label",he.periodButtonLabel)("aria-describedby",he._buttonDescriptionId),g.xp6(1),g.uIk("id",he._buttonDescriptionId),g.xp6(1),g.Oqu(he.periodButtonText),g.xp6(1),g.ekj("mat-calendar-invert","month"!==he.calendar.currentView),g.xp6(4),g.Q6J("disabled",!he.previousEnabled()),g.uIk("aria-label",he.prevButtonLabel),g.xp6(1),g.Q6J("disabled",!he.nextEnabled()),g.uIk("aria-label",he.nextButtonLabel))},directives:[Ue.lW],encapsulation:2,changeDetection:0}),Tt})(),Dt=(()=>{class Tt{constructor(j,he,tt,xt){this._dateAdapter=he,this._dateFormats=tt,this._changeDetectorRef=xt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new g.vpe,this.yearSelected=new g.vpe,this.monthSelected=new g.vpe,this.viewChanged=new g.vpe(!0),this._userSelection=new g.vpe,this.stateChanges=new Ee.x,this._intlChanges=j.changes.subscribe(()=>{xt.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(j){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))}get selected(){return this._selected}set selected(j){this._selected=j instanceof bt?j:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))}get minDate(){return this._minDate}set minDate(j){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))}get maxDate(){return this._maxDate}set maxDate(j){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))}get activeDate(){return this._clampedActiveDate}set activeDate(j){this._clampedActiveDate=this._dateAdapter.clampDate(j,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(j){const he=this._currentView!==j?j:null;this._currentView=j,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),he&&this.viewChanged.emit(he)}ngAfterContentInit(){this._calendarHeaderPortal=new I.C5(this.headerComponent||ci),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(j){const he=j.minDate&&!this._dateAdapter.sameDate(j.minDate.previousValue,j.minDate.currentValue)?j.minDate:void 0,tt=j.maxDate&&!this._dateAdapter.sameDate(j.maxDate.previousValue,j.maxDate.currentValue)?j.maxDate:void 0,xt=he||tt||j.dateFilter;if(xt&&!xt.firstChange){const hi=this._getCurrentViewComponent();hi&&(this._changeDetectorRef.detectChanges(),hi._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(j){const he=j.value;(this.selected instanceof bt||he&&!this._dateAdapter.sameDate(he,this.selected))&&this.selectedChange.emit(he),this._userSelection.emit(j)}_yearSelectedInMultiYearView(j){this.yearSelected.emit(j)}_monthSelectedInYearView(j){this.monthSelected.emit(j)}_goToDateInView(j,he){this.activeDate=j,this.currentView=he}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.Y36(mn),g.Y36(Ce._A,8),g.Y36(Ce.sG,8),g.Y36(g.sBO))},Tt.\u0275cmp=g.Xpm({type:Tt,selectors:[["mat-calendar"]],viewQuery:function(j,he){if(1&j&&(g.Gf(Ft,5),g.Gf(Si,5),g.Gf(Cn,5)),2&j){let tt;g.iGM(tt=g.CRH())&&(he.monthView=tt.first),g.iGM(tt=g.CRH())&&(he.yearView=tt.first),g.iGM(tt=g.CRH())&&(he.multiYearView=tt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[g._Bn([Rn]),g.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(j,he){1&j&&(g.YNc(0,nn,0,0,"ng-template",0),g.TgZ(1,"div",1),g.YNc(2,Qt,1,8,"mat-month-view",2),g.YNc(3,an,1,6,"mat-year-view",3),g.YNc(4,Bn,1,6,"mat-multi-year-view",4),g.qZA()),2&j&&(g.Q6J("cdkPortalOutlet",he._calendarHeaderPortal),g.xp6(1),g.Q6J("ngSwitch",he.currentView),g.xp6(1),g.Q6J("ngSwitchCase","month"),g.xp6(1),g.Q6J("ngSwitchCase","year"),g.xp6(1),g.Q6J("ngSwitchCase","multi-year"))},directives:[Ft,Si,Cn,I.Pl,v.kH,q.RF,q.n9],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),Tt})();const $={transformPanel:(0,Nt.X$)("transformPanel",[(0,Nt.eR)("void => enter-dropdown",(0,Nt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Nt.F4)([(0,Nt.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,Nt.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,Nt.eR)("void => enter-dialog",(0,Nt.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Nt.F4)([(0,Nt.oB)({opacity:0,transform:"scale(0.7)"}),(0,Nt.oB)({transform:"none",opacity:1})]))),(0,Nt.eR)("* => void",(0,Nt.jt)("100ms linear",(0,Nt.oB)({opacity:0})))]),fadeInCalendar:(0,Nt.X$)("fadeInCalendar",[(0,Nt.SB)("void",(0,Nt.oB)({opacity:0})),(0,Nt.SB)("enter",(0,Nt.oB)({opacity:1})),(0,Nt.eR)("void => *",(0,Nt.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let O=0;const x=new g.OlP("mat-datepicker-scroll-strategy"),re={provide:x,deps:[V.aV],useFactory:function oe(Tt){return()=>Tt.scrollStrategies.reposition()}},de=(0,Ce.pj)(class{constructor(Tt){this._elementRef=Tt}});let Se=(()=>{class Tt extends de{constructor(j,he,tt,xt,hi,gi){super(j),this._changeDetectorRef=he,this._globalModel=tt,this._dateAdapter=xt,this._rangeSelectionStrategy=hi,this._subscriptions=new ae.w0,this._animationDone=new Ee.x,this._actionsPortal=null,this._closeButtonText=gi.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(j){const he=this._model.selection,tt=j.value,xt=he instanceof bt;if(xt&&this._rangeSelectionStrategy){const hi=this._rangeSelectionStrategy.selectionFinished(tt,he,j.event);this._model.updateSelection(hi,this)}else tt&&(xt||!this._dateAdapter.sameDate(tt,he))&&this._model.add(tt);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(En),g.Y36(Ce._A),g.Y36(te,8),g.Y36(mn))},Tt.\u0275cmp=g.Xpm({type:Tt,selectors:[["mat-datepicker-content"]],viewQuery:function(j,he){if(1&j&&g.Gf(Dt,5),2&j){let tt;g.iGM(tt=g.CRH())&&(he._calendar=tt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(j,he){1&j&&g.WFA("@transformPanel.done",function(){return he._animationDone.next()}),2&j&&(g.d8E("@transformPanel",he._animationState),g.ekj("mat-datepicker-content-touch",he.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[g.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(j,he){if(1&j&&(g.TgZ(0,"div",0)(1,"mat-calendar",1),g.NdJ("yearSelected",function(xt){return he.datepicker._selectYear(xt)})("monthSelected",function(xt){return he.datepicker._selectMonth(xt)})("viewChanged",function(xt){return he.datepicker._viewChanged(xt)})("_userSelection",function(xt){return he._handleUserSelection(xt)}),g.qZA(),g.YNc(2,ie,0,0,"ng-template",2),g.TgZ(3,"button",3),g.NdJ("focus",function(){return he._closeButtonFocused=!0})("blur",function(){return he._closeButtonFocused=!1})("click",function(){return he.datepicker.close()}),g._uU(4),g.qZA()()),2&j){let tt;g.ekj("mat-datepicker-content-container-with-custom-header",he.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",he._actionsPortal),g.uIk("aria-modal",!0)("aria-labelledby",null!==(tt=he._dialogLabelId)&&void 0!==tt?tt:void 0),g.xp6(1),g.Q6J("id",he.datepicker.id)("ngClass",he.datepicker.panelClass)("startAt",he.datepicker.startAt)("startView",he.datepicker.startView)("minDate",he.datepicker._getMinDate())("maxDate",he.datepicker._getMaxDate())("dateFilter",he.datepicker._getDateFilter())("headerComponent",he.datepicker.calendarHeaderComponent)("selected",he._getSelected())("dateClass",he.datepicker.dateClass)("comparisonStart",he.comparisonStart)("comparisonEnd",he.comparisonEnd)("@fadeInCalendar","enter"),g.xp6(1),g.Q6J("cdkPortalOutlet",he._actionsPortal),g.xp6(1),g.ekj("cdk-visually-hidden",!he._closeButtonFocused),g.Q6J("color",he.color||"primary"),g.xp6(1),g.Oqu(he._closeButtonText)}},directives:[Dt,Ue.lW,v.mK,q.mk,I.Pl],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[$.transformPanel,$.fadeInCalendar]},changeDetection:0}),Tt})(),We=(()=>{class Tt{constructor(j,he,tt,xt,hi,gi,nt){this._overlay=j,this._ngZone=he,this._viewContainerRef=tt,this._dateAdapter=hi,this._dir=gi,this._model=nt,this._inputStateChanges=ae.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new g.vpe,this.monthSelected=new g.vpe,this.viewChanged=new g.vpe(!0),this.openedStream=new g.vpe,this.closedStream=new g.vpe,this._opened=!1,this.id="mat-datepicker-"+O++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Ee.x,this._scrollStrategy=xt}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(j){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(j){this._color=j}get touchUi(){return this._touchUi}set touchUi(j){this._touchUi=(0,ht.Ig)(j)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(j){const he=(0,ht.Ig)(j);he!==this._disabled&&(this._disabled=he,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(j){this._restoreFocus=(0,ht.Ig)(j)}get panelClass(){return this._panelClass}set panelClass(j){this._panelClass=(0,ht.du)(j)}get opened(){return this._opened}set opened(j){(0,ht.Ig)(j)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(j){const he=j.xPosition||j.yPosition;if(he&&!he.firstChange&&this._overlayRef){const tt=this._overlayRef.getConfig().positionStrategy;tt instanceof V._G&&(this._setConnectedPositions(tt),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(j){this._model.add(j)}_selectYear(j){this.yearSelected.emit(j)}_selectMonth(j){this.monthSelected.emit(j)}_viewChanged(j){this.viewChanged.emit(j)}registerInput(j){return this._inputStateChanges.unsubscribe(),this.datepickerInput=j,this._inputStateChanges=j.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(j){this._actionsPortal=j}removeActions(j){j===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,Xe.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const he=this._componentRef.instance;he._startExitAnimation(),he._animationDone.pipe((0,Le.q)(1)).subscribe(()=>this._destroyOverlay())}const j=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(j)):j()}_applyPendingSelection(){var j,he;null===(he=null===(j=this._componentRef)||void 0===j?void 0:j.instance)||void 0===he||he._applyPendingSelection()}_forwardContentValues(j){j.datepicker=this,j.color=this.color,j._actionsPortal=this._actionsPortal,j._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const j=this.touchUi,he=new I.C5(Se,this._viewContainerRef),tt=this._overlayRef=this._overlay.create(new V.X_({positionStrategy:j?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[j?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:j?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(j?"dialog":"popup")}));this._getCloseStream(tt).subscribe(xt=>{xt&&xt.preventDefault(),this.close()}),this._componentRef=tt.attach(he),this._forwardContentValues(this._componentRef.instance),j||this._ngZone.onStable.pipe((0,Le.q)(1)).subscribe(()=>tt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const j=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(j)}_setConnectedPositions(j){const he="end"===this.xPosition?"end":"start",tt="start"===he?"end":"start",xt="above"===this.yPosition?"bottom":"top",hi="top"===xt?"bottom":"top";return j.withPositions([{originX:he,originY:hi,overlayX:he,overlayY:xt},{originX:he,originY:xt,overlayX:he,overlayY:hi},{originX:tt,originY:hi,overlayX:tt,overlayY:xt},{originX:tt,originY:xt,overlayX:tt,overlayY:hi}])}_getCloseStream(j){return(0,Me.T)(j.backdropClick(),j.detachments(),j.keydownEvents().pipe((0,gt.h)(he=>he.keyCode===Oe.hY&&!(0,Oe.Vb)(he)||this.datepickerInput&&(0,Oe.Vb)(he,"altKey")&&he.keyCode===Oe.LH)))}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.Y36(V.aV),g.Y36(g.R0b),g.Y36(g.s_b),g.Y36(x),g.Y36(Ce._A,8),g.Y36(Je.Is,8),g.Y36(En))},Tt.\u0275dir=g.lG2({type:Tt,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[g.TTD]}),Tt})(),zt=(()=>{class Tt extends We{}return Tt.\u0275fac=function(){let ln;return function(he){return(ln||(ln=g.n5z(Tt)))(he||Tt)}}(),Tt.\u0275cmp=g.Xpm({type:Tt,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[g._Bn([Rn,{provide:We,useExisting:Tt}]),g.qOj],decls:0,vars:0,template:function(j,he){},encapsulation:2,changeDetection:0}),Tt})();class Et{constructor(ln,j){this.target=ln,this.targetElement=j,this.value=this.target.value}}let An=(()=>{class Tt{constructor(j,he,tt){this._elementRef=j,this._dateAdapter=he,this._dateFormats=tt,this.dateChange=new g.vpe,this.dateInput=new g.vpe,this.stateChanges=new Ee.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=ae.w0.EMPTY,this._localeSubscription=ae.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=xt=>{const hi=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(xt.value));return!hi||this._matchesFilter(hi)?null:{matDatepickerFilter:!0}},this._minValidator=xt=>{const hi=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(xt.value)),gi=this._getMinDate();return!gi||!hi||this._dateAdapter.compareDate(gi,hi)<=0?null:{matDatepickerMin:{min:gi,actual:hi}}},this._maxValidator=xt=>{const hi=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(xt.value)),gi=this._getMaxDate();return!gi||!hi||this._dateAdapter.compareDate(gi,hi)>=0?null:{matDatepickerMax:{max:gi,actual:hi}}},this._lastValueValid=!1,this._localeSubscription=he.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(j){this._assignValueProgrammatically(j)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(j){const he=(0,ht.Ig)(j),tt=this._elementRef.nativeElement;this._disabled!==he&&(this._disabled=he,this.stateChanges.next(void 0)),he&&this._isInitialized&&tt.blur&&tt.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(j){this._model=j,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(he=>{if(this._shouldHandleChangeEvent(he)){const tt=this._getValueFromModel(he.selection);this._lastValueValid=this._isValidValue(tt),this._cvaOnChange(tt),this._onTouched(),this._formatValue(tt),this.dateInput.emit(new Et(this,this._elementRef.nativeElement)),this.dateChange.emit(new Et(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(j){(function Gt(Tt,ln){const j=Object.keys(Tt);for(let he of j){const{previousValue:tt,currentValue:xt}=Tt[he];if(!ln.isDateInstance(tt)||!ln.isDateInstance(xt))return!0;if(!ln.sameDate(tt,xt))return!0}return!1})(j,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(j){this._validatorOnChange=j}validate(j){return this._validator?this._validator(j):null}writeValue(j){this._assignValueProgrammatically(j)}registerOnChange(j){this._cvaOnChange=j}registerOnTouched(j){this._onTouched=j}setDisabledState(j){this.disabled=j}_onKeydown(j){j.altKey&&j.keyCode===Oe.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),j.preventDefault())}_onInput(j){const he=this._lastValueValid;let tt=this._dateAdapter.parse(j,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(tt),tt=this._dateAdapter.getValidDateOrNull(tt);const xt=!this._dateAdapter.sameDate(tt,this.value);!tt||xt?this._cvaOnChange(tt):(j&&!this.value&&this._cvaOnChange(tt),he!==this._lastValueValid&&this._validatorOnChange()),xt&&(this._assignValue(tt),this.dateInput.emit(new Et(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Et(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(j){this._elementRef.nativeElement.value=j?this._dateAdapter.format(j,this._dateFormats.display.dateInput):""}_assignValue(j){this._model?(this._assignValueToModel(j),this._pendingValue=null):this._pendingValue=j}_isValidValue(j){return!j||this._dateAdapter.isValid(j)}_parentDisabled(){return!1}_assignValueProgrammatically(j){j=this._dateAdapter.deserialize(j),this._lastValueValid=this._isValidValue(j),j=this._dateAdapter.getValidDateOrNull(j),this._assignValue(j),this._formatValue(j)}_matchesFilter(j){const he=this._getDateFilter();return!he||he(j)}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.Y36(g.SBq),g.Y36(Ce._A,8),g.Y36(Ce.sG,8))},Tt.\u0275dir=g.lG2({type:Tt,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[g.TTD]}),Tt})();const _t={provide:at.JU,useExisting:(0,g.Gpc)(()=>wt),multi:!0},ct={provide:at.Cf,useExisting:(0,g.Gpc)(()=>wt),multi:!0};let wt=(()=>{class Tt extends An{constructor(j,he,tt,xt){super(j,he,tt),this._formField=xt,this._closedSubscription=ae.w0.EMPTY,this._validator=at.kI.compose(super._getValidators())}set matDatepicker(j){j&&(this._datepicker=j,this._closedSubscription=j.closedStream.subscribe(()=>this._onTouched()),this._registerModel(j.registerInput(this)))}get min(){return this._min}set min(j){const he=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j));this._dateAdapter.sameDate(he,this._min)||(this._min=he,this._validatorOnChange())}get max(){return this._max}set max(j){const he=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(j));this._dateAdapter.sameDate(he,this._max)||(this._max=he,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(j){const he=this._matchesFilter(this.value);this._dateFilter=j,this._matchesFilter(this.value)!==he&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(j){return j}_assignValueToModel(j){this._model&&this._model.updateSelection(j,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(j){return j.source!==this}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.Y36(g.SBq),g.Y36(Ce._A,8),g.Y36(Ce.sG,8),g.Y36(ke.G_,8))},Tt.\u0275dir=g.lG2({type:Tt,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(j,he){1&j&&g.NdJ("input",function(xt){return he._onInput(xt.target.value)})("change",function(){return he._onChange()})("blur",function(){return he._onBlur()})("keydown",function(xt){return he._onKeydown(xt)}),2&j&&(g.Ikx("disabled",he.disabled),g.uIk("aria-haspopup",he._datepicker?"dialog":null)("aria-owns",(null==he._datepicker?null:he._datepicker.opened)&&he._datepicker.id||null)("min",he.min?he._dateAdapter.toIso8601(he.min):null)("max",he.max?he._dateAdapter.toIso8601(he.max):null)("data-mat-calendar",he._datepicker?he._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[g._Bn([_t,ct,{provide:Ke.Jk,useExisting:Tt}]),g.qOj]}),Tt})(),dn=(()=>{class Tt{}return Tt.\u0275fac=function(j){return new(j||Tt)},Tt.\u0275dir=g.lG2({type:Tt,selectors:[["","matDatepickerToggleIcon",""]]}),Tt})(),Kn=(()=>{class Tt{constructor(j,he,tt){this._intl=j,this._changeDetectorRef=he,this._stateChanges=ae.w0.EMPTY;const xt=Number(tt);this.tabIndex=xt||0===xt?xt:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(j){this._disabled=(0,ht.Ig)(j)}ngOnChanges(j){j.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(j){this.datepicker&&!this.disabled&&(this.datepicker.open(),j.stopPropagation())}_watchStateChanges(){const j=this.datepicker?this.datepicker.stateChanges:(0,we.of)(),he=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,we.of)(),tt=this.datepicker?(0,Me.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,we.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Me.T)(this._intl.changes,j,he,tt).subscribe(()=>this._changeDetectorRef.markForCheck())}}return Tt.\u0275fac=function(j){return new(j||Tt)(g.Y36(mn),g.Y36(g.sBO),g.$8M("tabindex"))},Tt.\u0275cmp=g.Xpm({type:Tt,selectors:[["mat-datepicker-toggle"]],contentQueries:function(j,he,tt){if(1&j&&g.Suo(tt,dn,5),2&j){let xt;g.iGM(xt=g.CRH())&&(he._customIcon=xt.first)}},viewQuery:function(j,he){if(1&j&&g.Gf(Mt,5),2&j){let tt;g.iGM(tt=g.CRH())&&(he._button=tt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(j,he){1&j&&g.NdJ("click",function(xt){return he._open(xt)}),2&j&&(g.uIk("tabindex",null)("data-mat-calendar",he.datepicker?he.datepicker.id:null),g.ekj("mat-datepicker-toggle-active",he.datepicker&&he.datepicker.opened)("mat-accent",he.datepicker&&"accent"===he.datepicker.color)("mat-warn",he.datepicker&&"warn"===he.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[g.TTD],ngContentSelectors:hn,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(j,he){1&j&&(g.F$t(Zt),g.TgZ(0,"button",0,1),g.YNc(2,ut,2,0,"svg",2),g.Hsn(3),g.qZA()),2&j&&(g.Q6J("disabled",he.disabled)("disableRipple",he.disableRipple),g.uIk("aria-haspopup",he.datepicker?"dialog":null)("aria-label",he.ariaLabel||he._intl.openCalendarLabel)("tabindex",he.disabled?-1:he.tabIndex),g.xp6(2),g.Q6J("ngIf",!he._customIcon))},directives:[Ue.lW,q.O5],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),Tt})(),Ui=(()=>{class Tt{}return Tt.\u0275fac=function(j){return new(j||Tt)},Tt.\u0275mod=g.oAB({type:Tt}),Tt.\u0275inj=g.cJS({providers:[mn,re],imports:[[q.ez,Ue.ot,V.U8,v.rt,I.eL,Ce.BQ],P.ZD]}),Tt})()},7322:(Ot,B,R)=>{R.d(B,{Eo:()=>Mt,G_:()=>ft,KE:()=>Rn,R9:()=>Pt,lN:()=>Ae});var v=R(7144),V=R(9808),I=R(5e3),q=R(508),g=R(3191),Ue=R(7579),P=R(6451),Ce=R(4968),Ee=R(8675),ae=R(2722),Me=R(5698),we=R(1777),Oe=R(6360),Le=R(226),st=R(925);const gt=["connectionContainer"],Je=["inputContainer"],ht=["label"];function Xe(D,te){1&D&&(I.ynx(0),I.TgZ(1,"div",14),I._UZ(2,"div",15)(3,"div",16)(4,"div",17),I.qZA(),I.TgZ(5,"div",18),I._UZ(6,"div",15)(7,"div",16)(8,"div",17),I.qZA(),I.BQk())}function Nt(D,te){if(1&D){const ne=I.EpF();I.TgZ(0,"div",19),I.NdJ("cdkObserveContent",function(){return I.CHM(ne),I.oxw().updateOutlineGap()}),I.Hsn(1,1),I.qZA()}if(2&D){const ne=I.oxw();I.Q6J("cdkObserveContentDisabled","outline"!=ne.appearance)}}function at(D,te){if(1&D&&(I.ynx(0),I.Hsn(1,2),I.TgZ(2,"span"),I._uU(3),I.qZA(),I.BQk()),2&D){const ne=I.oxw(2);I.xp6(3),I.Oqu(ne._control.placeholder)}}function ke(D,te){1&D&&I.Hsn(0,3,["*ngSwitchCase","true"])}function Ke(D,te){1&D&&(I.TgZ(0,"span",23),I._uU(1," *"),I.qZA())}function it(D,te){if(1&D){const ne=I.EpF();I.TgZ(0,"label",20,21),I.NdJ("cdkObserveContent",function(){return I.CHM(ne),I.oxw().updateOutlineGap()}),I.YNc(2,at,4,1,"ng-container",12),I.YNc(3,ke,1,0,"ng-content",12),I.YNc(4,Ke,2,0,"span",22),I.qZA()}if(2&D){const ne=I.oxw();I.ekj("mat-empty",ne._control.empty&&!ne._shouldAlwaysFloat())("mat-form-field-empty",ne._control.empty&&!ne._shouldAlwaysFloat())("mat-accent","accent"==ne.color)("mat-warn","warn"==ne.color),I.Q6J("cdkObserveContentDisabled","outline"!=ne.appearance)("id",ne._labelId)("ngSwitch",ne._hasLabel()),I.uIk("for",ne._control.id)("aria-owns",ne._control.id),I.xp6(2),I.Q6J("ngSwitchCase",!1),I.xp6(1),I.Q6J("ngSwitchCase",!0),I.xp6(1),I.Q6J("ngIf",!ne.hideRequiredMarker&&ne._control.required&&!ne._control.disabled)}}function A(D,te){1&D&&(I.TgZ(0,"div",24),I.Hsn(1,4),I.qZA())}function et(D,te){if(1&D&&(I.TgZ(0,"div",25),I._UZ(1,"span",26),I.qZA()),2&D){const ne=I.oxw();I.xp6(1),I.ekj("mat-accent","accent"==ne.color)("mat-warn","warn"==ne.color)}}function en(D,te){if(1&D&&(I.TgZ(0,"div"),I.Hsn(1,5),I.qZA()),2&D){const ne=I.oxw();I.Q6J("@transitionMessages",ne._subscriptAnimationState)}}function Be(D,te){if(1&D&&(I.TgZ(0,"div",30),I._uU(1),I.qZA()),2&D){const ne=I.oxw(2);I.Q6J("id",ne._hintLabelId),I.xp6(1),I.Oqu(ne.hintLabel)}}function At(D,te){if(1&D&&(I.TgZ(0,"div",27),I.YNc(1,Be,2,2,"div",28),I.Hsn(2,6),I._UZ(3,"div",29),I.Hsn(4,7),I.qZA()),2&D){const ne=I.oxw();I.Q6J("@transitionMessages",ne._subscriptAnimationState),I.xp6(1),I.Q6J("ngIf",ne.hintLabel)}}const Ut=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],nn=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],an=new I.OlP("MatError"),ie={transitionMessages:(0,we.X$)("transitionMessages",[(0,we.SB)("enter",(0,we.oB)({opacity:1,transform:"translateY(0%)"})),(0,we.eR)("void => enter",[(0,we.oB)({opacity:0,transform:"translateY(-5px)"}),(0,we.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Mt=(()=>{class D{}return D.\u0275fac=function(ne){return new(ne||D)},D.\u0275dir=I.lG2({type:D}),D})();const gn=new I.OlP("MatHint");let Bt=(()=>{class D{}return D.\u0275fac=function(ne){return new(ne||D)},D.\u0275dir=I.lG2({type:D,selectors:[["mat-label"]]}),D})(),mt=(()=>{class D{}return D.\u0275fac=function(ne){return new(ne||D)},D.\u0275dir=I.lG2({type:D,selectors:[["mat-placeholder"]]}),D})();const Vt=new I.OlP("MatPrefix"),je=new I.OlP("MatSuffix");let Pt=(()=>{class D{}return D.\u0275fac=function(ne){return new(ne||D)},D.\u0275dir=I.lG2({type:D,selectors:[["","matSuffix",""]],features:[I._Bn([{provide:je,useExisting:D}])]}),D})(),rt=0;const Xn=(0,q.pj)(class{constructor(D){this._elementRef=D}},"primary"),Dn=new I.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ft=new I.OlP("MatFormField");let Rn=(()=>{class D extends Xn{constructor(ne,me,xe,pt,Ft,rn,Qe){super(ne),this._changeDetectorRef=me,this._dir=xe,this._defaults=pt,this._platform=Ft,this._ngZone=rn,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ue.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+rt++,this._labelId="mat-form-field-label-"+rt++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Qe,this.appearance=pt&&pt.appearance?pt.appearance:"legacy",this._hideRequiredMarker=!(!pt||null==pt.hideRequiredMarker)&&pt.hideRequiredMarker}get appearance(){return this._appearance}set appearance(ne){const me=this._appearance;this._appearance=ne||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&me!==ne&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(ne){this._hideRequiredMarker=(0,g.Ig)(ne)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(ne){this._hintLabel=ne,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(ne){ne!==this._floatLabel&&(this._floatLabel=ne||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(ne){this._explicitFormFieldControl=ne}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const ne=this._control;ne.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${ne.controlType}`),ne.stateChanges.pipe((0,Ee.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),ne.ngControl&&ne.ngControl.valueChanges&&ne.ngControl.valueChanges.pipe((0,ae.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ae.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,P.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Ee.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Ee.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,ae.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(ne){const me=this._control?this._control.ngControl:null;return me&&me[ne]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,Ce.R)(this._label.nativeElement,"transitionend").pipe((0,Me.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let ne=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&ne.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const me=this._hintChildren?this._hintChildren.find(pt=>"start"===pt.align):null,xe=this._hintChildren?this._hintChildren.find(pt=>"end"===pt.align):null;me?ne.push(me.id):this._hintLabel&&ne.push(this._hintLabelId),xe&&ne.push(xe.id)}else this._errorChildren&&ne.push(...this._errorChildren.map(me=>me.id));this._control.setDescribedByIds(ne)}}_validateControlChild(){}updateOutlineGap(){const ne=this._label?this._label.nativeElement:null,me=this._connectionContainerRef.nativeElement,xe=".mat-form-field-outline-start",pt=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!ne||!ne.children.length||!ne.textContent.trim()){const xn=me.querySelectorAll(`${xe}, ${pt}`);for(let ei=0;ei<xn.length;ei++)xn[ei].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Ft=0,rn=0;const Qe=me.querySelectorAll(xe),Cn=me.querySelectorAll(pt);if(this._label&&this._label.nativeElement.children.length){const xn=me.getBoundingClientRect();if(0===xn.width&&0===xn.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const ei=this._getStartEnd(xn),ri=ne.children,Oi=this._getStartEnd(ri[0].getBoundingClientRect());let Si=0;for(let mn=0;mn<ri.length;mn++)Si+=ri[mn].offsetWidth;Ft=Math.abs(Oi-ei)-5,rn=Si>0?.75*Si+10:0}for(let xn=0;xn<Qe.length;xn++)Qe[xn].style.width=`${Ft}px`;for(let xn=0;xn<Cn.length;xn++)Cn[xn].style.width=`${rn}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(ne){return this._dir&&"rtl"===this._dir.value?ne.right:ne.left}_isAttachedToDOM(){const ne=this._elementRef.nativeElement;if(ne.getRootNode){const me=ne.getRootNode();return me&&me!==ne}return document.documentElement.contains(ne)}}return D.\u0275fac=function(ne){return new(ne||D)(I.Y36(I.SBq),I.Y36(I.sBO),I.Y36(Le.Is,8),I.Y36(Dn,8),I.Y36(st.t4),I.Y36(I.R0b),I.Y36(Oe.Qb,8))},D.\u0275cmp=I.Xpm({type:D,selectors:[["mat-form-field"]],contentQueries:function(ne,me,xe){if(1&ne&&(I.Suo(xe,Mt,5),I.Suo(xe,Mt,7),I.Suo(xe,Bt,5),I.Suo(xe,Bt,7),I.Suo(xe,mt,5),I.Suo(xe,an,5),I.Suo(xe,gn,5),I.Suo(xe,Vt,5),I.Suo(xe,je,5)),2&ne){let pt;I.iGM(pt=I.CRH())&&(me._controlNonStatic=pt.first),I.iGM(pt=I.CRH())&&(me._controlStatic=pt.first),I.iGM(pt=I.CRH())&&(me._labelChildNonStatic=pt.first),I.iGM(pt=I.CRH())&&(me._labelChildStatic=pt.first),I.iGM(pt=I.CRH())&&(me._placeholderChild=pt.first),I.iGM(pt=I.CRH())&&(me._errorChildren=pt),I.iGM(pt=I.CRH())&&(me._hintChildren=pt),I.iGM(pt=I.CRH())&&(me._prefixChildren=pt),I.iGM(pt=I.CRH())&&(me._suffixChildren=pt)}},viewQuery:function(ne,me){if(1&ne&&(I.Gf(gt,7),I.Gf(Je,5),I.Gf(ht,5)),2&ne){let xe;I.iGM(xe=I.CRH())&&(me._connectionContainerRef=xe.first),I.iGM(xe=I.CRH())&&(me._inputContainerRef=xe.first),I.iGM(xe=I.CRH())&&(me._label=xe.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(ne,me){2&ne&&I.ekj("mat-form-field-appearance-standard","standard"==me.appearance)("mat-form-field-appearance-fill","fill"==me.appearance)("mat-form-field-appearance-outline","outline"==me.appearance)("mat-form-field-appearance-legacy","legacy"==me.appearance)("mat-form-field-invalid",me._control.errorState)("mat-form-field-can-float",me._canLabelFloat())("mat-form-field-should-float",me._shouldLabelFloat())("mat-form-field-has-label",me._hasFloatingLabel())("mat-form-field-hide-placeholder",me._hideControlPlaceholder())("mat-form-field-disabled",me._control.disabled)("mat-form-field-autofilled",me._control.autofilled)("mat-focused",me._control.focused)("ng-untouched",me._shouldForward("untouched"))("ng-touched",me._shouldForward("touched"))("ng-pristine",me._shouldForward("pristine"))("ng-dirty",me._shouldForward("dirty"))("ng-valid",me._shouldForward("valid"))("ng-invalid",me._shouldForward("invalid"))("ng-pending",me._shouldForward("pending"))("_mat-animation-noopable",!me._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[I._Bn([{provide:ft,useExisting:D}]),I.qOj],ngContentSelectors:nn,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(ne,me){1&ne&&(I.F$t(Ut),I.TgZ(0,"div",0)(1,"div",1,2),I.NdJ("click",function(pt){return me._control.onContainerClick&&me._control.onContainerClick(pt)}),I.YNc(3,Xe,9,0,"ng-container",3),I.YNc(4,Nt,2,1,"div",4),I.TgZ(5,"div",5,6),I.Hsn(7),I.TgZ(8,"span",7),I.YNc(9,it,5,16,"label",8),I.qZA()(),I.YNc(10,A,2,0,"div",9),I.qZA(),I.YNc(11,et,2,4,"div",10),I.TgZ(12,"div",11),I.YNc(13,en,2,1,"div",12),I.YNc(14,At,5,2,"div",13),I.qZA()()),2&ne&&(I.xp6(3),I.Q6J("ngIf","outline"==me.appearance),I.xp6(1),I.Q6J("ngIf",me._prefixChildren.length),I.xp6(5),I.Q6J("ngIf",me._hasFloatingLabel()),I.xp6(1),I.Q6J("ngIf",me._suffixChildren.length),I.xp6(1),I.Q6J("ngIf","outline"!=me.appearance),I.xp6(1),I.Q6J("ngSwitch",me._getDisplayedMessages()),I.xp6(1),I.Q6J("ngSwitchCase","error"),I.xp6(1),I.Q6J("ngSwitchCase","hint"))},directives:[V.O5,v.wD,V.RF,V.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[ie.transitionMessages]},changeDetection:0}),D})(),Ae=(()=>{class D{}return D.\u0275fac=function(ne){return new(ne||D)},D.\u0275mod=I.oAB({type:D}),D.\u0275inj=I.cJS({imports:[[V.ez,q.BQ,v.Q8],q.BQ]}),D})()},5245:(Ot,B,R)=>{R.d(B,{Hw:()=>Zt,Ps:()=>hn});var v=R(5e3),V=R(508),I=R(3191),q=R(9808),g=R(9646),Ue=R(2843),P=R(4128),Ce=R(727),Ee=R(8505),ae=R(4004),Me=R(262),we=R(8746),Oe=R(3099),Le=R(5698),st=R(520),gt=R(2313);const Je=["*"];let ht;function Nt(Kt){var gn;return(null===(gn=function Xe(){if(void 0===ht&&(ht=null,"undefined"!=typeof window)){const Kt=window;void 0!==Kt.trustedTypes&&(ht=Kt.trustedTypes.createPolicy("angular#components",{createHTML:gn=>gn}))}return ht}())||void 0===gn?void 0:gn.createHTML(Kt))||Kt}function at(Kt){return Error(`Unable to find icon with the name "${Kt}"`)}function Ke(Kt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Kt}".`)}function it(Kt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Kt}".`)}class A{constructor(gn,Lt,Bt){this.url=gn,this.svgText=Lt,this.options=Bt}}let et=(()=>{class Kt{constructor(Lt,Bt,mt,Vt){this._httpClient=Lt,this._sanitizer=Bt,this._errorHandler=Vt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=mt}addSvgIcon(Lt,Bt,mt){return this.addSvgIconInNamespace("",Lt,Bt,mt)}addSvgIconLiteral(Lt,Bt,mt){return this.addSvgIconLiteralInNamespace("",Lt,Bt,mt)}addSvgIconInNamespace(Lt,Bt,mt,Vt){return this._addSvgIconConfig(Lt,Bt,new A(mt,null,Vt))}addSvgIconResolver(Lt){return this._resolvers.push(Lt),this}addSvgIconLiteralInNamespace(Lt,Bt,mt,Vt){const ot=this._sanitizer.sanitize(v.q3G.HTML,mt);if(!ot)throw it(mt);const je=Nt(ot);return this._addSvgIconConfig(Lt,Bt,new A("",je,Vt))}addSvgIconSet(Lt,Bt){return this.addSvgIconSetInNamespace("",Lt,Bt)}addSvgIconSetLiteral(Lt,Bt){return this.addSvgIconSetLiteralInNamespace("",Lt,Bt)}addSvgIconSetInNamespace(Lt,Bt,mt){return this._addSvgIconSetConfig(Lt,new A(Bt,null,mt))}addSvgIconSetLiteralInNamespace(Lt,Bt,mt){const Vt=this._sanitizer.sanitize(v.q3G.HTML,Bt);if(!Vt)throw it(Bt);const ot=Nt(Vt);return this._addSvgIconSetConfig(Lt,new A("",ot,mt))}registerFontClassAlias(Lt,Bt=Lt){return this._fontCssClassesByAlias.set(Lt,Bt),this}classNameForFontAlias(Lt){return this._fontCssClassesByAlias.get(Lt)||Lt}setDefaultFontSetClass(Lt){return this._defaultFontSetClass=Lt,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Lt){const Bt=this._sanitizer.sanitize(v.q3G.RESOURCE_URL,Lt);if(!Bt)throw Ke(Lt);const mt=this._cachedIconsByUrl.get(Bt);return mt?(0,g.of)(At(mt)):this._loadSvgIconFromConfig(new A(Lt,null)).pipe((0,Ee.b)(Vt=>this._cachedIconsByUrl.set(Bt,Vt)),(0,ae.U)(Vt=>At(Vt)))}getNamedSvgIcon(Lt,Bt=""){const mt=Ut(Bt,Lt);let Vt=this._svgIconConfigs.get(mt);if(Vt)return this._getSvgFromConfig(Vt);if(Vt=this._getIconConfigFromResolvers(Bt,Lt),Vt)return this._svgIconConfigs.set(mt,Vt),this._getSvgFromConfig(Vt);const ot=this._iconSetConfigs.get(Bt);return ot?this._getSvgFromIconSetConfigs(Lt,ot):(0,Ue._)(at(mt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Lt){return Lt.svgText?(0,g.of)(At(this._svgElementFromConfig(Lt))):this._loadSvgIconFromConfig(Lt).pipe((0,ae.U)(Bt=>At(Bt)))}_getSvgFromIconSetConfigs(Lt,Bt){const mt=this._extractIconWithNameFromAnySet(Lt,Bt);if(mt)return(0,g.of)(mt);const Vt=Bt.filter(ot=>!ot.svgText).map(ot=>this._loadSvgIconSetFromConfig(ot).pipe((0,Me.K)(je=>{const rt=`Loading icon set URL: ${this._sanitizer.sanitize(v.q3G.RESOURCE_URL,ot.url)} failed: ${je.message}`;return this._errorHandler.handleError(new Error(rt)),(0,g.of)(null)})));return(0,P.D)(Vt).pipe((0,ae.U)(()=>{const ot=this._extractIconWithNameFromAnySet(Lt,Bt);if(!ot)throw at(Lt);return ot}))}_extractIconWithNameFromAnySet(Lt,Bt){for(let mt=Bt.length-1;mt>=0;mt--){const Vt=Bt[mt];if(Vt.svgText&&Vt.svgText.toString().indexOf(Lt)>-1){const ot=this._svgElementFromConfig(Vt),je=this._extractSvgIconFromSet(ot,Lt,Vt.options);if(je)return je}}return null}_loadSvgIconFromConfig(Lt){return this._fetchIcon(Lt).pipe((0,Ee.b)(Bt=>Lt.svgText=Bt),(0,ae.U)(()=>this._svgElementFromConfig(Lt)))}_loadSvgIconSetFromConfig(Lt){return Lt.svgText?(0,g.of)(null):this._fetchIcon(Lt).pipe((0,Ee.b)(Bt=>Lt.svgText=Bt))}_extractSvgIconFromSet(Lt,Bt,mt){const Vt=Lt.querySelector(`[id="${Bt}"]`);if(!Vt)return null;const ot=Vt.cloneNode(!0);if(ot.removeAttribute("id"),"svg"===ot.nodeName.toLowerCase())return this._setSvgAttributes(ot,mt);if("symbol"===ot.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ot),mt);const je=this._svgElementFromString(Nt("<svg></svg>"));return je.appendChild(ot),this._setSvgAttributes(je,mt)}_svgElementFromString(Lt){const Bt=this._document.createElement("DIV");Bt.innerHTML=Lt;const mt=Bt.querySelector("svg");if(!mt)throw Error("<svg> tag not found");return mt}_toSvgElement(Lt){const Bt=this._svgElementFromString(Nt("<svg></svg>")),mt=Lt.attributes;for(let Vt=0;Vt<mt.length;Vt++){const{name:ot,value:je}=mt[Vt];"id"!==ot&&Bt.setAttribute(ot,je)}for(let Vt=0;Vt<Lt.childNodes.length;Vt++)Lt.childNodes[Vt].nodeType===this._document.ELEMENT_NODE&&Bt.appendChild(Lt.childNodes[Vt].cloneNode(!0));return Bt}_setSvgAttributes(Lt,Bt){return Lt.setAttribute("fit",""),Lt.setAttribute("height","100%"),Lt.setAttribute("width","100%"),Lt.setAttribute("preserveAspectRatio","xMidYMid meet"),Lt.setAttribute("focusable","false"),Bt&&Bt.viewBox&&Lt.setAttribute("viewBox",Bt.viewBox),Lt}_fetchIcon(Lt){var Bt;const{url:mt,options:Vt}=Lt,ot=null!==(Bt=null==Vt?void 0:Vt.withCredentials)&&void 0!==Bt&&Bt;if(!this._httpClient)throw function ke(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==mt)throw Error(`Cannot fetch icon from URL "${mt}".`);const je=this._sanitizer.sanitize(v.q3G.RESOURCE_URL,mt);if(!je)throw Ke(mt);const Pt=this._inProgressUrlFetches.get(je);if(Pt)return Pt;const rt=this._httpClient.get(je,{responseType:"text",withCredentials:ot}).pipe((0,ae.U)(bt=>Nt(bt)),(0,we.x)(()=>this._inProgressUrlFetches.delete(je)),(0,Oe.B)());return this._inProgressUrlFetches.set(je,rt),rt}_addSvgIconConfig(Lt,Bt,mt){return this._svgIconConfigs.set(Ut(Lt,Bt),mt),this}_addSvgIconSetConfig(Lt,Bt){const mt=this._iconSetConfigs.get(Lt);return mt?mt.push(Bt):this._iconSetConfigs.set(Lt,[Bt]),this}_svgElementFromConfig(Lt){if(!Lt.svgElement){const Bt=this._svgElementFromString(Lt.svgText);this._setSvgAttributes(Bt,Lt.options),Lt.svgElement=Bt}return Lt.svgElement}_getIconConfigFromResolvers(Lt,Bt){for(let mt=0;mt<this._resolvers.length;mt++){const Vt=this._resolvers[mt](Bt,Lt);if(Vt)return nn(Vt)?new A(Vt.url,null,Vt.options):new A(Vt,null)}}}return Kt.\u0275fac=function(Lt){return new(Lt||Kt)(v.LFG(st.eN,8),v.LFG(gt.H7),v.LFG(q.K0,8),v.LFG(v.qLn))},Kt.\u0275prov=v.Yz7({token:Kt,factory:Kt.\u0275fac,providedIn:"root"}),Kt})();function At(Kt){return Kt.cloneNode(!0)}function Ut(Kt,gn){return Kt+":"+gn}function nn(Kt){return!(!Kt.url||!Kt.options)}const Qt=(0,V.pj)(class{constructor(Kt){this._elementRef=Kt}}),an=new v.OlP("mat-icon-location",{providedIn:"root",factory:function Bn(){const Kt=(0,v.f3M)(q.K0),gn=Kt?Kt.location:null;return{getPathname:()=>gn?gn.pathname+gn.search:""}}}),ie=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Mt=ie.map(Kt=>`[${Kt}]`).join(", "),ut=/^url\(['"]?#(.*?)['"]?\)$/;let Zt=(()=>{class Kt extends Qt{constructor(Lt,Bt,mt,Vt,ot){super(Lt),this._iconRegistry=Bt,this._location=Vt,this._errorHandler=ot,this._inline=!1,this._currentIconFetch=Ce.w0.EMPTY,mt||Lt.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(Lt){this._inline=(0,I.Ig)(Lt)}get svgIcon(){return this._svgIcon}set svgIcon(Lt){Lt!==this._svgIcon&&(Lt?this._updateSvgIcon(Lt):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Lt)}get fontSet(){return this._fontSet}set fontSet(Lt){const Bt=this._cleanupFontValue(Lt);Bt!==this._fontSet&&(this._fontSet=Bt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Lt){const Bt=this._cleanupFontValue(Lt);Bt!==this._fontIcon&&(this._fontIcon=Bt,this._updateFontIconClasses())}_splitIconName(Lt){if(!Lt)return["",""];const Bt=Lt.split(":");switch(Bt.length){case 1:return["",Bt[0]];case 2:return Bt;default:throw Error(`Invalid icon name: "${Lt}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Lt=this._elementsWithExternalReferences;if(Lt&&Lt.size){const Bt=this._location.getPathname();Bt!==this._previousPath&&(this._previousPath=Bt,this._prependPathToReferences(Bt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Lt){this._clearSvgElement();const Bt=this._location.getPathname();this._previousPath=Bt,this._cacheChildrenWithExternalReferences(Lt),this._prependPathToReferences(Bt),this._elementRef.nativeElement.appendChild(Lt)}_clearSvgElement(){const Lt=this._elementRef.nativeElement;let Bt=Lt.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Bt--;){const mt=Lt.childNodes[Bt];(1!==mt.nodeType||"svg"===mt.nodeName.toLowerCase())&&mt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Lt=this._elementRef.nativeElement,Bt=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();Bt!=this._previousFontSetClass&&(this._previousFontSetClass&&Lt.classList.remove(this._previousFontSetClass),Bt&&Lt.classList.add(Bt),this._previousFontSetClass=Bt),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&Lt.classList.remove(this._previousFontIconClass),this.fontIcon&&Lt.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Lt){return"string"==typeof Lt?Lt.trim().split(" ")[0]:Lt}_prependPathToReferences(Lt){const Bt=this._elementsWithExternalReferences;Bt&&Bt.forEach((mt,Vt)=>{mt.forEach(ot=>{Vt.setAttribute(ot.name,`url('${Lt}#${ot.value}')`)})})}_cacheChildrenWithExternalReferences(Lt){const Bt=Lt.querySelectorAll(Mt),mt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Vt=0;Vt<Bt.length;Vt++)ie.forEach(ot=>{const je=Bt[Vt],Pt=je.getAttribute(ot),rt=Pt?Pt.match(ut):null;if(rt){let bt=mt.get(je);bt||(bt=[],mt.set(je,bt)),bt.push({name:ot,value:rt[1]})}})}_updateSvgIcon(Lt){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Lt){const[Bt,mt]=this._splitIconName(Lt);Bt&&(this._svgNamespace=Bt),mt&&(this._svgName=mt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(mt,Bt).pipe((0,Le.q)(1)).subscribe(Vt=>this._setSvgElement(Vt),Vt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Bt}:${mt}! ${Vt.message}`))})}}}return Kt.\u0275fac=function(Lt){return new(Lt||Kt)(v.Y36(v.SBq),v.Y36(et),v.$8M("aria-hidden"),v.Y36(an),v.Y36(v.qLn))},Kt.\u0275cmp=v.Xpm({type:Kt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(Lt,Bt){2&Lt&&(v.uIk("data-mat-icon-type",Bt._usingFontIcon()?"font":"svg")("data-mat-icon-name",Bt._svgName||Bt.fontIcon)("data-mat-icon-namespace",Bt._svgNamespace||Bt.fontSet),v.ekj("mat-icon-inline",Bt.inline)("mat-icon-no-color","primary"!==Bt.color&&"accent"!==Bt.color&&"warn"!==Bt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[v.qOj],ngContentSelectors:Je,decls:1,vars:0,template:function(Lt,Bt){1&Lt&&(v.F$t(),v.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Kt})(),hn=(()=>{class Kt{}return Kt.\u0275fac=function(Lt){return new(Lt||Kt)},Kt.\u0275mod=v.oAB({type:Kt}),Kt.\u0275inj=v.cJS({imports:[[V.BQ],V.BQ]}),Kt})()},7531:(Ot,B,R)=>{R.d(B,{Jk:()=>st,Nt:()=>Xe,c:()=>Nt});var v=R(3191),V=R(925),I=R(5e3),q=R(3075),g=R(508),Ue=R(7322),P=R(7579),Ce=R(515);const Ee=(0,V.i$)({passive:!0});let ae=(()=>{class at{constructor(Ke,it){this._platform=Ke,this._ngZone=it,this._monitoredElements=new Map}monitor(Ke){if(!this._platform.isBrowser)return Ce.E;const it=(0,v.fI)(Ke),A=this._monitoredElements.get(it);if(A)return A.subject;const et=new P.x,en="cdk-text-field-autofilled",Be=At=>{"cdk-text-field-autofill-start"!==At.animationName||it.classList.contains(en)?"cdk-text-field-autofill-end"===At.animationName&&it.classList.contains(en)&&(it.classList.remove(en),this._ngZone.run(()=>et.next({target:At.target,isAutofilled:!1}))):(it.classList.add(en),this._ngZone.run(()=>et.next({target:At.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{it.addEventListener("animationstart",Be,Ee),it.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(it,{subject:et,unlisten:()=>{it.removeEventListener("animationstart",Be,Ee)}}),et}stopMonitoring(Ke){const it=(0,v.fI)(Ke),A=this._monitoredElements.get(it);A&&(A.unlisten(),A.subject.complete(),it.classList.remove("cdk-text-field-autofill-monitored"),it.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(it))}ngOnDestroy(){this._monitoredElements.forEach((Ke,it)=>this.stopMonitoring(it))}}return at.\u0275fac=function(Ke){return new(Ke||at)(I.LFG(V.t4),I.LFG(I.R0b))},at.\u0275prov=I.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})(),Oe=(()=>{class at{}return at.\u0275fac=function(Ke){return new(Ke||at)},at.\u0275mod=I.oAB({type:at}),at.\u0275inj=I.cJS({}),at})();const st=new I.OlP("MAT_INPUT_VALUE_ACCESSOR"),gt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Je=0;const ht=(0,g.FD)(class{constructor(at,ke,Ke,it){this._defaultErrorStateMatcher=at,this._parentForm=ke,this._parentFormGroup=Ke,this.ngControl=it}});let Xe=(()=>{class at extends ht{constructor(Ke,it,A,et,en,Be,At,Ut,nn,Qt){super(Be,et,en,A),this._elementRef=Ke,this._platform=it,this._autofillMonitor=Ut,this._formField=Qt,this._uid="mat-input-"+Je++,this.focused=!1,this.stateChanges=new P.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ie=>(0,V.qK)().has(ie)),this._iOSKeyupListener=ie=>{const Mt=ie.target;!Mt.value&&0===Mt.selectionStart&&0===Mt.selectionEnd&&(Mt.setSelectionRange(1,1),Mt.setSelectionRange(0,0))};const an=this._elementRef.nativeElement,Bn=an.nodeName.toLowerCase();this._inputValueAccessor=At||an,this._previousNativeValue=this.value,this.id=this.id,it.IOS&&nn.runOutsideAngular(()=>{Ke.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Bn,this._isTextarea="textarea"===Bn,this._isInFormField=!!Qt,this._isNativeSelect&&(this.controlType=an.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(Ke){this._disabled=(0,v.Ig)(Ke),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Ke){this._id=Ke||this._uid}get required(){var Ke,it,A,et;return null!==(et=null!==(Ke=this._required)&&void 0!==Ke?Ke:null===(A=null===(it=this.ngControl)||void 0===it?void 0:it.control)||void 0===A?void 0:A.hasValidator(q.kI.required))&&void 0!==et&&et}set required(Ke){this._required=(0,v.Ig)(Ke)}get type(){return this._type}set type(Ke){this._type=Ke||"text",this._validateType(),!this._isTextarea&&(0,V.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Ke){Ke!==this.value&&(this._inputValueAccessor.value=Ke,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Ke){this._readonly=(0,v.Ig)(Ke)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Ke=>{this.autofilled=Ke.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Ke){this._elementRef.nativeElement.focus(Ke)}_focusChanged(Ke){Ke!==this.focused&&(this.focused=Ke,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var Ke,it;const A=(null===(it=null===(Ke=this._formField)||void 0===Ke?void 0:Ke._hideControlPlaceholder)||void 0===it?void 0:it.call(Ke))?null:this.placeholder;if(A!==this._previousPlaceholder){const et=this._elementRef.nativeElement;this._previousPlaceholder=A,A?et.setAttribute("placeholder",A):et.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const Ke=this._elementRef.nativeElement.value;this._previousNativeValue!==Ke&&(this._previousNativeValue=Ke,this.stateChanges.next())}_validateType(){gt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Ke=this._elementRef.nativeElement.validity;return Ke&&Ke.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Ke=this._elementRef.nativeElement,it=Ke.options[0];return this.focused||Ke.multiple||!this.empty||!!(Ke.selectedIndex>-1&&it&&it.label)}return this.focused||!this.empty}setDescribedByIds(Ke){Ke.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Ke.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Ke=this._elementRef.nativeElement;return this._isNativeSelect&&(Ke.multiple||Ke.size>1)}}return at.\u0275fac=function(Ke){return new(Ke||at)(I.Y36(I.SBq),I.Y36(V.t4),I.Y36(q.a5,10),I.Y36(q.F,8),I.Y36(q.sg,8),I.Y36(g.rD),I.Y36(st,10),I.Y36(ae),I.Y36(I.R0b),I.Y36(Ue.G_,8))},at.\u0275dir=I.lG2({type:at,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(Ke,it){1&Ke&&I.NdJ("focus",function(){return it._focusChanged(!0)})("blur",function(){return it._focusChanged(!1)})("input",function(){return it._onInput()}),2&Ke&&(I.Ikx("disabled",it.disabled)("required",it.required),I.uIk("id",it.id)("data-placeholder",it.placeholder)("name",it.name||null)("readonly",it.readonly&&!it._isNativeSelect||null)("aria-invalid",it.empty&&it.required?null:it.errorState)("aria-required",it.required),I.ekj("mat-input-server",it._isServer)("mat-native-select-inline",it._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[I._Bn([{provide:Ue.Eo,useExisting:at}]),I.qOj,I.TTD]}),at})(),Nt=(()=>{class at{}return at.\u0275fac=function(Ke){return new(Ke||at)},at.\u0275mod=I.oAB({type:at}),at.\u0275inj=I.cJS({providers:[g.rD],imports:[[Oe,Ue.lN,g.BQ],Oe,Ue.lN]}),at})()},2181:(Ot,B,R)=>{R.d(B,{OP:()=>Kt,Tx:()=>Dn,VK:()=>Vt,p6:()=>Xn});var v=R(5664),V=R(3191),I=R(1159),q=R(5e3),g=R(7579),Ue=R(727),P=R(6451),Ce=R(9646),Ee=R(3101),ae=R(8675),Me=R(3900),we=R(5698),Oe=R(2722),Le=R(9300),st=R(8537),gt=R(1777),Je=R(7429),ht=R(9808),Xe=R(508),Nt=R(9776),at=R(925),ke=R(226),Ke=R(495);const it=["mat-menu-item",""];function A(ft,Rn){1&ft&&(q.O4$(),q.TgZ(0,"svg",2),q._UZ(1,"polygon",3),q.qZA())}const et=["*"];function en(ft,Rn){if(1&ft){const Ae=q.EpF();q.TgZ(0,"div",0),q.NdJ("keydown",function(te){return q.CHM(Ae),q.oxw()._handleKeydown(te)})("click",function(){return q.CHM(Ae),q.oxw().closed.emit("click")})("@transformMenu.start",function(te){return q.CHM(Ae),q.oxw()._onAnimationStart(te)})("@transformMenu.done",function(te){return q.CHM(Ae),q.oxw()._onAnimationDone(te)}),q.TgZ(1,"div",1),q.Hsn(2),q.qZA()()}if(2&ft){const Ae=q.oxw();q.Q6J("id",Ae.panelId)("ngClass",Ae._classList)("@transformMenu",Ae._panelAnimationState),q.uIk("aria-label",Ae.ariaLabel||null)("aria-labelledby",Ae.ariaLabelledby||null)("aria-describedby",Ae.ariaDescribedby||null)}}const Be={transformMenu:(0,gt.X$)("transformMenu",[(0,gt.SB)("void",(0,gt.oB)({opacity:0,transform:"scale(0.8)"})),(0,gt.eR)("void => enter",(0,gt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,gt.oB)({opacity:1,transform:"scale(1)"}))),(0,gt.eR)("* => void",(0,gt.jt)("100ms 25ms linear",(0,gt.oB)({opacity:0})))]),fadeInItems:(0,gt.X$)("fadeInItems",[(0,gt.SB)("showing",(0,gt.oB)({opacity:1})),(0,gt.eR)("void => *",[(0,gt.oB)({opacity:0}),(0,gt.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},nn=new q.OlP("MatMenuContent"),Zt=new q.OlP("MAT_MENU_PANEL"),hn=(0,Xe.Kr)((0,Xe.Id)(class{}));let Kt=(()=>{class ft extends hn{constructor(Ae,D,te,ne,me){var xe;super(),this._elementRef=Ae,this._document=D,this._focusMonitor=te,this._parentMenu=ne,this._changeDetectorRef=me,this.role="menuitem",this._hovered=new g.x,this._focused=new g.x,this._highlighted=!1,this._triggersSubmenu=!1,null===(xe=null==ne?void 0:ne.addItem)||void 0===xe||xe.call(ne,this)}focus(Ae,D){this._focusMonitor&&Ae?this._focusMonitor.focusVia(this._getHostElement(),Ae,D):this._getHostElement().focus(D),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Ae){this.disabled&&(Ae.preventDefault(),Ae.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var Ae;const D=this._elementRef.nativeElement.cloneNode(!0),te=D.querySelectorAll("mat-icon, .material-icons");for(let ne=0;ne<te.length;ne++)te[ne].remove();return(null===(Ae=D.textContent)||void 0===Ae?void 0:Ae.trim())||""}_setHighlighted(Ae){var D;this._highlighted=Ae,null===(D=this._changeDetectorRef)||void 0===D||D.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return ft.\u0275fac=function(Ae){return new(Ae||ft)(q.Y36(q.SBq),q.Y36(ht.K0),q.Y36(v.tE),q.Y36(Zt,8),q.Y36(q.sBO))},ft.\u0275cmp=q.Xpm({type:ft,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(Ae,D){1&Ae&&q.NdJ("click",function(ne){return D._checkDisabled(ne)})("mouseenter",function(){return D._handleMouseEnter()}),2&Ae&&(q.uIk("role",D.role)("tabindex",D._getTabIndex())("aria-disabled",D.disabled.toString())("disabled",D.disabled||null),q.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",D._highlighted)("mat-menu-item-submenu-trigger",D._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[q.qOj],attrs:it,ngContentSelectors:et,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(Ae,D){1&Ae&&(q.F$t(),q.Hsn(0),q._UZ(1,"div",0),q.YNc(2,A,2,0,"svg",1)),2&Ae&&(q.xp6(1),q.Q6J("matRippleDisabled",D.disableRipple||D.disabled)("matRippleTrigger",D._getHostElement()),q.xp6(1),q.Q6J("ngIf",D._triggersSubmenu))},directives:[Xe.wG,ht.O5],encapsulation:2,changeDetection:0}),ft})();const gn=new q.OlP("mat-menu-default-options",{providedIn:"root",factory:function Lt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Bt=0,mt=(()=>{class ft{constructor(Ae,D,te,ne){this._elementRef=Ae,this._ngZone=D,this._defaultOptions=te,this._changeDetectorRef=ne,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new q.n_E,this._tabSubscription=Ue.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new g.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new q.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Bt++}get xPosition(){return this._xPosition}set xPosition(Ae){this._xPosition=Ae,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Ae){this._yPosition=Ae,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(Ae){this._overlapTrigger=(0,V.Ig)(Ae)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ae){this._hasBackdrop=(0,V.Ig)(Ae)}set panelClass(Ae){const D=this._previousPanelClass;D&&D.length&&D.split(" ").forEach(te=>{this._classList[te]=!1}),this._previousPanelClass=Ae,Ae&&Ae.length&&(Ae.split(" ").forEach(te=>{this._classList[te]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(Ae){this.panelClass=Ae}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new v.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,ae.O)(this._directDescendantItems),(0,Me.w)(Ae=>(0,P.T)(...Ae.map(D=>D._focused)))).subscribe(Ae=>this._keyManager.updateActiveItem(Ae)),this._directDescendantItems.changes.subscribe(Ae=>{var D;const te=this._keyManager;if("enter"===this._panelAnimationState&&(null===(D=te.activeItem)||void 0===D?void 0:D._hasFocus())){const ne=Ae.toArray(),me=Math.max(0,Math.min(ne.length-1,te.activeItemIndex||0));ne[me]&&!ne[me].disabled?te.setActiveItem(me):te.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,ae.O)(this._directDescendantItems),(0,Me.w)(D=>(0,P.T)(...D.map(te=>te._hovered))))}addItem(Ae){}removeItem(Ae){}_handleKeydown(Ae){const D=Ae.keyCode,te=this._keyManager;switch(D){case I.hY:(0,I.Vb)(Ae)||(Ae.preventDefault(),this.closed.emit("keydown"));break;case I.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case I.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(D===I.LH||D===I.JH)&&te.setFocusOrigin("keyboard"),void te.onKeydown(Ae)}Ae.stopPropagation()}focusFirstItem(Ae="program"){this.lazyContent?this._ngZone.onStable.pipe((0,we.q)(1)).subscribe(()=>this._focusFirstItem(Ae)):this._focusFirstItem(Ae)}_focusFirstItem(Ae){const D=this._keyManager;if(D.setFocusOrigin(Ae).setFirstItemActive(),!D.activeItem&&this._directDescendantItems.length){let te=this._directDescendantItems.first._getHostElement().parentElement;for(;te;){if("menu"===te.getAttribute("role")){te.focus();break}te=te.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Ae){const D=Math.min(this._baseElevation+Ae,24),te=`${this._elevationPrefix}${D}`,ne=Object.keys(this._classList).find(me=>me.startsWith(this._elevationPrefix));(!ne||ne===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[te]=!0,this._previousElevation=te)}setPositionClasses(Ae=this.xPosition,D=this.yPosition){var te;const ne=this._classList;ne["mat-menu-before"]="before"===Ae,ne["mat-menu-after"]="after"===Ae,ne["mat-menu-above"]="above"===D,ne["mat-menu-below"]="below"===D,null===(te=this._changeDetectorRef)||void 0===te||te.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Ae){this._animationDone.next(Ae),this._isAnimating=!1}_onAnimationStart(Ae){this._isAnimating=!0,"enter"===Ae.toState&&0===this._keyManager.activeItemIndex&&(Ae.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,ae.O)(this._allItems)).subscribe(Ae=>{this._directDescendantItems.reset(Ae.filter(D=>D._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return ft.\u0275fac=function(Ae){return new(Ae||ft)(q.Y36(q.SBq),q.Y36(q.R0b),q.Y36(gn),q.Y36(q.sBO))},ft.\u0275dir=q.lG2({type:ft,contentQueries:function(Ae,D,te){if(1&Ae&&(q.Suo(te,nn,5),q.Suo(te,Kt,5),q.Suo(te,Kt,4)),2&Ae){let ne;q.iGM(ne=q.CRH())&&(D.lazyContent=ne.first),q.iGM(ne=q.CRH())&&(D._allItems=ne),q.iGM(ne=q.CRH())&&(D.items=ne)}},viewQuery:function(Ae,D){if(1&Ae&&q.Gf(q.Rgc,5),2&Ae){let te;q.iGM(te=q.CRH())&&(D.templateRef=te.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),ft})(),Vt=(()=>{class ft extends mt{constructor(Ae,D,te,ne){super(Ae,D,te,ne),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return ft.\u0275fac=function(Ae){return new(Ae||ft)(q.Y36(q.SBq),q.Y36(q.R0b),q.Y36(gn),q.Y36(q.sBO))},ft.\u0275cmp=q.Xpm({type:ft,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(Ae,D){2&Ae&&q.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[q._Bn([{provide:Zt,useExisting:ft}]),q.qOj],ngContentSelectors:et,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(Ae,D){1&Ae&&(q.F$t(),q.YNc(0,en,3,6,"ng-template"))},directives:[ht.mk],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[Be.transformMenu,Be.fadeInItems]},changeDetection:0}),ft})();const ot=new q.OlP("mat-menu-scroll-strategy"),Pt={provide:ot,deps:[Nt.aV],useFactory:function je(ft){return()=>ft.scrollStrategies.reposition()}},bt=(0,at.i$)({passive:!0});let En=(()=>{class ft{constructor(Ae,D,te,ne,me,xe,pt,Ft,rn){this._overlay=Ae,this._element=D,this._viewContainerRef=te,this._menuItemInstance=xe,this._dir=pt,this._focusMonitor=Ft,this._ngZone=rn,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ue.w0.EMPTY,this._hoverSubscription=Ue.w0.EMPTY,this._menuCloseSubscription=Ue.w0.EMPTY,this._handleTouchStart=Qe=>{(0,v.yG)(Qe)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new q.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new q.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=ne,this._parentMaterialMenu=me instanceof mt?me:void 0,D.nativeElement.addEventListener("touchstart",this._handleTouchStart,bt),xe&&(xe._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Ae){this.menu=Ae}get menu(){return this._menu}set menu(Ae){Ae!==this._menu&&(this._menu=Ae,this._menuCloseSubscription.unsubscribe(),Ae&&(this._menuCloseSubscription=Ae.close.subscribe(D=>{this._destroyMenu(D),("click"===D||"tab"===D)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(D)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,bt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const Ae=this._createOverlay(),D=Ae.getConfig(),te=D.positionStrategy;this._setPosition(te),D.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,Ae.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof mt&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe((0,Oe.R)(this.menu.close)).subscribe(()=>{te.withLockedPosition(!1).reapplyLastPosition(),te.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(Ae,D){this._focusMonitor&&Ae?this._focusMonitor.focusVia(this._element,Ae,D):this._element.nativeElement.focus(D)}updatePosition(){var Ae;null===(Ae=this._overlayRef)||void 0===Ae||Ae.updatePosition()}_destroyMenu(Ae){if(!this._overlayRef||!this.menuOpen)return;const D=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Ae||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,D instanceof mt?(D._resetAnimation(),D.lazyContent?D._animationDone.pipe((0,Le.h)(te=>"void"===te.toState),(0,we.q)(1),(0,Oe.R)(D.lazyContent._attached)).subscribe({next:()=>D.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),D.lazyContent&&D.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let Ae=0,D=this.menu.parentMenu;for(;D;)Ae++,D=D.parentMenu;this.menu.setElevation(Ae)}}_setIsMenuOpen(Ae){this._menuOpen=Ae,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Ae)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const Ae=this._getOverlayConfig();this._subscribeToPositions(Ae.positionStrategy),this._overlayRef=this._overlay.create(Ae),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Nt.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Ae){this.menu.setPositionClasses&&Ae.positionChanges.subscribe(D=>{const te="start"===D.connectionPair.overlayX?"after":"before",ne="top"===D.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(te,ne)):this.menu.setPositionClasses(te,ne)})}_setPosition(Ae){let[D,te]="before"===this.menu.xPosition?["end","start"]:["start","end"],[ne,me]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[xe,pt]=[ne,me],[Ft,rn]=[D,te],Qe=0;this.triggersSubmenu()?(rn=D="before"===this.menu.xPosition?"start":"end",te=Ft="end"===D?"start":"end",Qe="bottom"===ne?8:-8):this.menu.overlapTrigger||(xe="top"===ne?"bottom":"top",pt="top"===me?"bottom":"top"),Ae.withPositions([{originX:D,originY:xe,overlayX:Ft,overlayY:ne,offsetY:Qe},{originX:te,originY:xe,overlayX:rn,overlayY:ne,offsetY:Qe},{originX:D,originY:pt,overlayX:Ft,overlayY:me,offsetY:-Qe},{originX:te,originY:pt,overlayX:rn,overlayY:me,offsetY:-Qe}])}_menuClosingActions(){const Ae=this._overlayRef.backdropClick(),D=this._overlayRef.detachments(),te=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Ce.of)(),ne=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Le.h)(me=>me!==this._menuItemInstance),(0,Le.h)(()=>this._menuOpen)):(0,Ce.of)();return(0,P.T)(Ae,te,ne,D)}_handleMousedown(Ae){(0,v.X6)(Ae)||(this._openedBy=0===Ae.button?"mouse":void 0,this.triggersSubmenu()&&Ae.preventDefault())}_handleKeydown(Ae){const D=Ae.keyCode;(D===I.K5||D===I.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(D===I.SV&&"ltr"===this.dir||D===I.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Ae){this.triggersSubmenu()?(Ae.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Le.h)(Ae=>Ae===this._menuItemInstance&&!Ae.disabled),(0,st.g)(0,Ee.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof mt&&this.menu._isAnimating?this.menu._animationDone.pipe((0,we.q)(1),(0,st.g)(0,Ee.E),(0,Oe.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new Je.UE(this.menu.templateRef,this._viewContainerRef)),this._portal}}return ft.\u0275fac=function(Ae){return new(Ae||ft)(q.Y36(Nt.aV),q.Y36(q.SBq),q.Y36(q.s_b),q.Y36(ot),q.Y36(Zt,8),q.Y36(Kt,10),q.Y36(ke.Is,8),q.Y36(v.tE),q.Y36(q.R0b))},ft.\u0275dir=q.lG2({type:ft,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(Ae,D){1&Ae&&q.NdJ("click",function(ne){return D._handleClick(ne)})("mousedown",function(ne){return D._handleMousedown(ne)})("keydown",function(ne){return D._handleKeydown(ne)}),2&Ae&&q.uIk("aria-expanded",D.menuOpen||null)("aria-controls",D.menuOpen?D.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),ft})(),Xn=(()=>{class ft extends En{}return ft.\u0275fac=function(){let Rn;return function(D){return(Rn||(Rn=q.n5z(ft)))(D||ft)}}(),ft.\u0275dir=q.lG2({type:ft,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[q.qOj]}),ft})(),Dn=(()=>{class ft{}return ft.\u0275fac=function(Ae){return new(Ae||ft)},ft.\u0275mod=q.oAB({type:ft}),ft.\u0275inj=q.cJS({providers:[Pt],imports:[[ht.ez,Xe.BQ,Xe.si,Nt.U8],Ke.ZD,Xe.BQ]}),ft})()},4107:(Ot,B,R)=>{R.d(B,{LD:()=>ft,gD:()=>Dn});var v=R(9776),V=R(9808),I=R(5e3),q=R(508),g=R(7322),Ue=R(495),P=R(5664),Ce=R(3191),Ee=R(449),ae=R(1159),Me=R(3075),we=R(7579),Oe=R(9770),Le=R(6451),st=R(8675),gt=R(3900),Je=R(5698),ht=R(9300),Xe=R(4004),Nt=R(1884),at=R(2722),ke=R(1777),Ke=R(226);const it=["trigger"],A=["panel"];function et(Rn,Ae){if(1&Rn&&(I.TgZ(0,"span",8),I._uU(1),I.qZA()),2&Rn){const D=I.oxw();I.xp6(1),I.Oqu(D.placeholder)}}function en(Rn,Ae){if(1&Rn&&(I.TgZ(0,"span",12),I._uU(1),I.qZA()),2&Rn){const D=I.oxw(2);I.xp6(1),I.Oqu(D.triggerValue)}}function Be(Rn,Ae){1&Rn&&I.Hsn(0,0,["*ngSwitchCase","true"])}function At(Rn,Ae){if(1&Rn&&(I.TgZ(0,"span",9),I.YNc(1,en,2,1,"span",10),I.YNc(2,Be,1,0,"ng-content",11),I.qZA()),2&Rn){const D=I.oxw();I.Q6J("ngSwitch",!!D.customTrigger),I.xp6(2),I.Q6J("ngSwitchCase",!0)}}function Ut(Rn,Ae){if(1&Rn){const D=I.EpF();I.TgZ(0,"div",13)(1,"div",14,15),I.NdJ("@transformPanel.done",function(ne){return I.CHM(D),I.oxw()._panelDoneAnimatingStream.next(ne.toState)})("keydown",function(ne){return I.CHM(D),I.oxw()._handleKeydown(ne)}),I.Hsn(3,1),I.qZA()()}if(2&Rn){const D=I.oxw();I.Q6J("@transformPanelWrap",void 0),I.xp6(1),I.Gre("mat-select-panel ",D._getPanelTheme(),""),I.Udp("transform-origin",D._transformOrigin)("font-size",D._triggerFontSize,"px"),I.Q6J("ngClass",D.panelClass)("@transformPanel",D.multiple?"showing-multiple":"showing"),I.uIk("id",D.id+"-panel")("aria-multiselectable",D.multiple)("aria-label",D.ariaLabel||null)("aria-labelledby",D._getPanelAriaLabelledby())}}const nn=[[["mat-select-trigger"]],"*"],Qt=["mat-select-trigger","*"],an={transformPanelWrap:(0,ke.X$)("transformPanelWrap",[(0,ke.eR)("* => void",(0,ke.IO)("@transformPanel",[(0,ke.pV)()],{optional:!0}))]),transformPanel:(0,ke.X$)("transformPanel",[(0,ke.SB)("void",(0,ke.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,ke.SB)("showing",(0,ke.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,ke.SB)("showing-multiple",(0,ke.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,ke.eR)("void => *",(0,ke.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,ke.eR)("* => void",(0,ke.jt)("100ms 25ms linear",(0,ke.oB)({opacity:0})))])};let ut=0;const mt=new I.OlP("mat-select-scroll-strategy"),ot=new I.OlP("MAT_SELECT_CONFIG"),je={provide:mt,deps:[v.aV],useFactory:function Vt(Rn){return()=>Rn.scrollStrategies.reposition()}};class Pt{constructor(Ae,D){this.source=Ae,this.value=D}}const rt=(0,q.Kr)((0,q.sb)((0,q.Id)((0,q.FD)(class{constructor(Rn,Ae,D,te,ne){this._elementRef=Rn,this._defaultErrorStateMatcher=Ae,this._parentForm=D,this._parentFormGroup=te,this.ngControl=ne}})))),bt=new I.OlP("MatSelectTrigger");let Xn=(()=>{class Rn extends rt{constructor(D,te,ne,me,xe,pt,Ft,rn,Qe,Cn,xn,ei,ri,Oi){var Si,mn,_i;super(xe,me,Ft,rn,Cn),this._viewportRuler=D,this._changeDetectorRef=te,this._ngZone=ne,this._dir=pt,this._parentFormField=Qe,this._liveAnnouncer=ri,this._defaultOptions=Oi,this._panelOpen=!1,this._compareWith=(ci,Dt)=>ci===Dt,this._uid="mat-select-"+ut++,this._triggerAriaLabelledBy=null,this._destroy=new we.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ut++,this._panelDoneAnimatingStream=new we.x,this._overlayPanelClass=(null===(Si=this._defaultOptions)||void 0===Si?void 0:Si.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(_i=null===(mn=this._defaultOptions)||void 0===mn?void 0:mn.disableOptionCentering)&&void 0!==_i&&_i,this.ariaLabel="",this.optionSelectionChanges=(0,Oe.P)(()=>{const ci=this.options;return ci?ci.changes.pipe((0,st.O)(ci),(0,gt.w)(()=>(0,Le.T)(...ci.map(Dt=>Dt.onSelectionChange)))):this._ngZone.onStable.pipe((0,Je.q)(1),(0,gt.w)(()=>this.optionSelectionChanges))}),this.openedChange=new I.vpe,this._openedStream=this.openedChange.pipe((0,ht.h)(ci=>ci),(0,Xe.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,ht.h)(ci=>!ci),(0,Xe.U)(()=>{})),this.selectionChange=new I.vpe,this.valueChange=new I.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Oi?void 0:Oi.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Oi.typeaheadDebounceInterval),this._scrollStrategyFactory=ei,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(xn)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(D){this._placeholder=D,this.stateChanges.next()}get required(){var D,te,ne,me;return null!==(me=null!==(D=this._required)&&void 0!==D?D:null===(ne=null===(te=this.ngControl)||void 0===te?void 0:te.control)||void 0===ne?void 0:ne.hasValidator(Me.kI.required))&&void 0!==me&&me}set required(D){this._required=(0,Ce.Ig)(D),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(D){this._multiple=(0,Ce.Ig)(D)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(D){this._disableOptionCentering=(0,Ce.Ig)(D)}get compareWith(){return this._compareWith}set compareWith(D){this._compareWith=D,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(D){this._assignValue(D)&&this._onChange(D)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(D){this._typeaheadDebounceInterval=(0,Ce.su)(D)}get id(){return this._id}set id(D){this._id=D||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Ee.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Nt.x)(),(0,at.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,at.R)(this._destroy)).subscribe(D=>{D.added.forEach(te=>te.select()),D.removed.forEach(te=>te.deselect())}),this.options.changes.pipe((0,st.O)(null),(0,at.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const D=this._getTriggerAriaLabelledby(),te=this.ngControl;if(D!==this._triggerAriaLabelledBy){const ne=this._elementRef.nativeElement;this._triggerAriaLabelledBy=D,D?ne.setAttribute("aria-labelledby",D):ne.removeAttribute("aria-labelledby")}te&&(this._previousControl!==te.control&&(void 0!==this._previousControl&&null!==te.disabled&&te.disabled!==this.disabled&&(this.disabled=te.disabled),this._previousControl=te.control),this.updateErrorState())}ngOnChanges(D){D.disabled&&this.stateChanges.next(),D.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(D){this._assignValue(D)}registerOnChange(D){this._onChange=D}registerOnTouched(D){this._onTouched=D}setDisabledState(D){this.disabled=D,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var D,te;return this.multiple?(null===(D=this._selectionModel)||void 0===D?void 0:D.selected)||[]:null===(te=this._selectionModel)||void 0===te?void 0:te.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const D=this._selectionModel.selected.map(te=>te.viewValue);return this._isRtl()&&D.reverse(),D.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(D){this.disabled||(this.panelOpen?this._handleOpenKeydown(D):this._handleClosedKeydown(D))}_handleClosedKeydown(D){const te=D.keyCode,ne=te===ae.JH||te===ae.LH||te===ae.oh||te===ae.SV,me=te===ae.K5||te===ae.L_,xe=this._keyManager;if(!xe.isTyping()&&me&&!(0,ae.Vb)(D)||(this.multiple||D.altKey)&&ne)D.preventDefault(),this.open();else if(!this.multiple){const pt=this.selected;xe.onKeydown(D);const Ft=this.selected;Ft&&pt!==Ft&&this._liveAnnouncer.announce(Ft.viewValue,1e4)}}_handleOpenKeydown(D){const te=this._keyManager,ne=D.keyCode,me=ne===ae.JH||ne===ae.LH,xe=te.isTyping();if(me&&D.altKey)D.preventDefault(),this.close();else if(xe||ne!==ae.K5&&ne!==ae.L_||!te.activeItem||(0,ae.Vb)(D))if(!xe&&this._multiple&&ne===ae.A&&D.ctrlKey){D.preventDefault();const pt=this.options.some(Ft=>!Ft.disabled&&!Ft.selected);this.options.forEach(Ft=>{Ft.disabled||(pt?Ft.select():Ft.deselect())})}else{const pt=te.activeItemIndex;te.onKeydown(D),this._multiple&&me&&D.shiftKey&&te.activeItem&&te.activeItemIndex!==pt&&te.activeItem._selectViaInteraction()}else D.preventDefault(),te.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Je.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(D){if(this._selectionModel.selected.forEach(te=>te.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&D)Array.isArray(D),D.forEach(te=>this._selectOptionByValue(te)),this._sortValues();else{const te=this._selectOptionByValue(D);te?this._keyManager.updateActiveItem(te):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(D){const te=this.options.find(ne=>{if(this._selectionModel.isSelected(ne))return!1;try{return null!=ne.value&&this._compareWith(ne.value,D)}catch(me){return!1}});return te&&this._selectionModel.select(te),te}_assignValue(D){return!!(D!==this._value||this._multiple&&Array.isArray(D))&&(this.options&&this._setSelectionByValue(D),this._value=D,!0)}_initKeyManager(){this._keyManager=new P.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,at.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,at.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const D=(0,Le.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,at.R)(D)).subscribe(te=>{this._onSelect(te.source,te.isUserInput),te.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Le.T)(...this.options.map(te=>te._stateChanges)).pipe((0,at.R)(D)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(D,te){const ne=this._selectionModel.isSelected(D);null!=D.value||this._multiple?(ne!==D.selected&&(D.selected?this._selectionModel.select(D):this._selectionModel.deselect(D)),te&&this._keyManager.setActiveItem(D),this.multiple&&(this._sortValues(),te&&this.focus())):(D.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(D.value)),ne!==this._selectionModel.isSelected(D)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const D=this.options.toArray();this._selectionModel.sort((te,ne)=>this.sortComparator?this.sortComparator(te,ne,D):D.indexOf(te)-D.indexOf(ne)),this.stateChanges.next()}}_propagateChanges(D){let te=null;te=this.multiple?this.selected.map(ne=>ne.value):this.selected?this.selected.value:D,this._value=te,this.valueChange.emit(te),this._onChange(te),this.selectionChange.emit(this._getChangeEvent(te)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var D;return!this._panelOpen&&!this.disabled&&(null===(D=this.options)||void 0===D?void 0:D.length)>0}focus(D){this._elementRef.nativeElement.focus(D)}_getPanelAriaLabelledby(){var D;if(this.ariaLabel)return null;const te=null===(D=this._parentFormField)||void 0===D?void 0:D.getLabelId();return this.ariaLabelledby?(te?te+" ":"")+this.ariaLabelledby:te}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var D;if(this.ariaLabel)return null;const te=null===(D=this._parentFormField)||void 0===D?void 0:D.getLabelId();let ne=(te?te+" ":"")+this._valueId;return this.ariaLabelledby&&(ne+=" "+this.ariaLabelledby),ne}_panelDoneAnimating(D){this.openedChange.emit(D)}setDescribedByIds(D){this._ariaDescribedby=D.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return Rn.\u0275fac=function(D){return new(D||Rn)(I.Y36(Ue.rL),I.Y36(I.sBO),I.Y36(I.R0b),I.Y36(q.rD),I.Y36(I.SBq),I.Y36(Ke.Is,8),I.Y36(Me.F,8),I.Y36(Me.sg,8),I.Y36(g.G_,8),I.Y36(Me.a5,10),I.$8M("tabindex"),I.Y36(mt),I.Y36(P.Kd),I.Y36(ot,8))},Rn.\u0275dir=I.lG2({type:Rn,viewQuery:function(D,te){if(1&D&&(I.Gf(it,5),I.Gf(A,5),I.Gf(v.pI,5)),2&D){let ne;I.iGM(ne=I.CRH())&&(te.trigger=ne.first),I.iGM(ne=I.CRH())&&(te.panel=ne.first),I.iGM(ne=I.CRH())&&(te._overlayDir=ne.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[I.qOj,I.TTD]}),Rn})(),Dn=(()=>{class Rn extends Xn{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(D,te,ne){const me=this._getItemHeight();return Math.min(Math.max(0,me*D-te+me/2),ne)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,at.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Je.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(D){const te=(0,q.CB)(D,this.options,this.optionGroups),ne=this._getItemHeight();this.panel.nativeElement.scrollTop=0===D&&1===te?0:(0,q.jH)((D+te)*ne,ne,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(D){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(D)}_getChangeEvent(D){return new Pt(this,D)}_calculateOverlayOffsetX(){const D=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),te=this._viewportRuler.getViewportSize(),ne=this._isRtl(),me=this.multiple?56:32;let xe;if(this.multiple)xe=40;else if(this.disableOptionCentering)xe=16;else{let rn=this._selectionModel.selected[0]||this.options.first;xe=rn&&rn.group?32:16}ne||(xe*=-1);const pt=0-(D.left+xe-(ne?me:0)),Ft=D.right+xe-te.width+(ne?0:me);pt>0?xe+=pt+8:Ft>0&&(xe-=Ft+8),this._overlayDir.offsetX=Math.round(xe),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(D,te,ne){const me=this._getItemHeight(),xe=(me-this._triggerRect.height)/2,pt=Math.floor(256/me);let Ft;return this.disableOptionCentering?0:(Ft=0===this._scrollTop?D*me:this._scrollTop===ne?(D-(this._getItemCount()-pt))*me+(me-(this._getItemCount()*me-256)%me):te-me/2,Math.round(-1*Ft-xe))}_checkOverlayWithinViewport(D){const te=this._getItemHeight(),ne=this._viewportRuler.getViewportSize(),me=this._triggerRect.top-8,xe=ne.height-this._triggerRect.bottom-8,pt=Math.abs(this._offsetY),rn=Math.min(this._getItemCount()*te,256)-pt-this._triggerRect.height;rn>xe?this._adjustPanelUp(rn,xe):pt>me?this._adjustPanelDown(pt,me,D):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(D,te){const ne=Math.round(D-te);this._scrollTop-=ne,this._offsetY-=ne,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(D,te,ne){const me=Math.round(D-te);if(this._scrollTop+=me,this._offsetY+=me,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=ne)return this._scrollTop=ne,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const D=this._getItemHeight(),te=this._getItemCount(),ne=Math.min(te*D,256),xe=te*D-ne;let pt;pt=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),pt+=(0,q.CB)(pt,this.options,this.optionGroups);const Ft=ne/2;this._scrollTop=this._calculateOverlayScroll(pt,Ft,xe),this._offsetY=this._calculateOverlayOffsetY(pt,Ft,xe),this._checkOverlayWithinViewport(xe)}_getOriginBasedOnOption(){const D=this._getItemHeight(),te=(D-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-te+D/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return Rn.\u0275fac=function(){let Ae;return function(te){return(Ae||(Ae=I.n5z(Rn)))(te||Rn)}}(),Rn.\u0275cmp=I.Xpm({type:Rn,selectors:[["mat-select"]],contentQueries:function(D,te,ne){if(1&D&&(I.Suo(ne,bt,5),I.Suo(ne,q.ey,5),I.Suo(ne,q.K7,5)),2&D){let me;I.iGM(me=I.CRH())&&(te.customTrigger=me.first),I.iGM(me=I.CRH())&&(te.options=me),I.iGM(me=I.CRH())&&(te.optionGroups=me)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(D,te){1&D&&I.NdJ("keydown",function(me){return te._handleKeydown(me)})("focus",function(){return te._onFocus()})("blur",function(){return te._onBlur()}),2&D&&(I.uIk("id",te.id)("tabindex",te.tabIndex)("aria-controls",te.panelOpen?te.id+"-panel":null)("aria-expanded",te.panelOpen)("aria-label",te.ariaLabel||null)("aria-required",te.required.toString())("aria-disabled",te.disabled.toString())("aria-invalid",te.errorState)("aria-describedby",te._ariaDescribedby||null)("aria-activedescendant",te._getAriaActiveDescendant()),I.ekj("mat-select-disabled",te.disabled)("mat-select-invalid",te.errorState)("mat-select-required",te.required)("mat-select-empty",te.empty)("mat-select-multiple",te.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[I._Bn([{provide:g.Eo,useExisting:Rn},{provide:q.HF,useExisting:Rn}]),I.qOj],ngContentSelectors:Qt,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(D,te){if(1&D&&(I.F$t(nn),I.TgZ(0,"div",0,1),I.NdJ("click",function(){return te.toggle()}),I.TgZ(3,"div",2),I.YNc(4,et,2,1,"span",3),I.YNc(5,At,3,2,"span",4),I.qZA(),I.TgZ(6,"div",5),I._UZ(7,"div",6),I.qZA()(),I.YNc(8,Ut,4,14,"ng-template",7),I.NdJ("backdropClick",function(){return te.close()})("attach",function(){return te._onAttached()})("detach",function(){return te.close()})),2&D){const ne=I.MAs(1);I.uIk("aria-owns",te.panelOpen?te.id+"-panel":null),I.xp6(3),I.Q6J("ngSwitch",te.empty),I.uIk("id",te._valueId),I.xp6(1),I.Q6J("ngSwitchCase",!0),I.xp6(1),I.Q6J("ngSwitchCase",!1),I.xp6(3),I.Q6J("cdkConnectedOverlayPanelClass",te._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",te._scrollStrategy)("cdkConnectedOverlayOrigin",ne)("cdkConnectedOverlayOpen",te.panelOpen)("cdkConnectedOverlayPositions",te._positions)("cdkConnectedOverlayMinWidth",null==te._triggerRect?null:te._triggerRect.width)("cdkConnectedOverlayOffsetY",te._offsetY)}},directives:[v.xu,V.RF,V.n9,V.ED,v.pI,V.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[an.transformPanelWrap,an.transformPanel]},changeDetection:0}),Rn})(),ft=(()=>{class Rn{}return Rn.\u0275fac=function(D){return new(D||Rn)},Rn.\u0275mod=I.oAB({type:Rn}),Rn.\u0275inj=I.cJS({providers:[je],imports:[[V.ez,v.U8,q.Ng,q.BQ],Ue.ZD,g.lN,q.Ng,q.BQ]}),Rn})()},1271:(Ot,B,R)=>{R.d(B,{Ve:()=>Kt,ux:()=>Bt,ZX:()=>hn});var v=R(9776),V=R(7429),I=R(9808),q=R(5e3),g=R(508),Ue=R(7423),P=R(7579),Ce=R(5698),Ee=R(2722),ae=R(1777),Me=R(925),we=R(3191),Oe=R(9841),Le=R(7272),st=R(9751),gt=R(5684),Je=R(8372),ht=R(4004),Xe=R(8675);const at=new Set;let ke,Ke=(()=>{class mt{constructor(ot){this._platform=ot,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):A}matchMedia(ot){return(this._platform.WEBKIT||this._platform.BLINK)&&function it(mt){if(!at.has(mt))try{ke||(ke=document.createElement("style"),ke.setAttribute("type","text/css"),document.head.appendChild(ke)),ke.sheet&&(ke.sheet.insertRule(`@media ${mt} {body{ }}`,0),at.add(mt))}catch(Vt){console.error(Vt)}}(ot),this._matchMedia(ot)}}return mt.\u0275fac=function(ot){return new(ot||mt)(q.LFG(Me.t4))},mt.\u0275prov=q.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();function A(mt){return{matches:"all"===mt||""===mt,media:mt,addListener:()=>{},removeListener:()=>{}}}let et=(()=>{class mt{constructor(ot,je){this._mediaMatcher=ot,this._zone=je,this._queries=new Map,this._destroySubject=new P.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ot){return en((0,we.Eq)(ot)).some(Pt=>this._registerQuery(Pt).mql.matches)}observe(ot){const Pt=en((0,we.Eq)(ot)).map(bt=>this._registerQuery(bt).observable);let rt=(0,Oe.a)(Pt);return rt=(0,Le.z)(rt.pipe((0,Ce.q)(1)),rt.pipe((0,gt.T)(1),(0,Je.b)(0))),rt.pipe((0,ht.U)(bt=>{const En={matches:!1,breakpoints:{}};return bt.forEach(({matches:Xn,query:Dn})=>{En.matches=En.matches||Xn,En.breakpoints[Dn]=Xn}),En}))}_registerQuery(ot){if(this._queries.has(ot))return this._queries.get(ot);const je=this._mediaMatcher.matchMedia(ot),rt={observable:new st.y(bt=>{const En=Xn=>this._zone.run(()=>bt.next(Xn));return je.addListener(En),()=>{je.removeListener(En)}}).pipe((0,Xe.O)(je),(0,ht.U)(({matches:bt})=>({query:ot,matches:bt})),(0,Ee.R)(this._destroySubject)),mql:je};return this._queries.set(ot,rt),rt}}return mt.\u0275fac=function(ot){return new(ot||mt)(q.LFG(Ke),q.LFG(q.R0b))},mt.\u0275prov=q.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();function en(mt){return mt.map(Vt=>Vt.split(",")).reduce((Vt,ot)=>Vt.concat(ot)).map(Vt=>Vt.trim())}var At=R(5664);function Ut(mt,Vt){if(1&mt){const ot=q.EpF();q.TgZ(0,"div",2)(1,"button",3),q.NdJ("click",function(){return q.CHM(ot),q.oxw().action()}),q._uU(2),q.qZA()()}if(2&mt){const ot=q.oxw();q.xp6(2),q.Oqu(ot.data.action)}}function nn(mt,Vt){}const Qt=new q.OlP("MatSnackBarData");class an{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Bn=Math.pow(2,31)-1;class ie{constructor(Vt,ot){this._overlayRef=ot,this._afterDismissed=new P.x,this._afterOpened=new P.x,this._onAction=new P.x,this._dismissedByAction=!1,this.containerInstance=Vt,this.onAction().subscribe(()=>this.dismiss()),Vt._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Vt){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Vt,Bn))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Mt=(()=>{class mt{constructor(ot,je){this.snackBarRef=ot,this.data=je}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return mt.\u0275fac=function(ot){return new(ot||mt)(q.Y36(ie),q.Y36(Qt))},mt.\u0275cmp=q.Xpm({type:mt,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(ot,je){1&ot&&(q.TgZ(0,"span",0),q._uU(1),q.qZA(),q.YNc(2,Ut,3,1,"div",1)),2&ot&&(q.xp6(1),q.Oqu(je.data.message),q.xp6(1),q.Q6J("ngIf",je.hasAction))},directives:[Ue.lW,I.O5],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),mt})();const ut={snackBarState:(0,ae.X$)("state",[(0,ae.SB)("void, hidden",(0,ae.oB)({transform:"scale(0.8)",opacity:0})),(0,ae.SB)("visible",(0,ae.oB)({transform:"scale(1)",opacity:1})),(0,ae.eR)("* => visible",(0,ae.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,ae.eR)("* => void, * => hidden",(0,ae.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,ae.oB)({opacity:0})))])};let Zt=(()=>{class mt extends V.en{constructor(ot,je,Pt,rt,bt){super(),this._ngZone=ot,this._elementRef=je,this._changeDetectorRef=Pt,this._platform=rt,this.snackBarConfig=bt,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new P.x,this._onExit=new P.x,this._onEnter=new P.x,this._animationState="void",this.attachDomPortal=En=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(En)),this._live="assertive"!==bt.politeness||bt.announcementMessage?"off"===bt.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(ot){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(ot)}attachTemplatePortal(ot){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(ot)}onAnimationEnd(ot){const{fromState:je,toState:Pt}=ot;if(("void"===Pt&&"void"!==je||"hidden"===Pt)&&this._completeExit(),"visible"===Pt){const rt=this._onEnter;this._ngZone.run(()=>{rt.next(),rt.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Ce.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const ot=this._elementRef.nativeElement,je=this.snackBarConfig.panelClass;je&&(Array.isArray(je)?je.forEach(Pt=>ot.classList.add(Pt)):ot.classList.add(je)),"center"===this.snackBarConfig.horizontalPosition&&ot.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&ot.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const ot=this._elementRef.nativeElement.querySelector("[aria-hidden]"),je=this._elementRef.nativeElement.querySelector("[aria-live]");if(ot&&je){let Pt=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&ot.contains(document.activeElement)&&(Pt=document.activeElement),ot.removeAttribute("aria-hidden"),je.appendChild(ot),null==Pt||Pt.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return mt.\u0275fac=function(ot){return new(ot||mt)(q.Y36(q.R0b),q.Y36(q.SBq),q.Y36(q.sBO),q.Y36(Me.t4),q.Y36(an))},mt.\u0275cmp=q.Xpm({type:mt,selectors:[["snack-bar-container"]],viewQuery:function(ot,je){if(1&ot&&q.Gf(V.Pl,7),2&ot){let Pt;q.iGM(Pt=q.CRH())&&(je._portalOutlet=Pt.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(ot,je){1&ot&&q.WFA("@state.done",function(rt){return je.onAnimationEnd(rt)}),2&ot&&q.d8E("@state",je._animationState)},features:[q.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(ot,je){1&ot&&(q.TgZ(0,"div",0),q.YNc(1,nn,0,0,"ng-template",1),q.qZA(),q._UZ(2,"div")),2&ot&&(q.xp6(2),q.uIk("aria-live",je._live)("role",je._role))},directives:[V.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[ut.snackBarState]}}),mt})(),hn=(()=>{class mt{}return mt.\u0275fac=function(ot){return new(ot||mt)},mt.\u0275mod=q.oAB({type:mt}),mt.\u0275inj=q.cJS({imports:[[v.U8,V.eL,I.ez,Ue.ot,g.BQ],g.BQ]}),mt})();const Kt=new q.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function gn(){return new an}});let Lt=(()=>{class mt{constructor(ot,je,Pt,rt,bt,En){this._overlay=ot,this._live=je,this._injector=Pt,this._breakpointObserver=rt,this._parentSnackBar=bt,this._defaultConfig=En,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const ot=this._parentSnackBar;return ot?ot._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(ot){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=ot:this._snackBarRefAtThisLevel=ot}openFromComponent(ot,je){return this._attach(ot,je)}openFromTemplate(ot,je){return this._attach(ot,je)}open(ot,je="",Pt){const rt=Object.assign(Object.assign({},this._defaultConfig),Pt);return rt.data={message:ot,action:je},rt.announcementMessage===ot&&(rt.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,rt)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(ot,je){const rt=q.zs3.create({parent:je&&je.viewContainerRef&&je.viewContainerRef.injector||this._injector,providers:[{provide:an,useValue:je}]}),bt=new V.C5(this.snackBarContainerComponent,je.viewContainerRef,rt),En=ot.attach(bt);return En.instance.snackBarConfig=je,En.instance}_attach(ot,je){const Pt=Object.assign(Object.assign(Object.assign({},new an),this._defaultConfig),je),rt=this._createOverlay(Pt),bt=this._attachSnackBarContainer(rt,Pt),En=new ie(bt,rt);if(ot instanceof q.Rgc){const Xn=new V.UE(ot,null,{$implicit:Pt.data,snackBarRef:En});En.instance=bt.attachTemplatePortal(Xn)}else{const Xn=this._createInjector(Pt,En),Dn=new V.C5(ot,void 0,Xn),ft=bt.attachComponentPortal(Dn);En.instance=ft.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,Ee.R)(rt.detachments())).subscribe(Xn=>{rt.overlayElement.classList.toggle(this.handsetCssClass,Xn.matches)}),Pt.announcementMessage&&bt._onAnnounce.subscribe(()=>{this._live.announce(Pt.announcementMessage,Pt.politeness)}),this._animateSnackBar(En,Pt),this._openedSnackBarRef=En,this._openedSnackBarRef}_animateSnackBar(ot,je){ot.afterDismissed().subscribe(()=>{this._openedSnackBarRef==ot&&(this._openedSnackBarRef=null),je.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{ot.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):ot.containerInstance.enter(),je.duration&&je.duration>0&&ot.afterOpened().subscribe(()=>ot._dismissAfter(je.duration))}_createOverlay(ot){const je=new v.X_;je.direction=ot.direction;let Pt=this._overlay.position().global();const rt="rtl"===ot.direction,bt="left"===ot.horizontalPosition||"start"===ot.horizontalPosition&&!rt||"end"===ot.horizontalPosition&&rt,En=!bt&&"center"!==ot.horizontalPosition;return bt?Pt.left("0"):En?Pt.right("0"):Pt.centerHorizontally(),"top"===ot.verticalPosition?Pt.top("0"):Pt.bottom("0"),je.positionStrategy=Pt,this._overlay.create(je)}_createInjector(ot,je){return q.zs3.create({parent:ot&&ot.viewContainerRef&&ot.viewContainerRef.injector||this._injector,providers:[{provide:ie,useValue:je},{provide:Qt,useValue:ot.data}]})}}return mt.\u0275fac=function(ot){return new(ot||mt)(q.LFG(v.aV),q.LFG(At.Kd),q.LFG(q.zs3),q.LFG(et),q.LFG(mt,12),q.LFG(Kt))},mt.\u0275prov=q.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),Bt=(()=>{class mt extends Lt{constructor(ot,je,Pt,rt,bt,En){super(ot,je,Pt,rt,bt,En),this.simpleSnackBarComponent=Mt,this.snackBarContainerComponent=Zt,this.handsetCssClass="mat-snack-bar-handset"}}return mt.\u0275fac=function(ot){return new(ot||mt)(q.LFG(v.aV),q.LFG(At.Kd),q.LFG(q.zs3),q.LFG(et),q.LFG(mt,12),q.LFG(Kt))},mt.\u0275prov=q.Yz7({token:mt,factory:mt.\u0275fac,providedIn:hn}),mt})()},3251:(Ot,B,R)=>{R.d(B,{BU:()=>mn,Nh:()=>O,Nj:()=>Dt});var v=R(5664),V=R(7144),I=R(7429),q=R(9808),g=R(5e3),Ue=R(508),P=R(6360),Ce=R(5698),Ee=R(2722),ae=R(8675),Me=R(7579),we=R(4968),Oe=R(9646),Le=R(6451),st=R(2805),Je=(R(1777),R(226)),ht=R(3191),Xe=R(1159),Nt=R(925),at=R(495);const Ke=["*"],en=["tabListContainer"],Be=["tabList"],At=["tabListInner"],Ut=["nextPaginator"],nn=["previousPaginator"],hn=["mat-tab-nav-bar",""],Kt=new g.OlP("MatInkBarPositioner",{providedIn:"root",factory:function gn(){return oe=>({left:oe?(oe.offsetLeft||0)+"px":"0",width:oe?(oe.offsetWidth||0)+"px":"0"})}});let Lt=(()=>{class x{constructor(re,de,Se,We){this._elementRef=re,this._ngZone=de,this._inkBarPositioner=Se,this._animationMode=We}alignToElement(re){this.show(),this._ngZone.onStable.pipe((0,Ce.q)(1)).subscribe(()=>{const de=this._inkBarPositioner(re),Se=this._elementRef.nativeElement;Se.style.left=de.left,Se.style.width=de.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return x.\u0275fac=function(re){return new(re||x)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(Kt),g.Y36(P.Qb,8))},x.\u0275dir=g.lG2({type:x,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(re,de){2&re&&g.ekj("_mat-animation-noopable","NoopAnimations"===de._animationMode)}}),x})();const te=(0,Nt.i$)({passive:!0});let pt=(()=>{class x{constructor(re,de,Se,We,zt,Et,An){this._elementRef=re,this._changeDetectorRef=de,this._viewportRuler=Se,this._dir=We,this._ngZone=zt,this._platform=Et,this._animationMode=An,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Me.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Me.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new g.vpe,this.indexFocused=new g.vpe,zt.runOutsideAngular(()=>{(0,we.R)(re.nativeElement,"mouseleave").pipe((0,Ee.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(re){re=(0,ht.su)(re),this._selectedIndex!=re&&(this._selectedIndexChanged=!0,this._selectedIndex=re,this._keyManager&&this._keyManager.updateActiveItem(re))}ngAfterViewInit(){(0,we.R)(this._previousPaginator.nativeElement,"touchstart",te).pipe((0,Ee.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,we.R)(this._nextPaginator.nativeElement,"touchstart",te).pipe((0,Ee.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const re=this._dir?this._dir.change:(0,Oe.of)("ltr"),de=this._viewportRuler.change(150),Se=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new v.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Ce.q)(1)).subscribe(Se),(0,Le.T)(re,de,this._items.changes).pipe((0,Ee.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),Se()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,Ee.R)(this._destroyed)).subscribe(We=>{this.indexFocused.emit(We),this._setTabFocus(We)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(re){if(!(0,Xe.Vb)(re))switch(re.keyCode){case Xe.K5:case Xe.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(re));break;default:this._keyManager.onKeydown(re)}}_onContentChanges(){const re=this._elementRef.nativeElement.textContent;re!==this._currentTextContent&&(this._currentTextContent=re||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(re){!this._isValidIndex(re)||this.focusIndex===re||!this._keyManager||this._keyManager.setActiveItem(re)}_isValidIndex(re){if(!this._items)return!0;const de=this._items?this._items.toArray()[re]:null;return!!de&&!de.disabled}_setTabFocus(re){if(this._showPaginationControls&&this._scrollToLabel(re),this._items&&this._items.length){this._items.toArray()[re].focus();const de=this._tabListContainer.nativeElement;de.scrollLeft="ltr"==this._getLayoutDirection()?0:de.scrollWidth-de.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const re=this.scrollDistance,de="ltr"===this._getLayoutDirection()?-re:re;this._tabList.nativeElement.style.transform=`translateX(${Math.round(de)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(re){this._scrollTo(re)}_scrollHeader(re){return this._scrollTo(this._scrollDistance+("before"==re?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(re){this._stopInterval(),this._scrollHeader(re)}_scrollToLabel(re){if(this.disablePagination)return;const de=this._items?this._items.toArray()[re]:null;if(!de)return;const Se=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:We,offsetWidth:zt}=de.elementRef.nativeElement;let Et,An;"ltr"==this._getLayoutDirection()?(Et=We,An=Et+zt):(An=this._tabListInner.nativeElement.offsetWidth-We,Et=An-zt);const Gt=this.scrollDistance,_t=this.scrollDistance+Se;Et<Gt?this.scrollDistance-=Gt-Et+60:An>_t&&(this.scrollDistance+=An-_t+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const re=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;re||(this.scrollDistance=0),re!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=re}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const re=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,de=re?re.elementRef.nativeElement:null;de?this._inkBar.alignToElement(de):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(re,de){de&&null!=de.button&&0!==de.button||(this._stopInterval(),(0,st.H)(650,100).pipe((0,Ee.R)((0,Le.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:Se,distance:We}=this._scrollHeader(re);(0===We||We>=Se)&&this._stopInterval()}))}_scrollTo(re){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const de=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(de,re)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:de,distance:this._scrollDistance}}}return x.\u0275fac=function(re){return new(re||x)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(at.rL),g.Y36(Je.Is,8),g.Y36(g.R0b),g.Y36(Nt.t4),g.Y36(P.Qb,8))},x.\u0275dir=g.lG2({type:x,inputs:{disablePagination:"disablePagination"}}),x})(),Oi=0,Si=(()=>{class x extends pt{constructor(re,de,Se,We,zt,Et,An){super(re,We,zt,de,Se,Et,An),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(re){const de=this._elementRef.nativeElement.classList;de.remove(`mat-background-${this.backgroundColor}`),re&&de.add(`mat-background-${re}`),this._backgroundColor=re}get disableRipple(){return this._disableRipple}set disableRipple(re){this._disableRipple=(0,ht.Ig)(re)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe((0,ae.O)(null),(0,Ee.R)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const re=this._items.toArray();for(let de=0;de<re.length;de++)if(re[de].active)return this.selectedIndex=de,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=re[de].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return x.\u0275fac=function(re){return new(re||x)(g.Y36(g.SBq),g.Y36(Je.Is,8),g.Y36(g.R0b),g.Y36(g.sBO),g.Y36(at.rL),g.Y36(Nt.t4),g.Y36(P.Qb,8))},x.\u0275dir=g.lG2({type:x,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[g.qOj]}),x})(),mn=(()=>{class x extends Si{constructor(re,de,Se,We,zt,Et,An){super(re,de,Se,We,zt,Et,An)}}return x.\u0275fac=function(re){return new(re||x)(g.Y36(g.SBq),g.Y36(Je.Is,8),g.Y36(g.R0b),g.Y36(g.sBO),g.Y36(at.rL),g.Y36(Nt.t4),g.Y36(P.Qb,8))},x.\u0275cmp=g.Xpm({type:x,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(re,de,Se){if(1&re&&g.Suo(Se,Dt,5),2&re){let We;g.iGM(We=g.CRH())&&(de._items=We)}},viewQuery:function(re,de){if(1&re&&(g.Gf(Lt,7),g.Gf(en,7),g.Gf(Be,7),g.Gf(At,7),g.Gf(Ut,5),g.Gf(nn,5)),2&re){let Se;g.iGM(Se=g.CRH())&&(de._inkBar=Se.first),g.iGM(Se=g.CRH())&&(de._tabListContainer=Se.first),g.iGM(Se=g.CRH())&&(de._tabList=Se.first),g.iGM(Se=g.CRH())&&(de._tabListInner=Se.first),g.iGM(Se=g.CRH())&&(de._nextPaginator=Se.first),g.iGM(Se=g.CRH())&&(de._previousPaginator=Se.first)}},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:11,hostBindings:function(re,de){2&re&&(g.uIk("role",de._getRole()),g.ekj("mat-tab-header-pagination-controls-enabled",de._showPaginationControls)("mat-tab-header-rtl","rtl"==de._getLayoutDirection())("mat-primary","warn"!==de.color&&"accent"!==de.color)("mat-accent","accent"===de.color)("mat-warn","warn"===de.color))},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[g.qOj],attrs:hn,ngContentSelectors:Ke,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(re,de){1&re&&(g.F$t(),g.TgZ(0,"button",0,1),g.NdJ("click",function(){return de._handlePaginatorClick("before")})("mousedown",function(We){return de._handlePaginatorPress("before",We)})("touchend",function(){return de._stopInterval()}),g._UZ(2,"div",2),g.qZA(),g.TgZ(3,"div",3,4),g.NdJ("keydown",function(We){return de._handleKeydown(We)}),g.TgZ(5,"div",5,6),g.NdJ("cdkObserveContent",function(){return de._onContentChanges()}),g.TgZ(7,"div",7,8),g.Hsn(9),g.qZA(),g._UZ(10,"mat-ink-bar"),g.qZA()(),g.TgZ(11,"button",9,10),g.NdJ("mousedown",function(We){return de._handlePaginatorPress("after",We)})("click",function(){return de._handlePaginatorClick("after")})("touchend",function(){return de._stopInterval()}),g._UZ(13,"div",2),g.qZA()),2&re&&(g.ekj("mat-tab-header-pagination-disabled",de._disableScrollBefore),g.Q6J("matRippleDisabled",de._disableScrollBefore||de.disableRipple)("disabled",de._disableScrollBefore||null),g.xp6(5),g.ekj("_mat-animation-noopable","NoopAnimations"===de._animationMode),g.xp6(6),g.ekj("mat-tab-header-pagination-disabled",de._disableScrollAfter),g.Q6J("matRippleDisabled",de._disableScrollAfter||de.disableRipple)("disabled",de._disableScrollAfter||null))},directives:[Ue.wG,V.wD,Lt],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n"],encapsulation:2}),x})();const _i=(0,Ue.sb)((0,Ue.Kr)((0,Ue.Id)(class{})));let ci=(()=>{class x extends _i{constructor(re,de,Se,We,zt,Et){super(),this._tabNavBar=re,this.elementRef=de,this._focusMonitor=zt,this._isActive=!1,this.id="mat-tab-link-"+Oi++,this.rippleConfig=Se||{},this.tabIndex=parseInt(We)||0,"NoopAnimations"===Et&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(re){const de=(0,ht.Ig)(re);de!==this._isActive&&(this._isActive=de,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(re){this._tabNavBar.tabPanel&&re.keyCode===Xe.L_&&this.elementRef.nativeElement.click()}_getAriaControls(){var re;return this._tabNavBar.tabPanel?null===(re=this._tabNavBar.tabPanel)||void 0===re?void 0:re.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive?0:-1:this.tabIndex}}return x.\u0275fac=function(re){return new(re||x)(g.Y36(Si),g.Y36(g.SBq),g.Y36(Ue.Y2,8),g.$8M("tabindex"),g.Y36(v.tE),g.Y36(P.Qb,8))},x.\u0275dir=g.lG2({type:x,inputs:{active:"active",id:"id"},features:[g.qOj]}),x})(),Dt=(()=>{class x extends ci{constructor(re,de,Se,We,zt,Et,An,Gt){super(re,de,zt,Et,An,Gt),this._tabLinkRipple=new Ue.IR(this,Se,de,We),this._tabLinkRipple.setupTriggerEvents(de.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return x.\u0275fac=function(re){return new(re||x)(g.Y36(mn),g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(Nt.t4),g.Y36(Ue.Y2,8),g.$8M("tabindex"),g.Y36(v.tE),g.Y36(P.Qb,8))},x.\u0275dir=g.lG2({type:x,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:11,hostBindings:function(re,de){1&re&&g.NdJ("focus",function(){return de._handleFocus()})("keydown",function(We){return de._handleKeydown(We)}),2&re&&(g.uIk("aria-controls",de._getAriaControls())("aria-current",de._getAriaCurrent())("aria-disabled",de.disabled)("aria-selected",de._getAriaSelected())("id",de.id)("tabIndex",de._getTabIndex())("role",de._getRole()),g.ekj("mat-tab-disabled",de.disabled)("mat-tab-label-active",de.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[g.qOj]}),x})(),O=(()=>{class x{}return x.\u0275fac=function(re){return new(re||x)},x.\u0275mod=g.oAB({type:x}),x.\u0275inj=g.cJS({imports:[[q.ez,Ue.BQ,I.eL,Ue.si,V.Q8,v.rt],Ue.BQ]}),x})()},4594:(Ot,B,R)=>{R.d(B,{Ye:()=>Ee,g0:()=>Me,rD:()=>Ce});var v=R(5e3),V=R(508),I=R(9808),q=R(925);const g=["*",[["mat-toolbar-row"]]],Ue=["*","mat-toolbar-row"],P=(0,V.pj)(class{constructor(we){this._elementRef=we}});let Ce=(()=>{class we{}return we.\u0275fac=function(Le){return new(Le||we)},we.\u0275dir=v.lG2({type:we,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),we})(),Ee=(()=>{class we extends P{constructor(Le,st,gt){super(Le),this._platform=st,this._document=gt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return we.\u0275fac=function(Le){return new(Le||we)(v.Y36(v.SBq),v.Y36(q.t4),v.Y36(I.K0))},we.\u0275cmp=v.Xpm({type:we,selectors:[["mat-toolbar"]],contentQueries:function(Le,st,gt){if(1&Le&&v.Suo(gt,Ce,5),2&Le){let Je;v.iGM(Je=v.CRH())&&(st._toolbarRows=Je)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Le,st){2&Le&&v.ekj("mat-toolbar-multiple-rows",st._toolbarRows.length>0)("mat-toolbar-single-row",0===st._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[v.qOj],ngContentSelectors:Ue,decls:2,vars:0,template:function(Le,st){1&Le&&(v.F$t(g),v.Hsn(0),v.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),we})(),Me=(()=>{class we{}return we.\u0275fac=function(Le){return new(Le||we)},we.\u0275mod=v.oAB({type:we}),we.\u0275inj=v.cJS({imports:[[V.BQ],V.BQ]}),we})()},6360:(Ot,B,R)=>{R.d(B,{Qb:()=>Ms,PW:()=>So});var v=R(5e3),V=R(2313),I=R(1777);const q=!1;function Ue(Ie){return new v.vHH(3e3,q)}function Lt(){return"undefined"!=typeof window&&void 0!==window.document}function Bt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function mt(Ie){switch(Ie.length){case 0:return new I.ZN;case 1:return Ie[0];default:return new I.ZE(Ie)}}function Vt(Ie,N,G,le,Fe={},lt={}){const kt=[],jt=[];let pn=-1,Fn=null;if(le.forEach(Ti=>{const Bi=Ti.offset,Ki=Bi==pn,_r=Ki&&Fn||{};Object.keys(Ti).forEach(Ni=>{let ir=Ni,Gr=Ti[Ni];if("offset"!==Ni)switch(ir=N.normalizePropertyName(ir,kt),Gr){case I.k1:Gr=Fe[Ni];break;case I.l3:Gr=lt[Ni];break;default:Gr=N.normalizeStyleValue(Ni,ir,Gr,kt)}_r[ir]=Gr}),Ki||jt.push(_r),Fn=_r,pn=Bi}),kt.length)throw function Ut(Ie){return new v.vHH(3502,q)}();return jt}function ot(Ie,N,G,le){switch(N){case"start":Ie.onStart(()=>le(G&&je(G,"start",Ie)));break;case"done":Ie.onDone(()=>le(G&&je(G,"done",Ie)));break;case"destroy":Ie.onDestroy(()=>le(G&&je(G,"destroy",Ie)))}}function je(Ie,N,G){const le=G.totalTime,lt=Pt(Ie.element,Ie.triggerName,Ie.fromState,Ie.toState,N||Ie.phaseName,null==le?Ie.totalTime:le,!!G.disabled),kt=Ie._data;return null!=kt&&(lt._data=kt),lt}function Pt(Ie,N,G,le,Fe="",lt=0,kt){return{element:Ie,triggerName:N,fromState:G,toState:le,phaseName:Fe,totalTime:lt,disabled:!!kt}}function rt(Ie,N,G){let le;return Ie instanceof Map?(le=Ie.get(N),le||Ie.set(N,le=G)):(le=Ie[N],le||(le=Ie[N]=G)),le}function bt(Ie){const N=Ie.indexOf(":");return[Ie.substring(1,N),Ie.substr(N+1)]}let En=(Ie,N)=>!1,Xn=(Ie,N,G)=>[],Dn=null;function ft(Ie){const N=Ie.parentNode||Ie.host;return N===Dn?null:N}(Bt()||"undefined"!=typeof Element)&&(Lt()?(Dn=(()=>document.documentElement)(),En=(Ie,N)=>{for(;N;){if(N===Ie)return!0;N=ft(N)}return!1}):En=(Ie,N)=>Ie.contains(N),Xn=(Ie,N,G)=>{if(G)return Array.from(Ie.querySelectorAll(N));const le=Ie.querySelector(N);return le?[le]:[]});let D=null,te=!1;function ne(Ie){D||(D=function me(){return"undefined"!=typeof document?document.body:null}()||{},te=!!D.style&&"WebkitAppearance"in D.style);let N=!0;return D.style&&!function Ae(Ie){return"ebkit"==Ie.substring(1,6)}(Ie)&&(N=Ie in D.style,!N&&te&&(N="Webkit"+Ie.charAt(0).toUpperCase()+Ie.substr(1)in D.style)),N}const xe=En,pt=Xn;let rn=(()=>{class Ie{validateStyleProperty(G){return ne(G)}matchesElement(G,le){return!1}containsElement(G,le){return xe(G,le)}getParentElement(G){return ft(G)}query(G,le,Fe){return pt(G,le,Fe)}computeStyle(G,le,Fe){return Fe||""}animate(G,le,Fe,lt,kt,jt=[],pn){return new I.ZN(Fe,lt)}}return Ie.\u0275fac=function(G){return new(G||Ie)},Ie.\u0275prov=v.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})(),Qe=(()=>{class Ie{}return Ie.NOOP=new rn,Ie})();const ri="ng-enter",Oi="ng-leave",Si="ng-trigger",mn=".ng-trigger",_i="ng-animating",ci=".ng-animating";function Dt(Ie){if("number"==typeof Ie)return Ie;const N=Ie.match(/^(-?[\.\d]+)(m?s)/);return!N||N.length<2?0:$(parseFloat(N[1]),N[2])}function $(Ie,N){return"s"===N?1e3*Ie:Ie}function O(Ie,N,G){return Ie.hasOwnProperty("duration")?Ie:function x(Ie,N,G){let Fe,lt=0,kt="";if("string"==typeof Ie){const jt=Ie.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===jt)return N.push(Ue()),{duration:0,delay:0,easing:""};Fe=$(parseFloat(jt[1]),jt[2]);const pn=jt[3];null!=pn&&(lt=$(parseFloat(pn),jt[4]));const Fn=jt[5];Fn&&(kt=Fn)}else Fe=Ie;if(!G){let jt=!1,pn=N.length;Fe<0&&(N.push(function P(){return new v.vHH(3100,q)}()),jt=!0),lt<0&&(N.push(function Ce(){return new v.vHH(3101,q)}()),jt=!0),jt&&N.splice(pn,0,Ue())}return{duration:Fe,delay:lt,easing:kt}}(Ie,N,G)}function oe(Ie,N={}){return Object.keys(Ie).forEach(G=>{N[G]=Ie[G]}),N}function de(Ie,N,G={}){if(N)for(let le in Ie)G[le]=Ie[le];else oe(Ie,G);return G}function Se(Ie,N,G){return G?N+":"+G+";":""}function We(Ie){let N="";for(let G=0;G<Ie.style.length;G++){const le=Ie.style.item(G);N+=Se(0,le,Ie.style.getPropertyValue(le))}for(const G in Ie.style)Ie.style.hasOwnProperty(G)&&!G.startsWith("_")&&(N+=Se(0,$i(G),Ie.style[G]));Ie.setAttribute("style",N)}function zt(Ie,N,G){Ie.style&&(Object.keys(N).forEach(le=>{const Fe=vi(le);G&&!G.hasOwnProperty(le)&&(G[le]=Ie.style[Fe]),Ie.style[Fe]=N[le]}),Bt()&&We(Ie))}function Et(Ie,N){Ie.style&&(Object.keys(N).forEach(G=>{const le=vi(G);Ie.style[le]=""}),Bt()&&We(Ie))}function An(Ie){return Array.isArray(Ie)?1==Ie.length?Ie[0]:(0,I.vP)(Ie):Ie}const _t=new RegExp("{{\\s*(.+?)\\s*}}","g");function ct(Ie){let N=[];if("string"==typeof Ie){let G;for(;G=_t.exec(Ie);)N.push(G[1]);_t.lastIndex=0}return N}function wt(Ie,N,G){const le=Ie.toString(),Fe=le.replace(_t,(lt,kt)=>{let jt=N[kt];return N.hasOwnProperty(kt)||(G.push(function ae(Ie){return new v.vHH(3003,q)}()),jt=""),jt.toString()});return Fe==le?Ie:Fe}function dn(Ie){const N=[];let G=Ie.next();for(;!G.done;)N.push(G.value),G=Ie.next();return N}const Kn=/-+([a-z0-9])/g;function vi(Ie){return Ie.replace(Kn,(...N)=>N[1].toUpperCase())}function $i(Ie){return Ie.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qt(Ie,N,G){switch(N.type){case 7:return Ie.visitTrigger(N,G);case 0:return Ie.visitState(N,G);case 1:return Ie.visitTransition(N,G);case 2:return Ie.visitSequence(N,G);case 3:return Ie.visitGroup(N,G);case 4:return Ie.visitAnimate(N,G);case 5:return Ie.visitKeyframes(N,G);case 6:return Ie.visitStyle(N,G);case 8:return Ie.visitReference(N,G);case 9:return Ie.visitAnimateChild(N,G);case 10:return Ie.visitAnimateRef(N,G);case 11:return Ie.visitQuery(N,G);case 12:return Ie.visitStagger(N,G);default:throw function Me(Ie){return new v.vHH(3004,q)}()}}function Hn(Ie,N){return window.getComputedStyle(Ie)[N]}function j(Ie,N){const G=[];return"string"==typeof Ie?Ie.split(/\s*,\s*/).forEach(le=>function he(Ie,N,G){if(":"==Ie[0]){const pn=function tt(Ie,N){switch(Ie){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(G,le)=>parseFloat(le)>parseFloat(G);case":decrement":return(G,le)=>parseFloat(le)<parseFloat(G);default:return N.push(function et(Ie){return new v.vHH(3016,q)}()),"* => *"}}(Ie,G);if("function"==typeof pn)return void N.push(pn);Ie=pn}const le=Ie.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==le||le.length<4)return G.push(function A(Ie){return new v.vHH(3015,q)}()),N;const Fe=le[1],lt=le[2],kt=le[3];N.push(gi(Fe,kt));"<"==lt[0]&&!("*"==Fe&&"*"==kt)&&N.push(gi(kt,Fe))}(le,G,N)):G.push(Ie),G}const xt=new Set(["true","1"]),hi=new Set(["false","0"]);function gi(Ie,N){const G=xt.has(Ie)||hi.has(Ie),le=xt.has(N)||hi.has(N);return(Fe,lt)=>{let kt="*"==Ie||Ie==Fe,jt="*"==N||N==lt;return!kt&&G&&"boolean"==typeof Fe&&(kt=Fe?xt.has(Ie):hi.has(Ie)),!jt&&le&&"boolean"==typeof lt&&(jt=lt?xt.has(N):hi.has(N)),kt&&jt}}const Xr=new RegExp("s*:selfs*,?","g");function St(Ie,N,G,le){return new on(Ie).build(N,G,le)}class on{constructor(N){this._driver=N}build(N,G,le){const Fe=new ni(G);this._resetContextStyleTimingState(Fe);const lt=qt(this,An(N),Fe);return Fe.unsupportedCSSPropertiesFound.size&&Fe.unsupportedCSSPropertiesFound.keys(),lt}_resetContextStyleTimingState(N){N.currentQuerySelector="",N.collectedStyles={},N.collectedStyles[""]={},N.currentTime=0}visitTrigger(N,G){let le=G.queryCount=0,Fe=G.depCount=0;const lt=[],kt=[];return"@"==N.name.charAt(0)&&G.errors.push(function Oe(){return new v.vHH(3006,q)}()),N.definitions.forEach(jt=>{if(this._resetContextStyleTimingState(G),0==jt.type){const pn=jt,Fn=pn.name;Fn.toString().split(/\s*,\s*/).forEach(Ti=>{pn.name=Ti,lt.push(this.visitState(pn,G))}),pn.name=Fn}else if(1==jt.type){const pn=this.visitTransition(jt,G);le+=pn.queryCount,Fe+=pn.depCount,kt.push(pn)}else G.errors.push(function Le(){return new v.vHH(3007,q)}())}),{type:7,name:N.name,states:lt,transitions:kt,queryCount:le,depCount:Fe,options:null}}visitState(N,G){const le=this.visitStyle(N.styles,G),Fe=N.options&&N.options.params||null;if(le.containsDynamicStyles){const lt=new Set,kt=Fe||{};le.styles.forEach(jt=>{if(Dr(jt)){const pn=jt;Object.keys(pn).forEach(Fn=>{ct(pn[Fn]).forEach(Ti=>{kt.hasOwnProperty(Ti)||lt.add(Ti)})})}}),lt.size&&(dn(lt.values()),G.errors.push(function st(Ie,N){return new v.vHH(3008,q)}()))}return{type:0,name:N.name,style:le,options:Fe?{params:Fe}:null}}visitTransition(N,G){G.queryCount=0,G.depCount=0;const le=qt(this,An(N.animation),G);return{type:1,matchers:j(N.expr,G.errors),animation:le,queryCount:G.queryCount,depCount:G.depCount,options:nr(N.options)}}visitSequence(N,G){return{type:2,steps:N.steps.map(le=>qt(this,le,G)),options:nr(N.options)}}visitGroup(N,G){const le=G.currentTime;let Fe=0;const lt=N.steps.map(kt=>{G.currentTime=le;const jt=qt(this,kt,G);return Fe=Math.max(Fe,G.currentTime),jt});return G.currentTime=Fe,{type:3,steps:lt,options:nr(N.options)}}visitAnimate(N,G){const le=function Hr(Ie,N){if(Ie.hasOwnProperty("duration"))return Ie;if("number"==typeof Ie)return hr(O(Ie,N).duration,0,"");const G=Ie;if(G.split(/\s+/).some(lt=>"{"==lt.charAt(0)&&"{"==lt.charAt(1))){const lt=hr(0,0,"");return lt.dynamic=!0,lt.strValue=G,lt}const Fe=O(G,N);return hr(Fe.duration,Fe.delay,Fe.easing)}(N.timings,G.errors);G.currentAnimateTimings=le;let Fe,lt=N.styles?N.styles:(0,I.oB)({});if(5==lt.type)Fe=this.visitKeyframes(lt,G);else{let kt=N.styles,jt=!1;if(!kt){jt=!0;const Fn={};le.easing&&(Fn.easing=le.easing),kt=(0,I.oB)(Fn)}G.currentTime+=le.duration+le.delay;const pn=this.visitStyle(kt,G);pn.isEmptyStep=jt,Fe=pn}return G.currentAnimateTimings=null,{type:4,timings:le,style:Fe,options:null}}visitStyle(N,G){const le=this._makeStyleAst(N,G);return this._validateStyleAst(le,G),le}_makeStyleAst(N,G){const le=[];Array.isArray(N.styles)?N.styles.forEach(kt=>{"string"==typeof kt?kt==I.l3?le.push(kt):G.errors.push(function gt(Ie){return new v.vHH(3002,q)}()):le.push(kt)}):le.push(N.styles);let Fe=!1,lt=null;return le.forEach(kt=>{if(Dr(kt)){const jt=kt,pn=jt.easing;if(pn&&(lt=pn,delete jt.easing),!Fe)for(let Fn in jt)if(jt[Fn].toString().indexOf("{{")>=0){Fe=!0;break}}}),{type:6,styles:le,easing:lt,offset:N.offset,containsDynamicStyles:Fe,options:null}}_validateStyleAst(N,G){const le=G.currentAnimateTimings;let Fe=G.currentTime,lt=G.currentTime;le&&lt>0&&(lt-=le.duration+le.delay),N.styles.forEach(kt=>{"string"!=typeof kt&&Object.keys(kt).forEach(jt=>{if(!this._driver.validateStyleProperty(jt))return delete kt[jt],void G.unsupportedCSSPropertiesFound.add(jt);const pn=G.collectedStyles[G.currentQuerySelector],Fn=pn[jt];let Ti=!0;Fn&&(lt!=Fe&&lt>=Fn.startTime&&Fe<=Fn.endTime&&(G.errors.push(function ht(Ie,N,G,le,Fe){return new v.vHH(3010,q)}()),Ti=!1),lt=Fn.startTime),Ti&&(pn[jt]={startTime:lt,endTime:Fe}),G.options&&function Gt(Ie,N,G){const le=N.params||{},Fe=ct(Ie);Fe.length&&Fe.forEach(lt=>{le.hasOwnProperty(lt)||G.push(function Ee(Ie){return new v.vHH(3001,q)}())})}(kt[jt],G.options,G.errors)})})}visitKeyframes(N,G){const le={type:5,styles:[],options:null};if(!G.currentAnimateTimings)return G.errors.push(function Xe(){return new v.vHH(3011,q)}()),le;let lt=0;const kt=[];let jt=!1,pn=!1,Fn=0;const Ti=N.steps.map(yr=>{const Ur=this._makeStyleAst(yr,G);let Go=null!=Ur.offset?Ur.offset:function pi(Ie){if("string"==typeof Ie)return null;let N=null;if(Array.isArray(Ie))Ie.forEach(G=>{if(Dr(G)&&G.hasOwnProperty("offset")){const le=G;N=parseFloat(le.offset),delete le.offset}});else if(Dr(Ie)&&Ie.hasOwnProperty("offset")){const G=Ie;N=parseFloat(G.offset),delete G.offset}return N}(Ur.styles),cr=0;return null!=Go&&(lt++,cr=Ur.offset=Go),pn=pn||cr<0||cr>1,jt=jt||cr<Fn,Fn=cr,kt.push(cr),Ur});pn&&G.errors.push(function Nt(){return new v.vHH(3012,q)}()),jt&&G.errors.push(function at(){return new v.vHH(3200,q)}());const Bi=N.steps.length;let Ki=0;lt>0&&lt<Bi?G.errors.push(function ke(){return new v.vHH(3202,q)}()):0==lt&&(Ki=1/(Bi-1));const _r=Bi-1,Ni=G.currentTime,ir=G.currentAnimateTimings,Gr=ir.duration;return Ti.forEach((yr,Ur)=>{const Go=Ki>0?Ur==_r?1:Ki*Ur:kt[Ur],cr=Go*Gr;G.currentTime=Ni+ir.delay+cr,ir.duration=cr,this._validateStyleAst(yr,G),yr.offset=Go,le.styles.push(yr)}),le}visitReference(N,G){return{type:8,animation:qt(this,An(N.animation),G),options:nr(N.options)}}visitAnimateChild(N,G){return G.depCount++,{type:9,options:nr(N.options)}}visitAnimateRef(N,G){return{type:10,animation:this.visitReference(N.animation,G),options:nr(N.options)}}visitQuery(N,G){const le=G.currentQuerySelector,Fe=N.options||{};G.queryCount++,G.currentQuery=N;const[lt,kt]=function Sn(Ie){const N=!!Ie.split(/\s*,\s*/).find(G=>":self"==G);return N&&(Ie=Ie.replace(Xr,"")),Ie=Ie.replace(/@\*/g,mn).replace(/@\w+/g,G=>mn+"-"+G.substr(1)).replace(/:animating/g,ci),[Ie,N]}(N.selector);G.currentQuerySelector=le.length?le+" "+lt:lt,rt(G.collectedStyles,G.currentQuerySelector,{});const jt=qt(this,An(N.animation),G);return G.currentQuery=null,G.currentQuerySelector=le,{type:11,selector:lt,limit:Fe.limit||0,optional:!!Fe.optional,includeSelf:kt,animation:jt,originalSelector:N.selector,options:nr(N.options)}}visitStagger(N,G){G.currentQuery||G.errors.push(function Ke(){return new v.vHH(3013,q)}());const le="full"===N.timings?{duration:0,delay:0,easing:"full"}:O(N.timings,G.errors,!0);return{type:12,animation:qt(this,An(N.animation),G),timings:le,options:null}}}class ni{constructor(N){this.errors=N,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Dr(Ie){return!Array.isArray(Ie)&&"object"==typeof Ie}function nr(Ie){return Ie?(Ie=oe(Ie)).params&&(Ie.params=function Zn(Ie){return Ie?oe(Ie):null}(Ie.params)):Ie={},Ie}function hr(Ie,N,G){return{duration:Ie,delay:N,easing:G}}function _o(Ie,N,G,le,Fe,lt,kt=null,jt=!1){return{type:1,element:Ie,keyframes:N,preStyleProps:G,postStyleProps:le,duration:Fe,delay:lt,totalTime:Fe+lt,easing:kt,subTimeline:jt}}class Eo{constructor(){this._map=new Map}get(N){return this._map.get(N)||[]}append(N,G){let le=this._map.get(N);le||this._map.set(N,le=[]),le.push(...G)}has(N){return this._map.has(N)}clear(){this._map.clear()}}const Is=new RegExp(":enter","g"),Cs=new RegExp(":leave","g");function zr(Ie,N,G,le,Fe,lt={},kt={},jt,pn,Fn=[]){return(new ia).buildKeyframes(Ie,N,G,le,Fe,lt,kt,jt,pn,Fn)}class ia{buildKeyframes(N,G,le,Fe,lt,kt,jt,pn,Fn,Ti=[]){Fn=Fn||new Eo;const Bi=new tn(N,G,Fn,Fe,lt,Ti,[]);Bi.options=pn,Bi.currentTimeline.setStyles([kt],null,Bi.errors,pn),qt(this,le,Bi);const Ki=Bi.timelines.filter(_r=>_r.containsAnimation());if(Object.keys(jt).length){let _r;for(let Ni=Ki.length-1;Ni>=0;Ni--){const ir=Ki[Ni];if(ir.element===G){_r=ir;break}}_r&&!_r.allowOnlyTimelineStyles()&&_r.setStyles([jt],null,Bi.errors,pn)}return Ki.length?Ki.map(_r=>_r.buildKeyframes()):[_o(G,[],[],[],0,0,"",!1)]}visitTrigger(N,G){}visitState(N,G){}visitTransition(N,G){}visitAnimateChild(N,G){const le=G.subInstructions.get(G.element);if(le){const Fe=G.createSubContext(N.options),lt=G.currentTimeline.currentTime,kt=this._visitSubInstructions(le,Fe,Fe.options);lt!=kt&&G.transformIntoNewTimeline(kt)}G.previousNode=N}visitAnimateRef(N,G){const le=G.createSubContext(N.options);le.transformIntoNewTimeline(),this.visitReference(N.animation,le),G.transformIntoNewTimeline(le.currentTimeline.currentTime),G.previousNode=N}_visitSubInstructions(N,G,le){let lt=G.currentTimeline.currentTime;const kt=null!=le.duration?Dt(le.duration):null,jt=null!=le.delay?Dt(le.delay):null;return 0!==kt&&N.forEach(pn=>{const Fn=G.appendInstructionToTimeline(pn,kt,jt);lt=Math.max(lt,Fn.duration+Fn.delay)}),lt}visitReference(N,G){G.updateOptions(N.options,!0),qt(this,N.animation,G),G.previousNode=N}visitSequence(N,G){const le=G.subContextCount;let Fe=G;const lt=N.options;if(lt&&(lt.params||lt.delay)&&(Fe=G.createSubContext(lt),Fe.transformIntoNewTimeline(),null!=lt.delay)){6==Fe.previousNode.type&&(Fe.currentTimeline.snapshotCurrentStyles(),Fe.previousNode=Ws);const kt=Dt(lt.delay);Fe.delayNextStep(kt)}N.steps.length&&(N.steps.forEach(kt=>qt(this,kt,Fe)),Fe.currentTimeline.applyStylesToKeyframe(),Fe.subContextCount>le&&Fe.transformIntoNewTimeline()),G.previousNode=N}visitGroup(N,G){const le=[];let Fe=G.currentTimeline.currentTime;const lt=N.options&&N.options.delay?Dt(N.options.delay):0;N.steps.forEach(kt=>{const jt=G.createSubContext(N.options);lt&&jt.delayNextStep(lt),qt(this,kt,jt),Fe=Math.max(Fe,jt.currentTimeline.currentTime),le.push(jt.currentTimeline)}),le.forEach(kt=>G.currentTimeline.mergeTimelineCollectedStyles(kt)),G.transformIntoNewTimeline(Fe),G.previousNode=N}_visitTiming(N,G){if(N.dynamic){const le=N.strValue;return O(G.params?wt(le,G.params,G.errors):le,G.errors)}return{duration:N.duration,delay:N.delay,easing:N.easing}}visitAnimate(N,G){const le=G.currentAnimateTimings=this._visitTiming(N.timings,G),Fe=G.currentTimeline;le.delay&&(G.incrementTime(le.delay),Fe.snapshotCurrentStyles());const lt=N.style;5==lt.type?this.visitKeyframes(lt,G):(G.incrementTime(le.duration),this.visitStyle(lt,G),Fe.applyStylesToKeyframe()),G.currentAnimateTimings=null,G.previousNode=N}visitStyle(N,G){const le=G.currentTimeline,Fe=G.currentAnimateTimings;!Fe&&le.getCurrentStyleProperties().length&&le.forwardFrame();const lt=Fe&&Fe.easing||N.easing;N.isEmptyStep?le.applyEmptyStep(lt):le.setStyles(N.styles,lt,G.errors,G.options),G.previousNode=N}visitKeyframes(N,G){const le=G.currentAnimateTimings,Fe=G.currentTimeline.duration,lt=le.duration,jt=G.createSubContext().currentTimeline;jt.easing=le.easing,N.styles.forEach(pn=>{jt.forwardTime((pn.offset||0)*lt),jt.setStyles(pn.styles,pn.easing,G.errors,G.options),jt.applyStylesToKeyframe()}),G.currentTimeline.mergeTimelineCollectedStyles(jt),G.transformIntoNewTimeline(Fe+lt),G.previousNode=N}visitQuery(N,G){const le=G.currentTimeline.currentTime,Fe=N.options||{},lt=Fe.delay?Dt(Fe.delay):0;lt&&(6===G.previousNode.type||0==le&&G.currentTimeline.getCurrentStyleProperties().length)&&(G.currentTimeline.snapshotCurrentStyles(),G.previousNode=Ws);let kt=le;const jt=G.invokeQuery(N.selector,N.originalSelector,N.limit,N.includeSelf,!!Fe.optional,G.errors);G.currentQueryTotal=jt.length;let pn=null;jt.forEach((Fn,Ti)=>{G.currentQueryIndex=Ti;const Bi=G.createSubContext(N.options,Fn);lt&&Bi.delayNextStep(lt),Fn===G.element&&(pn=Bi.currentTimeline),qt(this,N.animation,Bi),Bi.currentTimeline.applyStylesToKeyframe(),kt=Math.max(kt,Bi.currentTimeline.currentTime)}),G.currentQueryIndex=0,G.currentQueryTotal=0,G.transformIntoNewTimeline(kt),pn&&(G.currentTimeline.mergeTimelineCollectedStyles(pn),G.currentTimeline.snapshotCurrentStyles()),G.previousNode=N}visitStagger(N,G){const le=G.parentContext,Fe=G.currentTimeline,lt=N.timings,kt=Math.abs(lt.duration),jt=kt*(G.currentQueryTotal-1);let pn=kt*G.currentQueryIndex;switch(lt.duration<0?"reverse":lt.easing){case"reverse":pn=jt-pn;break;case"full":pn=le.currentStaggerTime}const Ti=G.currentTimeline;pn&&Ti.delayNextStep(pn);const Bi=Ti.currentTime;qt(this,N.animation,G),G.previousNode=N,le.currentStaggerTime=Fe.currentTime-Bi+(Fe.startTime-le.currentTimeline.startTime)}}const Ws={};class tn{constructor(N,G,le,Fe,lt,kt,jt,pn){this._driver=N,this.element=G,this.subInstructions=le,this._enterClassName=Fe,this._leaveClassName=lt,this.errors=kt,this.timelines=jt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ws,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=pn||new Xt(this._driver,G,0),jt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(N,G){if(!N)return;const le=N;let Fe=this.options;null!=le.duration&&(Fe.duration=Dt(le.duration)),null!=le.delay&&(Fe.delay=Dt(le.delay));const lt=le.params;if(lt){let kt=Fe.params;kt||(kt=this.options.params={}),Object.keys(lt).forEach(jt=>{(!G||!kt.hasOwnProperty(jt))&&(kt[jt]=wt(lt[jt],kt,this.errors))})}}_copyOptions(){const N={};if(this.options){const G=this.options.params;if(G){const le=N.params={};Object.keys(G).forEach(Fe=>{le[Fe]=G[Fe]})}}return N}createSubContext(N=null,G,le){const Fe=G||this.element,lt=new tn(this._driver,Fe,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Fe,le||0));return lt.previousNode=this.previousNode,lt.currentAnimateTimings=this.currentAnimateTimings,lt.options=this._copyOptions(),lt.updateOptions(N),lt.currentQueryIndex=this.currentQueryIndex,lt.currentQueryTotal=this.currentQueryTotal,lt.parentContext=this,this.subContextCount++,lt}transformIntoNewTimeline(N){return this.previousNode=Ws,this.currentTimeline=this.currentTimeline.fork(this.element,N),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(N,G,le){const Fe={duration:null!=G?G:N.duration,delay:this.currentTimeline.currentTime+(null!=le?le:0)+N.delay,easing:""},lt=new yn(this._driver,N.element,N.keyframes,N.preStyleProps,N.postStyleProps,Fe,N.stretchStartingKeyframe);return this.timelines.push(lt),Fe}incrementTime(N){this.currentTimeline.forwardTime(this.currentTimeline.duration+N)}delayNextStep(N){N>0&&this.currentTimeline.delayNextStep(N)}invokeQuery(N,G,le,Fe,lt,kt){let jt=[];if(Fe&&jt.push(this.element),N.length>0){N=(N=N.replace(Is,"."+this._enterClassName)).replace(Cs,"."+this._leaveClassName);let Fn=this._driver.query(this.element,N,1!=le);0!==le&&(Fn=le<0?Fn.slice(Fn.length+le,Fn.length):Fn.slice(0,le)),jt.push(...Fn)}return!lt&&0==jt.length&&kt.push(function it(Ie){return new v.vHH(3014,q)}()),jt}}class Xt{constructor(N,G,le,Fe){this._driver=N,this.element=G,this.startTime=le,this._elementTimelineStylesLookup=Fe,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(G),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(G,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(N){const G=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||G?(this.forwardTime(this.currentTime+N),G&&this.snapshotCurrentStyles()):this.startTime+=N}fork(N,G){return this.applyStylesToKeyframe(),new Xt(this._driver,N,G||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(N){this.applyStylesToKeyframe(),this.duration=N,this._loadKeyframe()}_updateStyle(N,G){this._localTimelineStyles[N]=G,this._globalTimelineStyles[N]=G,this._styleSummary[N]={time:this.currentTime,value:G}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(N){N&&(this._previousKeyframe.easing=N),Object.keys(this._globalTimelineStyles).forEach(G=>{this._backFill[G]=this._globalTimelineStyles[G]||I.l3,this._currentKeyframe[G]=I.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(N,G,le,Fe){G&&(this._previousKeyframe.easing=G);const lt=Fe&&Fe.params||{},kt=function oi(Ie,N){const G={};let le;return Ie.forEach(Fe=>{"*"===Fe?(le=le||Object.keys(N),le.forEach(lt=>{G[lt]=I.l3})):de(Fe,!1,G)}),G}(N,this._globalTimelineStyles);Object.keys(kt).forEach(jt=>{const pn=wt(kt[jt],lt,le);this._pendingStyles[jt]=pn,this._localTimelineStyles.hasOwnProperty(jt)||(this._backFill[jt]=this._globalTimelineStyles.hasOwnProperty(jt)?this._globalTimelineStyles[jt]:I.l3),this._updateStyle(jt,pn)})}applyStylesToKeyframe(){const N=this._pendingStyles,G=Object.keys(N);0!=G.length&&(this._pendingStyles={},G.forEach(le=>{this._currentKeyframe[le]=N[le]}),Object.keys(this._localTimelineStyles).forEach(le=>{this._currentKeyframe.hasOwnProperty(le)||(this._currentKeyframe[le]=this._localTimelineStyles[le])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(N=>{const G=this._localTimelineStyles[N];this._pendingStyles[N]=G,this._updateStyle(N,G)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const N=[];for(let G in this._currentKeyframe)N.push(G);return N}mergeTimelineCollectedStyles(N){Object.keys(N._styleSummary).forEach(G=>{const le=this._styleSummary[G],Fe=N._styleSummary[G];(!le||Fe.time>le.time)&&this._updateStyle(G,Fe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const N=new Set,G=new Set,le=1===this._keyframes.size&&0===this.duration;let Fe=[];this._keyframes.forEach((jt,pn)=>{const Fn=de(jt,!0);Object.keys(Fn).forEach(Ti=>{const Bi=Fn[Ti];Bi==I.k1?N.add(Ti):Bi==I.l3&&G.add(Ti)}),le||(Fn.offset=pn/this.duration),Fe.push(Fn)});const lt=N.size?dn(N.values()):[],kt=G.size?dn(G.values()):[];if(le){const jt=Fe[0],pn=oe(jt);jt.offset=0,pn.offset=1,Fe=[jt,pn]}return _o(this.element,Fe,lt,kt,this.duration,this.startTime,this.easing,!1)}}class yn extends Xt{constructor(N,G,le,Fe,lt,kt,jt=!1){super(N,G,kt.delay),this.keyframes=le,this.preStyleProps=Fe,this.postStyleProps=lt,this._stretchStartingKeyframe=jt,this.timings={duration:kt.duration,delay:kt.delay,easing:kt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let N=this.keyframes,{delay:G,duration:le,easing:Fe}=this.timings;if(this._stretchStartingKeyframe&&G){const lt=[],kt=le+G,jt=G/kt,pn=de(N[0],!1);pn.offset=0,lt.push(pn);const Fn=de(N[0],!1);Fn.offset=Wn(jt),lt.push(Fn);const Ti=N.length-1;for(let Bi=1;Bi<=Ti;Bi++){let Ki=de(N[Bi],!1);Ki.offset=Wn((G+Ki.offset*le)/kt),lt.push(Ki)}le=kt,G=0,Fe="",N=lt}return _o(this.element,N,this.preStyleProps,this.postStyleProps,le,G,Fe,!0)}}function Wn(Ie,N=3){const G=Math.pow(10,N-1);return Math.round(Ie*G)/G}class wr{}class Sr extends wr{normalizePropertyName(N,G){return vi(N)}normalizeStyleValue(N,G,le,Fe){let lt="";const kt=le.toString().trim();if(Jo[G]&&0!==le&&"0"!==le)if("number"==typeof le)lt="px";else{const jt=le.match(/^[+-]?[\d\.]+([a-z]*)$/);jt&&0==jt[1].length&&Fe.push(function we(Ie,N){return new v.vHH(3005,q)}())}return kt+lt}}const Jo=(()=>function Mo(Ie){const N={};return Ie.forEach(G=>N[G]=!0),N}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ko(Ie,N,G,le,Fe,lt,kt,jt,pn,Fn,Ti,Bi,Ki){return{type:0,element:Ie,triggerName:N,isRemovalTransition:Fe,fromState:G,fromStyles:lt,toState:le,toStyles:kt,timelines:jt,queriedElements:pn,preStyleProps:Fn,postStyleProps:Ti,totalTime:Bi,errors:Ki}}const ks={};class Ao{constructor(N,G,le){this._triggerName=N,this.ast=G,this._stateStyles=le}match(N,G,le,Fe){return function js(Ie,N,G,le,Fe){return Ie.some(lt=>lt(N,G,le,Fe))}(this.ast.matchers,N,G,le,Fe)}buildStyles(N,G,le){const Fe=this._stateStyles["*"],lt=this._stateStyles[N],kt=Fe?Fe.buildStyles(G,le):{};return lt?lt.buildStyles(G,le):kt}build(N,G,le,Fe,lt,kt,jt,pn,Fn,Ti){const Bi=[],Ki=this.ast.options&&this.ast.options.params||ks,Ni=this.buildStyles(le,jt&&jt.params||ks,Bi),ir=pn&&pn.params||ks,Gr=this.buildStyles(Fe,ir,Bi),yr=new Set,Ur=new Map,Go=new Map,cr="void"===Fe,Ds={params:Object.assign(Object.assign({},Ki),ir)},eo=Ti?[]:zr(N,G,this.ast.animation,lt,kt,Ni,Gr,Ds,Fn,Bi);let Vo=0;if(eo.forEach(hs=>{Vo=Math.max(hs.duration+hs.delay,Vo)}),Bi.length)return ko(G,this._triggerName,le,Fe,cr,Ni,Gr,[],[],Ur,Go,Vo,Bi);eo.forEach(hs=>{const ps=hs.element,oa=rt(Ur,ps,{});hs.preStyleProps.forEach(Co=>oa[Co]=!0);const Gs=rt(Go,ps,{});hs.postStyleProps.forEach(Co=>Gs[Co]=!0),ps!==G&&yr.add(ps)});const Yr=dn(yr.values());return ko(G,this._triggerName,le,Fe,cr,Ni,Gr,eo,Yr,Ur,Go,Vo)}}class as{constructor(N,G,le){this.styles=N,this.defaultParams=G,this.normalizer=le}buildStyles(N,G){const le={},Fe=oe(this.defaultParams);return Object.keys(N).forEach(lt=>{const kt=N[lt];null!=kt&&(Fe[lt]=kt)}),this.styles.styles.forEach(lt=>{if("string"!=typeof lt){const kt=lt;Object.keys(kt).forEach(jt=>{let pn=kt[jt];pn.length>1&&(pn=wt(pn,Fe,G));const Fn=this.normalizer.normalizePropertyName(jt,G);pn=this.normalizer.normalizeStyleValue(jt,Fn,pn,G),le[Fn]=pn})}}),le}}class xo{constructor(N,G,le){this.name=N,this.ast=G,this._normalizer=le,this.transitionFactories=[],this.states={},G.states.forEach(Fe=>{this.states[Fe.name]=new as(Fe.style,Fe.options&&Fe.options.params||{},le)}),Do(this.states,"true","1"),Do(this.states,"false","0"),G.transitions.forEach(Fe=>{this.transitionFactories.push(new Ao(N,Fe,this.states))}),this.fallbackTransition=function zs(Ie,N,G){return new Ao(Ie,{type:1,animation:{type:2,steps:[],options:null},matchers:[(kt,jt)=>!0],options:null,queryCount:0,depCount:0},N)}(N,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(N,G,le,Fe){return this.transitionFactories.find(kt=>kt.match(N,G,le,Fe))||null}matchStyles(N,G,le){return this.fallbackTransition.buildStyles(N,G,le)}}function Do(Ie,N,G){Ie.hasOwnProperty(N)?Ie.hasOwnProperty(G)||(Ie[G]=Ie[N]):Ie.hasOwnProperty(G)&&(Ie[N]=Ie[G])}const Io=new Eo;class ws{constructor(N,G,le){this.bodyNode=N,this._driver=G,this._normalizer=le,this._animations={},this._playersById={},this.players=[]}register(N,G){const le=[],lt=St(this._driver,G,le,[]);if(le.length)throw function nn(Ie){return new v.vHH(3503,q)}();this._animations[N]=lt}_buildPlayer(N,G,le){const Fe=N.element,lt=Vt(0,this._normalizer,0,N.keyframes,G,le);return this._driver.animate(Fe,lt,N.duration,N.delay,N.easing,[],!0)}create(N,G,le={}){const Fe=[],lt=this._animations[N];let kt;const jt=new Map;if(lt?(kt=zr(this._driver,G,lt,ri,Oi,{},{},le,Io,Fe),kt.forEach(Ti=>{const Bi=rt(jt,Ti.element,{});Ti.postStyleProps.forEach(Ki=>Bi[Ki]=null)})):(Fe.push(function Qt(){return new v.vHH(3300,q)}()),kt=[]),Fe.length)throw function an(Ie){return new v.vHH(3504,q)}();jt.forEach((Ti,Bi)=>{Object.keys(Ti).forEach(Ki=>{Ti[Ki]=this._driver.computeStyle(Bi,Ki,I.l3)})});const Fn=mt(kt.map(Ti=>{const Bi=jt.get(Ti.element);return this._buildPlayer(Ti,{},Bi)}));return this._playersById[N]=Fn,Fn.onDestroy(()=>this.destroy(N)),this.players.push(Fn),Fn}destroy(N){const G=this._getPlayer(N);G.destroy(),delete this._playersById[N];const le=this.players.indexOf(G);le>=0&&this.players.splice(le,1)}_getPlayer(N){const G=this._playersById[N];if(!G)throw function Bn(Ie){return new v.vHH(3301,q)}();return G}listen(N,G,le,Fe){const lt=Pt(G,"","","");return ot(this._getPlayer(N),le,lt,Fe),()=>{}}command(N,G,le,Fe){if("register"==le)return void this.register(N,Fe[0]);if("create"==le)return void this.create(N,G,Fe[0]||{});const lt=this._getPlayer(N);switch(le){case"play":lt.play();break;case"pause":lt.pause();break;case"reset":lt.reset();break;case"restart":lt.restart();break;case"finish":lt.finish();break;case"init":lt.init();break;case"setPosition":lt.setPosition(parseFloat(Fe[0]));break;case"destroy":this.destroy(N)}}}const Ea="ng-animate-queued",Uo="ng-animate-disabled",mo=[],vo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ds={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ro="__ng_removed";class Es{constructor(N,G=""){this.namespaceId=G;const le=N&&N.hasOwnProperty("value");if(this.value=function fe(Ie){return null!=Ie?Ie:null}(le?N.value:N),le){const lt=oe(N);delete lt.value,this.options=lt}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(N){const G=N.params;if(G){const le=this.options.params;Object.keys(G).forEach(Fe=>{null==le[Fe]&&(le[Fe]=G[Fe])})}}}const es="void",Ko=new Es(es);class Bo{constructor(N,G,le){this.id=N,this.hostElement=G,this._engine=le,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+N,Vn(G,this._hostClassName)}listen(N,G,le,Fe){if(!this._triggers.hasOwnProperty(G))throw function ie(Ie,N){return new v.vHH(3302,q)}();if(null==le||0==le.length)throw function Mt(Ie){return new v.vHH(3303,q)}();if(!function pe(Ie){return"start"==Ie||"done"==Ie}(le))throw function ut(Ie,N){return new v.vHH(3400,q)}();const lt=rt(this._elementListeners,N,[]),kt={name:G,phase:le,callback:Fe};lt.push(kt);const jt=rt(this._engine.statesByElement,N,{});return jt.hasOwnProperty(G)||(Vn(N,Si),Vn(N,Si+"-"+G),jt[G]=Ko),()=>{this._engine.afterFlush(()=>{const pn=lt.indexOf(kt);pn>=0&&lt.splice(pn,1),this._triggers[G]||delete jt[G]})}}register(N,G){return!this._triggers[N]&&(this._triggers[N]=G,!0)}_getTrigger(N){const G=this._triggers[N];if(!G)throw function Zt(Ie){return new v.vHH(3401,q)}();return G}trigger(N,G,le,Fe=!0){const lt=this._getTrigger(G),kt=new ls(this.id,G,N);let jt=this._engine.statesByElement.get(N);jt||(Vn(N,Si),Vn(N,Si+"-"+G),this._engine.statesByElement.set(N,jt={}));let pn=jt[G];const Fn=new Es(le,this.id);if(!(le&&le.hasOwnProperty("value"))&&pn&&Fn.absorbOptions(pn.options),jt[G]=Fn,pn||(pn=Ko),Fn.value!==es&&pn.value===Fn.value){if(!function br(Ie,N){const G=Object.keys(Ie),le=Object.keys(N);if(G.length!=le.length)return!1;for(let Fe=0;Fe<G.length;Fe++){const lt=G[Fe];if(!N.hasOwnProperty(lt)||Ie[lt]!==N[lt])return!1}return!0}(pn.params,Fn.params)){const ir=[],Gr=lt.matchStyles(pn.value,pn.params,ir),yr=lt.matchStyles(Fn.value,Fn.params,ir);ir.length?this._engine.reportError(ir):this._engine.afterFlush(()=>{Et(N,Gr),zt(N,yr)})}return}const Ki=rt(this._engine.playersByElement,N,[]);Ki.forEach(ir=>{ir.namespaceId==this.id&&ir.triggerName==G&&ir.queued&&ir.destroy()});let _r=lt.matchTransition(pn.value,Fn.value,N,Fn.params),Ni=!1;if(!_r){if(!Fe)return;_r=lt.fallbackTransition,Ni=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:N,triggerName:G,transition:_r,fromState:pn,toState:Fn,player:kt,isFallbackTransition:Ni}),Ni||(Vn(N,Ea),kt.onStart(()=>{ui(N,Ea)})),kt.onDone(()=>{let ir=this.players.indexOf(kt);ir>=0&&this.players.splice(ir,1);const Gr=this._engine.playersByElement.get(N);if(Gr){let yr=Gr.indexOf(kt);yr>=0&&Gr.splice(yr,1)}}),this.players.push(kt),Ki.push(kt),kt}deregister(N){delete this._triggers[N],this._engine.statesByElement.forEach((G,le)=>{delete G[N]}),this._elementListeners.forEach((G,le)=>{this._elementListeners.set(le,G.filter(Fe=>Fe.name!=N))})}clearElementCache(N){this._engine.statesByElement.delete(N),this._elementListeners.delete(N);const G=this._engine.playersByElement.get(N);G&&(G.forEach(le=>le.destroy()),this._engine.playersByElement.delete(N))}_signalRemovalForInnerTriggers(N,G){const le=this._engine.driver.query(N,mn,!0);le.forEach(Fe=>{if(Fe[ro])return;const lt=this._engine.fetchNamespacesByElement(Fe);lt.size?lt.forEach(kt=>kt.triggerLeaveAnimation(Fe,G,!1,!0)):this.clearElementCache(Fe)}),this._engine.afterFlushAnimationsDone(()=>le.forEach(Fe=>this.clearElementCache(Fe)))}triggerLeaveAnimation(N,G,le,Fe){const lt=this._engine.statesByElement.get(N),kt=new Map;if(lt){const jt=[];if(Object.keys(lt).forEach(pn=>{if(kt.set(pn,lt[pn].value),this._triggers[pn]){const Fn=this.trigger(N,pn,es,Fe);Fn&&jt.push(Fn)}}),jt.length)return this._engine.markElementAsRemoved(this.id,N,!0,G,kt),le&&mt(jt).onDone(()=>this._engine.processLeaveNode(N)),!0}return!1}prepareLeaveAnimationListeners(N){const G=this._elementListeners.get(N),le=this._engine.statesByElement.get(N);if(G&&le){const Fe=new Set;G.forEach(lt=>{const kt=lt.name;if(Fe.has(kt))return;Fe.add(kt);const pn=this._triggers[kt].fallbackTransition,Fn=le[kt]||Ko,Ti=new Es(es),Bi=new ls(this.id,kt,N);this._engine.totalQueuedPlayers++,this._queue.push({element:N,triggerName:kt,transition:pn,fromState:Fn,toState:Ti,player:Bi,isFallbackTransition:!0})})}}removeNode(N,G){const le=this._engine;if(N.childElementCount&&this._signalRemovalForInnerTriggers(N,G),this.triggerLeaveAnimation(N,G,!0))return;let Fe=!1;if(le.totalAnimations){const lt=le.players.length?le.playersByQueriedElement.get(N):[];if(lt&&lt.length)Fe=!0;else{let kt=N;for(;kt=kt.parentNode;)if(le.statesByElement.get(kt)){Fe=!0;break}}}if(this.prepareLeaveAnimationListeners(N),Fe)le.markElementAsRemoved(this.id,N,!1,G);else{const lt=N[ro];(!lt||lt===vo)&&(le.afterFlush(()=>this.clearElementCache(N)),le.destroyInnerAnimations(N),le._onRemovalComplete(N,G))}}insertNode(N,G){Vn(N,this._hostClassName)}drainQueuedTransitions(N){const G=[];return this._queue.forEach(le=>{const Fe=le.player;if(Fe.destroyed)return;const lt=le.element,kt=this._elementListeners.get(lt);kt&&kt.forEach(jt=>{if(jt.name==le.triggerName){const pn=Pt(lt,le.triggerName,le.fromState.value,le.toState.value);pn._data=N,ot(le.player,jt.phase,pn,jt.callback)}}),Fe.markedForDestroy?this._engine.afterFlush(()=>{Fe.destroy()}):G.push(le)}),this._queue=[],G.sort((le,Fe)=>{const lt=le.transition.ast.depCount,kt=Fe.transition.ast.depCount;return 0==lt||0==kt?lt-kt:this._engine.driver.containsElement(le.element,Fe.element)?1:-1})}destroy(N){this.players.forEach(G=>G.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,N)}elementContainsData(N){let G=!1;return this._elementListeners.has(N)&&(G=!0),G=!!this._queue.find(le=>le.element===N)||G,G}}class ns{constructor(N,G,le){this.bodyNode=N,this.driver=G,this._normalizer=le,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Fe,lt)=>{}}_onRemovalComplete(N,G){this.onRemovalComplete(N,G)}get queuedPlayers(){const N=[];return this._namespaceList.forEach(G=>{G.players.forEach(le=>{le.queued&&N.push(le)})}),N}createNamespace(N,G){const le=new Bo(N,G,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,G)?this._balanceNamespaceList(le,G):(this.newHostElements.set(G,le),this.collectEnterElement(G)),this._namespaceLookup[N]=le}_balanceNamespaceList(N,G){const le=this._namespaceList,Fe=this.namespacesByHostElement,lt=le.length-1;if(lt>=0){let kt=!1;if(void 0!==this.driver.getParentElement){let jt=this.driver.getParentElement(G);for(;jt;){const pn=Fe.get(jt);if(pn){const Fn=le.indexOf(pn);le.splice(Fn+1,0,N),kt=!0;break}jt=this.driver.getParentElement(jt)}}else for(let jt=lt;jt>=0;jt--)if(this.driver.containsElement(le[jt].hostElement,G)){le.splice(jt+1,0,N),kt=!0;break}kt||le.unshift(N)}else le.push(N);return Fe.set(G,N),N}register(N,G){let le=this._namespaceLookup[N];return le||(le=this.createNamespace(N,G)),le}registerTrigger(N,G,le){let Fe=this._namespaceLookup[N];Fe&&Fe.register(G,le)&&this.totalAnimations++}destroy(N,G){if(!N)return;const le=this._fetchNamespace(N);this.afterFlush(()=>{this.namespacesByHostElement.delete(le.hostElement),delete this._namespaceLookup[N];const Fe=this._namespaceList.indexOf(le);Fe>=0&&this._namespaceList.splice(Fe,1)}),this.afterFlushAnimationsDone(()=>le.destroy(G))}_fetchNamespace(N){return this._namespaceLookup[N]}fetchNamespacesByElement(N){const G=new Set,le=this.statesByElement.get(N);if(le){const Fe=Object.keys(le);for(let lt=0;lt<Fe.length;lt++){const kt=le[Fe[lt]].namespaceId;if(kt){const jt=this._fetchNamespace(kt);jt&&G.add(jt)}}}return G}trigger(N,G,le,Fe){if(Ge(G)){const lt=this._fetchNamespace(N);if(lt)return lt.trigger(G,le,Fe),!0}return!1}insertNode(N,G,le,Fe){if(!Ge(G))return;const lt=G[ro];if(lt&&lt.setForRemoval){lt.setForRemoval=!1,lt.setForMove=!0;const kt=this.collectedLeaveElements.indexOf(G);kt>=0&&this.collectedLeaveElements.splice(kt,1)}if(N){const kt=this._fetchNamespace(N);kt&&kt.insertNode(G,le)}Fe&&this.collectEnterElement(G)}collectEnterElement(N){this.collectedEnterElements.push(N)}markElementAsDisabled(N,G){G?this.disabledNodes.has(N)||(this.disabledNodes.add(N),Vn(N,Uo)):this.disabledNodes.has(N)&&(this.disabledNodes.delete(N),ui(N,Uo))}removeNode(N,G,le,Fe){if(Ge(G)){const lt=N?this._fetchNamespace(N):null;if(lt?lt.removeNode(G,Fe):this.markElementAsRemoved(N,G,!1,Fe),le){const kt=this.namespacesByHostElement.get(G);kt&&kt.id!==N&&kt.removeNode(G,Fe)}}else this._onRemovalComplete(G,Fe)}markElementAsRemoved(N,G,le,Fe,lt){this.collectedLeaveElements.push(G),G[ro]={namespaceId:N,setForRemoval:Fe,hasAnimation:le,removedBeforeQueried:!1,previousTriggersValues:lt}}listen(N,G,le,Fe,lt){return Ge(G)?this._fetchNamespace(N).listen(G,le,Fe,lt):()=>{}}_buildInstruction(N,G,le,Fe,lt){return N.transition.build(this.driver,N.element,N.fromState.value,N.toState.value,le,Fe,N.fromState.options,N.toState.options,G,lt)}destroyInnerAnimations(N){let G=this.driver.query(N,mn,!0);G.forEach(le=>this.destroyActiveAnimationsForElement(le)),0!=this.playersByQueriedElement.size&&(G=this.driver.query(N,ci,!0),G.forEach(le=>this.finishActiveQueriedAnimationOnElement(le)))}destroyActiveAnimationsForElement(N){const G=this.playersByElement.get(N);G&&G.forEach(le=>{le.queued?le.markedForDestroy=!0:le.destroy()})}finishActiveQueriedAnimationOnElement(N){const G=this.playersByQueriedElement.get(N);G&&G.forEach(le=>le.finish())}whenRenderingDone(){return new Promise(N=>{if(this.players.length)return mt(this.players).onDone(()=>N());N()})}processLeaveNode(N){var G;const le=N[ro];if(le&&le.setForRemoval){if(N[ro]=vo,le.namespaceId){this.destroyInnerAnimations(N);const Fe=this._fetchNamespace(le.namespaceId);Fe&&Fe.clearElementCache(N)}this._onRemovalComplete(N,le.setForRemoval)}(null===(G=N.classList)||void 0===G?void 0:G.contains(Uo))&&this.markElementAsDisabled(N,!1),this.driver.query(N,".ng-animate-disabled",!0).forEach(Fe=>{this.markElementAsDisabled(Fe,!1)})}flush(N=-1){let G=[];if(this.newHostElements.size&&(this.newHostElements.forEach((le,Fe)=>this._balanceNamespaceList(le,Fe)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let le=0;le<this.collectedEnterElements.length;le++)Vn(this.collectedEnterElements[le],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const le=[];try{G=this._flushAnimations(le,N)}finally{for(let Fe=0;Fe<le.length;Fe++)le[Fe]()}}else for(let le=0;le<this.collectedLeaveElements.length;le++)this.processLeaveNode(this.collectedLeaveElements[le]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(le=>le()),this._flushFns=[],this._whenQuietFns.length){const le=this._whenQuietFns;this._whenQuietFns=[],G.length?mt(G).onDone(()=>{le.forEach(Fe=>Fe())}):le.forEach(Fe=>Fe())}}reportError(N){throw function hn(Ie){return new v.vHH(3402,q)}()}_flushAnimations(N,G){const le=new Eo,Fe=[],lt=new Map,kt=[],jt=new Map,pn=new Map,Fn=new Map,Ti=new Set;this.disabledNodes.forEach(fi=>{Ti.add(fi);const Vi=this.driver.query(fi,".ng-animate-queued",!0);for(let Qi=0;Qi<Vi.length;Qi++)Ti.add(Vi[Qi])});const Bi=this.bodyNode,Ki=Array.from(this.statesByElement.keys()),_r=On(Ki,this.collectedEnterElements),Ni=new Map;let ir=0;_r.forEach((fi,Vi)=>{const Qi=ri+ir++;Ni.set(Vi,Qi),fi.forEach(pr=>Vn(pr,Qi))});const Gr=[],yr=new Set,Ur=new Set;for(let fi=0;fi<this.collectedLeaveElements.length;fi++){const Vi=this.collectedLeaveElements[fi],Qi=Vi[ro];Qi&&Qi.setForRemoval&&(Gr.push(Vi),yr.add(Vi),Qi.hasAnimation?this.driver.query(Vi,".ng-star-inserted",!0).forEach(pr=>yr.add(pr)):Ur.add(Vi))}const Go=new Map,cr=On(Ki,Array.from(yr));cr.forEach((fi,Vi)=>{const Qi=Oi+ir++;Go.set(Vi,Qi),fi.forEach(pr=>Vn(pr,Qi))}),N.push(()=>{_r.forEach((fi,Vi)=>{const Qi=Ni.get(Vi);fi.forEach(pr=>ui(pr,Qi))}),cr.forEach((fi,Vi)=>{const Qi=Go.get(Vi);fi.forEach(pr=>ui(pr,Qi))}),Gr.forEach(fi=>{this.processLeaveNode(fi)})});const Ds=[],eo=[];for(let fi=this._namespaceList.length-1;fi>=0;fi--)this._namespaceList[fi].drainQueuedTransitions(G).forEach(Qi=>{const pr=Qi.player,po=Qi.element;if(Ds.push(pr),this.collectedEnterElements.length){const Jn=po[ro];if(Jn&&Jn.setForMove){if(Jn.previousTriggersValues&&Jn.previousTriggersValues.has(Qi.triggerName)){const Tr=Jn.previousTriggersValues.get(Qi.triggerName),fs=this.statesByElement.get(Qi.element);fs&&fs[Qi.triggerName]&&(fs[Qi.triggerName].value=Tr)}return void pr.destroy()}}const ts=!Bi||!this.driver.containsElement(Bi,po),Er=Go.get(po),wo=Ni.get(po),Wr=this._buildInstruction(Qi,le,wo,Er,ts);if(Wr.errors&&Wr.errors.length)return void eo.push(Wr);if(ts)return pr.onStart(()=>Et(po,Wr.fromStyles)),pr.onDestroy(()=>zt(po,Wr.toStyles)),void Fe.push(pr);if(Qi.isFallbackTransition)return pr.onStart(()=>Et(po,Wr.fromStyles)),pr.onDestroy(()=>zt(po,Wr.toStyles)),void Fe.push(pr);const Ua=[];Wr.timelines.forEach(Jn=>{Jn.stretchStartingKeyframe=!0,this.disabledNodes.has(Jn.element)||Ua.push(Jn)}),Wr.timelines=Ua,le.append(po,Wr.timelines),kt.push({instruction:Wr,player:pr,element:po}),Wr.queriedElements.forEach(Jn=>rt(jt,Jn,[]).push(pr)),Wr.preStyleProps.forEach((Jn,Tr)=>{const fs=Object.keys(Jn);if(fs.length){let Ho=pn.get(Tr);Ho||pn.set(Tr,Ho=new Set),fs.forEach(xi=>Ho.add(xi))}}),Wr.postStyleProps.forEach((Jn,Tr)=>{const fs=Object.keys(Jn);let Ho=Fn.get(Tr);Ho||Fn.set(Tr,Ho=new Set),fs.forEach(xi=>Ho.add(xi))})});if(eo.length){const fi=[];eo.forEach(Vi=>{fi.push(function gn(Ie,N){return new v.vHH(3505,q)}())}),Ds.forEach(Vi=>Vi.destroy()),this.reportError(fi)}const Vo=new Map,Yr=new Map;kt.forEach(fi=>{const Vi=fi.element;le.has(Vi)&&(Yr.set(Vi,Vi),this._beforeAnimationBuild(fi.player.namespaceId,fi.instruction,Vo))}),Fe.forEach(fi=>{const Vi=fi.element;this._getPreviousPlayers(Vi,!1,fi.namespaceId,fi.triggerName,null).forEach(pr=>{rt(Vo,Vi,[]).push(pr),pr.destroy()})});const hs=Gr.filter(fi=>Jr(fi,pn,Fn)),ps=new Map;$t(ps,this.driver,Ur,Fn,I.l3).forEach(fi=>{Jr(fi,pn,Fn)&&hs.push(fi)});const Gs=new Map;_r.forEach((fi,Vi)=>{$t(Gs,this.driver,new Set(fi),pn,I.k1)}),hs.forEach(fi=>{const Vi=ps.get(fi),Qi=Gs.get(fi);ps.set(fi,Object.assign(Object.assign({},Vi),Qi))});const Co=[],xs=[],Fo={};kt.forEach(fi=>{const{element:Vi,player:Qi,instruction:pr}=fi;if(le.has(Vi)){if(Ti.has(Vi))return Qi.onDestroy(()=>zt(Vi,pr.toStyles)),Qi.disabled=!0,Qi.overrideTotalTime(pr.totalTime),void Fe.push(Qi);let po=Fo;if(Yr.size>1){let Er=Vi;const wo=[];for(;Er=Er.parentNode;){const Wr=Yr.get(Er);if(Wr){po=Wr;break}wo.push(Er)}wo.forEach(Wr=>Yr.set(Wr,po))}const ts=this._buildAnimation(Qi.namespaceId,pr,Vo,lt,Gs,ps);if(Qi.setRealPlayer(ts),po===Fo)Co.push(Qi);else{const Er=this.playersByElement.get(po);Er&&Er.length&&(Qi.parentPlayer=mt(Er)),Fe.push(Qi)}}else Et(Vi,pr.fromStyles),Qi.onDestroy(()=>zt(Vi,pr.toStyles)),xs.push(Qi),Ti.has(Vi)&&Fe.push(Qi)}),xs.forEach(fi=>{const Vi=lt.get(fi.element);if(Vi&&Vi.length){const Qi=mt(Vi);fi.setRealPlayer(Qi)}}),Fe.forEach(fi=>{fi.parentPlayer?fi.syncPlayerEvents(fi.parentPlayer):fi.destroy()});for(let fi=0;fi<Gr.length;fi++){const Vi=Gr[fi],Qi=Vi[ro];if(ui(Vi,Oi),Qi&&Qi.hasAnimation)continue;let pr=[];if(jt.size){let ts=jt.get(Vi);ts&&ts.length&&pr.push(...ts);let Er=this.driver.query(Vi,ci,!0);for(let wo=0;wo<Er.length;wo++){let Wr=jt.get(Er[wo]);Wr&&Wr.length&&pr.push(...Wr)}}const po=pr.filter(ts=>!ts.destroyed);po.length?Kr(this,Vi,po):this.processLeaveNode(Vi)}return Gr.length=0,Co.forEach(fi=>{this.players.push(fi),fi.onDone(()=>{fi.destroy();const Vi=this.players.indexOf(fi);this.players.splice(Vi,1)}),fi.play()}),Co}elementContainsData(N,G){let le=!1;const Fe=G[ro];return Fe&&Fe.setForRemoval&&(le=!0),this.playersByElement.has(G)&&(le=!0),this.playersByQueriedElement.has(G)&&(le=!0),this.statesByElement.has(G)&&(le=!0),this._fetchNamespace(N).elementContainsData(G)||le}afterFlush(N){this._flushFns.push(N)}afterFlushAnimationsDone(N){this._whenQuietFns.push(N)}_getPreviousPlayers(N,G,le,Fe,lt){let kt=[];if(G){const jt=this.playersByQueriedElement.get(N);jt&&(kt=jt)}else{const jt=this.playersByElement.get(N);if(jt){const pn=!lt||lt==es;jt.forEach(Fn=>{Fn.queued||!pn&&Fn.triggerName!=Fe||kt.push(Fn)})}}return(le||Fe)&&(kt=kt.filter(jt=>!(le&&le!=jt.namespaceId||Fe&&Fe!=jt.triggerName))),kt}_beforeAnimationBuild(N,G,le){const lt=G.element,kt=G.isRemovalTransition?void 0:N,jt=G.isRemovalTransition?void 0:G.triggerName;for(const pn of G.timelines){const Fn=pn.element,Ti=Fn!==lt,Bi=rt(le,Fn,[]);this._getPreviousPlayers(Fn,Ti,kt,jt,G.toState).forEach(_r=>{const Ni=_r.getRealPlayer();Ni.beforeDestroy&&Ni.beforeDestroy(),_r.destroy(),Bi.push(_r)})}Et(lt,G.fromStyles)}_buildAnimation(N,G,le,Fe,lt,kt){const jt=G.triggerName,pn=G.element,Fn=[],Ti=new Set,Bi=new Set,Ki=G.timelines.map(Ni=>{const ir=Ni.element;Ti.add(ir);const Gr=ir[ro];if(Gr&&Gr.removedBeforeQueried)return new I.ZN(Ni.duration,Ni.delay);const yr=ir!==pn,Ur=function Pr(Ie){const N=[];return Mi(Ie,N),N}((le.get(ir)||mo).map(Vo=>Vo.getRealPlayer())).filter(Vo=>!!Vo.element&&Vo.element===ir),Go=lt.get(ir),cr=kt.get(ir),Ds=Vt(0,this._normalizer,0,Ni.keyframes,Go,cr),eo=this._buildPlayer(Ni,Ds,Ur);if(Ni.subTimeline&&Fe&&Bi.add(ir),yr){const Vo=new ls(N,jt,ir);Vo.setRealPlayer(eo),Fn.push(Vo)}return eo});Fn.forEach(Ni=>{rt(this.playersByQueriedElement,Ni.element,[]).push(Ni),Ni.onDone(()=>function Mr(Ie,N,G){let le;if(Ie instanceof Map){if(le=Ie.get(N),le){if(le.length){const Fe=le.indexOf(G);le.splice(Fe,1)}0==le.length&&Ie.delete(N)}}else if(le=Ie[N],le){if(le.length){const Fe=le.indexOf(G);le.splice(Fe,1)}0==le.length&&delete Ie[N]}return le}(this.playersByQueriedElement,Ni.element,Ni))}),Ti.forEach(Ni=>Vn(Ni,_i));const _r=mt(Ki);return _r.onDestroy(()=>{Ti.forEach(Ni=>ui(Ni,_i)),zt(pn,G.toStyles)}),Bi.forEach(Ni=>{rt(Fe,Ni,[]).push(_r)}),_r}_buildPlayer(N,G,le){return G.length>0?this.driver.animate(N.element,G,N.duration,N.delay,N.easing,le):new I.ZN(N.duration,N.delay)}}class ls{constructor(N,G,le){this.namespaceId=N,this.triggerName=G,this.element=le,this._player=new I.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(N){this._containsRealPlayer||(this._player=N,Object.keys(this._queuedCallbacks).forEach(G=>{this._queuedCallbacks[G].forEach(le=>ot(N,G,void 0,le))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(N.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(N){this.totalTime=N}syncPlayerEvents(N){const G=this._player;G.triggerCallback&&N.onStart(()=>G.triggerCallback("start")),N.onDone(()=>this.finish()),N.onDestroy(()=>this.destroy())}_queueEvent(N,G){rt(this._queuedCallbacks,N,[]).push(G)}onDone(N){this.queued&&this._queueEvent("done",N),this._player.onDone(N)}onStart(N){this.queued&&this._queueEvent("start",N),this._player.onStart(N)}onDestroy(N){this.queued&&this._queueEvent("destroy",N),this._player.onDestroy(N)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(N){this.queued||this._player.setPosition(N)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(N){const G=this._player;G.triggerCallback&&G.triggerCallback(N)}}function Ge(Ie){return Ie&&1===Ie.nodeType}function qe(Ie,N){const G=Ie.style.display;return Ie.style.display=null!=N?N:"none",G}function $t(Ie,N,G,le,Fe){const lt=[];G.forEach(pn=>lt.push(qe(pn)));const kt=[];le.forEach((pn,Fn)=>{const Ti={};pn.forEach(Bi=>{const Ki=Ti[Bi]=N.computeStyle(Fn,Bi,Fe);(!Ki||0==Ki.length)&&(Fn[ro]=ds,kt.push(Fn))}),Ie.set(Fn,Ti)});let jt=0;return G.forEach(pn=>qe(pn,lt[jt++])),kt}function On(Ie,N){const G=new Map;if(Ie.forEach(jt=>G.set(jt,[])),0==N.length)return G;const Fe=new Set(N),lt=new Map;function kt(jt){if(!jt)return 1;let pn=lt.get(jt);if(pn)return pn;const Fn=jt.parentNode;return pn=G.has(Fn)?Fn:Fe.has(Fn)?1:kt(Fn),lt.set(jt,pn),pn}return N.forEach(jt=>{const pn=kt(jt);1!==pn&&G.get(pn).push(jt)}),G}function Vn(Ie,N){var G;null===(G=Ie.classList)||void 0===G||G.add(N)}function ui(Ie,N){var G;null===(G=Ie.classList)||void 0===G||G.remove(N)}function Kr(Ie,N,G){mt(G).onDone(()=>Ie.processLeaveNode(N))}function Mi(Ie,N){for(let G=0;G<Ie.length;G++){const le=Ie[G];le instanceof I.ZE?Mi(le.players,N):N.push(le)}}function Jr(Ie,N,G){const le=G.get(Ie);if(!le)return!1;let Fe=N.get(Ie);return Fe?le.forEach(lt=>Fe.add(lt)):N.set(Ie,le),G.delete(Ie),!0}class Fr{constructor(N,G,le){this.bodyNode=N,this._driver=G,this._normalizer=le,this._triggerCache={},this.onRemovalComplete=(Fe,lt)=>{},this._transitionEngine=new ns(N,G,le),this._timelineEngine=new ws(N,G,le),this._transitionEngine.onRemovalComplete=(Fe,lt)=>this.onRemovalComplete(Fe,lt)}registerTrigger(N,G,le,Fe,lt){const kt=N+"-"+Fe;let jt=this._triggerCache[kt];if(!jt){const pn=[],Ti=St(this._driver,lt,pn,[]);if(pn.length)throw function At(Ie,N){return new v.vHH(3404,q)}();jt=function $o(Ie,N,G){return new xo(Ie,N,G)}(Fe,Ti,this._normalizer),this._triggerCache[kt]=jt}this._transitionEngine.registerTrigger(G,Fe,jt)}register(N,G){this._transitionEngine.register(N,G)}destroy(N,G){this._transitionEngine.destroy(N,G)}onInsert(N,G,le,Fe){this._transitionEngine.insertNode(N,G,le,Fe)}onRemove(N,G,le,Fe){this._transitionEngine.removeNode(N,G,Fe||!1,le)}disableAnimations(N,G){this._transitionEngine.markElementAsDisabled(N,G)}process(N,G,le,Fe){if("@"==le.charAt(0)){const[lt,kt]=bt(le);this._timelineEngine.command(lt,G,kt,Fe)}else this._transitionEngine.trigger(N,G,le,Fe)}listen(N,G,le,Fe,lt){if("@"==le.charAt(0)){const[kt,jt]=bt(le);return this._timelineEngine.listen(kt,G,jt,lt)}return this._transitionEngine.listen(N,G,le,Fe,lt)}flush(N=-1){this._transitionEngine.flush(N)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _e=(()=>{class Ie{constructor(G,le,Fe){this._element=G,this._startStyles=le,this._endStyles=Fe,this._state=0;let lt=Ie.initialStylesByElement.get(G);lt||Ie.initialStylesByElement.set(G,lt={}),this._initialStyles=lt}start(){this._state<1&&(this._startStyles&&zt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zt(this._element,this._initialStyles),this._endStyles&&(zt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ie.initialStylesByElement.delete(this._element),this._startStyles&&(Et(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Et(this._element,this._endStyles),this._endStyles=null),zt(this._element,this._initialStyles),this._state=3)}}return Ie.initialStylesByElement=new WeakMap,Ie})();function ue(Ie){let N=null;const G=Object.keys(Ie);for(let le=0;le<G.length;le++){const Fe=G[le];Q(Fe)&&(N=N||{},N[Fe]=Ie[Fe])}return N}function Q(Ie){return"display"===Ie||"position"===Ie}class $e{constructor(N,G,le,Fe){this.element=N,this.keyframes=G,this.options=le,this._specialStyles=Fe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=le.duration,this._delay=le.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(N=>N()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const N=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,N,this.options),this._finalKeyframe=N.length?N[N.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(N,G,le){return N.animate(G,le)}onStart(N){this._onStartFns.push(N)}onDone(N){this._onDoneFns.push(N)}onDestroy(N){this._onDestroyFns.push(N)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(N=>N()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(N=>N()),this._onDestroyFns=[])}setPosition(N){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=N*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const N={};if(this.hasStarted()){const G=this._finalKeyframe;Object.keys(G).forEach(le=>{"offset"!=le&&(N[le]=this._finished?G[le]:Hn(this.element,le))})}this.currentSnapshot=N}triggerCallback(N){const G="start"==N?this._onStartFns:this._onDoneFns;G.forEach(le=>le()),G.length=0}}class Mn{validateStyleProperty(N){return ne(N)}matchesElement(N,G){return!1}containsElement(N,G){return xe(N,G)}getParentElement(N){return ft(N)}query(N,G,le){return pt(N,G,le)}computeStyle(N,G,le){return window.getComputedStyle(N)[G]}animate(N,G,le,Fe,lt,kt=[]){const pn={duration:le,delay:Fe,fill:0==Fe?"both":"forwards"};lt&&(pn.easing=lt);const Fn={},Ti=kt.filter(Ki=>Ki instanceof $e);(function gr(Ie,N){return 0===Ie||0===N})(le,Fe)&&Ti.forEach(Ki=>{let _r=Ki.currentSnapshot;Object.keys(_r).forEach(Ni=>Fn[Ni]=_r[Ni])}),G=function Ir(Ie,N,G){const le=Object.keys(G);if(le.length&&N.length){let lt=N[0],kt=[];if(le.forEach(jt=>{lt.hasOwnProperty(jt)||kt.push(jt),lt[jt]=G[jt]}),kt.length)for(var Fe=1;Fe<N.length;Fe++){let jt=N[Fe];kt.forEach(function(pn){jt[pn]=Hn(Ie,pn)})}}return N}(N,G=G.map(Ki=>de(Ki,!1)),Fn);const Bi=function Lr(Ie,N){let G=null,le=null;return Array.isArray(N)&&N.length?(G=ue(N[0]),N.length>1&&(le=ue(N[N.length-1]))):N&&(G=ue(N)),G||le?new _e(Ie,G,le):null}(N,G);return new $e(N,G,pn,Bi)}}var Ai=R(9808);let Br=(()=>{class Ie extends I._j{constructor(G,le){super(),this._nextAnimationId=0,this._renderer=G.createRenderer(le.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(G){const le=this._nextAnimationId.toString();this._nextAnimationId++;const Fe=Array.isArray(G)?(0,I.vP)(G):G;return ho(this._renderer,null,le,"register",[Fe]),new co(le,this._renderer)}}return Ie.\u0275fac=function(G){return new(G||Ie)(v.LFG(v.FYo),v.LFG(Ai.K0))},Ie.\u0275prov=v.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();class co extends I.LC{constructor(N,G){super(),this._id=N,this._renderer=G}create(N,G){return new Os(this._id,N,G||{},this._renderer)}}class Os{constructor(N,G,le,Fe){this.id=N,this.element=G,this._renderer=Fe,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",le)}_listen(N,G){return this._renderer.listen(this.element,`@@${this.id}:${N}`,G)}_command(N,...G){return ho(this._renderer,this.element,this.id,N,G)}onDone(N){this._listen("done",N)}onStart(N){this._listen("start",N)}onDestroy(N){this._listen("destroy",N)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(N){this._command("setPosition",N)}getPosition(){var N,G;return null!==(G=null===(N=this._renderer.engine.players[+this.id])||void 0===N?void 0:N.getPosition())&&void 0!==G?G:0}}function ho(Ie,N,G,le,Fe){return Ie.setProperty(N,`@@${G}:${le}`,Fe)}const Ri="@.disabled";let Ha=(()=>{class Ie{constructor(G,le,Fe){this.delegate=G,this.engine=le,this._zone=Fe,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),le.onRemovalComplete=(lt,kt)=>{const jt=null==kt?void 0:kt.parentNode(lt);jt&&kt.removeChild(jt,lt)}}createRenderer(G,le){const lt=this.delegate.createRenderer(G,le);if(!(G&&le&&le.data&&le.data.animation)){let Ti=this._rendererCache.get(lt);return Ti||(Ti=new Oo("",lt,this.engine),this._rendererCache.set(lt,Ti)),Ti}const kt=le.id,jt=le.id+"-"+this._currentId;this._currentId++,this.engine.register(jt,G);const pn=Ti=>{Array.isArray(Ti)?Ti.forEach(pn):this.engine.registerTrigger(kt,jt,G,Ti.name,Ti)};return le.data.animation.forEach(pn),new xa(this,jt,lt,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(G,le,Fe){G>=0&&G<this._microtaskId?this._zone.run(()=>le(Fe)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(lt=>{const[kt,jt]=lt;kt(jt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([le,Fe]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Ie.\u0275fac=function(G){return new(G||Ie)(v.LFG(v.FYo),v.LFG(Fr),v.LFG(v.R0b))},Ie.\u0275prov=v.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();class Oo{constructor(N,G,le){this.namespaceId=N,this.delegate=G,this.engine=le,this.destroyNode=this.delegate.destroyNode?Fe=>G.destroyNode(Fe):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(N,G){return this.delegate.createElement(N,G)}createComment(N){return this.delegate.createComment(N)}createText(N){return this.delegate.createText(N)}appendChild(N,G){this.delegate.appendChild(N,G),this.engine.onInsert(this.namespaceId,G,N,!1)}insertBefore(N,G,le,Fe=!0){this.delegate.insertBefore(N,G,le),this.engine.onInsert(this.namespaceId,G,N,Fe)}removeChild(N,G,le){this.engine.onRemove(this.namespaceId,G,this.delegate,le)}selectRootElement(N,G){return this.delegate.selectRootElement(N,G)}parentNode(N){return this.delegate.parentNode(N)}nextSibling(N){return this.delegate.nextSibling(N)}setAttribute(N,G,le,Fe){this.delegate.setAttribute(N,G,le,Fe)}removeAttribute(N,G,le){this.delegate.removeAttribute(N,G,le)}addClass(N,G){this.delegate.addClass(N,G)}removeClass(N,G){this.delegate.removeClass(N,G)}setStyle(N,G,le,Fe){this.delegate.setStyle(N,G,le,Fe)}removeStyle(N,G,le){this.delegate.removeStyle(N,G,le)}setProperty(N,G,le){"@"==G.charAt(0)&&G==Ri?this.disableAnimations(N,!!le):this.delegate.setProperty(N,G,le)}setValue(N,G){this.delegate.setValue(N,G)}listen(N,G,le){return this.delegate.listen(N,G,le)}disableAnimations(N,G){this.engine.disableAnimations(N,G)}}class xa extends Oo{constructor(N,G,le,Fe){super(G,le,Fe),this.factory=N,this.namespaceId=G}setProperty(N,G,le){"@"==G.charAt(0)?"."==G.charAt(1)&&G==Ri?this.disableAnimations(N,le=void 0===le||!!le):this.engine.process(this.namespaceId,N,G.substr(1),le):this.delegate.setProperty(N,G,le)}listen(N,G,le){if("@"==G.charAt(0)){const Fe=function $s(Ie){switch(Ie){case"body":return document.body;case"document":return document;case"window":return window;default:return Ie}}(N);let lt=G.substr(1),kt="";return"@"!=lt.charAt(0)&&([lt,kt]=function Wo(Ie){const N=Ie.indexOf(".");return[Ie.substring(0,N),Ie.substr(N+1)]}(lt)),this.engine.listen(this.namespaceId,Fe,lt,kt,jt=>{this.factory.scheduleListenerCallback(jt._data||-1,le,jt)})}return this.delegate.listen(N,G,le)}}let Pa=(()=>{class Ie extends Fr{constructor(G,le,Fe){super(G.body,le,Fe)}ngOnDestroy(){this.flush()}}return Ie.\u0275fac=function(G){return new(G||Ie)(v.LFG(Ai.K0),v.LFG(Qe),v.LFG(wr))},Ie.\u0275prov=v.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const Ms=new v.OlP("AnimationModuleType"),ma=[{provide:I._j,useClass:Br},{provide:wr,useFactory:function Ks(){return new Sr}},{provide:Fr,useClass:Pa},{provide:v.FYo,useFactory:function ra(Ie,N,G){return new Ha(Ie,N,G)},deps:[V.se,Fr,v.R0b]}],Yo=[{provide:Qe,useFactory:()=>new Mn},{provide:Ms,useValue:"BrowserAnimations"},...ma],ao=[{provide:Qe,useClass:rn},{provide:Ms,useValue:"NoopAnimations"},...ma];let So=(()=>{class Ie{static withConfig(G){return{ngModule:Ie,providers:G.disableAnimations?ao:Yo}}}return Ie.\u0275fac=function(G){return new(G||Ie)},Ie.\u0275mod=v.oAB({type:Ie}),Ie.\u0275inj=v.cJS({providers:Yo,imports:[V.b2]}),Ie})()},2313:(Ot,B,R)=>{R.d(B,{H7:()=>We,b2:()=>En,q6:()=>rt,se:()=>nn});var v=R(9808),V=R(5e3);class I extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class q extends I{static makeCurrent(){(0,v.HT)(new q)}onAndCancel(_t,ct,wt){return _t.addEventListener(ct,wt,!1),()=>{_t.removeEventListener(ct,wt,!1)}}dispatchEvent(_t,ct){_t.dispatchEvent(ct)}remove(_t){_t.parentNode&&_t.parentNode.removeChild(_t)}createElement(_t,ct){return(ct=ct||this.getDefaultDocument()).createElement(_t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_t){return _t.nodeType===Node.ELEMENT_NODE}isShadowRoot(_t){return _t instanceof DocumentFragment}getGlobalEventTarget(_t,ct){return"window"===ct?window:"document"===ct?_t:"body"===ct?_t.body:null}getBaseHref(_t){const ct=function Ue(){return g=g||document.querySelector("base"),g?g.getAttribute("href"):null}();return null==ct?null:function Ce(Gt){P=P||document.createElement("a"),P.setAttribute("href",Gt);const _t=P.pathname;return"/"===_t.charAt(0)?_t:`/${_t}`}(ct)}resetBaseElement(){g=null}getUserAgent(){return window.navigator.userAgent}getCookie(_t){return(0,v.Mx)(document.cookie,_t)}}let P,g=null;const Ee=new V.OlP("TRANSITION_ID"),Me=[{provide:V.ip1,useFactory:function ae(Gt,_t,ct){return()=>{ct.get(V.CZH).donePromise.then(()=>{const wt=(0,v.q)(),dn=_t.querySelectorAll(`style[ng-transition="${Gt}"]`);for(let Kn=0;Kn<dn.length;Kn++)wt.remove(dn[Kn])})}},deps:[Ee,v.K0,V.zs3],multi:!0}];class we{static init(){(0,V.VLi)(new we)}addToWindow(_t){V.dqk.getAngularTestability=(wt,dn=!0)=>{const Kn=_t.findTestabilityInTree(wt,dn);if(null==Kn)throw new Error("Could not find testability for element.");return Kn},V.dqk.getAllAngularTestabilities=()=>_t.getAllTestabilities(),V.dqk.getAllAngularRootElements=()=>_t.getAllRootElements(),V.dqk.frameworkStabilizers||(V.dqk.frameworkStabilizers=[]),V.dqk.frameworkStabilizers.push(wt=>{const dn=V.dqk.getAllAngularTestabilities();let Kn=dn.length,vi=!1;const $i=function(gr){vi=vi||gr,Kn--,0==Kn&&wt(vi)};dn.forEach(function(gr){gr.whenStable($i)})})}findTestabilityInTree(_t,ct,wt){if(null==ct)return null;const dn=_t.getTestability(ct);return null!=dn?dn:wt?(0,v.q)().isShadowRoot(ct)?this.findTestabilityInTree(_t,ct.host,!0):this.findTestabilityInTree(_t,ct.parentElement,!0):null}}let Oe=(()=>{class Gt{build(){return new XMLHttpRequest}}return Gt.\u0275fac=function(ct){return new(ct||Gt)},Gt.\u0275prov=V.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})();const Le=new V.OlP("EventManagerPlugins");let st=(()=>{class Gt{constructor(ct,wt){this._zone=wt,this._eventNameToPlugin=new Map,ct.forEach(dn=>dn.manager=this),this._plugins=ct.slice().reverse()}addEventListener(ct,wt,dn){return this._findPluginFor(wt).addEventListener(ct,wt,dn)}addGlobalEventListener(ct,wt,dn){return this._findPluginFor(wt).addGlobalEventListener(ct,wt,dn)}getZone(){return this._zone}_findPluginFor(ct){const wt=this._eventNameToPlugin.get(ct);if(wt)return wt;const dn=this._plugins;for(let Kn=0;Kn<dn.length;Kn++){const vi=dn[Kn];if(vi.supports(ct))return this._eventNameToPlugin.set(ct,vi),vi}throw new Error(`No event manager plugin found for event ${ct}`)}}return Gt.\u0275fac=function(ct){return new(ct||Gt)(V.LFG(Le),V.LFG(V.R0b))},Gt.\u0275prov=V.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})();class gt{constructor(_t){this._doc=_t}addGlobalEventListener(_t,ct,wt){const dn=(0,v.q)().getGlobalEventTarget(this._doc,_t);if(!dn)throw new Error(`Unsupported event target ${dn} for event ${ct}`);return this.addEventListener(dn,ct,wt)}}let Je=(()=>{class Gt{constructor(){this._stylesSet=new Set}addStyles(ct){const wt=new Set;ct.forEach(dn=>{this._stylesSet.has(dn)||(this._stylesSet.add(dn),wt.add(dn))}),this.onStylesAdded(wt)}onStylesAdded(ct){}getAllStyles(){return Array.from(this._stylesSet)}}return Gt.\u0275fac=function(ct){return new(ct||Gt)},Gt.\u0275prov=V.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})(),ht=(()=>{class Gt extends Je{constructor(ct){super(),this._doc=ct,this._hostNodes=new Map,this._hostNodes.set(ct.head,[])}_addStylesToHost(ct,wt,dn){ct.forEach(Kn=>{const vi=this._doc.createElement("style");vi.textContent=Kn,dn.push(wt.appendChild(vi))})}addHost(ct){const wt=[];this._addStylesToHost(this._stylesSet,ct,wt),this._hostNodes.set(ct,wt)}removeHost(ct){const wt=this._hostNodes.get(ct);wt&&wt.forEach(Xe),this._hostNodes.delete(ct)}onStylesAdded(ct){this._hostNodes.forEach((wt,dn)=>{this._addStylesToHost(ct,dn,wt)})}ngOnDestroy(){this._hostNodes.forEach(ct=>ct.forEach(Xe))}}return Gt.\u0275fac=function(ct){return new(ct||Gt)(V.LFG(v.K0))},Gt.\u0275prov=V.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})();function Xe(Gt){(0,v.q)().remove(Gt)}const Nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},at=/%COMP%/g;function Be(Gt,_t,ct){for(let wt=0;wt<_t.length;wt++){let dn=_t[wt];Array.isArray(dn)?Be(Gt,dn,ct):(dn=dn.replace(at,Gt),ct.push(dn))}return ct}function At(Gt){return _t=>{if("__ngUnwrap__"===_t)return Gt;!1===Gt(_t)&&(_t.preventDefault(),_t.returnValue=!1)}}let nn=(()=>{class Gt{constructor(ct,wt,dn){this.eventManager=ct,this.sharedStylesHost=wt,this.appId=dn,this.rendererByCompId=new Map,this.defaultRenderer=new Qt(ct)}createRenderer(ct,wt){if(!ct||!wt)return this.defaultRenderer;switch(wt.encapsulation){case V.ifc.Emulated:{let dn=this.rendererByCompId.get(wt.id);return dn||(dn=new ie(this.eventManager,this.sharedStylesHost,wt,this.appId),this.rendererByCompId.set(wt.id,dn)),dn.applyToHost(ct),dn}case 1:case V.ifc.ShadowDom:return new Mt(this.eventManager,this.sharedStylesHost,ct,wt);default:if(!this.rendererByCompId.has(wt.id)){const dn=Be(wt.id,wt.styles,[]);this.sharedStylesHost.addStyles(dn),this.rendererByCompId.set(wt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Gt.\u0275fac=function(ct){return new(ct||Gt)(V.LFG(st),V.LFG(ht),V.LFG(V.AFp))},Gt.\u0275prov=V.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})();class Qt{constructor(_t){this.eventManager=_t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(_t,ct){return ct?document.createElementNS(Nt[ct]||ct,_t):document.createElement(_t)}createComment(_t){return document.createComment(_t)}createText(_t){return document.createTextNode(_t)}appendChild(_t,ct){_t.appendChild(ct)}insertBefore(_t,ct,wt){_t&&_t.insertBefore(ct,wt)}removeChild(_t,ct){_t&&_t.removeChild(ct)}selectRootElement(_t,ct){let wt="string"==typeof _t?document.querySelector(_t):_t;if(!wt)throw new Error(`The selector "${_t}" did not match any elements`);return ct||(wt.textContent=""),wt}parentNode(_t){return _t.parentNode}nextSibling(_t){return _t.nextSibling}setAttribute(_t,ct,wt,dn){if(dn){ct=dn+":"+ct;const Kn=Nt[dn];Kn?_t.setAttributeNS(Kn,ct,wt):_t.setAttribute(ct,wt)}else _t.setAttribute(ct,wt)}removeAttribute(_t,ct,wt){if(wt){const dn=Nt[wt];dn?_t.removeAttributeNS(dn,ct):_t.removeAttribute(`${wt}:${ct}`)}else _t.removeAttribute(ct)}addClass(_t,ct){_t.classList.add(ct)}removeClass(_t,ct){_t.classList.remove(ct)}setStyle(_t,ct,wt,dn){dn&(V.JOm.DashCase|V.JOm.Important)?_t.style.setProperty(ct,wt,dn&V.JOm.Important?"important":""):_t.style[ct]=wt}removeStyle(_t,ct,wt){wt&V.JOm.DashCase?_t.style.removeProperty(ct):_t.style[ct]=""}setProperty(_t,ct,wt){_t[ct]=wt}setValue(_t,ct){_t.nodeValue=ct}listen(_t,ct,wt){return"string"==typeof _t?this.eventManager.addGlobalEventListener(_t,ct,At(wt)):this.eventManager.addEventListener(_t,ct,At(wt))}}class ie extends Qt{constructor(_t,ct,wt,dn){super(_t),this.component=wt;const Kn=Be(dn+"-"+wt.id,wt.styles,[]);ct.addStyles(Kn),this.contentAttr=function et(Gt){return"_ngcontent-%COMP%".replace(at,Gt)}(dn+"-"+wt.id),this.hostAttr=function en(Gt){return"_nghost-%COMP%".replace(at,Gt)}(dn+"-"+wt.id)}applyToHost(_t){super.setAttribute(_t,this.hostAttr,"")}createElement(_t,ct){const wt=super.createElement(_t,ct);return super.setAttribute(wt,this.contentAttr,""),wt}}class Mt extends Qt{constructor(_t,ct,wt,dn){super(_t),this.sharedStylesHost=ct,this.hostEl=wt,this.shadowRoot=wt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kn=Be(dn.id,dn.styles,[]);for(let vi=0;vi<Kn.length;vi++){const $i=document.createElement("style");$i.textContent=Kn[vi],this.shadowRoot.appendChild($i)}}nodeOrShadowRoot(_t){return _t===this.hostEl?this.shadowRoot:_t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(_t,ct){return super.appendChild(this.nodeOrShadowRoot(_t),ct)}insertBefore(_t,ct,wt){return super.insertBefore(this.nodeOrShadowRoot(_t),ct,wt)}removeChild(_t,ct){return super.removeChild(this.nodeOrShadowRoot(_t),ct)}parentNode(_t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_t)))}}let ut=(()=>{class Gt extends gt{constructor(ct){super(ct)}supports(ct){return!0}addEventListener(ct,wt,dn){return ct.addEventListener(wt,dn,!1),()=>this.removeEventListener(ct,wt,dn)}removeEventListener(ct,wt,dn){return ct.removeEventListener(wt,dn)}}return Gt.\u0275fac=function(ct){return new(ct||Gt)(V.LFG(v.K0))},Gt.\u0275prov=V.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})();const Zt=["alt","control","meta","shift"],Kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Lt={alt:Gt=>Gt.altKey,control:Gt=>Gt.ctrlKey,meta:Gt=>Gt.metaKey,shift:Gt=>Gt.shiftKey};let Bt=(()=>{class Gt extends gt{constructor(ct){super(ct)}supports(ct){return null!=Gt.parseEventName(ct)}addEventListener(ct,wt,dn){const Kn=Gt.parseEventName(wt),vi=Gt.eventCallback(Kn.fullKey,dn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(ct,Kn.domEventName,vi))}static parseEventName(ct){const wt=ct.toLowerCase().split("."),dn=wt.shift();if(0===wt.length||"keydown"!==dn&&"keyup"!==dn)return null;const Kn=Gt._normalizeKey(wt.pop());let vi="";if(Zt.forEach(gr=>{const Ir=wt.indexOf(gr);Ir>-1&&(wt.splice(Ir,1),vi+=gr+".")}),vi+=Kn,0!=wt.length||0===Kn.length)return null;const $i={};return $i.domEventName=dn,$i.fullKey=vi,$i}static getEventFullKey(ct){let wt="",dn=function mt(Gt){let _t=Gt.key;if(null==_t){if(_t=Gt.keyIdentifier,null==_t)return"Unidentified";_t.startsWith("U+")&&(_t=String.fromCharCode(parseInt(_t.substring(2),16)),3===Gt.location&&gn.hasOwnProperty(_t)&&(_t=gn[_t]))}return Kt[_t]||_t}(ct);return dn=dn.toLowerCase()," "===dn?dn="space":"."===dn&&(dn="dot"),Zt.forEach(Kn=>{Kn!=dn&&Lt[Kn](ct)&&(wt+=Kn+".")}),wt+=dn,wt}static eventCallback(ct,wt,dn){return Kn=>{Gt.getEventFullKey(Kn)===ct&&dn.runGuarded(()=>wt(Kn))}}static _normalizeKey(ct){return"esc"===ct?"escape":ct}}return Gt.\u0275fac=function(ct){return new(ct||Gt)(V.LFG(v.K0))},Gt.\u0275prov=V.Yz7({token:Gt,factory:Gt.\u0275fac}),Gt})();const rt=(0,V.eFA)(V._c5,"browser",[{provide:V.Lbi,useValue:v.bD},{provide:V.g9A,useValue:function Vt(){q.makeCurrent(),we.init()},multi:!0},{provide:v.K0,useFactory:function je(){return(0,V.RDi)(document),document},deps:[]}]),bt=[{provide:V.zSh,useValue:"root"},{provide:V.qLn,useFactory:function ot(){return new V.qLn},deps:[]},{provide:Le,useClass:ut,multi:!0,deps:[v.K0,V.R0b,V.Lbi]},{provide:Le,useClass:Bt,multi:!0,deps:[v.K0]},{provide:nn,useClass:nn,deps:[st,ht,V.AFp]},{provide:V.FYo,useExisting:nn},{provide:Je,useExisting:ht},{provide:ht,useClass:ht,deps:[v.K0]},{provide:V.dDg,useClass:V.dDg,deps:[V.R0b]},{provide:st,useClass:st,deps:[Le,V.R0b]},{provide:v.JF,useClass:Oe,deps:[]}];let En=(()=>{class Gt{constructor(ct){if(ct)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ct){return{ngModule:Gt,providers:[{provide:V.AFp,useValue:ct.appId},{provide:Ee,useExisting:V.AFp},Me]}}}return Gt.\u0275fac=function(ct){return new(ct||Gt)(V.LFG(Gt,12))},Gt.\u0275mod=V.oAB({type:Gt}),Gt.\u0275inj=V.cJS({providers:bt,imports:[v.ez,V.hGG]}),Gt})();"undefined"!=typeof window&&window;let We=(()=>{class Gt{}return Gt.\u0275fac=function(ct){return new(ct||Gt)},Gt.\u0275prov=V.Yz7({token:Gt,factory:function(ct){let wt=null;return wt=ct?new(ct||Gt):V.LFG(Et),wt},providedIn:"root"}),Gt})(),Et=(()=>{class Gt extends We{constructor(ct){super(),this._doc=ct}sanitize(ct,wt){if(null==wt)return null;switch(ct){case V.q3G.NONE:return wt;case V.q3G.HTML:return(0,V.qzn)(wt,"HTML")?(0,V.z3N)(wt):(0,V.EiD)(this._doc,String(wt)).toString();case V.q3G.STYLE:return(0,V.qzn)(wt,"Style")?(0,V.z3N)(wt):wt;case V.q3G.SCRIPT:if((0,V.qzn)(wt,"Script"))return(0,V.z3N)(wt);throw new Error("unsafe value used in a script context");case V.q3G.URL:return(0,V.yhl)(wt),(0,V.qzn)(wt,"URL")?(0,V.z3N)(wt):(0,V.mCW)(String(wt));case V.q3G.RESOURCE_URL:if((0,V.qzn)(wt,"ResourceURL"))return(0,V.z3N)(wt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ct} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ct){return(0,V.JVY)(ct)}bypassSecurityTrustStyle(ct){return(0,V.L6k)(ct)}bypassSecurityTrustScript(ct){return(0,V.eBb)(ct)}bypassSecurityTrustUrl(ct){return(0,V.LAX)(ct)}bypassSecurityTrustResourceUrl(ct){return(0,V.pB0)(ct)}}return Gt.\u0275fac=function(ct){return new(ct||Gt)(V.LFG(v.K0))},Gt.\u0275prov=V.Yz7({token:Gt,factory:function(ct){let wt=null;return wt=ct?new ct:function zt(Gt){return new Et(Gt.get(v.K0))}(V.LFG(V.zs3)),wt},providedIn:"root"}),Gt})()},1402:(Ot,B,R)=>{R.d(B,{gz:()=>Xr,gk:()=>Kt,m2:()=>hn,Q3:()=>gn,OD:()=>Zt,F0:()=>Yr,rH:()=>oa,Od:()=>xs,yS:()=>Gs,Bz:()=>wl,lC:()=>Uo,R9:()=>Lt});var v=R(5e3),V=R(9751),I=R(727),q=R(4482),g=R(5403);function Ue(){return(0,q.e)((Z,W)=>{let H=null;Z._refCount++;const ge=(0,g.x)(W,void 0,void 0,void 0,()=>{if(!Z||Z._refCount<=0||0<--Z._refCount)return void(H=null);const be=Z._connection,Ye=H;H=null,be&&(!Ye||be===Ye)&&be.unsubscribe(),W.unsubscribe()});Z.subscribe(ge),ge.closed||(H=Z.connect())})}class P extends V.y{constructor(W,H){super(),this.source=W,this.subjectFactory=H,this._subject=null,this._refCount=0,this._connection=null,(0,q.A)(W)&&(this.lift=W.lift)}_subscribe(W){return this.getSubject().subscribe(W)}getSubject(){const W=this._subject;return(!W||W.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:W}=this;this._subject=this._connection=null,null==W||W.unsubscribe()}connect(){let W=this._connection;if(!W){W=this._connection=new I.w0;const H=this.getSubject();W.add(this.source.subscribe((0,g.x)(H,void 0,()=>{this._teardown(),H.complete()},ge=>{this._teardown(),H.error(ge)},()=>this._teardown()))),W.closed&&(this._connection=null,W=I.w0.EMPTY)}return W}refCount(){return Ue()(this)}}var Ce=R(8996),Ee=R(9646),ae=R(1135),Me=R(9841),we=R(2843),Oe=R(6805),Le=R(7272),st=R(9770),gt=R(515),Je=R(7579),ht=R(9300);function Xe(Z){return Z<=0?()=>gt.E:(0,q.e)((W,H)=>{let ge=[];W.subscribe((0,g.x)(H,be=>{ge.push(be),Z<ge.length&&ge.shift()},()=>{for(const be of ge)H.next(be);H.complete()},void 0,()=>{ge=null}))})}var Nt=R(8068),at=R(6590),ke=R(4671),it=R(4004),A=R(3900),et=R(5698),en=R(8675),Be=R(5026),At=R(262),Ut=R(4351),nn=R(590),Qt=R(5577),an=R(8505),Bn=R(8746),ie=R(8189),Mt=R(9808);class ut{constructor(W,H){this.id=W,this.url=H}}class Zt extends ut{constructor(W,H,ge="imperative",be=null){super(W,H),this.navigationTrigger=ge,this.restoredState=be}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hn extends ut{constructor(W,H,ge){super(W,H),this.urlAfterRedirects=ge}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kt extends ut{constructor(W,H,ge){super(W,H),this.reason=ge}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gn extends ut{constructor(W,H,ge){super(W,H),this.error=ge}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lt extends ut{constructor(W,H,ge,be){super(W,H),this.urlAfterRedirects=ge,this.state=be}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bt extends ut{constructor(W,H,ge,be){super(W,H),this.urlAfterRedirects=ge,this.state=be}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mt extends ut{constructor(W,H,ge,be,Ye){super(W,H),this.urlAfterRedirects=ge,this.state=be,this.shouldActivate=Ye}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vt extends ut{constructor(W,H,ge,be){super(W,H),this.urlAfterRedirects=ge,this.state=be}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot extends ut{constructor(W,H,ge,be){super(W,H),this.urlAfterRedirects=ge,this.state=be}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je{constructor(W){this.route=W}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pt{constructor(W){this.route=W}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rt{constructor(W){this.snapshot=W}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bt{constructor(W){this.snapshot=W}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class En{constructor(W){this.snapshot=W}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xn{constructor(W){this.snapshot=W}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dn{constructor(W,H,ge){this.routerEvent=W,this.position=H,this.anchor=ge}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ft="primary";class Rn{constructor(W){this.params=W||{}}has(W){return Object.prototype.hasOwnProperty.call(this.params,W)}get(W){if(this.has(W)){const H=this.params[W];return Array.isArray(H)?H[0]:H}return null}getAll(W){if(this.has(W)){const H=this.params[W];return Array.isArray(H)?H:[H]}return[]}get keys(){return Object.keys(this.params)}}function Ae(Z){return new Rn(Z)}const D="ngNavigationCancelingError";function te(Z){const W=Error("NavigationCancelingError: "+Z);return W[D]=!0,W}function me(Z,W,H){const ge=H.path.split("/");if(ge.length>Z.length||"full"===H.pathMatch&&(W.hasChildren()||ge.length<Z.length))return null;const be={};for(let Ye=0;Ye<ge.length;Ye++){const Ct=ge[Ye],Wt=Z[Ye];if(Ct.startsWith(":"))be[Ct.substring(1)]=Wt;else if(Ct!==Wt.path)return null}return{consumed:Z.slice(0,ge.length),posParams:be}}function pt(Z,W){const H=Z?Object.keys(Z):void 0,ge=W?Object.keys(W):void 0;if(!H||!ge||H.length!=ge.length)return!1;let be;for(let Ye=0;Ye<H.length;Ye++)if(be=H[Ye],!Ft(Z[be],W[be]))return!1;return!0}function Ft(Z,W){if(Array.isArray(Z)&&Array.isArray(W)){if(Z.length!==W.length)return!1;const H=[...Z].sort(),ge=[...W].sort();return H.every((be,Ye)=>ge[Ye]===be)}return Z===W}function rn(Z){return Array.prototype.concat.apply([],Z)}function Qe(Z){return Z.length>0?Z[Z.length-1]:null}function xn(Z,W){for(const H in Z)Z.hasOwnProperty(H)&&W(Z[H],H)}function ei(Z){return(0,v.CqO)(Z)?Z:(0,v.QGY)(Z)?(0,Ce.D)(Promise.resolve(Z)):(0,Ee.of)(Z)}const Oi={exact:function ci(Z,W,H){if(!We(Z.segments,W.segments)||!x(Z.segments,W.segments,H)||Z.numberOfChildren!==W.numberOfChildren)return!1;for(const ge in W.children)if(!Z.children[ge]||!ci(Z.children[ge],W.children[ge],H))return!1;return!0},subset:$},Si={exact:function _i(Z,W){return pt(Z,W)},subset:function Dt(Z,W){return Object.keys(W).length<=Object.keys(Z).length&&Object.keys(W).every(H=>Ft(Z[H],W[H]))},ignored:()=>!0};function mn(Z,W,H){return Oi[H.paths](Z.root,W.root,H.matrixParams)&&Si[H.queryParams](Z.queryParams,W.queryParams)&&!("exact"===H.fragment&&Z.fragment!==W.fragment)}function $(Z,W,H){return O(Z,W,W.segments,H)}function O(Z,W,H,ge){if(Z.segments.length>H.length){const be=Z.segments.slice(0,H.length);return!(!We(be,H)||W.hasChildren()||!x(be,H,ge))}if(Z.segments.length===H.length){if(!We(Z.segments,H)||!x(Z.segments,H,ge))return!1;for(const be in W.children)if(!Z.children[be]||!$(Z.children[be],W.children[be],ge))return!1;return!0}{const be=H.slice(0,Z.segments.length),Ye=H.slice(Z.segments.length);return!!(We(Z.segments,be)&&x(Z.segments,be,ge)&&Z.children[ft])&&O(Z.children[ft],W,Ye,ge)}}function x(Z,W,H){return W.every((ge,be)=>Si[H](Z[be].parameters,ge.parameters))}class oe{constructor(W,H,ge){this.root=W,this.queryParams=H,this.fragment=ge}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ae(this.queryParams)),this._queryParamMap}toString(){return Gt.serialize(this)}}class re{constructor(W,H){this.segments=W,this.children=H,this.parent=null,xn(H,(ge,be)=>ge.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _t(this)}}class de{constructor(W,H){this.path=W,this.parameters=H}get parameterMap(){return this._parameterMap||(this._parameterMap=Ae(this.parameters)),this._parameterMap}toString(){return Ir(this)}}function We(Z,W){return Z.length===W.length&&Z.every((H,ge)=>H.path===W[ge].path)}class Et{}class An{parse(W){const H=new Tt(W);return new oe(H.parseRootSegment(),H.parseQueryParams(),H.parseFragment())}serialize(W){const H=`/${ct(W.root,!0)}`,ge=function Hn(Z){const W=Object.keys(Z).map(H=>{const ge=Z[H];return Array.isArray(ge)?ge.map(be=>`${dn(H)}=${dn(be)}`).join("&"):`${dn(H)}=${dn(ge)}`}).filter(H=>!!H);return W.length?`?${W.join("&")}`:""}(W.queryParams);return`${H}${ge}${"string"==typeof W.fragment?`#${function Kn(Z){return encodeURI(Z)}(W.fragment)}`:""}`}}const Gt=new An;function _t(Z){return Z.segments.map(W=>Ir(W)).join("/")}function ct(Z,W){if(!Z.hasChildren())return _t(Z);if(W){const H=Z.children[ft]?ct(Z.children[ft],!1):"",ge=[];return xn(Z.children,(be,Ye)=>{Ye!==ft&&ge.push(`${Ye}:${ct(be,!1)}`)}),ge.length>0?`${H}(${ge.join("//")})`:H}{const H=function zt(Z,W){let H=[];return xn(Z.children,(ge,be)=>{be===ft&&(H=H.concat(W(ge,be)))}),xn(Z.children,(ge,be)=>{be!==ft&&(H=H.concat(W(ge,be)))}),H}(Z,(ge,be)=>be===ft?[ct(Z.children[ft],!1)]:[`${be}:${ct(ge,!1)}`]);return 1===Object.keys(Z.children).length&&null!=Z.children[ft]?`${_t(Z)}/${H[0]}`:`${_t(Z)}/(${H.join("//")})`}}function wt(Z){return encodeURIComponent(Z).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dn(Z){return wt(Z).replace(/%3B/gi,";")}function vi(Z){return wt(Z).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $i(Z){return decodeURIComponent(Z)}function gr(Z){return $i(Z.replace(/\+/g,"%20"))}function Ir(Z){return`${vi(Z.path)}${function qt(Z){return Object.keys(Z).map(W=>`;${vi(W)}=${vi(Z[W])}`).join("")}(Z.parameters)}`}const bn=/^[^\/()?;=#]+/;function yi(Z){const W=Z.match(bn);return W?W[0]:""}const Zi=/^[^=?&#]+/,Hi=/^[^&#]+/;class Tt{constructor(W){this.url=W,this.remaining=W}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){const W={};if(this.consumeOptional("?"))do{this.parseQueryParam(W)}while(this.consumeOptional("&"));return W}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const W=[];for(this.peekStartsWith("(")||W.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),W.push(this.parseSegment());let H={};this.peekStartsWith("/(")&&(this.capture("/"),H=this.parseParens(!0));let ge={};return this.peekStartsWith("(")&&(ge=this.parseParens(!1)),(W.length>0||Object.keys(H).length>0)&&(ge[ft]=new re(W,H)),ge}parseSegment(){const W=yi(this.remaining);if(""===W&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(W),new de($i(W),this.parseMatrixParams())}parseMatrixParams(){const W={};for(;this.consumeOptional(";");)this.parseParam(W);return W}parseParam(W){const H=yi(this.remaining);if(!H)return;this.capture(H);let ge="";if(this.consumeOptional("=")){const be=yi(this.remaining);be&&(ge=be,this.capture(ge))}W[$i(H)]=$i(ge)}parseQueryParam(W){const H=function $n(Z){const W=Z.match(Zi);return W?W[0]:""}(this.remaining);if(!H)return;this.capture(H);let ge="";if(this.consumeOptional("=")){const Ct=function Ui(Z){const W=Z.match(Hi);return W?W[0]:""}(this.remaining);Ct&&(ge=Ct,this.capture(ge))}const be=gr(H),Ye=gr(ge);if(W.hasOwnProperty(be)){let Ct=W[be];Array.isArray(Ct)||(Ct=[Ct],W[be]=Ct),Ct.push(Ye)}else W[be]=Ye}parseParens(W){const H={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const ge=yi(this.remaining),be=this.remaining[ge.length];if("/"!==be&&")"!==be&&";"!==be)throw new Error(`Cannot parse url '${this.url}'`);let Ye;ge.indexOf(":")>-1?(Ye=ge.substr(0,ge.indexOf(":")),this.capture(Ye),this.capture(":")):W&&(Ye=ft);const Ct=this.parseChildren();H[Ye]=1===Object.keys(Ct).length?Ct[ft]:new re([],Ct),this.consumeOptional("//")}return H}peekStartsWith(W){return this.remaining.startsWith(W)}consumeOptional(W){return!!this.peekStartsWith(W)&&(this.remaining=this.remaining.substring(W.length),!0)}capture(W){if(!this.consumeOptional(W))throw new Error(`Expected "${W}".`)}}class ln{constructor(W){this._root=W}get root(){return this._root.value}parent(W){const H=this.pathFromRoot(W);return H.length>1?H[H.length-2]:null}children(W){const H=j(W,this._root);return H?H.children.map(ge=>ge.value):[]}firstChild(W){const H=j(W,this._root);return H&&H.children.length>0?H.children[0].value:null}siblings(W){const H=he(W,this._root);return H.length<2?[]:H[H.length-2].children.map(be=>be.value).filter(be=>be!==W)}pathFromRoot(W){return he(W,this._root).map(H=>H.value)}}function j(Z,W){if(Z===W.value)return W;for(const H of W.children){const ge=j(Z,H);if(ge)return ge}return null}function he(Z,W){if(Z===W.value)return[W];for(const H of W.children){const ge=he(Z,H);if(ge.length)return ge.unshift(W),ge}return[]}class tt{constructor(W,H){this.value=W,this.children=H}toString(){return`TreeNode(${this.value})`}}function xt(Z){const W={};return Z&&Z.children.forEach(H=>W[H.value.outlet]=H),W}class hi extends ln{constructor(W,H){super(W),this.snapshot=H,Zn(this,W)}toString(){return this.snapshot.toString()}}function gi(Z,W){const H=function nt(Z,W){const Ct=new on([],{},{},"",{},ft,W,null,Z.root,-1,{});return new Sn("",new tt(Ct,[]))}(Z,W),ge=new ae.X([new de("",{})]),be=new ae.X({}),Ye=new ae.X({}),Ct=new ae.X({}),Wt=new ae.X(""),Pn=new Xr(ge,be,Ct,Wt,Ye,ft,W,H.root);return Pn.snapshot=H.root,new hi(new tt(Pn,[]),H)}class Xr{constructor(W,H,ge,be,Ye,Ct,Wt,Pn){this.url=W,this.params=H,this.queryParams=ge,this.fragment=be,this.data=Ye,this.outlet=Ct,this.component=Wt,this._futureSnapshot=Pn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(W=>Ae(W)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(W=>Ae(W)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function St(Z,W="emptyOnly"){const H=Z.pathFromRoot;let ge=0;if("always"!==W)for(ge=H.length-1;ge>=1;){const be=H[ge],Ye=H[ge-1];if(be.routeConfig&&""===be.routeConfig.path)ge--;else{if(Ye.component)break;ge--}}return function un(Z){return Z.reduce((W,H)=>({params:Object.assign(Object.assign({},W.params),H.params),data:Object.assign(Object.assign({},W.data),H.data),resolve:Object.assign(Object.assign({},W.resolve),H._resolvedData)}),{params:{},data:{},resolve:{}})}(H.slice(ge))}class on{constructor(W,H,ge,be,Ye,Ct,Wt,Pn,Ii,di,mi){this.url=W,this.params=H,this.queryParams=ge,this.fragment=be,this.data=Ye,this.outlet=Ct,this.component=Wt,this.routeConfig=Pn,this._urlSegment=Ii,this._lastPathIndex=di,this._resolve=mi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ae(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ae(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(ge=>ge.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sn extends ln{constructor(W,H){super(H),this.url=W,Zn(this,H)}toString(){return ni(this._root)}}function Zn(Z,W){W.value._routerState=Z,W.children.forEach(H=>Zn(Z,H))}function ni(Z){const W=Z.children.length>0?` { ${Z.children.map(ni).join(", ")} } `:"";return`${Z.value}${W}`}function pi(Z){if(Z.snapshot){const W=Z.snapshot,H=Z._futureSnapshot;Z.snapshot=H,pt(W.queryParams,H.queryParams)||Z.queryParams.next(H.queryParams),W.fragment!==H.fragment&&Z.fragment.next(H.fragment),pt(W.params,H.params)||Z.params.next(H.params),function xe(Z,W){if(Z.length!==W.length)return!1;for(let H=0;H<Z.length;++H)if(!pt(Z[H],W[H]))return!1;return!0}(W.url,H.url)||Z.url.next(H.url),pt(W.data,H.data)||Z.data.next(H.data)}else Z.snapshot=Z._futureSnapshot,Z.data.next(Z._futureSnapshot.data)}function Dr(Z,W){const H=pt(Z.params,W.params)&&function Se(Z,W){return We(Z,W)&&Z.every((H,ge)=>pt(H.parameters,W[ge].parameters))}(Z.url,W.url);return H&&!(!Z.parent!=!W.parent)&&(!Z.parent||Dr(Z.parent,W.parent))}function nr(Z,W,H){if(H&&Z.shouldReuseRoute(W.value,H.value.snapshot)){const ge=H.value;ge._futureSnapshot=W.value;const be=function hr(Z,W,H){return W.children.map(ge=>{for(const be of H.children)if(Z.shouldReuseRoute(ge.value,be.value.snapshot))return nr(Z,ge,be);return nr(Z,ge)})}(Z,W,H);return new tt(ge,be)}{if(Z.shouldAttach(W.value)){const Ye=Z.retrieve(W.value);if(null!==Ye){const Ct=Ye.route;return Ct.value._futureSnapshot=W.value,Ct.children=W.children.map(Wt=>nr(Z,Wt)),Ct}}const ge=function _o(Z){return new Xr(new ae.X(Z.url),new ae.X(Z.params),new ae.X(Z.queryParams),new ae.X(Z.fragment),new ae.X(Z.data),Z.outlet,Z.component,Z)}(W.value),be=W.children.map(Ye=>nr(Z,Ye));return new tt(ge,be)}}function Xo(Z){return"object"==typeof Z&&null!=Z&&!Z.outlets&&!Z.segmentPath}function vr(Z){return"object"==typeof Z&&null!=Z&&Z.outlets}function Is(Z,W,H,ge,be){let Ye={};if(ge&&xn(ge,(Wt,Pn)=>{Ye[Pn]=Array.isArray(Wt)?Wt.map(Ii=>`${Ii}`):`${Wt}`}),Z===W)return new oe(H,Ye,be);const Ct=Ls(Z,W,H);return new oe(Ct,Ye,be)}function Ls(Z,W,H){const ge={};return xn(Z.children,(be,Ye)=>{ge[Ye]=be===W?H:Ls(be,W,H)}),new re(Z.segments,ge)}class Cs{constructor(W,H,ge){if(this.isAbsolute=W,this.numberOfDoubleDots=H,this.commands=ge,W&&ge.length>0&&Xo(ge[0]))throw new Error("Root segment cannot have matrix parameters");const be=ge.find(vr);if(be&&be!==Qe(ge))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ia{constructor(W,H,ge){this.segmentGroup=W,this.processChildren=H,this.index=ge}}function yn(Z,W,H){if(Z||(Z=new re([],{})),0===Z.segments.length&&Z.hasChildren())return Wn(Z,W,H);const ge=function oi(Z,W,H){let ge=0,be=W;const Ye={match:!1,pathIndex:0,commandIndex:0};for(;be<Z.segments.length;){if(ge>=H.length)return Ye;const Ct=Z.segments[be],Wt=H[ge];if(vr(Wt))break;const Pn=`${Wt}`,Ii=ge<H.length-1?H[ge+1]:null;if(be>0&&void 0===Pn)break;if(Pn&&Ii&&"object"==typeof Ii&&void 0===Ii.outlets){if(!Sr(Pn,Ii,Ct))return Ye;ge+=2}else{if(!Sr(Pn,{},Ct))return Ye;ge++}be++}return{match:!0,pathIndex:be,commandIndex:ge}}(Z,W,H),be=H.slice(ge.commandIndex);if(ge.match&&ge.pathIndex<Z.segments.length){const Ye=new re(Z.segments.slice(0,ge.pathIndex),{});return Ye.children[ft]=new re(Z.segments.slice(ge.pathIndex),Z.children),Wn(Ye,0,be)}return ge.match&&0===be.length?new re(Z.segments,{}):ge.match&&!Z.hasChildren()?ki(Z,W,H):ge.match?Wn(Z,0,be):ki(Z,W,H)}function Wn(Z,W,H){if(0===H.length)return new re(Z.segments,{});{const ge=function Xt(Z){return vr(Z[0])?Z[0].outlets:{[ft]:Z}}(H),be={};return xn(ge,(Ye,Ct)=>{"string"==typeof Ye&&(Ye=[Ye]),null!==Ye&&(be[Ct]=yn(Z.children[Ct],W,Ye))}),xn(Z.children,(Ye,Ct)=>{void 0===ge[Ct]&&(be[Ct]=Ye)}),new re(Z.segments,be)}}function ki(Z,W,H){const ge=Z.segments.slice(0,W);let be=0;for(;be<H.length;){const Ye=H[be];if(vr(Ye)){const Pn=wr(Ye.outlets);return new re(ge,Pn)}if(0===be&&Xo(H[0])){ge.push(new de(Z.segments[W].path,$r(H[0]))),be++;continue}const Ct=vr(Ye)?Ye.outlets[ft]:`${Ye}`,Wt=be<H.length-1?H[be+1]:null;Ct&&Wt&&Xo(Wt)?(ge.push(new de(Ct,$r(Wt))),be+=2):(ge.push(new de(Ct,{})),be++)}return new re(ge,{})}function wr(Z){const W={};return xn(Z,(H,ge)=>{"string"==typeof H&&(H=[H]),null!==H&&(W[ge]=ki(new re([],{}),0,H))}),W}function $r(Z){const W={};return xn(Z,(H,ge)=>W[ge]=`${H}`),W}function Sr(Z,W,H){return Z==H.path&&pt(W,H.parameters)}class Mo{constructor(W,H,ge,be){this.routeReuseStrategy=W,this.futureState=H,this.currState=ge,this.forwardEvent=be}activate(W){const H=this.futureState._root,ge=this.currState?this.currState._root:null;this.deactivateChildRoutes(H,ge,W),pi(this.futureState.root),this.activateChildRoutes(H,ge,W)}deactivateChildRoutes(W,H,ge){const be=xt(H);W.children.forEach(Ye=>{const Ct=Ye.value.outlet;this.deactivateRoutes(Ye,be[Ct],ge),delete be[Ct]}),xn(be,(Ye,Ct)=>{this.deactivateRouteAndItsChildren(Ye,ge)})}deactivateRoutes(W,H,ge){const be=W.value,Ye=H?H.value:null;if(be===Ye)if(be.component){const Ct=ge.getContext(be.outlet);Ct&&this.deactivateChildRoutes(W,H,Ct.children)}else this.deactivateChildRoutes(W,H,ge);else Ye&&this.deactivateRouteAndItsChildren(H,ge)}deactivateRouteAndItsChildren(W,H){W.value.component&&this.routeReuseStrategy.shouldDetach(W.value.snapshot)?this.detachAndStoreRouteSubtree(W,H):this.deactivateRouteAndOutlet(W,H)}detachAndStoreRouteSubtree(W,H){const ge=H.getContext(W.value.outlet),be=ge&&W.value.component?ge.children:H,Ye=xt(W);for(const Ct of Object.keys(Ye))this.deactivateRouteAndItsChildren(Ye[Ct],be);if(ge&&ge.outlet){const Ct=ge.outlet.detach(),Wt=ge.children.onOutletDeactivated();this.routeReuseStrategy.store(W.value.snapshot,{componentRef:Ct,route:W,contexts:Wt})}}deactivateRouteAndOutlet(W,H){const ge=H.getContext(W.value.outlet),be=ge&&W.value.component?ge.children:H,Ye=xt(W);for(const Ct of Object.keys(Ye))this.deactivateRouteAndItsChildren(Ye[Ct],be);ge&&ge.outlet&&(ge.outlet.deactivate(),ge.children.onOutletDeactivated(),ge.attachRef=null,ge.resolver=null,ge.route=null)}activateChildRoutes(W,H,ge){const be=xt(H);W.children.forEach(Ye=>{this.activateRoutes(Ye,be[Ye.value.outlet],ge),this.forwardEvent(new Xn(Ye.value.snapshot))}),W.children.length&&this.forwardEvent(new bt(W.value.snapshot))}activateRoutes(W,H,ge){const be=W.value,Ye=H?H.value:null;if(pi(be),be===Ye)if(be.component){const Ct=ge.getOrCreateContext(be.outlet);this.activateChildRoutes(W,H,Ct.children)}else this.activateChildRoutes(W,H,ge);else if(be.component){const Ct=ge.getOrCreateContext(be.outlet);if(this.routeReuseStrategy.shouldAttach(be.snapshot)){const Wt=this.routeReuseStrategy.retrieve(be.snapshot);this.routeReuseStrategy.store(be.snapshot,null),Ct.children.onOutletReAttached(Wt.contexts),Ct.attachRef=Wt.componentRef,Ct.route=Wt.route.value,Ct.outlet&&Ct.outlet.attach(Wt.componentRef,Wt.route.value),pi(Wt.route.value),this.activateChildRoutes(W,null,Ct.children)}else{const Wt=function ko(Z){for(let W=Z.parent;W;W=W.parent){const H=W.routeConfig;if(H&&H._loadedConfig)return H._loadedConfig;if(H&&H.component)return null}return null}(be.snapshot),Pn=Wt?Wt.module.componentFactoryResolver:null;Ct.attachRef=null,Ct.route=be,Ct.resolver=Pn,Ct.outlet&&Ct.outlet.activateWith(be,Pn),this.activateChildRoutes(W,null,Ct.children)}}else this.activateChildRoutes(W,null,ge)}}class ks{constructor(W,H){this.routes=W,this.module=H}}function Ao(Z){return"function"==typeof Z}function as(Z){return Z instanceof oe}const Io=Symbol("INITIAL_VALUE");function ws(){return(0,A.w)(Z=>(0,Me.a)(Z.map(W=>W.pipe((0,et.q)(1),(0,en.O)(Io)))).pipe((0,Be.R)((W,H)=>{let ge=!1;return H.reduce((be,Ye,Ct)=>be!==Io?be:(Ye===Io&&(ge=!0),ge||!1!==Ye&&Ct!==H.length-1&&!as(Ye)?be:Ye),W)},Io),(0,ht.h)(W=>W!==Io),(0,it.U)(W=>as(W)?W:!0===W),(0,et.q)(1)))}class Ea{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Po,this.attachRef=null}}class Po{constructor(){this.contexts=new Map}onChildOutletCreated(W,H){const ge=this.getOrCreateContext(W);ge.outlet=H,this.contexts.set(W,ge)}onChildOutletDestroyed(W){const H=this.getContext(W);H&&(H.outlet=null,H.attachRef=null)}onOutletDeactivated(){const W=this.contexts;return this.contexts=new Map,W}onOutletReAttached(W){this.contexts=W}getOrCreateContext(W){let H=this.getContext(W);return H||(H=new Ea,this.contexts.set(W,H)),H}getContext(W){return this.contexts.get(W)||null}}let Uo=(()=>{class Z{constructor(H,ge,be,Ye,Ct){this.parentContexts=H,this.location=ge,this.resolver=be,this.changeDetector=Ct,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.name=Ye||ft,H.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const H=this.parentContexts.getContext(this.name);H&&H.route&&(H.attachRef?this.attach(H.attachRef,H.route):this.activateWith(H.route,H.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const H=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(H.instance),H}attach(H,ge){this.activated=H,this._activatedRoute=ge,this.location.insert(H.hostView),this.attachEvents.emit(H.instance)}deactivate(){if(this.activated){const H=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(H)}}activateWith(H,ge){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=H;const Ct=(ge=ge||this.resolver).resolveComponentFactory(H._futureSnapshot.routeConfig.component),Wt=this.parentContexts.getOrCreateContext(this.name).children,Pn=new Rr(H,Wt,this.location.injector);this.activated=this.location.createComponent(Ct,this.location.length,Pn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return Z.\u0275fac=function(H){return new(H||Z)(v.Y36(Po),v.Y36(v.s_b),v.Y36(v._Vd),v.$8M("name"),v.Y36(v.sBO))},Z.\u0275dir=v.lG2({type:Z,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),Z})();class Rr{constructor(W,H,ge){this.route=W,this.childContexts=H,this.parent=ge}get(W,H){return W===Xr?this.route:W===Po?this.childContexts:this.parent.get(W,H)}}let bs=(()=>{class Z{}return Z.\u0275fac=function(H){return new(H||Z)},Z.\u0275cmp=v.Xpm({type:Z,selectors:[["ng-component"]],decls:1,vars:0,template:function(H,ge){1&H&&v._UZ(0,"router-outlet")},directives:[Uo],encapsulation:2}),Z})();function Bs(Z,W=""){for(let H=0;H<Z.length;H++){const ge=Z[H];mo(ge,vo(W,ge))}}function mo(Z,W){Z.children&&Bs(Z.children,W)}function vo(Z,W){return W?Z||W.path?Z&&!W.path?`${Z}/`:!Z&&W.path?W.path:`${Z}/${W.path}`:"":Z}function ds(Z){const W=Z.children&&Z.children.map(ds),H=W?Object.assign(Object.assign({},Z),{children:W}):Object.assign({},Z);return!H.component&&(W||H.loadChildren)&&H.outlet&&H.outlet!==ft&&(H.component=bs),H}function ro(Z){return Z.outlet||ft}function Es(Z,W){const H=Z.filter(ge=>ro(ge)===W);return H.push(...Z.filter(ge=>ro(ge)!==W)),H}const es={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ko(Z,W,H){var ge;if(""===W.path)return"full"===W.pathMatch&&(Z.hasChildren()||H.length>0)?Object.assign({},es):{matched:!0,consumedSegments:[],remainingSegments:H,parameters:{},positionalParamSegments:{}};const Ye=(W.matcher||me)(H,Z,W);if(!Ye)return Object.assign({},es);const Ct={};xn(Ye.posParams,(Pn,Ii)=>{Ct[Ii]=Pn.path});const Wt=Ye.consumed.length>0?Object.assign(Object.assign({},Ct),Ye.consumed[Ye.consumed.length-1].parameters):Ct;return{matched:!0,consumedSegments:Ye.consumed,remainingSegments:H.slice(Ye.consumed.length),parameters:Wt,positionalParamSegments:null!==(ge=Ye.posParams)&&void 0!==ge?ge:{}}}function Bo(Z,W,H,ge,be="corrected"){if(H.length>0&&function Mr(Z,W,H){return H.some(ge=>Ge(Z,W,ge)&&ro(ge)!==ft)}(Z,H,ge)){const Ct=new re(W,function ls(Z,W,H,ge){const be={};be[ft]=ge,ge._sourceSegment=Z,ge._segmentIndexShift=W.length;for(const Ye of H)if(""===Ye.path&&ro(Ye)!==ft){const Ct=new re([],{});Ct._sourceSegment=Z,Ct._segmentIndexShift=W.length,be[ro(Ye)]=Ct}return be}(Z,W,ge,new re(H,Z.children)));return Ct._sourceSegment=Z,Ct._segmentIndexShift=W.length,{segmentGroup:Ct,slicedSegments:[]}}if(0===H.length&&function fe(Z,W,H){return H.some(ge=>Ge(Z,W,ge))}(Z,H,ge)){const Ct=new re(Z.segments,function ns(Z,W,H,ge,be,Ye){const Ct={};for(const Wt of ge)if(Ge(Z,H,Wt)&&!be[ro(Wt)]){const Pn=new re([],{});Pn._sourceSegment=Z,Pn._segmentIndexShift="legacy"===Ye?Z.segments.length:W.length,Ct[ro(Wt)]=Pn}return Object.assign(Object.assign({},be),Ct)}(Z,W,H,ge,Z.children,be));return Ct._sourceSegment=Z,Ct._segmentIndexShift=W.length,{segmentGroup:Ct,slicedSegments:H}}const Ye=new re(Z.segments,Z.children);return Ye._sourceSegment=Z,Ye._segmentIndexShift=W.length,{segmentGroup:Ye,slicedSegments:H}}function Ge(Z,W,H){return(!(Z.hasChildren()||W.length>0)||"full"!==H.pathMatch)&&""===H.path}function pe(Z,W,H,ge){return!!(ro(Z)===ge||ge!==ft&&Ge(W,H,Z))&&("**"===Z.path||Ko(W,Z,H).matched)}function qe(Z,W,H){return 0===W.length&&!Z.children[H]}class $t{constructor(W){this.segmentGroup=W||null}}class On{constructor(W){this.urlTree=W}}function Vn(Z){return(0,we._)(new $t(Z))}function ui(Z){return(0,we._)(new On(Z))}class br{constructor(W,H,ge,be,Ye){this.configLoader=H,this.urlSerializer=ge,this.urlTree=be,this.config=Ye,this.allowRedirects=!0,this.ngModule=W.get(v.h0i)}apply(){const W=Bo(this.urlTree.root,[],[],this.config).segmentGroup,H=new re(W.segments,W.children);return this.expandSegmentGroup(this.ngModule,this.config,H,ft).pipe((0,it.U)(Ye=>this.createUrlTree(Fr(Ye),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,At.K)(Ye=>{if(Ye instanceof On)return this.allowRedirects=!1,this.match(Ye.urlTree);throw Ye instanceof $t?this.noMatchError(Ye):Ye}))}match(W){return this.expandSegmentGroup(this.ngModule,this.config,W.root,ft).pipe((0,it.U)(be=>this.createUrlTree(Fr(be),W.queryParams,W.fragment))).pipe((0,At.K)(be=>{throw be instanceof $t?this.noMatchError(be):be}))}noMatchError(W){return new Error(`Cannot match any routes. URL Segment: '${W.segmentGroup}'`)}createUrlTree(W,H,ge){const be=W.segments.length>0?new re([],{[ft]:W}):W;return new oe(be,H,ge)}expandSegmentGroup(W,H,ge,be){return 0===ge.segments.length&&ge.hasChildren()?this.expandChildren(W,H,ge).pipe((0,it.U)(Ye=>new re([],Ye))):this.expandSegment(W,ge,H,ge.segments,be,!0)}expandChildren(W,H,ge){const be=[];for(const Ye of Object.keys(ge.children))"primary"===Ye?be.unshift(Ye):be.push(Ye);return(0,Ce.D)(be).pipe((0,Ut.b)(Ye=>{const Ct=ge.children[Ye],Wt=Es(H,Ye);return this.expandSegmentGroup(W,Wt,Ct,Ye).pipe((0,it.U)(Pn=>({segment:Pn,outlet:Ye})))}),(0,Be.R)((Ye,Ct)=>(Ye[Ct.outlet]=Ct.segment,Ye),{}),function Ke(Z,W){const H=arguments.length>=2;return ge=>ge.pipe(Z?(0,ht.h)((be,Ye)=>Z(be,Ye,ge)):ke.y,Xe(1),H?(0,at.d)(W):(0,Nt.T)(()=>new Oe.K))}())}expandSegment(W,H,ge,be,Ye,Ct){return(0,Ce.D)(ge).pipe((0,Ut.b)(Wt=>this.expandSegmentAgainstRoute(W,H,ge,Wt,be,Ye,Ct).pipe((0,At.K)(Ii=>{if(Ii instanceof $t)return(0,Ee.of)(null);throw Ii}))),(0,nn.P)(Wt=>!!Wt),(0,At.K)((Wt,Pn)=>{if(Wt instanceof Oe.K||"EmptyError"===Wt.name)return qe(H,be,Ye)?(0,Ee.of)(new re([],{})):Vn(H);throw Wt}))}expandSegmentAgainstRoute(W,H,ge,be,Ye,Ct,Wt){return pe(be,H,Ye,Ct)?void 0===be.redirectTo?this.matchSegmentAgainstRoute(W,H,be,Ye,Ct):Wt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(W,H,ge,be,Ye,Ct):Vn(H):Vn(H)}expandSegmentAgainstRouteUsingRedirect(W,H,ge,be,Ye,Ct){return"**"===be.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(W,ge,be,Ct):this.expandRegularSegmentAgainstRouteUsingRedirect(W,H,ge,be,Ye,Ct)}expandWildCardWithParamsAgainstRouteUsingRedirect(W,H,ge,be){const Ye=this.applyRedirectCommands([],ge.redirectTo,{});return ge.redirectTo.startsWith("/")?ui(Ye):this.lineralizeSegments(ge,Ye).pipe((0,Qt.z)(Ct=>{const Wt=new re(Ct,{});return this.expandSegment(W,Wt,H,Ct,be,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(W,H,ge,be,Ye,Ct){const{matched:Wt,consumedSegments:Pn,remainingSegments:Ii,positionalParamSegments:di}=Ko(H,be,Ye);if(!Wt)return Vn(H);const mi=this.applyRedirectCommands(Pn,be.redirectTo,di);return be.redirectTo.startsWith("/")?ui(mi):this.lineralizeSegments(be,mi).pipe((0,Qt.z)(Zr=>this.expandSegment(W,H,ge,Zr.concat(Ii),Ct,!1)))}matchSegmentAgainstRoute(W,H,ge,be,Ye){if("**"===ge.path)return ge.loadChildren?(ge._loadedConfig?(0,Ee.of)(ge._loadedConfig):this.configLoader.load(W.injector,ge)).pipe((0,it.U)(mi=>(ge._loadedConfig=mi,new re(be,{})))):(0,Ee.of)(new re(be,{}));const{matched:Ct,consumedSegments:Wt,remainingSegments:Pn}=Ko(H,ge,be);return Ct?this.getChildConfig(W,ge,be).pipe((0,Qt.z)(di=>{const mi=di.module,Zr=di.routes,{segmentGroup:Ji,slicedSegments:Gi}=Bo(H,Wt,Pn,Zr),ya=new re(Ji.segments,Ji.children);if(0===Gi.length&&ya.hasChildren())return this.expandChildren(mi,Zr,ya).pipe((0,it.U)(jr=>new re(Wt,jr)));if(0===Zr.length&&0===Gi.length)return(0,Ee.of)(new re(Wt,{}));const _a=ro(ge)===Ye;return this.expandSegment(mi,ya,Zr,Gi,_a?ft:Ye,!0).pipe((0,it.U)(us=>new re(Wt.concat(us.segments),us.children)))})):Vn(H)}getChildConfig(W,H,ge){return H.children?(0,Ee.of)(new ks(H.children,W)):H.loadChildren?void 0!==H._loadedConfig?(0,Ee.of)(H._loadedConfig):this.runCanLoadGuards(W.injector,H,ge).pipe((0,Qt.z)(be=>be?this.configLoader.load(W.injector,H).pipe((0,it.U)(Ye=>(H._loadedConfig=Ye,Ye))):function Pr(Z){return(0,we._)(te(`Cannot load children because the guard of the route "path: '${Z.path}'" returned false`))}(H))):(0,Ee.of)(new ks([],W))}runCanLoadGuards(W,H,ge){const be=H.canLoad;if(!be||0===be.length)return(0,Ee.of)(!0);const Ye=be.map(Ct=>{const Wt=W.get(Ct);let Pn;if(function $o(Z){return Z&&Ao(Z.canLoad)}(Wt))Pn=Wt.canLoad(H,ge);else{if(!Ao(Wt))throw new Error("Invalid CanLoad guard");Pn=Wt(H,ge)}return ei(Pn)});return(0,Ee.of)(Ye).pipe(ws(),(0,an.b)(Ct=>{if(!as(Ct))return;const Wt=te(`Redirecting to "${this.urlSerializer.serialize(Ct)}"`);throw Wt.url=Ct,Wt}),(0,it.U)(Ct=>!0===Ct))}lineralizeSegments(W,H){let ge=[],be=H.root;for(;;){if(ge=ge.concat(be.segments),0===be.numberOfChildren)return(0,Ee.of)(ge);if(be.numberOfChildren>1||!be.children[ft])return(0,we._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${W.redirectTo}'`));be=be.children[ft]}}applyRedirectCommands(W,H,ge){return this.applyRedirectCreatreUrlTree(H,this.urlSerializer.parse(H),W,ge)}applyRedirectCreatreUrlTree(W,H,ge,be){const Ye=this.createSegmentGroup(W,H.root,ge,be);return new oe(Ye,this.createQueryParams(H.queryParams,this.urlTree.queryParams),H.fragment)}createQueryParams(W,H){const ge={};return xn(W,(be,Ye)=>{if("string"==typeof be&&be.startsWith(":")){const Wt=be.substring(1);ge[Ye]=H[Wt]}else ge[Ye]=be}),ge}createSegmentGroup(W,H,ge,be){const Ye=this.createSegments(W,H.segments,ge,be);let Ct={};return xn(H.children,(Wt,Pn)=>{Ct[Pn]=this.createSegmentGroup(W,Wt,ge,be)}),new re(Ye,Ct)}createSegments(W,H,ge,be){return H.map(Ye=>Ye.path.startsWith(":")?this.findPosParam(W,Ye,be):this.findOrReturn(Ye,ge))}findPosParam(W,H,ge){const be=ge[H.path.substring(1)];if(!be)throw new Error(`Cannot redirect to '${W}'. Cannot find '${H.path}'.`);return be}findOrReturn(W,H){let ge=0;for(const be of H){if(be.path===W.path)return H.splice(ge),be;ge++}return W}}function Fr(Z){const W={};for(const ge of Object.keys(Z.children)){const Ye=Fr(Z.children[ge]);(Ye.segments.length>0||Ye.hasChildren())&&(W[ge]=Ye)}return function Jr(Z){if(1===Z.numberOfChildren&&Z.children[ft]){const W=Z.children[ft];return new re(Z.segments.concat(W.segments),W.children)}return Z}(new re(Z.segments,W))}class _e{constructor(W){this.path=W,this.route=this.path[this.path.length-1]}}class ue{constructor(W,H){this.component=W,this.route=H}}function Q(Z,W,H){const ge=Z._root;return Br(ge,W?W._root:null,H,[ge.value])}function Mn(Z,W,H){const ge=function Ai(Z){if(!Z)return null;for(let W=Z.parent;W;W=W.parent){const H=W.routeConfig;if(H&&H._loadedConfig)return H._loadedConfig}return null}(W);return(ge?ge.module.injector:H).get(Z)}function Br(Z,W,H,ge,be={canDeactivateChecks:[],canActivateChecks:[]}){const Ye=xt(W);return Z.children.forEach(Ct=>{(function co(Z,W,H,ge,be={canDeactivateChecks:[],canActivateChecks:[]}){const Ye=Z.value,Ct=W?W.value:null,Wt=H?H.getContext(Z.value.outlet):null;if(Ct&&Ye.routeConfig===Ct.routeConfig){const Pn=function Os(Z,W,H){if("function"==typeof H)return H(Z,W);switch(H){case"pathParamsChange":return!We(Z.url,W.url);case"pathParamsOrQueryParamsChange":return!We(Z.url,W.url)||!pt(Z.queryParams,W.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dr(Z,W)||!pt(Z.queryParams,W.queryParams);default:return!Dr(Z,W)}}(Ct,Ye,Ye.routeConfig.runGuardsAndResolvers);Pn?be.canActivateChecks.push(new _e(ge)):(Ye.data=Ct.data,Ye._resolvedData=Ct._resolvedData),Br(Z,W,Ye.component?Wt?Wt.children:null:H,ge,be),Pn&&Wt&&Wt.outlet&&Wt.outlet.isActivated&&be.canDeactivateChecks.push(new ue(Wt.outlet.component,Ct))}else Ct&&ho(W,Wt,be),be.canActivateChecks.push(new _e(ge)),Br(Z,null,Ye.component?Wt?Wt.children:null:H,ge,be)})(Ct,Ye[Ct.value.outlet],H,ge.concat([Ct.value]),be),delete Ye[Ct.value.outlet]}),xn(Ye,(Ct,Wt)=>ho(Ct,H.getContext(Wt),be)),be}function ho(Z,W,H){const ge=xt(Z),be=Z.value;xn(ge,(Ye,Ct)=>{ho(Ye,be.component?W?W.children.getContext(Ct):null:W,H)}),H.canDeactivateChecks.push(new ue(be.component&&W&&W.outlet&&W.outlet.isActivated?W.outlet.component:null,be))}class Ks{}function ra(Z){return new V.y(W=>W.error(Z))}class ma{constructor(W,H,ge,be,Ye,Ct){this.rootComponentType=W,this.config=H,this.urlTree=ge,this.url=be,this.paramsInheritanceStrategy=Ye,this.relativeLinkResolution=Ct}recognize(){const W=Bo(this.urlTree.root,[],[],this.config.filter(Ct=>void 0===Ct.redirectTo),this.relativeLinkResolution).segmentGroup,H=this.processSegmentGroup(this.config,W,ft);if(null===H)return null;const ge=new on([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),be=new tt(ge,H),Ye=new Sn(this.url,be);return this.inheritParamsAndData(Ye._root),Ye}inheritParamsAndData(W){const H=W.value,ge=St(H,this.paramsInheritanceStrategy);H.params=Object.freeze(ge.params),H.data=Object.freeze(ge.data),W.children.forEach(be=>this.inheritParamsAndData(be))}processSegmentGroup(W,H,ge){return 0===H.segments.length&&H.hasChildren()?this.processChildren(W,H):this.processSegment(W,H,H.segments,ge)}processChildren(W,H){const ge=[];for(const Ye of Object.keys(H.children)){const Ct=H.children[Ye],Wt=Es(W,Ye),Pn=this.processSegmentGroup(Wt,Ct,Ye);if(null===Pn)return null;ge.push(...Pn)}const be=va(ge);return function Yo(Z){Z.sort((W,H)=>W.value.outlet===ft?-1:H.value.outlet===ft?1:W.value.outlet.localeCompare(H.value.outlet))}(be),be}processSegment(W,H,ge,be){for(const Ye of W){const Ct=this.processSegmentAgainstRoute(Ye,H,ge,be);if(null!==Ct)return Ct}return qe(H,ge,be)?[]:null}processSegmentAgainstRoute(W,H,ge,be){if(W.redirectTo||!pe(W,H,ge,be))return null;let Ye,Ct=[],Wt=[];if("**"===W.path){const Ji=ge.length>0?Qe(ge).parameters:{};Ye=new on(ge,Ji,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,le(W),ro(W),W.component,W,N(H),G(H)+ge.length,Fe(W))}else{const Ji=Ko(H,W,ge);if(!Ji.matched)return null;Ct=Ji.consumedSegments,Wt=Ji.remainingSegments,Ye=new on(Ct,Ji.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,le(W),ro(W),W.component,W,N(H),G(H)+Ct.length,Fe(W))}const Pn=function ao(Z){return Z.children?Z.children:Z.loadChildren?Z._loadedConfig.routes:[]}(W),{segmentGroup:Ii,slicedSegments:di}=Bo(H,Ct,Wt,Pn.filter(Ji=>void 0===Ji.redirectTo),this.relativeLinkResolution);if(0===di.length&&Ii.hasChildren()){const Ji=this.processChildren(Pn,Ii);return null===Ji?null:[new tt(Ye,Ji)]}if(0===Pn.length&&0===di.length)return[new tt(Ye,[])];const mi=ro(W)===be,Zr=this.processSegment(Pn,Ii,di,mi?ft:be);return null===Zr?null:[new tt(Ye,Zr)]}}function So(Z){const W=Z.value.routeConfig;return W&&""===W.path&&void 0===W.redirectTo}function va(Z){const W=[],H=new Set;for(const ge of Z){if(!So(ge)){W.push(ge);continue}const be=W.find(Ye=>ge.value.routeConfig===Ye.value.routeConfig);void 0!==be?(be.children.push(...ge.children),H.add(be)):W.push(ge)}for(const ge of H){const be=va(ge.children);W.push(new tt(ge.value,be))}return W.filter(ge=>!H.has(ge))}function N(Z){let W=Z;for(;W._sourceSegment;)W=W._sourceSegment;return W}function G(Z){let W=Z,H=W._segmentIndexShift?W._segmentIndexShift:0;for(;W._sourceSegment;)W=W._sourceSegment,H+=W._segmentIndexShift?W._segmentIndexShift:0;return H-1}function le(Z){return Z.data||{}}function Fe(Z){return Z.resolve||{}}function Fn(Z){return[...Object.keys(Z),...Object.getOwnPropertySymbols(Z)]}function Bi(Z){return(0,A.w)(W=>{const H=Z(W);return H?(0,Ce.D)(H).pipe((0,it.U)(()=>W)):(0,Ee.of)(W)})}class Ni extends class _r{shouldDetach(W){return!1}store(W,H){}shouldAttach(W){return!1}retrieve(W){return null}shouldReuseRoute(W,H){return W.routeConfig===H.routeConfig}}{}const ir=new v.OlP("ROUTES");class Gr{constructor(W,H,ge,be){this.injector=W,this.compiler=H,this.onLoadStartListener=ge,this.onLoadEndListener=be}load(W,H){if(H._loader$)return H._loader$;this.onLoadStartListener&&this.onLoadStartListener(H);const be=this.loadModuleFactory(H.loadChildren).pipe((0,it.U)(Ye=>{this.onLoadEndListener&&this.onLoadEndListener(H);const Ct=Ye.create(W);return new ks(rn(Ct.injector.get(ir,void 0,v.XFs.Self|v.XFs.Optional)).map(ds),Ct)}),(0,At.K)(Ye=>{throw H._loader$=void 0,Ye}));return H._loader$=new P(be,()=>new Je.x).pipe(Ue()),H._loader$}loadModuleFactory(W){return ei(W()).pipe((0,Qt.z)(H=>H instanceof v.YKP?(0,Ee.of)(H):(0,Ce.D)(this.compiler.compileModuleAsync(H))))}}class Ur{shouldProcessUrl(W){return!0}extract(W){return W}merge(W,H){return W}}function Go(Z){throw Z}function cr(Z,W,H){return W.parse("/")}function Ds(Z,W){return(0,Ee.of)(null)}const eo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yr=(()=>{class Z{constructor(H,ge,be,Ye,Ct,Wt,Pn){this.rootComponentType=H,this.urlSerializer=ge,this.rootContexts=be,this.location=Ye,this.config=Pn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Je.x,this.errorHandler=Go,this.malformedUriErrorHandler=cr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ds,afterPreactivation:Ds},this.urlHandlingStrategy=new Ur,this.routeReuseStrategy=new Ni,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ct.get(v.h0i),this.console=Ct.get(v.c2e);const mi=Ct.get(v.R0b);this.isNgZoneEnabled=mi instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(Pn),this.currentUrlTree=function ri(){return new oe(new re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gr(Ct,Wt,Zr=>this.triggerEvent(new je(Zr)),Zr=>this.triggerEvent(new Pt(Zr))),this.routerState=gi(this.currentUrlTree,this.rootComponentType),this.transitions=new ae.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var H;return null===(H=this.location.getState())||void 0===H?void 0:H.\u0275routerPageId}setupNavigations(H){const ge=this.events;return H.pipe((0,ht.h)(be=>0!==be.id),(0,it.U)(be=>Object.assign(Object.assign({},be),{extractedUrl:this.urlHandlingStrategy.extract(be.rawUrl)})),(0,A.w)(be=>{let Ye=!1,Ct=!1;return(0,Ee.of)(be).pipe((0,an.b)(Wt=>{this.currentNavigation={id:Wt.id,initialUrl:Wt.currentRawUrl,extractedUrl:Wt.extractedUrl,trigger:Wt.source,extras:Wt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,A.w)(Wt=>{const Pn=this.browserUrlTree.toString(),Ii=!this.navigated||Wt.extractedUrl.toString()!==Pn||Pn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ii)&&this.urlHandlingStrategy.shouldProcessUrl(Wt.rawUrl))return ps(Wt.source)&&(this.browserUrlTree=Wt.extractedUrl),(0,Ee.of)(Wt).pipe((0,A.w)(mi=>{const Zr=this.transitions.getValue();return ge.next(new Zt(mi.id,this.serializeUrl(mi.extractedUrl),mi.source,mi.restoredState)),Zr!==this.transitions.getValue()?gt.E:Promise.resolve(mi)}),function Lr(Z,W,H,ge){return(0,A.w)(be=>function Mi(Z,W,H,ge,be){return new br(Z,W,H,ge,be).apply()}(Z,W,H,be.extractedUrl,ge).pipe((0,it.U)(Ye=>Object.assign(Object.assign({},be),{urlAfterRedirects:Ye}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,an.b)(mi=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:mi.urlAfterRedirects})}),function lt(Z,W,H,ge,be){return(0,Qt.z)(Ye=>function Ms(Z,W,H,ge,be="emptyOnly",Ye="legacy"){try{const Ct=new ma(Z,W,H,ge,be,Ye).recognize();return null===Ct?ra(new Ks):(0,Ee.of)(Ct)}catch(Ct){return ra(Ct)}}(Z,W,Ye.urlAfterRedirects,H(Ye.urlAfterRedirects),ge,be).pipe((0,it.U)(Ct=>Object.assign(Object.assign({},Ye),{targetSnapshot:Ct}))))}(this.rootComponentType,this.config,mi=>this.serializeUrl(mi),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,an.b)(mi=>{if("eager"===this.urlUpdateStrategy){if(!mi.extras.skipLocationChange){const Ji=this.urlHandlingStrategy.merge(mi.urlAfterRedirects,mi.rawUrl);this.setBrowserUrl(Ji,mi)}this.browserUrlTree=mi.urlAfterRedirects}const Zr=new Lt(mi.id,this.serializeUrl(mi.extractedUrl),this.serializeUrl(mi.urlAfterRedirects),mi.targetSnapshot);ge.next(Zr)}));if(Ii&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Zr,extractedUrl:Ji,source:Gi,restoredState:ya,extras:_a}=Wt,hl=new Zt(Zr,this.serializeUrl(Ji),Gi,ya);ge.next(hl);const us=gi(Ji,this.rootComponentType).snapshot;return(0,Ee.of)(Object.assign(Object.assign({},Wt),{targetSnapshot:us,urlAfterRedirects:Ji,extras:Object.assign(Object.assign({},_a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Wt.rawUrl,Wt.resolve(null),gt.E}),Bi(Wt=>{const{targetSnapshot:Pn,id:Ii,extractedUrl:di,rawUrl:mi,extras:{skipLocationChange:Zr,replaceUrl:Ji}}=Wt;return this.hooks.beforePreactivation(Pn,{navigationId:Ii,appliedUrlTree:di,rawUrlTree:mi,skipLocationChange:!!Zr,replaceUrl:!!Ji})}),(0,an.b)(Wt=>{const Pn=new Bt(Wt.id,this.serializeUrl(Wt.extractedUrl),this.serializeUrl(Wt.urlAfterRedirects),Wt.targetSnapshot);this.triggerEvent(Pn)}),(0,it.U)(Wt=>Object.assign(Object.assign({},Wt),{guards:Q(Wt.targetSnapshot,Wt.currentSnapshot,this.rootContexts)})),function Yn(Z,W){return(0,Qt.z)(H=>{const{targetSnapshot:ge,currentSnapshot:be,guards:{canActivateChecks:Ye,canDeactivateChecks:Ct}}=H;return 0===Ct.length&&0===Ye.length?(0,Ee.of)(Object.assign(Object.assign({},H),{guardsResult:!0})):function Ri(Z,W,H,ge){return(0,Ce.D)(Z).pipe((0,Qt.z)(be=>function Pa(Z,W,H,ge,be){const Ye=W&&W.routeConfig?W.routeConfig.canDeactivate:null;if(!Ye||0===Ye.length)return(0,Ee.of)(!0);const Ct=Ye.map(Wt=>{const Pn=Mn(Wt,W,be);let Ii;if(function Do(Z){return Z&&Ao(Z.canDeactivate)}(Pn))Ii=ei(Pn.canDeactivate(Z,W,H,ge));else{if(!Ao(Pn))throw new Error("Invalid CanDeactivate guard");Ii=ei(Pn(Z,W,H,ge))}return Ii.pipe((0,nn.P)())});return(0,Ee.of)(Ct).pipe(ws())}(be.component,be.route,H,W,ge)),(0,nn.P)(be=>!0!==be,!0))}(Ct,ge,be,Z).pipe((0,Qt.z)(Wt=>Wt&&function js(Z){return"boolean"==typeof Z}(Wt)?function Ha(Z,W,H,ge){return(0,Ce.D)(W).pipe((0,Ut.b)(be=>(0,Le.z)(function xa(Z,W){return null!==Z&&W&&W(new rt(Z)),(0,Ee.of)(!0)}(be.route.parent,ge),function Oo(Z,W){return null!==Z&&W&&W(new En(Z)),(0,Ee.of)(!0)}(be.route,ge),function Wo(Z,W,H){const ge=W[W.length-1],Ye=W.slice(0,W.length-1).reverse().map(Ct=>function $e(Z){const W=Z.routeConfig?Z.routeConfig.canActivateChild:null;return W&&0!==W.length?{node:Z,guards:W}:null}(Ct)).filter(Ct=>null!==Ct).map(Ct=>(0,st.P)(()=>{const Wt=Ct.guards.map(Pn=>{const Ii=Mn(Pn,Ct.node,H);let di;if(function zs(Z){return Z&&Ao(Z.canActivateChild)}(Ii))di=ei(Ii.canActivateChild(ge,Z));else{if(!Ao(Ii))throw new Error("Invalid CanActivateChild guard");di=ei(Ii(ge,Z))}return di.pipe((0,nn.P)())});return(0,Ee.of)(Wt).pipe(ws())}));return(0,Ee.of)(Ye).pipe(ws())}(Z,be.path,H),function $s(Z,W,H){const ge=W.routeConfig?W.routeConfig.canActivate:null;if(!ge||0===ge.length)return(0,Ee.of)(!0);const be=ge.map(Ye=>(0,st.P)(()=>{const Ct=Mn(Ye,W,H);let Wt;if(function xo(Z){return Z&&Ao(Z.canActivate)}(Ct))Wt=ei(Ct.canActivate(W,Z));else{if(!Ao(Ct))throw new Error("Invalid CanActivate guard");Wt=ei(Ct(W,Z))}return Wt.pipe((0,nn.P)())}));return(0,Ee.of)(be).pipe(ws())}(Z,be.route,H))),(0,nn.P)(be=>!0!==be,!0))}(ge,Ye,Z,W):(0,Ee.of)(Wt)),(0,it.U)(Wt=>Object.assign(Object.assign({},H),{guardsResult:Wt})))})}(this.ngModule.injector,Wt=>this.triggerEvent(Wt)),(0,an.b)(Wt=>{if(as(Wt.guardsResult)){const Ii=te(`Redirecting to "${this.serializeUrl(Wt.guardsResult)}"`);throw Ii.url=Wt.guardsResult,Ii}const Pn=new mt(Wt.id,this.serializeUrl(Wt.extractedUrl),this.serializeUrl(Wt.urlAfterRedirects),Wt.targetSnapshot,!!Wt.guardsResult);this.triggerEvent(Pn)}),(0,ht.h)(Wt=>!!Wt.guardsResult||(this.restoreHistory(Wt),this.cancelNavigationTransition(Wt,""),!1)),Bi(Wt=>{if(Wt.guards.canActivateChecks.length)return(0,Ee.of)(Wt).pipe((0,an.b)(Pn=>{const Ii=new Vt(Pn.id,this.serializeUrl(Pn.extractedUrl),this.serializeUrl(Pn.urlAfterRedirects),Pn.targetSnapshot);this.triggerEvent(Ii)}),(0,A.w)(Pn=>{let Ii=!1;return(0,Ee.of)(Pn).pipe(function kt(Z,W){return(0,Qt.z)(H=>{const{targetSnapshot:ge,guards:{canActivateChecks:be}}=H;if(!be.length)return(0,Ee.of)(H);let Ye=0;return(0,Ce.D)(be).pipe((0,Ut.b)(Ct=>function jt(Z,W,H,ge){return function pn(Z,W,H,ge){const be=Fn(Z);if(0===be.length)return(0,Ee.of)({});const Ye={};return(0,Ce.D)(be).pipe((0,Qt.z)(Ct=>function Ti(Z,W,H,ge){const be=Mn(Z,W,ge);return ei(be.resolve?be.resolve(W,H):be(W,H))}(Z[Ct],W,H,ge).pipe((0,an.b)(Wt=>{Ye[Ct]=Wt}))),Xe(1),(0,Qt.z)(()=>Fn(Ye).length===be.length?(0,Ee.of)(Ye):gt.E))}(Z._resolve,Z,W,ge).pipe((0,it.U)(Ye=>(Z._resolvedData=Ye,Z.data=Object.assign(Object.assign({},Z.data),St(Z,H).resolve),null)))}(Ct.route,ge,Z,W)),(0,an.b)(()=>Ye++),Xe(1),(0,Qt.z)(Ct=>Ye===be.length?(0,Ee.of)(H):gt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,an.b)({next:()=>Ii=!0,complete:()=>{Ii||(this.restoreHistory(Pn),this.cancelNavigationTransition(Pn,"At least one route resolver didn't emit any value."))}}))}),(0,an.b)(Pn=>{const Ii=new ot(Pn.id,this.serializeUrl(Pn.extractedUrl),this.serializeUrl(Pn.urlAfterRedirects),Pn.targetSnapshot);this.triggerEvent(Ii)}))}),Bi(Wt=>{const{targetSnapshot:Pn,id:Ii,extractedUrl:di,rawUrl:mi,extras:{skipLocationChange:Zr,replaceUrl:Ji}}=Wt;return this.hooks.afterPreactivation(Pn,{navigationId:Ii,appliedUrlTree:di,rawUrlTree:mi,skipLocationChange:!!Zr,replaceUrl:!!Ji})}),(0,it.U)(Wt=>{const Pn=function Hr(Z,W,H){const ge=nr(Z,W._root,H?H._root:void 0);return new hi(ge,W)}(this.routeReuseStrategy,Wt.targetSnapshot,Wt.currentRouterState);return Object.assign(Object.assign({},Wt),{targetRouterState:Pn})}),(0,an.b)(Wt=>{this.currentUrlTree=Wt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Wt.urlAfterRedirects,Wt.rawUrl),this.routerState=Wt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Wt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Wt),this.browserUrlTree=Wt.urlAfterRedirects)}),((Z,W,H)=>(0,it.U)(ge=>(new Mo(W,ge.targetRouterState,ge.currentRouterState,H).activate(Z),ge)))(this.rootContexts,this.routeReuseStrategy,Wt=>this.triggerEvent(Wt)),(0,an.b)({next(){Ye=!0},complete(){Ye=!0}}),(0,Bn.x)(()=>{var Wt;Ye||Ct||this.cancelNavigationTransition(be,`Navigation ID ${be.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Wt=this.currentNavigation)||void 0===Wt?void 0:Wt.id)===be.id&&(this.currentNavigation=null)}),(0,At.K)(Wt=>{if(Ct=!0,function ne(Z){return Z&&Z[D]}(Wt)){const Pn=as(Wt.url);Pn||(this.navigated=!0,this.restoreHistory(be,!0));const Ii=new Kt(be.id,this.serializeUrl(be.extractedUrl),Wt.message);ge.next(Ii),Pn?setTimeout(()=>{const di=this.urlHandlingStrategy.merge(Wt.url,this.rawUrlTree),mi={skipLocationChange:be.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ps(be.source)};this.scheduleNavigation(di,"imperative",null,mi,{resolve:be.resolve,reject:be.reject,promise:be.promise})},0):be.resolve(!1)}else{this.restoreHistory(be,!0);const Pn=new gn(be.id,this.serializeUrl(be.extractedUrl),Wt);ge.next(Pn);try{be.resolve(this.errorHandler(Wt))}catch(Ii){be.reject(Ii)}}return gt.E}))}))}resetRootComponentType(H){this.rootComponentType=H,this.routerState.root.component=this.rootComponentType}setTransition(H){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),H))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(H=>{const ge="popstate"===H.type?"popstate":"hashchange";"popstate"===ge&&setTimeout(()=>{var be;const Ye={replaceUrl:!0},Ct=(null===(be=H.state)||void 0===be?void 0:be.navigationId)?H.state:null;if(Ct){const Pn=Object.assign({},Ct);delete Pn.navigationId,delete Pn.\u0275routerPageId,0!==Object.keys(Pn).length&&(Ye.state=Pn)}const Wt=this.parseUrl(H.url);this.scheduleNavigation(Wt,ge,Ct,Ye)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(H){this.events.next(H)}resetConfig(H){Bs(H),this.config=H.map(ds),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(H,ge={}){const{relativeTo:be,queryParams:Ye,fragment:Ct,queryParamsHandling:Wt,preserveFragment:Pn}=ge,Ii=be||this.routerState.root,di=Pn?this.currentUrlTree.fragment:Ct;let mi=null;switch(Wt){case"merge":mi=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Ye);break;case"preserve":mi=this.currentUrlTree.queryParams;break;default:mi=Ye||null}return null!==mi&&(mi=this.removeEmptyProps(mi)),function Eo(Z,W,H,ge,be){if(0===H.length)return Is(W.root,W.root,W.root,ge,be);const Ye=function zr(Z){if("string"==typeof Z[0]&&1===Z.length&&"/"===Z[0])return new Cs(!0,0,Z);let W=0,H=!1;const ge=Z.reduce((be,Ye,Ct)=>{if("object"==typeof Ye&&null!=Ye){if(Ye.outlets){const Wt={};return xn(Ye.outlets,(Pn,Ii)=>{Wt[Ii]="string"==typeof Pn?Pn.split("/"):Pn}),[...be,{outlets:Wt}]}if(Ye.segmentPath)return[...be,Ye.segmentPath]}return"string"!=typeof Ye?[...be,Ye]:0===Ct?(Ye.split("/").forEach((Wt,Pn)=>{0==Pn&&"."===Wt||(0==Pn&&""===Wt?H=!0:".."===Wt?W++:""!=Wt&&be.push(Wt))}),be):[...be,Ye]},[]);return new Cs(H,W,ge)}(H);if(Ye.toRoot())return Is(W.root,W.root,new re([],{}),ge,be);const Ct=function Ws(Z,W,H){if(Z.isAbsolute)return new ia(W.root,!0,0);if(-1===H.snapshot._lastPathIndex){const Ye=H.snapshot._urlSegment;return new ia(Ye,Ye===W.root,0)}const ge=Xo(Z.commands[0])?0:1;return function tn(Z,W,H){let ge=Z,be=W,Ye=H;for(;Ye>be;){if(Ye-=be,ge=ge.parent,!ge)throw new Error("Invalid number of '../'");be=ge.segments.length}return new ia(ge,!1,be-Ye)}(H.snapshot._urlSegment,H.snapshot._lastPathIndex+ge,Z.numberOfDoubleDots)}(Ye,W,Z),Wt=Ct.processChildren?Wn(Ct.segmentGroup,Ct.index,Ye.commands):yn(Ct.segmentGroup,Ct.index,Ye.commands);return Is(W.root,Ct.segmentGroup,Wt,ge,be)}(Ii,this.currentUrlTree,H,mi,null!=di?di:null)}navigateByUrl(H,ge={skipLocationChange:!1}){const be=as(H)?H:this.parseUrl(H),Ye=this.urlHandlingStrategy.merge(be,this.rawUrlTree);return this.scheduleNavigation(Ye,"imperative",null,ge)}navigate(H,ge={skipLocationChange:!1}){return function hs(Z){for(let W=0;W<Z.length;W++){const H=Z[W];if(null==H)throw new Error(`The requested path contains ${H} segment at index ${W}`)}}(H),this.navigateByUrl(this.createUrlTree(H,ge),ge)}serializeUrl(H){return this.urlSerializer.serialize(H)}parseUrl(H){let ge;try{ge=this.urlSerializer.parse(H)}catch(be){ge=this.malformedUriErrorHandler(be,this.urlSerializer,H)}return ge}isActive(H,ge){let be;if(be=!0===ge?Object.assign({},eo):!1===ge?Object.assign({},Vo):ge,as(H))return mn(this.currentUrlTree,H,be);const Ye=this.parseUrl(H);return mn(this.currentUrlTree,Ye,be)}removeEmptyProps(H){return Object.keys(H).reduce((ge,be)=>{const Ye=H[be];return null!=Ye&&(ge[be]=Ye),ge},{})}processNavigations(){this.navigations.subscribe(H=>{this.navigated=!0,this.lastSuccessfulId=H.id,this.currentPageId=H.targetPageId,this.events.next(new hn(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,H.resolve(!0)},H=>{this.console.warn(`Unhandled Navigation Error: ${H}`)})}scheduleNavigation(H,ge,be,Ye,Ct){var Wt,Pn;if(this.disposed)return Promise.resolve(!1);let Ii,di,mi;Ct?(Ii=Ct.resolve,di=Ct.reject,mi=Ct.promise):mi=new Promise((Gi,ya)=>{Ii=Gi,di=ya});const Zr=++this.navigationId;let Ji;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(be=this.location.getState()),Ji=be&&be.\u0275routerPageId?be.\u0275routerPageId:Ye.replaceUrl||Ye.skipLocationChange?null!==(Wt=this.browserPageId)&&void 0!==Wt?Wt:0:(null!==(Pn=this.browserPageId)&&void 0!==Pn?Pn:0)+1):Ji=0,this.setTransition({id:Zr,targetPageId:Ji,source:ge,restoredState:be,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:H,extras:Ye,resolve:Ii,reject:di,promise:mi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mi.catch(Gi=>Promise.reject(Gi))}setBrowserUrl(H,ge){const be=this.urlSerializer.serialize(H),Ye=Object.assign(Object.assign({},ge.extras.state),this.generateNgRouterState(ge.id,ge.targetPageId));this.location.isCurrentPathEqualTo(be)||ge.extras.replaceUrl?this.location.replaceState(be,"",Ye):this.location.go(be,"",Ye)}restoreHistory(H,ge=!1){var be,Ye;if("computed"===this.canceledNavigationResolution){const Ct=this.currentPageId-H.targetPageId;"popstate"!==H.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(be=this.currentNavigation)||void 0===be?void 0:be.finalUrl)||0===Ct?this.currentUrlTree===(null===(Ye=this.currentNavigation)||void 0===Ye?void 0:Ye.finalUrl)&&0===Ct&&(this.resetState(H),this.browserUrlTree=H.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ct)}else"replace"===this.canceledNavigationResolution&&(ge&&this.resetState(H),this.resetUrlToCurrentUrlTree())}resetState(H){this.routerState=H.currentRouterState,this.currentUrlTree=H.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,H.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(H,ge){const be=new Kt(H.id,this.serializeUrl(H.extractedUrl),ge);this.triggerEvent(be),H.resolve(!1)}generateNgRouterState(H,ge){return"computed"===this.canceledNavigationResolution?{navigationId:H,\u0275routerPageId:ge}:{navigationId:H}}}return Z.\u0275fac=function(H){v.$Z()},Z.\u0275prov=v.Yz7({token:Z,factory:Z.\u0275fac}),Z})();function ps(Z){return"imperative"!==Z}let oa=(()=>{class Z{constructor(H,ge,be,Ye,Ct){this.router=H,this.route=ge,this.tabIndexAttribute=be,this.renderer=Ye,this.el=Ct,this.commands=null,this.onChanges=new Je.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(H){if(null!=this.tabIndexAttribute)return;const ge=this.renderer,be=this.el.nativeElement;null!==H?ge.setAttribute(be,"tabindex",H):ge.removeAttribute(be,"tabindex")}ngOnChanges(H){this.onChanges.next(this)}set routerLink(H){null!=H?(this.commands=Array.isArray(H)?H:[H],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const H={skipLocationChange:Co(this.skipLocationChange),replaceUrl:Co(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,H),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Co(this.preserveFragment)})}}return Z.\u0275fac=function(H){return new(H||Z)(v.Y36(Yr),v.Y36(Xr),v.$8M("tabindex"),v.Y36(v.Qsj),v.Y36(v.SBq))},Z.\u0275dir=v.lG2({type:Z,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(H,ge){1&H&&v.NdJ("click",function(){return ge.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[v.TTD]}),Z})(),Gs=(()=>{class Z{constructor(H,ge,be){this.router=H,this.route=ge,this.locationStrategy=be,this.commands=null,this.href=null,this.onChanges=new Je.x,this.subscription=H.events.subscribe(Ye=>{Ye instanceof hn&&this.updateTargetUrlAndHref()})}set routerLink(H){this.commands=null!=H?Array.isArray(H)?H:[H]:null}ngOnChanges(H){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(H,ge,be,Ye,Ct){if(0!==H||ge||be||Ye||Ct||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Wt={skipLocationChange:Co(this.skipLocationChange),replaceUrl:Co(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Wt),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Co(this.preserveFragment)})}}return Z.\u0275fac=function(H){return new(H||Z)(v.Y36(Yr),v.Y36(Xr),v.Y36(Mt.S$))},Z.\u0275dir=v.lG2({type:Z,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(H,ge){1&H&&v.NdJ("click",function(Ye){return ge.onClick(Ye.button,Ye.ctrlKey,Ye.shiftKey,Ye.altKey,Ye.metaKey)}),2&H&&v.uIk("target",ge.target)("href",ge.href,v.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[v.TTD]}),Z})();function Co(Z){return""===Z||!!Z}let xs=(()=>{class Z{constructor(H,ge,be,Ye,Ct,Wt){this.router=H,this.element=ge,this.renderer=be,this.cdr=Ye,this.link=Ct,this.linkWithHref=Wt,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new v.vpe,this.routerEventsSubscription=H.events.subscribe(Pn=>{Pn instanceof hn&&this.update()})}ngAfterContentInit(){(0,Ee.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ee.of)(null)).pipe((0,ie.J)()).subscribe(H=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var H;null===(H=this.linkInputChangesSubscription)||void 0===H||H.unsubscribe();const ge=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(be=>!!be).map(be=>be.onChanges);this.linkInputChangesSubscription=(0,Ce.D)(ge).pipe((0,ie.J)()).subscribe(be=>{this.isActive!==this.isLinkActive(this.router)(be)&&this.update()})}set routerLinkActive(H){const ge=Array.isArray(H)?H:H.split(" ");this.classes=ge.filter(be=>!!be)}ngOnChanges(H){this.update()}ngOnDestroy(){var H;this.routerEventsSubscription.unsubscribe(),null===(H=this.linkInputChangesSubscription)||void 0===H||H.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const H=this.hasActiveLinks();this.isActive!==H&&(this.isActive=H,this.cdr.markForCheck(),this.classes.forEach(ge=>{H?this.renderer.addClass(this.element.nativeElement,ge):this.renderer.removeClass(this.element.nativeElement,ge)}),this.isActiveChange.emit(H))})}isLinkActive(H){const ge=function Fo(Z){return!!Z.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return be=>!!be.urlTree&&H.isActive(be.urlTree,ge)}hasActiveLinks(){const H=this.isLinkActive(this.router);return this.link&&H(this.link)||this.linkWithHref&&H(this.linkWithHref)||this.links.some(H)||this.linksWithHrefs.some(H)}}return Z.\u0275fac=function(H){return new(H||Z)(v.Y36(Yr),v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(v.sBO),v.Y36(oa,8),v.Y36(Gs,8))},Z.\u0275dir=v.lG2({type:Z,selectors:[["","routerLinkActive",""]],contentQueries:function(H,ge,be){if(1&H&&(v.Suo(be,oa,5),v.Suo(be,Gs,5)),2&H){let Ye;v.iGM(Ye=v.CRH())&&(ge.links=Ye),v.iGM(Ye=v.CRH())&&(ge.linksWithHrefs=Ye)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[v.TTD]}),Z})();class fi{}class Qi{preload(W,H){return(0,Ee.of)(null)}}let pr=(()=>{class Z{constructor(H,ge,be,Ye){this.router=H,this.injector=be,this.preloadingStrategy=Ye,this.loader=new Gr(be,ge,Pn=>H.triggerEvent(new je(Pn)),Pn=>H.triggerEvent(new Pt(Pn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ht.h)(H=>H instanceof hn),(0,Ut.b)(()=>this.preload())).subscribe(()=>{})}preload(){const H=this.injector.get(v.h0i);return this.processRoutes(H,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(H,ge){const be=[];for(const Ye of ge)if(Ye.loadChildren&&!Ye.canLoad&&Ye._loadedConfig){const Ct=Ye._loadedConfig;be.push(this.processRoutes(Ct.module,Ct.routes))}else Ye.loadChildren&&!Ye.canLoad?be.push(this.preloadConfig(H,Ye)):Ye.children&&be.push(this.processRoutes(H,Ye.children));return(0,Ce.D)(be).pipe((0,ie.J)(),(0,it.U)(Ye=>{}))}preloadConfig(H,ge){return this.preloadingStrategy.preload(ge,()=>(ge._loadedConfig?(0,Ee.of)(ge._loadedConfig):this.loader.load(H.injector,ge)).pipe((0,Qt.z)(Ye=>(ge._loadedConfig=Ye,this.processRoutes(Ye.module,Ye.routes)))))}}return Z.\u0275fac=function(H){return new(H||Z)(v.LFG(Yr),v.LFG(v.Sil),v.LFG(v.zs3),v.LFG(fi))},Z.\u0275prov=v.Yz7({token:Z,factory:Z.\u0275fac}),Z})(),po=(()=>{class Z{constructor(H,ge,be={}){this.router=H,this.viewportScroller=ge,this.options=be,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},be.scrollPositionRestoration=be.scrollPositionRestoration||"disabled",be.anchorScrolling=be.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(H=>{H instanceof Zt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=H.navigationTrigger,this.restoredId=H.restoredState?H.restoredState.navigationId:0):H instanceof hn&&(this.lastId=H.id,this.scheduleScrollEvent(H,this.router.parseUrl(H.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(H=>{H instanceof Dn&&(H.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(H.position):H.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(H.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(H,ge){this.router.triggerEvent(new Dn(H,"popstate"===this.lastSource?this.store[this.restoredId]:null,ge))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return Z.\u0275fac=function(H){v.$Z()},Z.\u0275prov=v.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const Er=new v.OlP("ROUTER_CONFIGURATION"),wo=new v.OlP("ROUTER_FORROOT_GUARD"),Wr=[Mt.Ye,{provide:Et,useClass:An},{provide:Yr,useFactory:function xi(Z,W,H,ge,be,Ye,Ct={},Wt,Pn){const Ii=new Yr(null,Z,W,H,ge,be,rn(Ye));return Wt&&(Ii.urlHandlingStrategy=Wt),Pn&&(Ii.routeReuseStrategy=Pn),function Xi(Z,W){Z.errorHandler&&(W.errorHandler=Z.errorHandler),Z.malformedUriErrorHandler&&(W.malformedUriErrorHandler=Z.malformedUriErrorHandler),Z.onSameUrlNavigation&&(W.onSameUrlNavigation=Z.onSameUrlNavigation),Z.paramsInheritanceStrategy&&(W.paramsInheritanceStrategy=Z.paramsInheritanceStrategy),Z.relativeLinkResolution&&(W.relativeLinkResolution=Z.relativeLinkResolution),Z.urlUpdateStrategy&&(W.urlUpdateStrategy=Z.urlUpdateStrategy),Z.canceledNavigationResolution&&(W.canceledNavigationResolution=Z.canceledNavigationResolution)}(Ct,Ii),Ct.enableTracing&&Ii.events.subscribe(di=>{var mi,Zr;null===(mi=console.group)||void 0===mi||mi.call(console,`Router Event: ${di.constructor.name}`),console.log(di.toString()),console.log(di),null===(Zr=console.groupEnd)||void 0===Zr||Zr.call(console)}),Ii},deps:[Et,Po,Mt.Ye,v.zs3,v.Sil,ir,Er,[class yr{},new v.FiY],[class Ki{},new v.FiY]]},Po,{provide:Xr,useFactory:function Wa(Z){return Z.routerState.root},deps:[Yr]},pr,Qi,class Vi{preload(W,H){return H().pipe((0,At.K)(()=>(0,Ee.of)(null)))}},{provide:Er,useValue:{enableTracing:!1}}];function Ua(){return new v.PXZ("Router",Yr)}let wl=(()=>{class Z{constructor(H,ge){}static forRoot(H,ge){return{ngModule:Z,providers:[Wr,Ho(H),{provide:wo,useFactory:fs,deps:[[Yr,new v.FiY,new v.tp0]]},{provide:Er,useValue:ge||{}},{provide:Mt.S$,useFactory:Tr,deps:[Mt.lw,[new v.tBr(Mt.mr),new v.FiY],Er]},{provide:po,useFactory:Jn,deps:[Yr,Mt.EM,Er]},{provide:fi,useExisting:ge&&ge.preloadingStrategy?ge.preloadingStrategy:Qi},{provide:v.PXZ,multi:!0,useFactory:Ua},[bi,{provide:v.ip1,multi:!0,useFactory:vn,deps:[bi]},{provide:fo,useFactory:ti,deps:[bi]},{provide:v.tb,multi:!0,useExisting:fo}]]}}static forChild(H){return{ngModule:Z,providers:[Ho(H)]}}}return Z.\u0275fac=function(H){return new(H||Z)(v.LFG(wo,8),v.LFG(Yr,8))},Z.\u0275mod=v.oAB({type:Z}),Z.\u0275inj=v.cJS({}),Z})();function Jn(Z,W,H){return H.scrollOffset&&W.setOffset(H.scrollOffset),new po(Z,W,H)}function Tr(Z,W,H={}){return H.useHash?new Mt.Do(Z,W):new Mt.b0(Z,W)}function fs(Z){return"guarded"}function Ho(Z){return[{provide:v.deG,multi:!0,useValue:Z},{provide:ir,multi:!0,useValue:Z}]}let bi=(()=>{class Z{constructor(H){this.injector=H,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Je.x}appInitializer(){return this.injector.get(Mt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let ge=null;const be=new Promise(Wt=>ge=Wt),Ye=this.injector.get(Yr),Ct=this.injector.get(Er);return"disabled"===Ct.initialNavigation?(Ye.setUpLocationChangeListener(),ge(!0)):"enabled"===Ct.initialNavigation||"enabledBlocking"===Ct.initialNavigation?(Ye.hooks.afterPreactivation=()=>this.initNavigation?(0,Ee.of)(null):(this.initNavigation=!0,ge(!0),this.resultOfPreactivationDone),Ye.initialNavigation()):ge(!0),be})}bootstrapListener(H){const ge=this.injector.get(Er),be=this.injector.get(pr),Ye=this.injector.get(po),Ct=this.injector.get(Yr),Wt=this.injector.get(v.z2F);H===Wt.components[0]&&(("enabledNonBlocking"===ge.initialNavigation||void 0===ge.initialNavigation)&&Ct.initialNavigation(),be.setUpPreloading(),Ye.init(),Ct.resetRootComponentType(Wt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return Z.\u0275fac=function(H){return new(H||Z)(v.LFG(v.zs3))},Z.\u0275prov=v.Yz7({token:Z,factory:Z.\u0275fac}),Z})();function vn(Z){return Z.appInitializer.bind(Z)}function ti(Z){return Z.bootstrapListener.bind(Z)}const fo=new v.OlP("Router Initializer")},3942:(Ot,B,R)=>{R.d(B,{Z:()=>st});var v=R(2090),V=R(4859),I=R(9681),q=R(1877);class g{constructor(Je,ht){this._delegate=Je,this.firebase=ht,(0,I._addComponent)(Je,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,I.deleteApp)(this._delegate)))}_getService(Je,ht=I._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const Nt=this._delegate.container.getProvider(Je);return!Nt.isInitialized()&&"EXPLICIT"===(null===(Xe=Nt.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&Nt.initialize(),Nt.getImmediate({identifier:ht})}_removeServiceInstance(Je,ht=I._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(ht)}_addComponent(Je){(0,I._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,I._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const P=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Ee(){const gt=function Ce(gt){const Je={},ht={__esModule:!0,initializeApp:function at(A,et={}){const en=I.initializeApp(A,et);if((0,v.r3)(Je,en.name))return Je[en.name];const Be=new gt(en,ht);return Je[en.name]=Be,Be},app:Nt,registerVersion:I.registerVersion,setLogLevel:I.setLogLevel,onLog:I.onLog,apps:null,SDK_VERSION:I.SDK_VERSION,INTERNAL:{registerComponent:function Ke(A){const et=A.name,en=et.replace("-compat","");if(I._registerComponent(A)&&"PUBLIC"===A.type){const Be=(At=Nt())=>{if("function"!=typeof At[en])throw P.create("invalid-app-argument",{appName:et});return At[en]()};void 0!==A.serviceProps&&(0,v.ZB)(Be,A.serviceProps),ht[en]=Be,gt.prototype[en]=function(...At){return this._getService.bind(this,et).apply(this,A.multipleInstances?At:[])}}return"PUBLIC"===A.type?ht[en]:null},removeApp:function Xe(A){delete Je[A]},useAsService:function it(A,et){return"serverAuth"===et?null:et},modularAPIs:I}};function Nt(A){if(!(0,v.r3)(Je,A=A||I._DEFAULT_ENTRY_NAME))throw P.create("no-app",{appName:A});return Je[A]}return ht.default=ht,Object.defineProperty(ht,"apps",{get:function ke(){return Object.keys(Je).map(A=>Je[A])}}),Nt.App=gt,ht}(g);return gt.INTERNAL=Object.assign(Object.assign({},gt.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Je(ht){(0,v.ZB)(gt,ht)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),gt}(),Me=new q.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){Me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const gt=self.firebase.SDK_VERSION;gt&&gt.indexOf("LITE")>=0&&Me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const st=ae;!function Le(gt){(0,I.registerVersion)("@firebase/app-compat","0.1.23",gt)}()},9681:(Ot,B,R)=>{R.r(B),R.d(B,{FirebaseError:()=>q.ZR,SDK_VERSION:()=>Pt,_DEFAULT_ENTRY_NAME:()=>ie,_addComponent:()=>hn,_addOrOverwriteComponent:()=>Kt,_apps:()=>ut,_clearComponents:()=>mt,_components:()=>Zt,_getProvider:()=>Lt,_registerComponent:()=>gn,_removeServiceInstance:()=>Bt,deleteApp:()=>Xn,getApp:()=>bt,getApps:()=>En,initializeApp:()=>rt,onLog:()=>Rn,registerVersion:()=>ft,setLogLevel:()=>Ae});var v=R(5861),V=R(4859),I=R(1877),q=R(2090);class g{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(O=>{if(function Ue(Dt){const $=Dt.getComponent();return"VERSION"===(null==$?void 0:$.type)}(O)){const x=O.getImmediate();return`${x.library}/${x.version}`}return null}).filter(O=>O).join(" ")}}const P="@firebase/app",Ee=new I.Yd("@firebase/app"),ie="[DEFAULT]",Mt={[P]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ut=new Map,Zt=new Map;function hn(Dt,$){try{Dt.container.addComponent($)}catch(O){Ee.debug(`Component ${$.name} failed to register with FirebaseApp ${Dt.name}`,O)}}function Kt(Dt,$){Dt.container.addOrOverwriteComponent($)}function gn(Dt){const $=Dt.name;if(Zt.has($))return Ee.debug(`There were multiple attempts to register component ${$}.`),!1;Zt.set($,Dt);for(const O of ut.values())hn(O,Dt);return!0}function Lt(Dt,$){const O=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return O&&O.triggerHeartbeat(),Dt.container.getProvider($)}function Bt(Dt,$,O=ie){Lt(Dt,$).clearInstance(O)}function mt(){Zt.clear()}const ot=new q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class je{constructor($,O,x){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},O),this._name=O.name,this._automaticDataCollectionEnabled=O.automaticDataCollectionEnabled,this._container=x,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw ot.create("app-deleted",{appName:this._name})}}const Pt="9.7.0";function rt(Dt,$={}){"object"!=typeof $&&($={name:$});const O=Object.assign({name:ie,automaticDataCollectionEnabled:!1},$),x=O.name;if("string"!=typeof x||!x)throw ot.create("bad-app-name",{appName:String(x)});const oe=ut.get(x);if(oe){if((0,q.vZ)(Dt,oe.options)&&(0,q.vZ)(O,oe.config))return oe;throw ot.create("duplicate-app",{appName:x})}const re=new V.H0(x);for(const Se of Zt.values())re.addComponent(Se);const de=new je(Dt,O,re);return ut.set(x,de),de}function bt(Dt=ie){const $=ut.get(Dt);if(!$)throw ot.create("no-app",{appName:Dt});return $}function En(){return Array.from(ut.values())}function Xn(Dt){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,v.Z)(function*(Dt){const $=Dt.name;ut.has($)&&(ut.delete($),yield Promise.all(Dt.container.getProviders().map(O=>O.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function ft(Dt,$,O){var x;let oe=null!==(x=Mt[Dt])&&void 0!==x?x:Dt;O&&(oe+=`-${O}`);const re=oe.match(/\s|\//),de=$.match(/\s|\//);if(re||de){const Se=[`Unable to register library "${oe}" with version "${$}":`];return re&&Se.push(`library name "${oe}" contains illegal characters (whitespace or "/")`),re&&de&&Se.push("and"),de&&Se.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void Ee.warn(Se.join(" "))}gn(new V.wA(`${oe}-version`,()=>({library:oe,version:$}),"VERSION"))}function Rn(Dt,$){if(null!==Dt&&"function"!=typeof Dt)throw ot.create("invalid-log-argument");(0,I.Am)(Dt,$)}function Ae(Dt){(0,I.Ub)(Dt)}const ne="firebase-heartbeat-store";let me=null;function xe(){return me||(me=(0,q.X3)("firebase-heartbeat-database",1,(Dt,$)=>{0===$&&Dt.createObjectStore(ne)}).catch(Dt=>{throw ot.create("storage-open",{originalErrorMessage:Dt.message})})),me}function Ft(){return(Ft=(0,v.Z)(function*(Dt){try{return(yield xe()).transaction(ne).objectStore(ne).get(Cn(Dt))}catch($){throw ot.create("storage-get",{originalErrorMessage:$.message})}})).apply(this,arguments)}function rn(Dt,$){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,v.Z)(function*(Dt,$){try{const x=(yield xe()).transaction(ne,"readwrite");return yield x.objectStore(ne).put($,Cn(Dt)),x.complete}catch(O){throw ot.create("storage-set",{originalErrorMessage:O.message})}})).apply(this,arguments)}function Cn(Dt){return`${Dt.name}!${Dt.options.appId}`}class ri{constructor($){this.container=$,this._heartbeatsCache=null;const O=this.container.getProvider("app").getImmediate();this._storage=new mn(O),this._heartbeatsCachePromise=this._storage.read().then(x=>(this._heartbeatsCache=x,x))}triggerHeartbeat(){var $=this;return(0,v.Z)(function*(){const x=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),oe=Oi();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==oe&&!$._heartbeatsCache.heartbeats.some(re=>re.date===oe))return $._heartbeatsCache.heartbeats.push({date:oe,agent:x}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(re=>{const de=new Date(re.date).valueOf();return Date.now()-de<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,v.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const O=Oi(),{heartbeatsToSend:x,unsentEntries:oe}=function Si(Dt,$=1024){const O=[];let x=Dt.slice();for(const oe of Dt){const re=O.find(de=>de.agent===oe.agent);if(re){if(re.dates.push(oe.date),_i(O)>$){re.dates.pop();break}}else if(O.push({agent:oe.agent,dates:[oe.date]}),_i(O)>$){O.pop();break}x=x.slice(1)}return{heartbeatsToSend:O,unsentEntries:x}}($._heartbeatsCache.heartbeats),re=(0,q.L)(JSON.stringify({version:2,heartbeats:x}));return $._heartbeatsCache.lastSentHeartbeatDate=O,oe.length>0?($._heartbeatsCache.heartbeats=oe,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),re})()}}function Oi(){return(new Date).toISOString().substring(0,10)}class mn{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,q.hl)()&&(0,q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,v.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function pt(Dt){return Ft.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var O=this;return(0,v.Z)(function*(){var x;if(yield O._canUseIndexedDBPromise){const re=yield O.read();return rn(O.app,{lastSentHeartbeatDate:null!==(x=$.lastSentHeartbeatDate)&&void 0!==x?x:re.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var O=this;return(0,v.Z)(function*(){var x;if(yield O._canUseIndexedDBPromise){const re=yield O.read();return rn(O.app,{lastSentHeartbeatDate:null!==(x=$.lastSentHeartbeatDate)&&void 0!==x?x:re.lastSentHeartbeatDate,heartbeats:[...re.heartbeats,...$.heartbeats]})}})()}}function _i(Dt){return(0,q.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function ci(Dt){gn(new V.wA("platform-logger",$=>new g($),"PRIVATE")),gn(new V.wA("heartbeat",$=>new ri($),"PRIVATE")),ft(P,"0.7.22",Dt),ft(P,"0.7.22","esm2017"),ft("fire-js","")}("")},4859:(Ot,B,R)=>{R.d(B,{H0:()=>Ce,wA:()=>I});var v=R(5861),V=R(2090);class I{constructor(ae,Me,we){this.name=ae,this.instanceFactory=Me,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const q="[DEFAULT]";class g{constructor(ae,Me){this.name=ae,this.container=Me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const Me=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(Me)){const we=new V.BH;if(this.instancesDeferred.set(Me,we),this.isInitialized(Me)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:Me});Oe&&we.resolve(Oe)}catch(Oe){}}return this.instancesDeferred.get(Me).promise}getImmediate(ae){var Me;const we=this.normalizeInstanceIdentifier(null==ae?void 0:ae.identifier),Oe=null!==(Me=null==ae?void 0:ae.optional)&&void 0!==Me&&Me;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(Le){if(Oe)return null;throw Le}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function P(Ee){return"EAGER"===Ee.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:q})}catch(Me){}for(const[Me,we]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(Me);try{const Le=this.getOrInitializeService({instanceIdentifier:Oe});we.resolve(Le)}catch(Le){}}}}clearInstance(ae=q){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,v.Z)(function*(){const Me=Array.from(ae.instances.values());yield Promise.all([...Me.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...Me.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=q){return this.instances.has(ae)}getOptions(ae=q){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:Me={}}=ae,we=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:we,options:Me});for(const[Le,st]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(Le)&&st.resolve(Oe);return Oe}onInit(ae,Me){var we;const Oe=this.normalizeInstanceIdentifier(Me),Le=null!==(we=this.onInitCallbacks.get(Oe))&&void 0!==we?we:new Set;Le.add(ae),this.onInitCallbacks.set(Oe,Le);const st=this.instances.get(Oe);return st&&ae(st,Oe),()=>{Le.delete(ae)}}invokeOnInitCallbacks(ae,Me){const we=this.onInitCallbacks.get(Me);if(we)for(const Oe of we)try{Oe(ae,Me)}catch(Le){}}getOrInitializeService({instanceIdentifier:ae,options:Me={}}){let we=this.instances.get(ae);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=ae,Ee===q?void 0:Ee),options:Me}),this.instances.set(ae,we),this.instancesOptions.set(ae,Me),this.invokeOnInitCallbacks(we,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,we)}catch(Oe){}var Ee;return we||null}normalizeInstanceIdentifier(ae=q){return this.component?this.component.multipleInstances?ae:q:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const Me=this.getProvider(ae.name);if(Me.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);Me.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const Me=new g(ae,this);return this.providers.set(ae,Me),Me}getProviders(){return Array.from(this.providers.values())}}},1877:(Ot,B,R)=>{R.d(B,{Am:()=>Ee,Ub:()=>Ce,Yd:()=>P,in:()=>V});const v=[];var V=(()=>{return(ae=V||(V={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",V;var ae})();const I={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},q=V.INFO,g={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},Ue=(ae,Me,...we)=>{if(Me<ae.logLevel)return;const Oe=(new Date).toISOString(),Le=g[Me];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${Me})`);console[Le](`[${Oe}]  ${ae.name}:`,...we)};class P{constructor(Me){this.name=Me,this._logLevel=q,this._logHandler=Ue,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(Me){if(!(Me in V))throw new TypeError(`Invalid value "${Me}" assigned to \`logLevel\``);this._logLevel=Me}setLogLevel(Me){this._logLevel="string"==typeof Me?I[Me]:Me}get logHandler(){return this._logHandler}set logHandler(Me){if("function"!=typeof Me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Me}get userLogHandler(){return this._userLogHandler}set userLogHandler(Me){this._userLogHandler=Me}debug(...Me){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...Me),this._logHandler(this,V.DEBUG,...Me)}log(...Me){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...Me),this._logHandler(this,V.VERBOSE,...Me)}info(...Me){this._userLogHandler&&this._userLogHandler(this,V.INFO,...Me),this._logHandler(this,V.INFO,...Me)}warn(...Me){this._userLogHandler&&this._userLogHandler(this,V.WARN,...Me),this._logHandler(this,V.WARN,...Me)}error(...Me){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...Me),this._logHandler(this,V.ERROR,...Me)}}function Ce(ae){v.forEach(Me=>{Me.setLogLevel(ae)})}function Ee(ae,Me){for(const we of v){let Oe=null;Me&&Me.level&&(Oe=I[Me.level]),we.userLogHandler=null===ae?null:(Le,st,...gt)=>{const Je=gt.map(ht=>{if(null==ht)return null;if("string"==typeof ht)return ht;if("number"==typeof ht||"boolean"==typeof ht)return ht.toString();if(ht instanceof Error)return ht.message;try{return JSON.stringify(ht)}catch(Xe){return null}}).filter(ht=>ht).join(" ");st>=(null!=Oe?Oe:Le.logLevel)&&ae({level:V[st].toLowerCase(),message:Je,args:gt,type:Le.name})}}}},6642:(Ot,B,R)=>{R.d(B,{eX:()=>Lt,sQ:()=>Oi,GW:()=>Be,l4:()=>Bt});var v=R(5620),V=R(6451),I=R(9751),q=R(7579),g=R(515),Ue=R(9646),P=R(2843),Ce=R(576);class ae{constructor(O,x,oe){this.kind=O,this.value=x,this.error=oe,this.hasValue="N"===O}observe(O){return Me(this,O)}do(O,x,oe){const{kind:re,value:de,error:Se}=this;return"N"===re?null==O?void 0:O(de):"E"===re?null==x?void 0:x(Se):null==oe?void 0:oe()}accept(O,x,oe){var re;return(0,Ce.m)(null===(re=O)||void 0===re?void 0:re.next)?this.observe(O):this.do(O,x,oe)}toObservable(){const{kind:O,value:x,error:oe}=this,re="N"===O?(0,Ue.of)(x):"E"===O?(0,P._)(()=>oe):"C"===O?g.E:0;if(!re)throw new TypeError(`Unexpected notification kind ${O}`);return re}static createNext(O){return new ae("N",O)}static createError(O){return new ae("E",void 0,O)}static createComplete(){return ae.completeNotification}}function Me($,O){var x,oe,re;const{kind:de,value:Se,error:We}=$;if("string"!=typeof de)throw new TypeError('Invalid notification, missing "kind"');"N"===de?null===(x=O.next)||void 0===x||x.call(O,Se):"E"===de?null===(oe=O.error)||void 0===oe||oe.call(O,We):null===(re=O.complete)||void 0===re||re.call(O)}ae.completeNotification=new ae("C");var we=R(4482),Oe=R(5403),st=R(8421);function gt($,O,x,oe){return(0,we.e)((re,de)=>{let Se;O&&"function"!=typeof O?({duration:x,element:Se,connector:oe}=O):Se=O;const We=new Map,zt=wt=>{We.forEach(wt),wt(de)},Et=wt=>zt(dn=>dn.error(wt));let An=0,Gt=!1;const _t=new Oe.Q(de,wt=>{try{const dn=$(wt);let Kn=We.get(dn);if(!Kn){We.set(dn,Kn=oe?oe():new q.x);const vi=function ct(wt,dn){const Kn=new I.y(vi=>{An++;const $i=dn.subscribe(vi);return()=>{$i.unsubscribe(),0==--An&&Gt&&_t.unsubscribe()}});return Kn.key=wt,Kn}(dn,Kn);if(de.next(vi),x){const $i=(0,Oe.x)(Kn,()=>{Kn.complete(),null==$i||$i.unsubscribe()},void 0,void 0,()=>We.delete(dn));_t.add((0,st.Xf)(x(vi)).subscribe($i))}}Kn.next(Se?Se(wt):wt)}catch(dn){Et(dn)}},()=>zt(wt=>wt.complete()),Et,()=>We.clear(),()=>(Gt=!0,0===An));re.subscribe(_t)})}var Je=R(4004);function ht($,O){return O?x=>x.pipe(ht((oe,re)=>(0,st.Xf)($(oe,re)).pipe((0,Je.U)((de,Se)=>O(oe,de,re,Se))))):(0,we.e)((x,oe)=>{let re=0,de=null,Se=!1;x.subscribe((0,Oe.x)(oe,We=>{de||(de=(0,Oe.x)(oe,void 0,()=>{de=null,Se&&oe.complete()}),(0,st.Xf)($(We,re++)).subscribe(de))},()=>{Se=!0,!de&&oe.complete()}))})}var Nt=R(8502),at=R(262),ke=R(9300),Ke=R(5577),it=R(5698),A=R(5e3);const et={dispatch:!0,useEffectsErrorHandler:!0},en="__@ngrx/effects_create__";function Be($,O){const x=$(),oe=Object.assign(Object.assign({},et),O);return Object.defineProperty(x,en,{value:oe}),x}function At($){return Object.getOwnPropertyNames($).filter(oe=>!(!$[oe]||!$[oe].hasOwnProperty(en))&&$[oe][en].hasOwnProperty("dispatch")).map(oe=>Object.assign({propertyName:oe},$[oe][en]))}function Ut($){return Object.getPrototypeOf($)}const nn="__@ngrx/effects__";function an($){return(0,v.qC)(Mt,Ut)($)}function Mt($){return function Bn($){return $.constructor.hasOwnProperty(nn)}($)?$.constructor[nn]:[]}function hn($,O,x){const oe=Ut($).constructor.name,re=function Zt($){return[an,At].reduce((x,oe)=>x.concat(oe($)),[])}($).map(({propertyName:de,dispatch:Se,useEffectsErrorHandler:We})=>{const zt="function"==typeof $[de]?$[de]():$[de],Et=We?x(zt,O):zt;return!1===Se?Et.pipe((0,Nt.l)()):Et.pipe(function Le(){return(0,we.e)(($,O)=>{$.subscribe((0,Oe.x)(O,x=>{O.next(ae.createNext(x))},()=>{O.next(ae.createComplete()),O.complete()},x=>{O.next(ae.createError(x)),O.complete()}))})}()).pipe((0,Je.U)(Gt=>({effect:$[de],notification:Gt,propertyName:de,sourceName:oe,sourceInstance:$})))});return(0,V.T)(...re)}function gn($,O,x=10){return $.pipe((0,at.K)(oe=>(O&&O.handleError(oe),x<=1?$:gn($,O,x-1))))}let Lt=(()=>{class $ extends I.y{constructor(x){super(),x&&(this.source=x)}lift(x){const oe=new $;return oe.source=this,oe.operator=x,oe}}return $.\u0275fac=function(x){return new(x||$)(A.LFG(v.Y$))},$.\u0275prov=A.Yz7({token:$,factory:$.\u0275fac}),$})();function Bt(...$){return(0,ke.h)(O=>$.some(x=>"string"==typeof x?x===O.type:x.type===O.type))}function Dn($){return ft($,"ngrxOnInitEffects")}function ft($,O){return $&&O in $&&"function"==typeof $[O]}const Rn=new A.OlP("@ngrx/effects Internal Root Guard"),Ae=new A.OlP("@ngrx/effects User Provided Effects"),D=new A.OlP("@ngrx/effects Internal Root Effects"),te=new A.OlP("@ngrx/effects Root Effects"),ne=new A.OlP("@ngrx/effects Internal Feature Effects"),me=new A.OlP("@ngrx/effects Feature Effects"),xe=new A.OlP("@ngrx/effects Effects Error Handler");let pt=(()=>{class $ extends q.x{constructor(x,oe){super(),this.errorHandler=x,this.effectsErrorHandler=oe}addEffects(x){this.next(x)}toActions(){return this.pipe(gt(Ut),(0,Ke.z)(x=>x.pipe(gt(Ft))),(0,Ke.z)(x=>{const oe=x.pipe(ht(de=>function rn($,O){return x=>{const oe=hn(x,$,O);return function En($){return ft($,"ngrxOnRunEffects")}(x)?x.ngrxOnRunEffects(oe):oe}}(this.errorHandler,this.effectsErrorHandler)(de)),(0,Je.U)(de=>(function mt($,O){if("N"===$.notification.kind){const x=$.notification.value;!function Vt($){return"function"!=typeof $&&$&&$.type&&"string"==typeof $.type}(x)&&O.handleError(new Error(`Effect ${function ot({propertyName:$,sourceInstance:O,sourceName:x}){const oe="function"==typeof O[$];return`"${x}.${String($)}${oe?"()":""}"`}($)} dispatched an invalid action: ${function je($){try{return JSON.stringify($)}catch(O){return $}}(x)}`))}}(de,this.errorHandler),de.notification)),(0,ke.h)(de=>"N"===de.kind&&null!=de.value),function Xe(){return(0,we.e)(($,O)=>{$.subscribe((0,Oe.x)(O,x=>Me(x,O)))})}()),re=x.pipe((0,it.q)(1),(0,ke.h)(Dn),(0,Je.U)(de=>de.ngrxOnInitEffects()));return(0,V.T)(oe,re)}))}}return $.\u0275fac=function(x){return new(x||$)(A.LFG(A.qLn),A.LFG(xe))},$.\u0275prov=A.Yz7({token:$,factory:$.\u0275fac}),$})();function Ft($){return function rt($){return ft($,"ngrxOnIdentifyEffects")}($)?$.ngrxOnIdentifyEffects():""}let Qe=(()=>{class ${constructor(x,oe){this.effectSources=x,this.store=oe,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return $.\u0275fac=function(x){return new(x||$)(A.LFG(pt),A.LFG(v.yh))},$.\u0275prov=A.Yz7({token:$,factory:$.\u0275fac}),$})();const Cn="@ngrx/effects/init";(0,v.PH)(Cn);let ei=(()=>{class ${constructor(x,oe,re,de,Se,We,zt){this.sources=x,oe.start(),de.forEach(Et=>x.addEffects(Et)),re.dispatch({type:Cn})}addEffects(x){this.sources.addEffects(x)}}return $.\u0275fac=function(x){return new(x||$)(A.LFG(pt),A.LFG(Qe),A.LFG(v.yh),A.LFG(te),A.LFG(v.cr,8),A.LFG(v.CK,8),A.LFG(Rn,8))},$.\u0275mod=A.oAB({type:$}),$.\u0275inj=A.cJS({}),$})(),ri=(()=>{class ${constructor(x,oe,re,de){oe.forEach(Se=>Se.forEach(We=>x.addEffects(We)))}}return $.\u0275fac=function(x){return new(x||$)(A.LFG(ei),A.LFG(me),A.LFG(v.cr,8),A.LFG(v.CK,8))},$.\u0275mod=A.oAB({type:$}),$.\u0275inj=A.cJS({}),$})(),Oi=(()=>{class ${static forFeature(x=[]){return{ngModule:ri,providers:[x,{provide:ne,multi:!0,useValue:x},{provide:Ae,multi:!0,useValue:[]},{provide:me,multi:!0,useFactory:Si,deps:[A.zs3,ne,Ae]}]}}static forRoot(x=[]){return{ngModule:ei,providers:[{provide:xe,useValue:gn},Qe,pt,Lt,x,{provide:D,useValue:[x]},{provide:Rn,useFactory:_i,deps:[[Qe,new A.FiY,new A.tp0],[D,new A.PiD]]},{provide:Ae,multi:!0,useValue:[]},{provide:te,useFactory:Si,deps:[A.zs3,D,Ae]}]}}}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=A.oAB({type:$}),$.\u0275inj=A.cJS({}),$})();function Si($,O,x){const oe=[];for(const re of O)oe.push(...re);for(const re of x)oe.push(...re);return function mn($,O){return O.map(x=>$.get(x))}($,oe)}function _i($,O){if((1!==O.length||0!==O[0].length)&&$)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Ot){const B={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},R="function"==typeof Ot?Ot():Ot,I=Object.assign({},B,{features:R.features||!!R.logOnly&&{pause:!0,export:!0,test:!0}||B.features},R);if(I.maxAge&&I.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${I.maxAge}`);return I}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(B,R){if(this.action=B,this.timestamp=R,this.type=PERFORM_ACTION,void 0===B.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(B){this.timestamp=B,this.type=RESET}}class Rollback{constructor(B){this.timestamp=B,this.type=ROLLBACK}}class Commit{constructor(B){this.timestamp=B,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(B){this.id=B,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(B,R,v=!0){this.start=B,this.end=R,this.active=v,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(B){this.index=B,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(B){this.actionId=B,this.type=JUMP_TO_ACTION}}class ImportState{constructor(B){this.nextLiftedState=B,this.type=IMPORT_STATE}}class LockChanges{constructor(B){this.status=B,this.type=LOCK_CHANGES}}class PauseRecording{constructor(B){this.status=B,this.type=PAUSE_RECORDING}}function difference(Ot,B){return Ot.filter(R=>B.indexOf(R)<0)}function unliftState(Ot){const{computedStates:B,currentStateIndex:R}=Ot;if(R>=B.length){const{state:V}=B[B.length-1];return V}const{state:v}=B[R];return v}function unliftAction(Ot){return Ot.actionsById[Ot.nextActionId-1]}function liftAction(Ot){return new PerformAction(Ot,+Date.now())}function sanitizeActions(Ot,B){return Object.keys(B).reduce((R,v)=>{const V=Number(v);return R[V]=sanitizeAction(Ot,B[V],V),R},{})}function sanitizeAction(Ot,B,R){return Object.assign(Object.assign({},B),{action:Ot(B.action,R)})}function sanitizeStates(Ot,B){return B.map((R,v)=>({state:sanitizeState(Ot,R.state,v),error:R.error}))}function sanitizeState(Ot,B,R){return Ot(B,R)}function shouldFilterActions(Ot){return Ot.predicate||Ot.actionsSafelist||Ot.actionsBlocklist}function filterLiftedState(Ot,B,R,v){const V=[],I={},q=[];return Ot.stagedActionIds.forEach((g,Ue)=>{const P=Ot.actionsById[g];!P||Ue&&isActionFiltered(Ot.computedStates[Ue],P,B,R,v)||(I[g]=P,V.push(g),q.push(Ot.computedStates[Ue]))}),Object.assign(Object.assign({},Ot),{stagedActionIds:V,actionsById:I,computedStates:q})}function isActionFiltered(Ot,B,R,v,V){const I=R&&!R(Ot,B.action),q=v&&!B.action.type.match(v.map(Ue=>escapeRegExp(Ue)).join("|")),g=V&&B.action.type.match(V.map(Ue=>escapeRegExp(Ue)).join("|"));return I||q||g}function escapeRegExp(Ot){return Ot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Ot,B,R,v,V){if(v)return{state:R,error:"Interrupted by an error up the chain"};let q,I=R;try{I=Ot(R,B)}catch(g){q=g.toString(),V.handleError(g)}return{state:I,error:q}}function recomputeStates(Ot,B,R,v,V,I,q,g,Ue){if(B>=Ot.length&&Ot.length===I.length)return Ot;const P=Ot.slice(0,B),Ce=I.length-(Ue?1:0);for(let Ee=B;Ee<Ce;Ee++){const ae=I[Ee],Me=V[ae].action,we=P[Ee-1],Oe=we?we.state:v,Le=we?we.error:void 0,gt=q.indexOf(ae)>-1?we:computeNextEntry(R,Me,Oe,Le,g);P.push(gt)}return Ue&&P.push(Ot[Ot.length-1]),P}function liftInitialState(Ot,B){return{monitorState:B(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Ot,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Ot,B,R,v,V={}){return I=>(q,g)=>{let{monitorState:Ue,actionsById:P,nextActionId:Ce,stagedActionIds:Ee,skippedActionIds:ae,committedState:Me,currentStateIndex:we,computedStates:Oe,isLocked:Le,isPaused:st}=q||B;function gt(Xe){let Nt=Xe,at=Ee.slice(1,Nt+1);for(let ke=0;ke<at.length;ke++){if(Oe[ke+1].error){Nt=ke,at=Ee.slice(1,Nt+1);break}delete P[at[ke]]}ae=ae.filter(ke=>-1===at.indexOf(ke)),Ee=[0,...Ee.slice(Nt+1)],Me=Oe[Nt].state,Oe=Oe.slice(Nt),we=we>Nt?we-Nt:0}function Je(){P={0:liftAction(INIT_ACTION)},Ce=1,Ee=[0],ae=[],Me=Oe[we].state,we=0,Oe=[]}q||(P=Object.create(P));let ht=0;switch(g.type){case LOCK_CHANGES:Le=g.status,ht=1/0;break;case PAUSE_RECORDING:st=g.status,st?(Ee=[...Ee,Ce],P[Ce]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),Ce++,ht=Ee.length-1,Oe=Oe.concat(Oe[Oe.length-1]),we===Ee.length-2&&we++,ht=1/0):Je();break;case RESET:P={0:liftAction(INIT_ACTION)},Ce=1,Ee=[0],ae=[],Me=Ot,we=0,Oe=[];break;case COMMIT:Je();break;case ROLLBACK:P={0:liftAction(INIT_ACTION)},Ce=1,Ee=[0],ae=[],we=0,Oe=[];break;case TOGGLE_ACTION:{const{id:Xe}=g;ae=-1===ae.indexOf(Xe)?[Xe,...ae]:ae.filter(at=>at!==Xe),ht=Ee.indexOf(Xe);break}case SET_ACTIONS_ACTIVE:{const{start:Xe,end:Nt,active:at}=g,ke=[];for(let Ke=Xe;Ke<Nt;Ke++)ke.push(Ke);ae=at?difference(ae,ke):[...ae,...ke],ht=Ee.indexOf(Xe);break}case JUMP_TO_STATE:we=g.index,ht=1/0;break;case JUMP_TO_ACTION:{const Xe=Ee.indexOf(g.actionId);-1!==Xe&&(we=Xe),ht=1/0;break}case SWEEP:Ee=difference(Ee,ae),ae=[],we=Math.min(we,Ee.length-1);break;case PERFORM_ACTION:{if(Le)return q||B;if(st||q&&isActionFiltered(q.computedStates[we],g,V.predicate,V.actionsSafelist,V.actionsBlocklist)){const Nt=Oe[Oe.length-1];Oe=[...Oe.slice(0,-1),computeNextEntry(I,g.action,Nt.state,Nt.error,R)],ht=1/0;break}V.maxAge&&Ee.length===V.maxAge&&gt(1),we===Ee.length-1&&we++;const Xe=Ce++;P[Xe]=g,Ee=[...Ee,Xe],ht=Ee.length-1;break}case IMPORT_STATE:({monitorState:Ue,actionsById:P,nextActionId:Ce,stagedActionIds:Ee,skippedActionIds:ae,committedState:Me,currentStateIndex:we,computedStates:Oe,isLocked:Le,isPaused:st}=g.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:ht=0,V.maxAge&&Ee.length>V.maxAge&&(Oe=recomputeStates(Oe,ht,I,Me,P,Ee,ae,R,st),gt(Ee.length-V.maxAge),ht=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Oe.filter(Nt=>Nt.error).length>0)ht=0,V.maxAge&&Ee.length>V.maxAge&&(Oe=recomputeStates(Oe,ht,I,Me,P,Ee,ae,R,st),gt(Ee.length-V.maxAge),ht=1/0);else{if(!st&&!Le){we===Ee.length-1&&we++;const Nt=Ce++;P[Nt]=new PerformAction(g,+Date.now()),Ee=[...Ee,Nt],ht=Ee.length-1,Oe=recomputeStates(Oe,ht,I,Me,P,Ee,ae,R,st)}Oe=Oe.map(Nt=>Object.assign(Object.assign({},Nt),{state:I(Nt.state,RECOMPUTE_ACTION)})),we=Ee.length-1,V.maxAge&&Ee.length>V.maxAge&&gt(Ee.length-V.maxAge),ht=1/0}break;default:ht=1/0}return Oe=recomputeStates(Oe,ht,I,Me,P,Ee,ae,R,st),Ue=v(Ue,g),{monitorState:Ue,actionsById:P,nextActionId:Ce,stagedActionIds:Ee,skippedActionIds:ae,committedState:Me,currentStateIndex:we,computedStates:Oe,isLocked:Le,isPaused:st}}}let DevtoolsDispatcher=(()=>{class Ot extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Ot.\u0275fac=function(){let B;return function(v){return(B||(B=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Ot)))(v||Ot)}}(),Ot.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Ot,B,R){this.config=B,this.dispatcher=R,this.devtoolsExtension=Ot,this.createActionStreams()}notify(Ot,B){if(this.devtoolsExtension)if(Ot.type===PERFORM_ACTION){if(B.isLocked||B.isPaused)return;const R=unliftState(B);if(shouldFilterActions(this.config)&&isActionFiltered(R,Ot,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const v=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,R,B.currentStateIndex):R,V=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Ot,B.nextActionId):Ot;this.sendToReduxDevtools(()=>this.extensionConnection.send(V,v))}else{const R=Object.assign(Object.assign({},B),{stagedActionIds:B.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,B.actionsById):B.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,B.computedStates):B.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,R,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Ot=>{const B=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=B,B.init(),B.subscribe(R=>Ot.next(R)),B.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Ot=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),B=Ot.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(g=>g.type===ExtensionActionTypes.START)),R=Ot.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(g=>g.type===ExtensionActionTypes.STOP)),v=Ot.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(g=>g.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(g=>this.unwrapAction(g.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(g=>g.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Ue=>Ue.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>g),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(g)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(g))),I=Ot.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(g=>g.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(g=>this.unwrapAction(g.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(R)),q=v.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(R));this.start$=B.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(R)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>I)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>q))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Ot){var B;const R={name:Ot.name,features:Ot.features,serialize:Ot.serialize,autoPause:null!==(B=Ot.autoPause)&&void 0!==B&&B};return!1!==Ot.maxAge&&(R.maxAge=Ot.maxAge),R}sendToReduxDevtools(Ot){try{Ot()}catch(B){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",B)}}}return DevtoolsExtension.\u0275fac=function Ot(B){return new(B||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class Ot{constructor(R,v,V,I,q,g,Ue,P){const Ce=liftInitialState(Ue,P.monitor),Ee=liftReducerWith(Ue,Ce,g,P.monitor,P),ae=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(v.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),I.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),R,I.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),Me=V.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Ee)),we=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Oe=ae.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(Me),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Je},[ht,Xe])=>{let Nt=Xe(Je,ht);return ht.type!==PERFORM_ACTION&&shouldFilterActions(P)&&(Nt=filterLiftedState(Nt,P.predicate,P.actionsSafelist,P.actionsBlocklist)),I.notify(ht,Nt),{state:Nt,action:ht}},{state:Ce,action:null})).subscribe(({state:Je,action:ht})=>{we.next(Je),ht.type===PERFORM_ACTION&&q.next(ht.action)}),Le=I.start$.subscribe(()=>{this.refresh()}),st=we.asObservable(),gt=st.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Le,this.stateSubscription=Oe,this.dispatcher=R,this.liftedState=st,this.state=gt}dispatch(R){this.dispatcher.next(R)}next(R){this.dispatcher.next(R)}error(R){}complete(){}performAction(R){this.dispatch(new PerformAction(R,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(R){this.dispatch(new ToggleAction(R))}jumpToAction(R){this.dispatch(new JumpToAction(R))}jumpToState(R){this.dispatch(new JumpToState(R))}importState(R){this.dispatch(new ImportState(R))}lockChanges(R){this.dispatch(new LockChanges(R))}pauseRecording(R){this.dispatch(new PauseRecording(R))}}return Ot.\u0275fac=function(R){return new(R||Ot)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Ot.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Ot,B){return Boolean(Ot)||B.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Ot="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[Ot]?window[Ot]:null}function createStateObservable(Ot){return Ot.state}let StoreDevtoolsModule=(()=>{class Ot{static instrument(R={}){return{ngModule:Ot,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:R},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return Ot.\u0275fac=function(R){return new(R||Ot)},Ot.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Ot}),Ot.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Ot})()},5620:(Ot,B,R)=>{R.d(B,{hg:()=>Kt,UO:()=>Xe,qg:()=>ht,Y6:()=>Ke,mK:()=>Pt,n$:()=>je,Y$:()=>Xn,FR:()=>ft,yh:()=>te,CK:()=>Tt,Aw:()=>ln,cr:()=>Ui,wb:()=>rt,qC:()=>mt,PH:()=>Le,ZF:()=>Et,P1:()=>Se,rM:()=>O,Ky:()=>st,Ys:()=>me});var v=R(5e3),V=R(1135),I=R(9751),q=R(7579),g=R(233),Ue=R(4004),Ce=R(5363),Ee=R(1365),ae=R(5026),Me=R(1884);const we={};function Le(St,un){if(we[St]=(we[St]||0)+1,"function"==typeof un)return Je(St,(...Sn)=>Object.assign(Object.assign({},un(...Sn)),{type:St}));switch(un?un._as:"empty"){case"empty":return Je(St,()=>({type:St}));case"props":return Je(St,Sn=>Object.assign(Object.assign({},Sn),{type:St}));default:throw new Error("Unexpected config.")}}function st(){return{_as:"props",_p:void 0}}function Je(St,un){return Object.defineProperty(un,"type",{value:St,writable:!1})}const ht="@ngrx/store/init";let Xe=(()=>{class St extends V.X{constructor(){super({type:ht})}next(on){if("function"==typeof on)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===on)throw new TypeError("Actions must be objects");if(void 0===on.type)throw new TypeError("Actions must have a type property");super.next(on)}complete(){}ngOnDestroy(){super.complete()}}return St.\u0275fac=function(on){return new(on||St)},St.\u0275prov=v.Yz7({token:St,factory:St.\u0275fac}),St})();const Nt=[Xe],at=new v.OlP("@ngrx/store Internal Root Guard"),ke=new v.OlP("@ngrx/store Internal Initial State"),Ke=new v.OlP("@ngrx/store Initial State"),it=new v.OlP("@ngrx/store Reducer Factory"),A=new v.OlP("@ngrx/store Internal Reducer Factory Provider"),et=new v.OlP("@ngrx/store Initial Reducers"),en=new v.OlP("@ngrx/store Internal Initial Reducers"),Be=new v.OlP("@ngrx/store Store Features"),At=new v.OlP("@ngrx/store Internal Store Reducers"),Ut=new v.OlP("@ngrx/store Internal Feature Reducers"),nn=new v.OlP("@ngrx/store Internal Feature Configs"),Qt=new v.OlP("@ngrx/store Internal Store Features"),an=new v.OlP("@ngrx/store Internal Feature Reducers Token"),Bn=new v.OlP("@ngrx/store Feature Reducers"),ie=new v.OlP("@ngrx/store User Provided Meta Reducers"),Mt=new v.OlP("@ngrx/store Meta Reducers"),ut=new v.OlP("@ngrx/store Internal Resolved Meta Reducers"),Zt=new v.OlP("@ngrx/store User Runtime Checks Config"),hn=new v.OlP("@ngrx/store Internal User Runtime Checks Config"),Kt=new v.OlP("@ngrx/store Internal Runtime Checks"),gn=new v.OlP("@ngrx/store Check if Action types are unique");function Lt(St,un={}){const on=Object.keys(St),Sn={};for(let ni=0;ni<on.length;ni++){const pi=on[ni];"function"==typeof St[pi]&&(Sn[pi]=St[pi])}const Zn=Object.keys(Sn);return function(pi,Dr){pi=void 0===pi?un:pi;let Hr=!1;const nr={};for(let hr=0;hr<Zn.length;hr++){const _o=Zn[hr],Xo=pi[_o],vr=(0,Sn[_o])(Xo,Dr);nr[_o]=vr,Hr=Hr||vr!==Xo}return Hr?nr:pi}}function mt(...St){return function(un){if(0===St.length)return un;const on=St[St.length-1];return St.slice(0,-1).reduceRight((Zn,ni)=>ni(Zn),on(un))}}function Vt(St,un){return Array.isArray(un)&&un.length>0&&(St=mt.apply(null,[...un,St])),(on,Sn)=>{const Zn=St(on);return(ni,pi)=>Zn(ni=void 0===ni?Sn:ni,pi)}}class je extends I.y{}class Pt extends Xe{}const rt="@ngrx/store/update-reducers";let bt=(()=>{class St extends V.X{constructor(on,Sn,Zn,ni){super(ni(Zn,Sn)),this.dispatcher=on,this.initialState=Sn,this.reducers=Zn,this.reducerFactory=ni}get currentReducers(){return this.reducers}addFeature(on){this.addFeatures([on])}addFeatures(on){const Sn=on.reduce((Zn,{reducers:ni,reducerFactory:pi,metaReducers:Dr,initialState:Hr,key:nr})=>{const hr="function"==typeof ni?function ot(St){const un=Array.isArray(St)&&St.length>0?mt(...St):on=>on;return(on,Sn)=>(on=un(on),(Zn,ni)=>on(Zn=void 0===Zn?Sn:Zn,ni))}(Dr)(ni,Hr):Vt(pi,Dr)(ni,Hr);return Zn[nr]=hr,Zn},{});this.addReducers(Sn)}removeFeature(on){this.removeFeatures([on])}removeFeatures(on){this.removeReducers(on.map(Sn=>Sn.key))}addReducer(on,Sn){this.addReducers({[on]:Sn})}addReducers(on){this.reducers=Object.assign(Object.assign({},this.reducers),on),this.updateReducers(Object.keys(on))}removeReducer(on){this.removeReducers([on])}removeReducers(on){on.forEach(Sn=>{this.reducers=function Bt(St,un){return Object.keys(St).filter(on=>on!==un).reduce((on,Sn)=>Object.assign(on,{[Sn]:St[Sn]}),{})}(this.reducers,Sn)}),this.updateReducers(on)}updateReducers(on){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:rt,features:on})}ngOnDestroy(){this.complete()}}return St.\u0275fac=function(on){return new(on||St)(v.LFG(Pt),v.LFG(Ke),v.LFG(et),v.LFG(it))},St.\u0275prov=v.Yz7({token:St,factory:St.\u0275fac}),St})();const En=[bt,{provide:je,useExisting:bt},{provide:Pt,useExisting:Xe}];let Xn=(()=>{class St extends q.x{ngOnDestroy(){this.complete()}}return St.\u0275fac=function(){let un;return function(Sn){return(un||(un=v.n5z(St)))(Sn||St)}}(),St.\u0275prov=v.Yz7({token:St,factory:St.\u0275fac}),St})();const Dn=[Xn];class ft extends I.y{}let Rn=(()=>{class St extends V.X{constructor(on,Sn,Zn,ni){super(ni);const nr=on.pipe((0,Ce.Q)(g.N)).pipe((0,Ee.M)(Sn)).pipe((0,ae.R)(Ae,{state:ni}));this.stateSubscription=nr.subscribe(({state:hr,action:_o})=>{this.next(hr),Zn.next(_o)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return St.INIT=ht,St.\u0275fac=function(on){return new(on||St)(v.LFG(Xe),v.LFG(je),v.LFG(Xn),v.LFG(Ke))},St.\u0275prov=v.Yz7({token:St,factory:St.\u0275fac}),St})();function Ae(St={state:void 0},[un,on]){const{state:Sn}=St;return{state:on(Sn,un),action:un}}const D=[Rn,{provide:ft,useExisting:Rn}];let te=(()=>{class St extends I.y{constructor(on,Sn,Zn){super(),this.actionsObserver=Sn,this.reducerManager=Zn,this.source=on}select(on,...Sn){return me.call(null,on,...Sn)(this)}lift(on){const Sn=new St(this,this.actionsObserver,this.reducerManager);return Sn.operator=on,Sn}dispatch(on){this.actionsObserver.next(on)}next(on){this.actionsObserver.next(on)}error(on){this.actionsObserver.error(on)}complete(){this.actionsObserver.complete()}addReducer(on,Sn){this.reducerManager.addReducer(on,Sn)}removeReducer(on){this.reducerManager.removeReducer(on)}}return St.\u0275fac=function(on){return new(on||St)(v.LFG(ft),v.LFG(Xe),v.LFG(bt))},St.\u0275prov=v.Yz7({token:St,factory:St.\u0275fac}),St})();const ne=[te];function me(St,un,...on){return function(Zn){let ni;if("string"==typeof St){const pi=[un,...on].filter(Boolean);ni=Zn.pipe(function P(...St){const un=St.length;if(0===un)throw new Error("list of properties cannot be empty.");return(0,Ue.U)(on=>{let Sn=on;for(let Zn=0;Zn<un;Zn++){const ni=null==Sn?void 0:Sn[St[Zn]];if(void 0===ni)return;Sn=ni}return Sn})}(St,...pi))}else{if("function"!=typeof St)throw new TypeError(`Unexpected type '${typeof St}' in select operator, expected 'string' or 'function'`);ni=Zn.pipe((0,Ue.U)(pi=>St(pi,un)))}return ni.pipe((0,Me.x)())}}const pt="https://ngrx.io/guide/store/configuration/runtime-checks";function Ft(St){return void 0===St}function rn(St){return null===St}function Qe(St){return Array.isArray(St)}function ri(St){return"object"==typeof St&&null!==St}function mn(St){return"function"==typeof St}function O(){return false}function x(St,un){return St===un}function oe(St,un,on){for(let Sn=0;Sn<St.length;Sn++)if(!on(St[Sn],un[Sn]))return!0;return!1}function de(St,un=x,on=x){let ni,Sn=null,Zn=null;return{memoized:function nr(){if(void 0!==ni)return ni.result;if(!Sn)return Zn=St.apply(null,arguments),Sn=arguments,Zn;if(!oe(arguments,Sn,un))return Zn;const hr=St.apply(null,arguments);return Sn=arguments,on(Zn,hr)?Zn:(Zn=hr,hr)},reset:function pi(){Sn=null,Zn=null},setResult:function Dr(hr){ni={result:hr}},clearResult:function Hr(){ni=void 0}}}function Se(...St){return function zt(St,un={stateFn:We}){return function(...on){let Sn=on;if(Array.isArray(Sn[0])){const[hr,..._o]=Sn;Sn=[...hr,..._o]}const Zn=Sn.slice(0,Sn.length-1),ni=Sn[Sn.length-1],pi=Zn.filter(hr=>hr.release&&"function"==typeof hr.release),Dr=St(function(...hr){return ni.apply(null,hr)}),Hr=de(function(hr,_o){return un.stateFn.apply(null,[hr,Zn,_o,Dr])});return Object.assign(Hr.memoized,{release:function nr(){Hr.reset(),Dr.reset(),pi.forEach(hr=>hr.release())},projector:Dr.memoized,setResult:Hr.setResult,clearResult:Hr.clearResult})}}(de)(...St)}function We(St,un,on,Sn){if(void 0===on){const ni=un.map(pi=>pi(St));return Sn.memoized.apply(null,ni)}const Zn=un.map(ni=>ni(St,on));return Sn.memoized.apply(null,[...Zn,on])}function Et(St){return Se(un=>{const on=un[St];return(0,v.X6Q)()&&!(St in un)&&console.warn(`@ngrx/store: The feature name "${St}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${St}', ...) or StoreModule.forFeature('${St}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),on},un=>un)}function wt(St){Object.freeze(St);const un=mn(St);return Object.getOwnPropertyNames(St).forEach(on=>{if(!on.startsWith("\u0275")&&function ci(St,un){return Object.prototype.hasOwnProperty.call(St,un)}(St,on)&&(!un||"caller"!==on&&"callee"!==on&&"arguments"!==on)){const Sn=St[on];(ri(Sn)||mn(Sn))&&!Object.isFrozen(Sn)&&wt(Sn)}}),St}function Kn(St,un=[]){return(Ft(St)||rn(St))&&0===un.length?{path:["root"],value:St}:Object.keys(St).reduce((Sn,Zn)=>{if(Sn)return Sn;const ni=St[Zn];return function _i(St){return mn(St)&&St.hasOwnProperty("\u0275cmp")}(ni)?Sn:!(Ft(ni)||rn(ni)||function ei(St){return"number"==typeof St}(ni)||function xn(St){return"boolean"==typeof St}(ni)||function Cn(St){return"string"==typeof St}(ni)||Qe(ni))&&(function Si(St){if(!function Oi(St){return ri(St)&&!Qe(St)}(St))return!1;const un=Object.getPrototypeOf(St);return un===Object.prototype||null===un}(ni)?Kn(ni,[...un,Zn]):{path:[...un,Zn],value:ni})},!1)}function vi(St,un){if(!1===St)return;const on=St.path.join("."),Sn=new Error(`Detected unserializable ${un} at "${on}". ${pt}#strict${un}serializability`);throw Sn.value=St.value,Sn.unserializablePath=on,Sn}function gr(St){return(0,v.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},St):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ir({strictActionSerializability:St,strictStateSerializability:un}){return on=>St||un?function dn(St,un){return function(on,Sn){un.action(Sn)&&vi(Kn(Sn),"action");const Zn=St(on,Sn);return un.state()&&vi(Kn(Zn),"state"),Zn}}(on,{action:Sn=>St&&!Hn(Sn),state:()=>un}):on}function qt({strictActionImmutability:St,strictStateImmutability:un}){return on=>St||un?function ct(St,un){return function(on,Sn){const Zn=un.action(Sn)?wt(Sn):Sn,ni=St(on,Zn);return un.state()?wt(ni):ni}}(on,{action:Sn=>St&&!Hn(Sn),state:()=>un}):on}function Hn(St){return St.type.startsWith("@ngrx")}function bn({strictActionWithinNgZone:St}){return un=>St?function $i(St,un){return function(on,Sn){if(un.action(Sn)&&!v.R0b.isInAngularZone())throw new Error(`Action '${Sn.type}' running outside NgZone. ${pt}#strictactionwithinngzone`);return St(on,Sn)}}(un,{action:on=>St&&!Hn(on)}):un}function yi(St){return[{provide:hn,useValue:St},{provide:Zt,useFactory:$n,deps:[hn]},{provide:Kt,deps:[Zt],useFactory:gr},{provide:Mt,multi:!0,deps:[Kt],useFactory:qt},{provide:Mt,multi:!0,deps:[Kt],useFactory:Ir},{provide:Mt,multi:!0,deps:[Kt],useFactory:bn}]}function Zi(){return[{provide:gn,multi:!0,deps:[Kt],useFactory:Hi}]}function $n(St){return St}function Hi(St){if(!St.strictActionTypeUniqueness)return;const un=Object.entries(we).filter(([,on])=>on>1).map(([on])=>on);if(un.length)throw new Error(`Action types are registered more than once, ${un.map(on=>`"${on}"`).join(", ")}. ${pt}#strictactiontypeuniqueness`)}let Ui=(()=>{class St{constructor(on,Sn,Zn,ni,pi,Dr){}}return St.\u0275fac=function(on){return new(on||St)(v.LFG(Xe),v.LFG(je),v.LFG(Xn),v.LFG(te),v.LFG(at,8),v.LFG(gn,8))},St.\u0275mod=v.oAB({type:St}),St.\u0275inj=v.cJS({}),St})(),Tt=(()=>{class St{constructor(on,Sn,Zn,ni,pi){this.features=on,this.featureReducers=Sn,this.reducerManager=Zn;const Dr=on.map((Hr,nr)=>{const _o=Sn.shift()[nr];return Object.assign(Object.assign({},Hr),{reducers:_o,initialState:xt(Hr.initialState)})});Zn.addFeatures(Dr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return St.\u0275fac=function(on){return new(on||St)(v.LFG(Qt),v.LFG(Bn),v.LFG(bt),v.LFG(Ui),v.LFG(gn,8))},St.\u0275mod=v.oAB({type:St}),St.\u0275inj=v.cJS({}),St})(),ln=(()=>{class St{static forRoot(on,Sn={}){return{ngModule:Ui,providers:[{provide:at,useFactory:gi,deps:[[te,new v.FiY,new v.tp0]]},{provide:ke,useValue:Sn.initialState},{provide:Ke,useFactory:xt,deps:[ke]},{provide:en,useValue:on},{provide:At,useExisting:on instanceof v.OlP?on:en},{provide:et,deps:[v.zs3,en,[new v.tBr(At)]],useFactory:j},{provide:ie,useValue:Sn.metaReducers?Sn.metaReducers:[]},{provide:ut,deps:[Mt,ie],useFactory:hi},{provide:A,useValue:Sn.reducerFactory?Sn.reducerFactory:Lt},{provide:it,deps:[A,ut],useFactory:Vt},Nt,En,Dn,D,ne,yi(Sn.runtimeChecks),Zi()]}}static forFeature(on,Sn,Zn={}){return{ngModule:Tt,providers:[{provide:nn,multi:!0,useValue:on instanceof Object?{}:Zn},{provide:Be,multi:!0,useValue:{key:on instanceof Object?on.name:on,reducerFactory:Zn instanceof v.OlP||!Zn.reducerFactory?Lt:Zn.reducerFactory,metaReducers:Zn instanceof v.OlP||!Zn.metaReducers?[]:Zn.metaReducers,initialState:Zn instanceof v.OlP||!Zn.initialState?void 0:Zn.initialState}},{provide:Qt,deps:[v.zs3,nn,Be],useFactory:he},{provide:Ut,multi:!0,useValue:on instanceof Object?on.reducer:Sn},{provide:an,multi:!0,useExisting:Sn instanceof v.OlP?Sn:Ut},{provide:Bn,multi:!0,deps:[v.zs3,Ut,[new v.tBr(an)]],useFactory:tt},Zi()]}}}return St.\u0275fac=function(on){return new(on||St)},St.\u0275mod=v.oAB({type:St}),St.\u0275inj=v.cJS({}),St})();function j(St,un){return un instanceof v.OlP?St.get(un):un}function he(St,un,on){return on.map((Sn,Zn)=>{if(un[Zn]instanceof v.OlP){const ni=St.get(un[Zn]);return{key:Sn.key,reducerFactory:ni.reducerFactory?ni.reducerFactory:Lt,metaReducers:ni.metaReducers?ni.metaReducers:[],initialState:ni.initialState}}return Sn})}function tt(St,un){return un.map(Sn=>Sn instanceof v.OlP?St.get(Sn):Sn)}function xt(St){return"function"==typeof St?St():St}function hi(St,un){return St.concat(un)}function gi(St){if(St)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}},5861:(Ot,B,R)=>{function v(I,q,g,Ue,P,Ce,Ee){try{var ae=I[Ce](Ee),Me=ae.value}catch(we){return void g(we)}ae.done?q(Me):Promise.resolve(Me).then(Ue,P)}function V(I){return function(){var q=this,g=arguments;return new Promise(function(Ue,P){var Ce=I.apply(q,g);function Ee(Me){v(Ce,Ue,P,Ee,ae,"next",Me)}function ae(Me){v(Ce,Ue,P,Ee,ae,"throw",Me)}Ee(void 0)})}}R.d(B,{Z:()=>V})}},Ot=>{Ot(Ot.s=599)}]);